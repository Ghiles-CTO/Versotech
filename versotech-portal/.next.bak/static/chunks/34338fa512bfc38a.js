(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,496383,e=>{"use strict";let a=(0,e.i(410587).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],496383)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,a="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let a="string"==typeof e?new Date(e):e;return Number.isNaN(a?.getTime?.())?"—":a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},849110,e=>{"use strict";let a=(0,e.i(410587).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],849110)},857261,835034,e=>{"use strict";let a=(0,e.i(410587).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>a],857261);var s=e.i(722679),t=e.i(340915),r=e.i(316264),i=e.i(191569),l=e.i(514133),n=e.i(90613),d=e.i(263229),o=e.i(553426),c=e.i(496383),m=e.i(728444),u=e.i(310556),x=e.i(432598),h=e.i(994500);function p(){var e;let[a,p]=(0,t.useState)(!1),[g,j]=(0,t.useState)(!1),[f,y]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[N,w]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),C=e=>{let{name:a,value:s}=e.target;w(e=>({...e,[a]:s}))},k={length:(e=N.newPassword).length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e),special:/[!@#$%^&*(),.?":{}|<>]/.test(e)},P=Object.values(k).every(e=>e),S=N.newPassword===N.confirmPassword&&""!==N.confirmPassword,T=async e=>{if(e.preventDefault(),!P)return void h.toast.error("Password does not meet requirements");if(!S)return void h.toast.error("Passwords do not match");p(!0);try{let e=await fetch("/api/auth/password",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:N.currentPassword,newPassword:N.newPassword})}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to update password");h.toast.success("Password updated successfully"),w({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Error updating password:",e),h.toast.error("Failed to update password",{description:e.message})}finally{p(!1)}},E=({met:e,text:a})=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e?(0,s.jsx)(u.Check,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(x.X,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:e?"text-green-600":"text-gray-600",children:a})]});return(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsx)(n.CardTitle,{children:"Change Password"}),(0,s.jsx)(n.CardDescription,{children:"Update your password to keep your account secure"})]}),(0,s.jsx)(n.CardContent,{children:(0,s.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l.Label,{htmlFor:"currentPassword",children:["Current Password ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Input,{id:"currentPassword",name:"currentPassword",type:g?"text":"password",value:N.currentPassword,onChange:C,required:!0,placeholder:"Enter your current password"}),(0,s.jsx)("button",{type:"button",onClick:()=>j(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:g?(0,s.jsx)(m.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(c.Eye,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l.Label,{htmlFor:"newPassword",children:["New Password ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Input,{id:"newPassword",name:"newPassword",type:f?"text":"password",value:N.newPassword,onChange:C,required:!0,placeholder:"Enter your new password"}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?(0,s.jsx)(m.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(c.Eye,{className:"h-4 w-4"})})]}),N.newPassword&&(0,s.jsxs)("div",{className:"mt-3 space-y-1 p-3 bg-gray-50 rounded-md border border-gray-200",children:[(0,s.jsx)("p",{className:"text-sm font-medium mb-2 text-gray-900",children:"Password Requirements:"}),(0,s.jsx)(E,{met:k.length,text:"At least 8 characters"}),(0,s.jsx)(E,{met:k.uppercase,text:"One uppercase letter"}),(0,s.jsx)(E,{met:k.lowercase,text:"One lowercase letter"}),(0,s.jsx)(E,{met:k.number,text:"One number"}),(0,s.jsx)(E,{met:k.special,text:"One special character"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(l.Label,{htmlFor:"confirmPassword",children:["Confirm New Password ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Input,{id:"confirmPassword",name:"confirmPassword",type:b?"text":"password",value:N.confirmPassword,onChange:C,required:!0,placeholder:"Confirm your new password"}),(0,s.jsx)("button",{type:"button",onClick:()=>v(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:b?(0,s.jsx)(m.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(c.Eye,{className:"h-4 w-4"})})]}),N.confirmPassword&&(0,s.jsx)("div",{className:"flex items-center gap-2 text-sm",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Check,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{className:"text-green-600",children:"Passwords match"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.X,{className:"h-4 w-4 text-destructive"}),(0,s.jsx)("span",{className:"text-destructive",children:"Passwords do not match"})]})})]}),(0,s.jsx)("div",{className:"pt-4 border-t",children:(0,s.jsx)(r.Button,{type:"submit",disabled:a||!N.currentPassword||!P||!S,className:"w-full sm:w-auto",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Password..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Lock,{className:"mr-2 h-4 w-4"}),"Update Password"]})})})]})})]})}e.s(["PasswordChangeForm",()=>p],835034)},728444,e=>{"use strict";let a=(0,e.i(410587).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>a],728444)},554369,e=>{"use strict";let a=(0,e.i(410587).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],554369)},551544,e=>{"use strict";let a=(0,e.i(410587).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],551544)},312692,e=>{"use strict";var a=e.i(722679),s=e.i(340915),t=e.i(886978),r=e.i(47264),i=e.i(679472),l=e.i(68977),n=e.i(657180),d=e.i(460138),o=e.i(873358),c=e.i(362208),m="Checkbox",[u,x]=(0,r.createContextScope)(m),[h,p]=u(m);function g(e){let{__scopeCheckbox:t,checked:r,children:i,defaultChecked:n,disabled:d,form:o,name:c,onCheckedChange:u,required:x,value:p="on",internal_do_not_use_render:g}=e,[j,f]=(0,l.useControllableState)({prop:r,defaultProp:n??!1,onChange:u,caller:m}),[y,b]=s.useState(null),[v,N]=s.useState(null),w=s.useRef(!1),k=!y||!!o||!!y.closest("form"),P={checked:j,disabled:d,setChecked:f,control:y,setControl:b,name:c,form:o,value:p,hasConsumerStoppedPropagationRef:w,required:x,defaultChecked:!C(n)&&n,isFormControl:k,bubbleInput:v,setBubbleInput:N};return(0,a.jsx)(h,{scope:t,...P,children:"function"==typeof g?g(P):i})}var j="CheckboxTrigger",f=s.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:l,...n},d)=>{let{control:o,value:m,disabled:u,checked:x,required:h,setControl:g,setChecked:f,hasConsumerStoppedPropagationRef:y,isFormControl:b,bubbleInput:v}=p(j,e),N=(0,t.useComposedRefs)(d,g),w=s.useRef(x);return s.useEffect(()=>{let e=o?.form;if(e){let a=()=>f(w.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[o,f]),(0,a.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":C(x)?"mixed":x,"aria-required":h,"data-state":k(x),"data-disabled":u?"":void 0,disabled:u,value:m,...n,ref:N,onKeyDown:(0,i.composeEventHandlers)(r,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(l,e=>{f(e=>!!C(e)||!e),v&&b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});f.displayName=j;var y=s.forwardRef((e,s)=>{let{__scopeCheckbox:t,name:r,checked:i,defaultChecked:l,required:n,disabled:d,value:o,onCheckedChange:c,form:m,...u}=e;return(0,a.jsx)(g,{__scopeCheckbox:t,checked:i,defaultChecked:l,disabled:d,required:n,onCheckedChange:c,name:r,form:m,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{...u,ref:s,__scopeCheckbox:t}),e&&(0,a.jsx)(w,{__scopeCheckbox:t})]})})});y.displayName=m;var b="CheckboxIndicator",v=s.forwardRef((e,s)=>{let{__scopeCheckbox:t,forceMount:r,...i}=e,l=p(b,t);return(0,a.jsx)(o.Presence,{present:r||C(l.checked)||!0===l.checked,children:(0,a.jsx)(c.Primitive.span,{"data-state":k(l.checked),"data-disabled":l.disabled?"":void 0,...i,ref:s,style:{pointerEvents:"none",...e.style}})})});v.displayName=b;var N="CheckboxBubbleInput",w=s.forwardRef(({__scopeCheckbox:e,...r},i)=>{let{control:l,hasConsumerStoppedPropagationRef:o,checked:m,defaultChecked:u,required:x,disabled:h,name:g,value:j,form:f,bubbleInput:y,setBubbleInput:b}=p(N,e),v=(0,t.useComposedRefs)(i,b),w=(0,n.usePrevious)(m),k=(0,d.useSize)(l);s.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!o.current;if(w!==m&&e){let s=new Event("click",{bubbles:a});y.indeterminate=C(m),e.call(y,!C(m)&&m),y.dispatchEvent(s)}},[y,w,m,o]);let P=s.useRef(!C(m)&&m);return(0,a.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??P.current,required:x,disabled:h,name:g,value:j,form:f,...r,tabIndex:-1,ref:v,style:{...r.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function C(e){return"indeterminate"===e}function k(e){return C(e)?"indeterminate":e?"checked":"unchecked"}w.displayName=N;var P=e.i(310556),S=e.i(282141);let T=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(y,{ref:t,className:(0,S.cn)("peer h-5 w-5 md:h-4 md:w-4 shrink-0 rounded border border-white/20 bg-white/5 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/20 focus-visible:border-blue-400/50 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,a.jsx)(v,{className:(0,S.cn)("flex items-center justify-center text-white"),children:(0,a.jsx)(P.Check,{className:"h-4 w-4 md:h-3.5 md:w-3.5"})})}));T.displayName=y.displayName,e.s(["Checkbox",()=>T],312692)},90613,e=>{"use strict";var a=e.i(722679),s=e.i(282141);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function i({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...t})}function d({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>i])},816654,e=>{"use strict";var a=e.i(722679),s=e.i(340915),t=e.i(282141);let r=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)("textarea",{className:(0,t.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));r.displayName="Textarea",e.s(["Textarea",()=>r])},429760,e=>{"use strict";var a=e.i(722679),s=e.i(340915),t=e.i(679472),r=e.i(47264),i=e.i(478985),l=e.i(873358),n=e.i(362208),d=e.i(599205),o=e.i(68977),c=e.i(798827),m="Tabs",[u,x]=(0,r.createContextScope)(m,[i.createRovingFocusGroupScope]),h=(0,i.createRovingFocusGroupScope)(),[p,g]=u(m),j=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:x,activationMode:h="automatic",...g}=e,j=(0,d.useDirection)(x),[f,y]=(0,o.useControllableState)({prop:r,onChange:i,defaultProp:l??"",caller:m});return(0,a.jsx)(p,{scope:t,baseId:(0,c.useId)(),value:f,onValueChange:y,orientation:u,dir:j,activationMode:h,children:(0,a.jsx)(n.Primitive.div,{dir:j,"data-orientation":u,...g,ref:s})})});j.displayName=m;var f="TabsList",y=s.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...l}=e,d=g(f,t),o=h(t);return(0,a.jsx)(i.Root,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:r,children:(0,a.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:s})})});y.displayName=f;var b="TabsTrigger",v=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:l,disabled:d=!1,...o}=e,c=g(b,r),m=h(r),u=C(c.baseId,l),x=k(c.baseId,l),p=l===c.value;return(0,a.jsx)(i.Item,{asChild:!0,...m,focusable:!d,active:p,children:(0,a.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:u,...o,ref:s,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;p||d||!e||c.onValueChange(l)})})})});v.displayName=b;var N="TabsContent",w=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:d,children:o,...c}=e,m=g(N,r),u=C(m.baseId,i),x=k(m.baseId,i),h=i===m.value,p=s.useRef(h);return s.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(l.Presence,{present:d||h,children:({present:s})=>(0,a.jsx)(n.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:s&&o})})});function C(e,a){return`${e}-trigger-${a}`}function k(e,a){return`${e}-content-${a}`}w.displayName=N;var P=e.i(282141);let S=s.forwardRef(({id:e,...t},r)=>{let i=s.useId();return(0,a.jsx)(j,{ref:r,id:e??i,...t})});S.displayName="Tabs";let T=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(y,{ref:t,className:(0,P.cn)("inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));T.displayName=y.displayName;let E=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(v,{ref:t,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));E.displayName=v.displayName;let F=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)(w,{ref:t,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));F.displayName=w.displayName,e.s(["Tabs",()=>S,"TabsContent",()=>F,"TabsList",()=>T,"TabsTrigger",()=>E],429760)},871561,e=>{"use strict";let a=(0,e.i(410587).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],871561)},237635,e=>{"use strict";var a=e.i(722679),s=e.i(282141);function t({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})})}function r({className:e,...t}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...t})}function i({className:e,...t}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function n({className:e,...t}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function d({className:e,...t}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}e.s(["Table",()=>t,"TableBody",()=>i,"TableCell",()=>d,"TableHead",()=>n,"TableHeader",()=>r,"TableRow",()=>l])},773510,e=>{"use strict";let a=(0,e.i(410587).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>a],773510)},416469,e=>{"use strict";let a=(0,e.i(410587).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>a],416469)},957114,e=>{"use strict";let a=(0,e.i(410587).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>a],957114)},695459,e=>{"use strict";let a=(0,e.i(410587).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],695459)},769061,e=>{"use strict";var a=e.i(722679),s=e.i(340915),t=e.i(90613),r=e.i(129432),i=e.i(316264),l=e.i(191569),n=e.i(816654),d=e.i(514133),o=e.i(429760),c=e.i(352776),m=e.i(538892),u=e.i(237635),x=e.i(510166),h=e.i(312692),p=e.i(971743),g=e.i(773510),j=e.i(957114),f=e.i(871561),y=e.i(416469),b=e.i(981218),v=e.i(551544),N=e.i(263229),w=e.i(818798),C=e.i(695459),k=e.i(432598),P=e.i(857261),S=e.i(501259),T=e.i(335994),E=e.i(849110),F=e.i(554369);let _=(0,e.i(410587).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var M=e.i(704477),D=e.i(501495),I=e.i(282141),O=e.i(994500),R=e.i(337684),L=e.i(835034);let z={active:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",inactive:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/50 dark:text-gray-300 dark:border-gray-700",suspended:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"},H=[{value:"admin",label:"Administrator",description:"Full access to CEO functions"},{value:"member",label:"Member",description:"Standard CEO access"},{value:"viewer",label:"Viewer",description:"Read-only access"}];function V({label:e,value:s,field:t,isEditing:r,editValue:i,onChange:o,type:c="text",multiline:m=!1,icon:u,className:x}){return r?(0,a.jsxs)("div",{className:(0,I.cn)("space-y-1.5",x),children:[(0,a.jsx)(d.Label,{htmlFor:t,className:"text-sm font-medium text-muted-foreground",children:e}),m?(0,a.jsx)(n.Textarea,{id:t,value:i,onChange:e=>o(t,e.target.value),placeholder:`Enter ${e.toLowerCase()}`,rows:3,className:"mt-1"}):(0,a.jsx)(l.Input,{id:t,type:c,value:i,onChange:e=>o(t,e.target.value),placeholder:`Enter ${e.toLowerCase()}`,className:"mt-1"})]}):(0,a.jsxs)("div",{className:(0,I.cn)("flex items-start gap-3",x),children:[u&&(0,a.jsx)(u,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,a.jsx)("p",{className:(0,I.cn)("text-foreground mt-1",t.includes("number")||t.includes("id")?"font-mono":"",m&&"whitespace-pre-line"),children:s||(0,a.jsx)("span",{className:"text-muted-foreground italic",children:"Not set"})})]})]})}function B({userId:e,userEmail:n,userRole:B,canManageMembers:U,profile:A,ceoEntity:$,ceoMembers:q}){let[J,G]=(0,s.useState)($),[K,X]=(0,s.useState)(q),[Y,W]=(0,s.useState)(!1),[Z,Q]=(0,s.useState)(!1),[ee,ea]=(0,s.useState)(!1),[es,et]=(0,s.useState)(!1),er=(0,s.useRef)(null),[ei,el]=(0,s.useState)(!1),[en,ed]=(0,s.useState)(""),[eo,ec]=(0,s.useState)("member"),[em,eu]=(0,s.useState)(""),[ex,eh]=(0,s.useState)(!1),[ep,eg]=(0,s.useState)(!1),[ej,ef]=(0,s.useState)(!1),[ey,eb]=(0,s.useState)(null),[ev,eN]=(0,s.useState)("member"),[ew,eC]=(0,s.useState)(""),[ek,eP]=(0,s.useState)(!1),[eS,eT]=(0,s.useState)(!1),[eE,eF]=(0,s.useState)({legal_name:J.legalName||"",display_name:J.displayName||"",registration_number:J.registrationNumber||"",tax_id:J.taxId||"",country:J.country||""}),[e_,eM]=(0,s.useState)({email:J.email||"",phone:J.phone||"",website:J.website||"",registered_address:J.registeredAddress||"",city:J.city||"",postal_code:J.postalCode||""}),[eD,eI]=(0,s.useState)(A),[eO,eR]=(0,s.useState)(!1),[eL,ez]=(0,s.useState)({display_name:A?.displayName||"",phone:""}),[eH,eV]=(0,s.useState)(!1),eB=(0,s.useRef)(null),[eU,eA]=(0,s.useState)(!1),e$=K.find(a=>a.userId===e),eq=async()=>{ea(!0);try{let e=await fetch("/api/ceo/update-entity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(eE)});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to save")}G(e=>({...e,legalName:eE.legal_name,displayName:eE.display_name,registrationNumber:eE.registration_number,taxId:eE.tax_id,country:eE.country})),W(!1),O.toast.success("Entity details updated successfully")}catch(e){console.error("Error saving entity:",e),O.toast.error(e.message||"Failed to save entity details")}finally{ea(!1)}},eJ=async()=>{ea(!0);try{let e=await fetch("/api/ceo/update-entity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e_)});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to save")}G(e=>({...e,email:e_.email,phone:e_.phone,website:e_.website,registeredAddress:e_.registered_address,city:e_.city,postalCode:e_.postal_code})),Q(!1),O.toast.success("Contact information updated successfully")}catch(e){console.error("Error saving contact:",e),O.toast.error(e.message||"Failed to save contact information")}finally{ea(!1)}},eG=async()=>{eV(!0);try{let a=await fetch(`/api/profiles/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:eL.display_name})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to save")}eI(e=>e?{...e,displayName:eL.display_name}:e),eR(!1),O.toast.success("Profile updated successfully")}catch(e){console.error("Error saving profile:",e),O.toast.error(e.message||"Failed to save profile")}finally{eV(!1)}},eK=async e=>{let a=e.target.files?.[0];if(a){if(!a.type.startsWith("image/"))return void O.toast.error("Please select an image file");if(a.size>2097152)return void O.toast.error("Image must be less than 2MB");eA(!0);try{let e=new FormData;e.append("avatar",a);let s=await fetch("/api/profiles/avatar",{method:"POST",body:e});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to upload")}let t=await s.json();eI(e=>e?{...e,avatarUrl:t.avatar_url}:e),O.toast.success("Avatar updated successfully")}catch(e){console.error("Error uploading avatar:",e),O.toast.error(e.message||"Failed to upload avatar")}finally{eA(!1),eB.current&&(eB.current.value="")}}},eX=async e=>{let a=e.target.files?.[0];if(a){if(!["image/png","image/jpeg","image/webp"].includes(a.type))return void O.toast.error("Please upload a PNG, JPEG, or WebP image");if(a.size>2097152)return void O.toast.error("File size must be less than 2MB");et(!0);try{let e=new FormData;e.append("logo",a);let s=await fetch("/api/ceo/upload-logo",{method:"POST",body:e});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to upload logo")}let t=await s.json();G(e=>({...e,logoUrl:t.logo_url})),O.toast.success("Logo uploaded successfully")}catch(e){console.error("Error uploading logo:",e),O.toast.error(e.message||"Failed to upload logo")}finally{et(!1),er.current&&(er.current.value="")}}},eY=async()=>{if(!en)return void O.toast.error("Please enter an email address");eg(!0);try{let e=await fetch("/api/ceo/invite-member",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:en,role:eo,title:em||null,can_sign:ex})}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to send invitation");O.toast.success(`Invitation sent to ${en}`),el(!1),ed(""),ec("member"),eu(""),eh(!1),a.added_directly&&window.location.reload()}catch(e){console.error("Error inviting member:",e),O.toast.error(e.message||"Failed to send invitation")}finally{eg(!1)}},eW=async a=>{if(a===e)return void O.toast.error("You can't remove yourself");let s=K.find(e=>e.userId===a);if(s?.isPrimary)return void O.toast.error("Can't remove the primary CEO member");try{let e=await fetch("/api/ceo/remove-member",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a})});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to remove member")}X(e=>e.filter(e=>e.userId!==a)),O.toast.success("Member removed successfully")}catch(e){console.error("Error removing member:",e),O.toast.error(e.message||"Failed to remove member")}},eZ=async()=>{if(ey){eT(!0);try{let e=await fetch("/api/ceo/update-member",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:ey.userId,role:ev,title:ew||null,can_sign:ek})}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to update member");X(e=>e.map(e=>e.userId===ey.userId?{...e,role:ev,title:ew||null,canSign:ek}:e)),O.toast.success("Member updated successfully"),ef(!1),eb(null)}catch(e){console.error("Error updating member:",e),O.toast.error(e.message||"Failed to update member")}finally{eT(!1)}}},eQ=async e=>{try{let a=await fetch("/api/ceo/update-member",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.userId,can_sign:!e.canSign})}),s=await a.json();if(!a.ok)throw Error(s.error||"Failed to update signatory status");X(a=>a.map(a=>a.userId===e.userId?{...a,canSign:!a.canSign}:a)),O.toast.success(e.canSign?`${e.displayName} is no longer a signatory`:`${e.displayName} is now an authorized signatory`)}catch(e){console.error("Error toggling signatory:",e),O.toast.error(e.message||"Failed to update signatory status")}};return(0,a.jsxs)("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:(0,I.cn)("relative h-16 w-16 rounded-xl bg-primary/10 flex items-center justify-center overflow-hidden",U&&"cursor-pointer group"),onClick:()=>U&&er.current?.click(),children:[J.logoUrl?(0,a.jsx)(R.default,{src:J.logoUrl,alt:J.legalName,fill:!0,className:"object-cover"}):(0,a.jsx)(p.Building2,{className:"h-8 w-8 text-primary"}),U&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:es?(0,a.jsx)(N.Loader2,{className:"h-5 w-5 text-white animate-spin"}):(0,a.jsx)(P.Camera,{className:"h-5 w-5 text-white"})}),(0,a.jsx)("input",{ref:er,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:eX,disabled:es||!U})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:J.displayName||J.legalName}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[A?.displayName||n," - ",e$?.title||B]})]})]}),(0,a.jsx)(r.Badge,{variant:"outline",className:(0,I.cn)("capitalize",z[J.status]||z.inactive),children:J.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{className:"pb-2",children:(0,a.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(S.Users,{className:"h-4 w-4"}),"Team Members"]})}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:K.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active CEO users"})]})]}),(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{className:"pb-2",children:(0,a.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(w.PenTool,{className:"h-4 w-4"}),"Authorized Signers"]})}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:K.filter(e=>e.canSign).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Can sign documents"})]})]}),(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{className:"pb-2",children:(0,a.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(b.Shield,{className:"h-4 w-4"}),"Your Role"]})}),(0,a.jsxs)(t.CardContent,{children:[(0,a.jsx)("div",{className:"text-lg font-semibold capitalize",children:B}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e$?.canSign?"Authorized signer":"Not a signer"})]})]})]}),(0,a.jsxs)(o.Tabs,{defaultValue:"profile",className:"space-y-4",id:"ceo-profile-tabs",children:[(0,a.jsxs)(o.TabsList,{className:"grid w-full grid-cols-4 h-auto p-1 gap-1",children:[(0,a.jsxs)(o.TabsTrigger,{value:"profile",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,a.jsx)(M.User,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"My Profile"})]}),(0,a.jsxs)(o.TabsTrigger,{value:"entity",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,a.jsx)(p.Building2,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Company"})]}),(0,a.jsxs)(o.TabsTrigger,{value:"contact",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,a.jsx)(g.Mail,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Contact"})]}),(0,a.jsxs)(o.TabsTrigger,{value:"members",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,a.jsx)(S.Users,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Members"})]})]}),(0,a.jsxs)(o.TabsContent,{value:"profile",children:[(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"My Profile"}),(0,a.jsx)(t.CardDescription,{children:"Your personal information and settings"})]}),eO?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{ez({display_name:eD?.displayName||"",phone:""}),eR(!1)},disabled:eH,children:[(0,a.jsx)(k.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(i.Button,{size:"sm",onClick:eG,disabled:eH,children:[eH?(0,a.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(C.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>eR(!0),children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),(0,a.jsxs)(t.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:eD?.avatarUrl?(0,a.jsx)(R.default,{src:eD.avatarUrl,alt:"Profile",width:96,height:96,className:"object-cover"}):(0,a.jsx)(M.User,{className:"h-12 w-12 text-muted-foreground"})}),(0,a.jsx)("input",{ref:eB,type:"file",accept:"image/*",className:"hidden",onChange:eK}),(0,a.jsx)(i.Button,{variant:"outline",size:"icon",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full",onClick:()=>eB.current?.click(),disabled:eU,children:eU?(0,a.jsx)(N.Loader2,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(P.Camera,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:eD?.displayName||n}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:n}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:e$?.title||B})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"profile-display-name",children:"Display Name"}),eO?(0,a.jsx)(l.Input,{id:"profile-display-name",value:eL.display_name,onChange:e=>ez(a=>({...a,display_name:e.target.value})),placeholder:"Your display name"}):(0,a.jsx)("p",{className:"text-foreground py-2",children:eD?.displayName||(0,a.jsx)("span",{className:"text-muted-foreground italic",children:"Not set"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Email"}),(0,a.jsx)("p",{className:"text-foreground py-2",children:n}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Role"}),(0,a.jsx)("p",{className:"text-foreground py-2 capitalize",children:B})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{children:"Signing Authority"}),(0,a.jsx)("p",{className:"text-foreground py-2",children:e$?.canSign?(0,a.jsxs)("span",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,a.jsx)(w.PenTool,{className:"h-4 w-4"}),"Authorized Signatory"]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"Not a signatory"})})]})]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(L.PasswordChangeForm,{})})]}),(0,a.jsx)(o.TabsContent,{value:"entity",children:(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"Company Information"}),(0,a.jsx)(t.CardDescription,{children:"Verso Capital legal and registration details"})]}),U&&!Y?(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>W(!0),children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}):Y?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{eF({legal_name:J.legalName||"",display_name:J.displayName||"",registration_number:J.registrationNumber||"",tax_id:J.taxId||"",country:J.country||""}),W(!1)},disabled:ee,children:[(0,a.jsx)(k.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(i.Button,{size:"sm",onClick:eq,disabled:ee,children:[ee?(0,a.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(C.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):null]})}),(0,a.jsx)(t.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(V,{label:"Legal Name",value:J.legalName,field:"legal_name",isEditing:Y,editValue:eE.legal_name,onChange:(e,a)=>eF(e=>({...e,legal_name:a}))}),(0,a.jsx)(V,{label:"Display Name",value:J.displayName,field:"display_name",isEditing:Y,editValue:eE.display_name,onChange:(e,a)=>eF(e=>({...e,display_name:a}))}),(0,a.jsx)(V,{label:"Registration Number",value:J.registrationNumber,field:"registration_number",isEditing:Y,editValue:eE.registration_number,onChange:(e,a)=>eF(e=>({...e,registration_number:a}))}),(0,a.jsx)(V,{label:"Tax ID",value:J.taxId,field:"tax_id",isEditing:Y,editValue:eE.tax_id,onChange:(e,a)=>eF(e=>({...e,tax_id:a}))}),(0,a.jsx)(V,{label:"Country",value:J.country,field:"country",isEditing:Y,editValue:eE.country,onChange:(e,a)=>eF(e=>({...e,country:a}))})]})})]})}),(0,a.jsx)(o.TabsContent,{value:"contact",children:(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"Contact Information"}),(0,a.jsx)(t.CardDescription,{children:"How to reach Verso Capital"})]}),U&&!Z?(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>Q(!0),children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}):Z?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.Button,{variant:"outline",size:"sm",onClick:()=>{eM({email:J.email||"",phone:J.phone||"",website:J.website||"",registered_address:J.registeredAddress||"",city:J.city||"",postal_code:J.postalCode||""}),Q(!1)},disabled:ee,children:[(0,a.jsx)(k.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(i.Button,{size:"sm",onClick:eJ,disabled:ee,children:[ee?(0,a.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(C.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):null]})}),(0,a.jsx)(t.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(V,{label:"Email",value:J.email,field:"email",isEditing:Z,editValue:e_.email,onChange:(e,a)=>eM(e=>({...e,email:a})),type:"email",icon:Z?void 0:g.Mail}),(0,a.jsx)(V,{label:"Phone",value:J.phone,field:"phone",isEditing:Z,editValue:e_.phone,onChange:(e,a)=>eM(e=>({...e,phone:a})),type:"tel",icon:Z?void 0:j.Phone}),(0,a.jsx)(V,{label:"Website",value:J.website,field:"website",isEditing:Z,editValue:e_.website,onChange:(e,a)=>eM(e=>({...e,website:a})),type:"url",icon:Z?void 0:y.Globe}),(0,a.jsx)(V,{label:"City",value:J.city,field:"city",isEditing:Z,editValue:e_.city,onChange:(e,a)=>eM(e=>({...e,city:a}))}),(0,a.jsx)(V,{label:"Postal Code",value:J.postalCode,field:"postal_code",isEditing:Z,editValue:e_.postal_code,onChange:(e,a)=>eM(e=>({...e,postal_code:a}))}),(0,a.jsx)(V,{label:"Registered Address",value:J.registeredAddress,field:"registered_address",isEditing:Z,editValue:e_.registered_address,onChange:(e,a)=>eM(e=>({...e,registered_address:a})),multiline:!0,icon:Z?void 0:f.MapPin,className:"md:col-span-2"})]})})]})}),(0,a.jsx)(o.TabsContent,{value:"members",children:(0,a.jsxs)(t.Card,{children:[(0,a.jsx)(t.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.CardTitle,{children:"Team Members"}),(0,a.jsx)(t.CardDescription,{children:"Users with CEO access to Verso Capital"})]}),U&&(0,a.jsxs)(i.Button,{onClick:()=>el(!0),children:[(0,a.jsx)(T.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite Member"]})]})}),(0,a.jsx)(t.CardContent,{className:"p-0",children:(0,a.jsxs)(u.Table,{children:[(0,a.jsx)(u.TableHeader,{children:(0,a.jsxs)(u.TableRow,{children:[(0,a.jsx)(u.TableHead,{children:"Member"}),(0,a.jsx)(u.TableHead,{children:"Role"}),(0,a.jsx)(u.TableHead,{children:"Permissions"}),(0,a.jsx)(u.TableHead,{children:"Joined"}),U&&(0,a.jsx)(u.TableHead,{className:"w-10"})]})}),(0,a.jsx)(u.TableBody,{children:K.map(s=>(0,a.jsxs)(u.TableRow,{children:[(0,a.jsx)(u.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:s.avatarUrl?(0,a.jsx)(R.default,{src:s.avatarUrl,alt:s.displayName,width:32,height:32,className:"object-cover"}):(0,a.jsx)("span",{className:"text-sm font-medium",children:s.displayName[0]?.toUpperCase()||"?"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[s.displayName,s.isPrimary&&(0,a.jsx)(_,{className:"h-3.5 w-3.5 text-amber-500 dark:text-amber-400"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:s.email})]})]})}),(0,a.jsx)(u.TableCell,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(r.Badge,{variant:"outline",className:"capitalize w-fit",children:s.role}),s.title&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:s.title})]})}),(0,a.jsx)(u.TableCell,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.isPrimary&&(0,a.jsxs)(r.Badge,{variant:"secondary",className:"text-xs",children:[(0,a.jsx)(b.Shield,{className:"w-3 h-3 mr-1"}),"Primary"]}),s.canSign&&(0,a.jsxs)(r.Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-500/40 text-xs",children:[(0,a.jsx)(w.PenTool,{className:"w-3 h-3 mr-1"}),"Signer"]})]})}),(0,a.jsx)(u.TableCell,{className:"text-muted-foreground",children:(0,D.formatDate)(s.createdAt)}),U&&(0,a.jsx)(u.TableCell,{children:(0,a.jsxs)(x.DropdownMenu,{children:[(0,a.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(i.Button,{variant:"ghost",size:"sm",children:(0,a.jsx)(E.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>{eb(s),eN(s.role),eC(s.title||""),eP(s.canSign),ef(!0)},children:[(0,a.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit Member"]}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>eQ(s),children:[(0,a.jsx)(w.PenTool,{className:"h-4 w-4 mr-2"}),s.canSign?"Remove Signatory":"Make Signatory"]}),!s.isPrimary&&s.userId!==e&&(0,a.jsxs)(x.DropdownMenuItem,{className:"text-destructive",onClick:()=>eW(s.userId),children:[(0,a.jsx)(F.Trash2,{className:"h-4 w-4 mr-2"}),"Remove Member"]})]})]})})]},s.userId))})]})})]})})]}),(0,a.jsx)(c.Dialog,{open:ei,onOpenChange:el,children:(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsxs)(c.DialogHeader,{children:[(0,a.jsx)(c.DialogTitle,{children:"Invite CEO Member"}),(0,a.jsx)(c.DialogDescription,{children:"Add a new member to the Verso Capital CEO team"})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"invite-email",children:"Email Address"}),(0,a.jsx)(l.Input,{id:"invite-email",type:"email",placeholder:"colleague@versocapital.com",value:en,onChange:e=>ed(e.target.value)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"invite-role",children:"Role"}),(0,a.jsxs)(m.Select,{value:eo,onValueChange:ec,children:[(0,a.jsx)(m.SelectTrigger,{children:(0,a.jsx)(m.SelectValue,{placeholder:"Select role"})}),(0,a.jsx)(m.SelectContent,{children:H.map(e=>(0,a.jsx)(m.SelectItem,{value:e.value,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"invite-title",children:"Title (Optional)"}),(0,a.jsx)(l.Input,{id:"invite-title",placeholder:"e.g., COO, CFO, Managing Director",value:em,onChange:e=>eu(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,a.jsx)(h.Checkbox,{id:"can-sign",checked:ex,onCheckedChange:e=>eh(!0===e)}),(0,a.jsxs)(d.Label,{htmlFor:"can-sign",className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(w.PenTool,{className:"h-4 w-4"}),"Authorized Signatory",(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"(can sign documents for Verso Capital)"})]})]})]}),(0,a.jsxs)(c.DialogFooter,{children:[(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>el(!1),disabled:ep,children:"Cancel"}),(0,a.jsx)(i.Button,{onClick:eY,disabled:ep||!en,children:ep?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite Member"]})})]})]})}),(0,a.jsx)(c.Dialog,{open:ej,onOpenChange:ef,children:(0,a.jsxs)(c.DialogContent,{children:[(0,a.jsxs)(c.DialogHeader,{children:[(0,a.jsx)(c.DialogTitle,{children:"Edit Member"}),(0,a.jsxs)(c.DialogDescription,{children:["Update ",ey?.displayName,"'s role and permissions"]})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"edit-role",children:"Role"}),(0,a.jsxs)(m.Select,{value:ev,onValueChange:eN,disabled:ey?.isPrimary,children:[(0,a.jsx)(m.SelectTrigger,{children:(0,a.jsx)(m.SelectValue,{placeholder:"Select role"})}),(0,a.jsx)(m.SelectContent,{children:H.map(e=>(0,a.jsx)(m.SelectItem,{value:e.value,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.description})]})},e.value))})]}),ey?.isPrimary&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Primary member must be an admin"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.Label,{htmlFor:"edit-title",children:"Title"}),(0,a.jsx)(l.Input,{id:"edit-title",placeholder:"e.g., CEO, COO, CFO, Managing Director",value:ew,onChange:e=>eC(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,a.jsx)(h.Checkbox,{id:"edit-can-sign",checked:ek,onCheckedChange:e=>eP(!0===e)}),(0,a.jsxs)(d.Label,{htmlFor:"edit-can-sign",className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)(w.PenTool,{className:"h-4 w-4"}),"Authorized Signatory",(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"(can sign documents for Verso Capital)"})]})]})]}),(0,a.jsxs)(c.DialogFooter,{children:[(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>{ef(!1),eb(null)},disabled:eS,children:"Cancel"}),(0,a.jsx)(i.Button,{onClick:eZ,disabled:eS,children:eS?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.Save,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]})}e.s(["CeoProfileClient",()=>B],769061)}]);