(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,398472,e=>{"use strict";let a=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>a],398472)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,a="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:a,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let a="string"==typeof e?new Date(e):e;return Number.isNaN(a?.getTime?.())?"—":a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},90613,e=>{"use strict";var a=e.i(722679),t=e.i(282141);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}function d({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>l])},237635,e=>{"use strict";var a=e.i(722679),t=e.i(282141);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})})}function r({className:e,...s}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,t.cn)("[&_tr]:border-b",e),...s})}function l({className:e,...s}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s})}function n({className:e,...s}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,t.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...s})}function i({className:e,...s}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,t.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function d({className:e,...s}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,t.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}e.s(["Table",()=>s,"TableBody",()=>l,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>n])},196767,e=>{"use strict";let a=(0,e.i(410587).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>a],196767)},937368,e=>{"use strict";var a=e.i(722679),t=e.i(340915),s=e.i(47264),r=e.i(362208),l="Progress",[n,i]=(0,s.createContextScope)(l),[d,o]=n(l),c=t.forwardRef((e,t)=>{var s,l;let{__scopeProgress:n,value:i=null,max:o,getValueLabel:c=x,...m}=e;(o||0===o)&&!f(o)&&console.error((s=`${o}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=f(o)?o:100;null===i||p(i,u)||console.error((l=`${i}`,`Invalid prop \`value\` of value \`${l}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let _=p(i,u)?i:null,b=g(_)?c(_,u):void 0;return(0,a.jsx)(d,{scope:n,value:_,max:u,children:(0,a.jsx)(r.Primitive.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":g(_)?_:void 0,"aria-valuetext":b,role:"progressbar","data-state":h(_,u),"data-value":_??void 0,"data-max":u,...m,ref:t})})});c.displayName=l;var m="ProgressIndicator",u=t.forwardRef((e,t)=>{let{__scopeProgress:s,...l}=e,n=o(m,s);return(0,a.jsx)(r.Primitive.div,{"data-state":h(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...l,ref:t})});function x(e,a){return`${Math.round(e/a*100)}%`}function h(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function g(e){return"number"==typeof e}function f(e){return g(e)&&!isNaN(e)&&e>0}function p(e,a){return g(e)&&!isNaN(e)&&e<=a&&e>=0}u.displayName=m;var _=e.i(282141);let b=t.forwardRef(({className:e,value:t,...s},r)=>(0,a.jsx)(c,{ref:r,className:(0,_.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:(0,a.jsx)(u,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));b.displayName=c.displayName,e.s(["Progress",()=>b],937368)},784347,e=>{"use strict";var a=e.i(722679),t=e.i(340915),s=e.i(90613),r=e.i(129432),l=e.i(316264),n=e.i(191569),i=e.i(538892),d=e.i(237635),o=e.i(937368),c=e.i(119311),m=e.i(733179),u=e.i(196767),x=e.i(645855),h=e.i(750809),g=e.i(263229),f=e.i(401148),p=e.i(398472),_=e.i(691974),b=e.i(501259),j=e.i(971743),v=e.i(818798),y=e.i(84065),N=e.i(282141),w=e.i(501495),C=e.i(59178),T=e.i(820417);let S=[{label:"All Time",value:"all"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"Last 90 Days",value:"90d"},{label:"This Year",value:"year"}],D={open:"bg-green-100 text-green-800 border-green-200",draft:"bg-gray-100 text-gray-800 border-gray-200",closed:"bg-blue-100 text-blue-800 border-blue-200",cancelled:"bg-red-100 text-red-800 border-red-200",allocation_pending:"bg-yellow-100 text-yellow-800 border-yellow-200",fully_subscribed:"bg-purple-100 text-purple-800 border-purple-200"},M=[{label:"All Status",value:"all"},{label:"Open",value:"open"},{label:"Draft",value:"draft"},{label:"Closed",value:"closed"},{label:"Fully Subscribed",value:"fully_subscribed"}];function k(){let[e,k]=(0,t.useState)(null),[H,P]=(0,t.useState)([]),[L,U]=(0,t.useState)({totalMandates:0,activeMandates:0,closedMandates:0,totalRaised:0,totalTarget:0,currency:"USD"}),[B,R]=(0,t.useState)(!0),[q,$]=(0,t.useState)(null),[A,F]=(0,t.useState)(""),[I,E]=(0,t.useState)("all"),[O,V]=(0,t.useState)("all"),[z,Y]=(0,t.useState)(0),[K,G]=(0,t.useState)([]),[X,J]=(0,t.useState)(!1);(0,t.useEffect)(()=>{async function e(e){let{data:a,error:t}=await e.from("vehicles").select("id").not("arranger_entity_id","is",null);if(t)throw t;let s=(a||[]).map(e=>e.id),r=[];if(s.length>0){let{data:a,error:t}=await e.from("deals").select(`
            id,
            name,
            company_name,
            company_logo_url,
            deal_type,
            status,
            currency,
            target_amount,
            raised_amount,
            minimum_investment,
            sector,
            stage,
            location,
            open_at,
            close_at,
            created_at,
            vehicle_id
          `).in("vehicle_id",s).order("created_at",{ascending:!1}).limit(100);if(t)throw t;r=a||[]}let l=(r||[]).map(e=>({id:e.id,name:e.name||"Untitled Deal",company_name:e.company_name,company_logo_url:e.company_logo_url,deal_type:e.deal_type||"unknown",status:e.status||"draft",currency:e.currency||"USD",target_amount:Number(e.target_amount)||0,raised_amount:Number(e.raised_amount)||0,minimum_investment:Number(e.minimum_investment)||0,sector:e.sector,stage:e.stage,location:e.location,open_at:e.open_at,close_at:e.close_at,created_at:e.created_at,investor_count:0,pending_signatures:0}));P(l);let n=l.filter(e=>"open"===e.status||"allocation_pending"===e.status).length,i=l.filter(e=>"closed"===e.status||"fully_subscribed"===e.status).length,d=0,o=0;for(let e of l)d+=e.raised_amount,o+=e.target_amount;U({totalMandates:l.length,activeMandates:n,closedMandates:i,totalRaised:d,totalTarget:o,currency:"USD"})}!async function(){try{R(!0);let a=(0,C.createClient)(),{data:{user:t}}=await a.auth.getUser();if(!t)return void $("Not authenticated");let{data:s,error:r}=await a.from("arranger_users").select("arranger_id").eq("user_id",t.id).single();if(r||!s)return void await e(a);let{data:l,error:n}=await a.from("arranger_entities").select("id, legal_name, license_type, status").eq("id",s.arranger_id).single();if(n)throw n;k(l);let{data:i,error:d}=await a.from("vehicles").select("id, name").eq("arranger_entity_id",s.arranger_id);if(d)throw d;let o=(i||[]).map(e=>e.id),c=[];if(o.length>0){let{data:e,error:t}=await a.from("deals").select(`
              id,
              name,
              company_name,
              company_logo_url,
              deal_type,
              status,
              currency,
              target_amount,
              raised_amount,
              minimum_investment,
              sector,
              stage,
              location,
              open_at,
              close_at,
              created_at,
              vehicle_id
            `).in("vehicle_id",o).order("created_at",{ascending:!1});if(t)throw t;c=e||[]}let m=(c||[]).map(e=>e.id),u={},x={};if(m.length>0){let{data:e}=await a.from("deal_memberships").select("deal_id").in("deal_id",m).eq("role","investor");for(let a of e||[])a.deal_id&&(u[a.deal_id]=(u[a.deal_id]||0)+1);let{data:t}=await a.from("subscriptions").select(`
              id,
              deal_id,
              investor:investor_id (
                id,
                legal_name,
                display_name
              )
            `).in("deal_id",m);if(t&&t.length>0){let e=t.map(e=>e.id),{data:s}=await a.from("signature_requests").select("id, subscription_id, status, signer_role, document_type, created_at, token_expires_at, signing_token").in("subscription_id",e).eq("status","pending").eq("signer_role","arranger").order("created_at",{ascending:!1}),r=[];for(let e of s||[]){let a=t.find(a=>a.id===e.subscription_id);if(a?.deal_id){x[a.deal_id]=(x[a.deal_id]||0)+1;let t=(c||[]).find(e=>e.id===a.deal_id);r.push({id:e.id,deal_id:a.deal_id,deal_name:t?.name||"Unknown Deal",investor_name:a.investor?.legal_name||a.investor?.display_name||"Unknown Investor",subscription_id:e.subscription_id,document_type:e.document_type,created_at:e.created_at,token_expires_at:e.token_expires_at,signing_url:`/versotech_main/versosign/sign/${e.signing_token}`})}}G(r)}}let h=Object.values(x).reduce((e,a)=>e+a,0);Y(h);let g=(c||[]).map(e=>({id:e.id,name:e.name||"Untitled Deal",company_name:e.company_name,company_logo_url:e.company_logo_url,deal_type:e.deal_type||"unknown",status:e.status||"draft",currency:e.currency||"USD",target_amount:Number(e.target_amount)||0,raised_amount:Number(e.raised_amount)||0,minimum_investment:Number(e.minimum_investment)||0,sector:e.sector,stage:e.stage,location:e.location,open_at:e.open_at,close_at:e.close_at,created_at:e.created_at,investor_count:u[e.id]||0,pending_signatures:x[e.id]||0}));P(g);let f=g.filter(e=>"open"===e.status||"allocation_pending"===e.status).length,p=g.filter(e=>"closed"===e.status||"fully_subscribed"===e.status).length,_=0,b=0;for(let e of g)_+=e.raised_amount,b+=e.target_amount;U({totalMandates:g.length,activeMandates:f,closedMandates:p,totalRaised:_,totalTarget:b,currency:"USD"}),$(null)}catch(e){console.error("[MyMandatesPage] Error:",e),$(e instanceof Error?e.message:"Failed to load mandates")}finally{R(!1)}}()},[]);let Q=H.filter(e=>{let a="all"===I||e.status===I,t=!A||e.name?.toLowerCase().includes(A.toLowerCase())||e.company_name?.toLowerCase().includes(A.toLowerCase())||e.sector?.toLowerCase().includes(A.toLowerCase()),s=(e=>{let a=new Date;switch(e){case"7d":return new Date(a.getTime()-6048e5);case"30d":return new Date(a.getTime()-2592e6);case"90d":return new Date(a.getTime()-7776e6);case"year":return new Date(a.getFullYear(),0,1);default:return null}})(O),r=!s||new Date(e.created_at)>=s;return a&&t&&r}),W=(e,a)=>0===a?0:Math.min(100,Math.round(e/a*100));return B?(0,a.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,a.jsx)(g.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,a.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading mandates..."})]}):q?(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)(f.AlertCircle,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Error Loading Mandates"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:q})]}):(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"My Mandates"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:e?`Manage deals and placement activities as ${e.legal_name}`:"View all arranger mandates across the platform"})]}),e&&e.license_type&&(0,a.jsx)(r.Badge,{variant:"outline",className:"capitalize",children:e.license_type})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-2",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(_.Briefcase,{className:"h-4 w-4"}),"Total Mandates"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:L.totalMandates}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[L.activeMandates," active, ",L.closedMandates," closed"]})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-2",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(m.TrendingUp,{className:"h-4 w-4"}),"Active Deals"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:L.activeMandates}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently raising"})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-2",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(u.DollarSign,{className:"h-4 w-4"}),"Total Raised"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,w.formatCurrency)(L.totalRaised,L.currency)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",(0,w.formatCurrency)(L.totalTarget,L.currency)," target"]})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-2",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(x.Clock,{className:"h-4 w-4"}),"Avg. Progress"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[L.totalTarget>0?W(L.totalRaised,L.totalTarget):0,"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall fundraising"})]})]})]}),z>0&&(0,a.jsx)(s.Card,{className:"border-amber-500/30 bg-amber-50/50",children:(0,a.jsxs)(s.CardContent,{className:"py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-amber-500/20",children:(0,a.jsx)(v.PenTool,{className:"h-5 w-5 text-amber-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-foreground",children:[z," Pending Signature",1!==z?"s":""]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"You have subscription packs awaiting your countersignature"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>J(!X),children:X?"Hide List":"Show List"}),(0,a.jsx)(l.Button,{variant:"outline",asChild:!0,children:(0,a.jsxs)(T.default,{href:"/versotech_main/versosign",children:[(0,a.jsx)(v.PenTool,{className:"h-4 w-4 mr-2"}),"Go to VERSOSign"]})})]})]}),X&&K.length>0&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-amber-300/30",children:(0,a.jsx)("div",{className:"space-y-2",children:K.map(e=>{let t=new Date(e.token_expires_at).getTime()-Date.now()<1728e5;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/50 rounded-lg border border-amber-200/50",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-foreground truncate",children:e.deal_name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.investor_name," • ",e.document_type.replace("_"," ")]}),(0,a.jsxs)("p",{className:(0,N.cn)("text-xs mt-1",t?"text-red-600 font-medium":"text-muted-foreground"),children:[t?"⚠️ ":"","Expires: ",(0,w.formatDate)(e.token_expires_at)]})]}),(0,a.jsx)(l.Button,{size:"sm",className:"ml-4 bg-amber-600 hover:bg-amber-700",asChild:!0,children:(0,a.jsxs)(T.default,{href:e.signing_url,children:[(0,a.jsx)(v.PenTool,{className:"h-4 w-4 mr-1"}),"Sign Now"]})})]},e.id)})})})]})}),(0,a.jsx)(s.Card,{children:(0,a.jsx)(s.CardContent,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.Input,{placeholder:"Search by deal name, company, or sector...",value:A,onChange:e=>F(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)(i.Select,{value:I,onValueChange:E,children:[(0,a.jsx)(i.SelectTrigger,{className:"w-full md:w-40",children:(0,a.jsx)(i.SelectValue,{placeholder:"Filter by status"})}),(0,a.jsx)(i.SelectContent,{children:M.map(e=>(0,a.jsx)(i.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(i.Select,{value:O,onValueChange:V,children:[(0,a.jsxs)(i.SelectTrigger,{className:"w-full md:w-40",children:[(0,a.jsx)(y.Calendar,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(i.SelectValue,{placeholder:"Filter by date"})]}),(0,a.jsx)(i.SelectContent,{children:S.map(e=>(0,a.jsx)(i.SelectItem,{value:e.value,children:e.label},e.value))})]})]})})}),(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{children:[(0,a.jsx)(s.CardTitle,{children:"Mandates"}),(0,a.jsxs)(s.CardDescription,{children:[Q.length," mandate",1!==Q.length?"s":""," found"]})]}),(0,a.jsx)(s.CardContent,{children:0===Q.length?(0,a.jsxs)("div",{className:"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2",children:[(0,a.jsx)(c.FileText,{className:"h-10 w-10 text-muted-foreground"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:A||"all"!==I?"No mandates match your filters":"No mandates yet"}),!e&&0===H.length&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Arranger mandates will appear here when deals are assigned to arranger entities"})]}):(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(d.Table,{children:[(0,a.jsx)(d.TableHeader,{children:(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableHead,{children:"Deal"}),(0,a.jsx)(d.TableHead,{children:"Status"}),(0,a.jsx)(d.TableHead,{children:"Progress"}),(0,a.jsx)(d.TableHead,{children:"Investors"}),(0,a.jsx)(d.TableHead,{children:"Pending"}),(0,a.jsx)(d.TableHead,{children:"Timeline"}),(0,a.jsx)(d.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(d.TableBody,{children:Q.map(e=>(0,a.jsxs)(d.TableRow,{children:[(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.company_logo_url?(0,a.jsx)("img",{src:e.company_logo_url,alt:e.company_name||"",className:"h-10 w-10 rounded-lg object-cover"}):(0,a.jsx)("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center",children:(0,a.jsx)(j.Building2,{className:"h-5 w-5 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),e.company_name&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.company_name,e.sector&&` • ${e.sector}`]})]})]})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsx)(r.Badge,{variant:"outline",className:(0,N.cn)("capitalize",D[e.status]||D.draft),children:e.status.replace("_"," ")})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{className:"w-32 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{children:(0,w.formatCurrency)(e.raised_amount,e.currency)}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[W(e.raised_amount,e.target_amount),"%"]})]}),(0,a.jsx)(o.Progress,{value:W(e.raised_amount,e.target_amount),className:"h-2"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["of ",(0,w.formatCurrency)(e.target_amount,e.currency)]})]})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(b.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:e.investor_count})]})}),(0,a.jsx)(d.TableCell,{children:e.pending_signatures>0?(0,a.jsxs)(r.Badge,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[(0,a.jsx)(v.PenTool,{className:"h-3 w-3 mr-1"}),e.pending_signatures]}):(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"})}),(0,a.jsx)(d.TableCell,{children:(0,a.jsxs)("div",{className:"text-sm",children:[e.open_at&&(0,a.jsxs)("div",{className:"text-xs",children:["Open: ",(0,w.formatDate)(e.open_at)]}),e.close_at&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Close: ",(0,w.formatDate)(e.close_at)]}),!e.open_at&&!e.close_at&&(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:"No dates set"})]})}),(0,a.jsx)(d.TableCell,{className:"text-right",children:(0,a.jsx)(l.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)(T.default,{href:`/versotech_main/my-mandates/${e.id}`,children:(0,a.jsx)(p.ExternalLink,{className:"h-4 w-4"})})})})]},e.id))})]})})})]})]})}e.s(["default",()=>k])}]);