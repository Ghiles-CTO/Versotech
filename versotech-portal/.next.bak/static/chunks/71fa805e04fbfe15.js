(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,262823,e=>{"use strict";let s=(0,e.i(410587).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>s],262823)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,s="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:s,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let s="string"==typeof e?new Date(e):e;return Number.isNaN(s?.getTime?.())?"—":s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},196767,e=>{"use strict";let s=(0,e.i(410587).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],196767)},816654,e=>{"use strict";var s=e.i(722679),t=e.i(340915),a=e.i(282141);let i=t.forwardRef(({className:e,...t},i)=>(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...t}));i.displayName="Textarea",e.s(["Textarea",()=>i])},90613,e=>{"use strict";var s=e.i(722679),t=e.i(282141);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>d,"CardFooter",()=>l,"CardHeader",()=>i,"CardTitle",()=>r])},15098,e=>{"use strict";let s=(0,e.i(410587).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],15098)},768697,e=>{"use strict";var s=e.i(722679),t=e.i(340915),a=e.i(352776),i=e.i(316264),r=e.i(191569),d=e.i(514133),n=e.i(816654),l=e.i(538892),c=e.i(994500),o=e.i(603274);function m({open:e,onOpenChange:m,arranger:x}){let[u,h]=(0,t.useState)(""),[g,j]=(0,t.useState)(""),[v,p]=(0,t.useState)(""),[_,f]=(0,t.useState)(""),[y,N]=(0,t.useState)(""),[b,C]=(0,t.useState)(""),[T,S]=(0,t.useState)(""),[w,D]=(0,t.useState)(""),[k,I]=(0,t.useState)(""),[A,B]=(0,t.useState)("active"),[E,F]=(0,t.useTransition)(),L=(0,o.useRouter)();return((0,t.useEffect)(()=>{x&&(h(x.legalName),j(x.registrationNumber||""),p(x.taxId||""),f(x.regulator||"none"),N(x.licenseNumber||""),C(x.licenseType||""),S(x.email||""),D(x.phone||""),I(x.address||""),B(x.status))},[x]),x)?(0,s.jsx)(a.Dialog,{open:e,onOpenChange:m,children:(0,s.jsxs)(a.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(a.DialogHeader,{children:[(0,s.jsx)(a.DialogTitle,{children:"Edit Arranger Entity"}),(0,s.jsxs)(a.DialogDescription,{children:["Update information for ",x.legalName]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"legalName",children:"Legal Name *"}),(0,s.jsx)(r.Input,{id:"legalName",value:u,onChange:e=>h(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"registrationNumber",children:"Registration Number"}),(0,s.jsx)(r.Input,{id:"registrationNumber",value:g,onChange:e=>j(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"taxId",children:"Tax ID"}),(0,s.jsx)(r.Input,{id:"taxId",value:v,onChange:e=>p(e.target.value)})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Regulatory Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"regulator",children:"Regulator"}),(0,s.jsxs)(l.Select,{value:_,onValueChange:f,children:[(0,s.jsx)(l.SelectTrigger,{children:(0,s.jsx)(l.SelectValue,{placeholder:"Select regulator"})}),(0,s.jsxs)(l.SelectContent,{children:[(0,s.jsx)(l.SelectItem,{value:"none",children:"None / Not Specified"}),(0,s.jsx)(l.SelectItem,{value:"FCA",children:"FCA (UK)"}),(0,s.jsx)(l.SelectItem,{value:"SEC",children:"SEC (US)"}),(0,s.jsx)(l.SelectItem,{value:"FINMA",children:"FINMA (Switzerland)"}),(0,s.jsx)(l.SelectItem,{value:"MAS",children:"MAS (Singapore)"}),(0,s.jsx)(l.SelectItem,{value:"ASIC",children:"ASIC (Australia)"}),(0,s.jsx)(l.SelectItem,{value:"Other",children:"Other"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"licenseNumber",children:"License Number"}),(0,s.jsx)(r.Input,{id:"licenseNumber",value:y,onChange:e=>N(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"licenseType",children:"License Type"}),(0,s.jsx)(r.Input,{id:"licenseType",value:b,onChange:e=>C(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"email",children:"Email"}),(0,s.jsx)(r.Input,{id:"email",type:"email",value:T,onChange:e=>S(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"phone",children:"Phone"}),(0,s.jsx)(r.Input,{id:"phone",type:"tel",value:w,onChange:e=>D(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{htmlFor:"address",children:"Registered Address"}),(0,s.jsx)(n.Textarea,{id:"address",value:k,onChange:e=>I(e.target.value),rows:2})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(d.Label,{children:"Status"}),(0,s.jsxs)(l.Select,{value:A,onValueChange:B,children:[(0,s.jsx)(l.SelectTrigger,{children:(0,s.jsx)(l.SelectValue,{})}),(0,s.jsxs)(l.SelectContent,{children:[(0,s.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,s.jsx)(l.SelectItem,{value:"inactive",children:"Inactive"}),(0,s.jsx)(l.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,s.jsxs)(a.DialogFooter,{children:[(0,s.jsx)(i.Button,{variant:"outline",onClick:()=>m(!1),disabled:E,children:"Cancel"}),(0,s.jsx)(i.Button,{onClick:()=>{x&&F(async()=>{if(!u.trim())return void c.toast.error("Legal name is required");try{let e=await fetch(`/api/admin/arrangers/${x.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:u.trim(),registration_number:g.trim()||null,tax_id:v.trim()||null,regulator:"none"===_?null:_.trim()||null,license_number:y.trim()||null,license_type:b.trim()||null,email:T.trim()||null,phone:w.trim()||null,address:k.trim()||null,status:A})});if(!e.ok){let s=await e.json().catch(()=>null);console.error("[EditArrangerDialog] Failed to update arranger",s),c.toast.error(s?.error??"Failed to update arranger entity");return}c.toast.success("Arranger entity updated successfully"),m(!1),L.refresh()}catch(e){console.error("[EditArrangerDialog] Unexpected error",e),c.toast.error("Failed to update arranger entity")}})},disabled:E,children:E?"Updating…":"Update"})]})]})}):null}e.s(["EditArrangerDialog",()=>m])},351080,e=>{"use strict";var s=e.i(722679),t=e.i(90613),a=e.i(316264),i=e.i(129432),r=e.i(429760),d=e.i(820417),n=e.i(396132),l=e.i(773510),c=e.i(957114),o=e.i(871561),m=e.i(971743),x=e.i(84065),u=e.i(119311),h=e.i(827178),g=e.i(501259),j=e.i(734213),v=e.i(981218),p=e.i(691974),_=e.i(196767),f=e.i(551544),y=e.i(335994),N=e.i(340915),b=e.i(475478),C=e.i(160599),T=e.i(764355);e.i(227041);var S=e.i(1694),w=e.i(465914),D=e.i(923226),k=e.i(768697),I=e.i(429482),A=e.i(501495),B=e.i(747972);function E({arranger:e,metrics:E,deals:F,vehicles:L}){let[U,M]=(0,N.useState)(!1),[H,R]=(0,N.useState)(!1),[V,K]=(0,N.useState)(!1),O={...e,legalName:e.legal_name,registrationNumber:e.registration_number,taxId:e.tax_id,licenseNumber:e.license_number,licenseType:e.license_type,licenseExpiryDate:e.license_expiry_date,kycStatus:e.kyc_status,kycApprovedAt:e.kyc_approved_at,kycApprovedBy:e.kyc_approved_by,kycExpiresAt:e.kyc_expires_at,kycNotes:e.kyc_notes,createdAt:e.created_at,createdBy:e.created_by,updatedAt:e.updated_at,updatedBy:e.updated_by,totalDeals:E.totalDeals,activeDeals:E.activeDeals,totalVehicles:E.totalVehicles,totalAum:E.totalAum,documentCount:E.documentCount};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(d.default,{href:"/versotech_main/users",children:(0,s.jsxs)(a.Button,{variant:"ghost",size:"sm",className:"bg-gray-800 text-white hover:bg-gray-700",children:[(0,s.jsx)(n.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:e.legal_name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.regulator&&e.license_number?`${e.regulator}: ${e.license_number}`:`Arranger ID: ${e.id.slice(0,8)}`})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>R(!0),children:[(0,s.jsx)(y.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite User"]}),(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>M(!0),children:[(0,s.jsx)(f.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsx)(i.Badge,{className:(0,B.getStatusStyle)(e.status,B.statusStyles),children:e.status}),(0,s.jsxs)(i.Badge,{className:(0,B.getStatusStyle)(e.kyc_status,B.kycStyles),children:["KYC: ",e.kyc_status]}),e.license_type&&(0,s.jsx)(i.Badge,{variant:"outline",children:e.license_type})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-3",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(p.Briefcase,{className:"h-4 w-4"}),"Total Deals"]})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-foreground",children:E.totalDeals}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[E.activeDeals," active"]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-3",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(m.Building2,{className:"h-4 w-4"}),"Vehicles"]})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-foreground",children:E.totalVehicles}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Managed"})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{className:"pb-3",children:(0,s.jsxs)(t.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(u.FileText,{className:"h-4 w-4"}),"Documents"]})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-foreground",children:E.documentCount}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Uploaded"})]})]})]}),(0,s.jsxs)(r.Tabs,{defaultValue:"overview",className:"space-y-6",id:`arranger-tabs-${e.id}`,children:[(0,s.jsxs)(r.TabsList,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 lg:w-auto lg:inline-grid",children:[(0,s.jsxs)(r.TabsTrigger,{value:"overview",className:"gap-2",children:[(0,s.jsx)(m.Building2,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Overview"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"members",className:"gap-2",children:[(0,s.jsx)(g.Users,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Members"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"kyc",className:"gap-2",children:[(0,s.jsx)(v.Shield,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"KYC Documents"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"bank",className:"gap-2",children:[(0,s.jsx)(h.Banknote,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Bank Details"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"deals",className:"gap-2",children:[(0,s.jsx)(p.Briefcase,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Deals"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"vehicles",className:"gap-2",children:[(0,s.jsx)(m.Building2,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Vehicles"})]}),(0,s.jsxs)(r.TabsTrigger,{value:"activity",className:"gap-2",children:[(0,s.jsx)(j.Activity,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Activity"})]})]}),(0,s.jsxs)(r.TabsContent,{value:"overview",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"Contact Information"})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.email})]})]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(c.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.phone})]})]}),e.address&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(o.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Address"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.address})]})]}),!e.email&&!e.phone&&!e.address&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No contact information available"})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"Regulatory Information"})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[e.regulator&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v.Shield,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Regulator"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.regulator})]})]}),e.license_number&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(u.FileText,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"License Number"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.license_number})]})]}),e.license_type&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(u.FileText,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"License Type"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.license_type})]})]}),e.license_expiry_date&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"License Expires"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:(0,A.formatDate)(e.license_expiry_date)})]})]}),e.registration_number&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(m.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Registration Number"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.registration_number})]})]}),e.tax_id&&(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(_.DollarSign,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tax ID"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:e.tax_id})]})]})]})]})]}),(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{children:"KYC Status"})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Status"}),(0,s.jsx)(i.Badge,{className:(0,B.getStatusStyle)(e.kyc_status,B.kycStyles),children:e.kyc_status})]}),e.kyc_approved_at&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Approved At"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:(0,A.formatDate)(e.kyc_approved_at)})]}),e.kyc_expires_at&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expires At"}),(0,s.jsx)("div",{className:"text-sm font-medium",children:(0,A.formatDate)(e.kyc_expires_at)})]})]}),e.kyc_notes&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Notes"}),(0,s.jsx)("div",{className:"text-sm bg-white/5 rounded-lg p-3",children:e.kyc_notes})]})]})]}),"individual"===e.type&&(0,s.jsx)(S.IndividualKycDisplay,{data:{first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,name_suffix:e.name_suffix,date_of_birth:e.date_of_birth,country_of_birth:e.country_of_birth,nationality:e.nationality,email:e.email,phone_mobile:e.phone_mobile,phone_office:e.phone_office,residential_street:e.residential_street,residential_line_2:e.residential_line_2,residential_city:e.residential_city,residential_state:e.residential_state,residential_postal_code:e.residential_postal_code,residential_country:e.residential_country,is_us_citizen:e.is_us_citizen,is_us_taxpayer:e.is_us_taxpayer,us_taxpayer_id:e.us_taxpayer_id,country_of_tax_residency:e.country_of_tax_residency,id_type:e.id_type,id_number:e.id_number,id_issue_date:e.id_issue_date,id_expiry_date:e.id_expiry_date,id_issuing_country:e.id_issuing_country},showEditButton:!0,onEdit:()=>K(!0),title:"Personal KYC Information"})]}),(0,s.jsx)(r.TabsContent,{value:"members",children:(0,s.jsx)(D.StaffEntityMembersTab,{entityType:"arranger",entityId:e.id,entityName:e.legal_name})}),(0,s.jsx)(r.TabsContent,{value:"kyc",children:(0,s.jsx)(b.KYCDocumentsTab,{entityType:"arranger",entityId:e.id,entityName:e.legal_name})}),(0,s.jsx)(r.TabsContent,{value:"bank",children:(0,s.jsx)(C.BankDetailsTab,{entityType:"arranger",entityId:e.id,entityName:e.legal_name})}),(0,s.jsx)(r.TabsContent,{value:"deals",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"Arranged Deals"}),(0,s.jsxs)(t.CardDescription,{children:["Deals arranged by ",e.legal_name]})]}),(0,s.jsx)(t.CardContent,{children:0===F.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(p.Briefcase,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No deals arranged yet"})]}):(0,s.jsx)("div",{className:"space-y-3",children:F.map(e=>(0,s.jsx)(d.default,{href:`/versotech_main/deals/${e.id}`,className:"block",children:(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-foreground",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Created: ",(0,A.formatDate)(e.created_at)]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)(i.Badge,{variant:"outline",children:e.status}),e.target_amount&&(0,s.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:(0,A.formatCurrency)(e.target_amount)})]})]})},e.id))})})]})}),(0,s.jsx)(r.TabsContent,{value:"vehicles",children:(0,s.jsxs)(t.Card,{children:[(0,s.jsxs)(t.CardHeader,{children:[(0,s.jsx)(t.CardTitle,{children:"Managed Vehicles"}),(0,s.jsxs)(t.CardDescription,{children:["Investment vehicles managed by ",e.legal_name]})]}),(0,s.jsx)(t.CardContent,{children:0===L.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(m.Building2,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No vehicles managed yet"})]}):(0,s.jsx)("div",{className:"space-y-3",children:L.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-foreground",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Created: ",(0,A.formatDate)(e.created_at)]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)(i.Badge,{variant:"outline",children:e.status})})]},e.id))})})]})}),(0,s.jsx)(r.TabsContent,{value:"activity",children:(0,s.jsx)(T.ActivityTimelineTab,{entityType:"arranger",entityId:e.id,entityName:e.legal_name})})]}),(0,s.jsx)(k.EditArrangerDialog,{open:U,onOpenChange:M,arranger:O}),(0,s.jsx)(I.InviteUserDialog,{open:H,onOpenChange:R,entityType:"arranger",entityId:e.id,entityName:e.legal_name}),"individual"===e.type&&(0,s.jsx)(w.EntityKYCEditDialog,{open:V,onOpenChange:K,entityType:"arranger",entityId:e.id,entityName:e.legal_name,apiEndpoint:`/api/admin/arrangers/${e.id}`,initialData:{first_name:e.first_name??void 0,middle_name:e.middle_name??void 0,last_name:e.last_name??void 0,name_suffix:e.name_suffix??void 0,date_of_birth:e.date_of_birth??void 0,country_of_birth:e.country_of_birth??void 0,nationality:e.nationality??void 0,email:e.email??void 0,phone_mobile:e.phone_mobile??void 0,phone_office:e.phone_office??void 0,residential_street:e.residential_street??void 0,residential_line_2:e.residential_line_2??void 0,residential_city:e.residential_city??void 0,residential_state:e.residential_state??void 0,residential_postal_code:e.residential_postal_code??void 0,residential_country:e.residential_country??void 0,is_us_citizen:e.is_us_citizen??void 0,is_us_taxpayer:e.is_us_taxpayer??void 0,us_taxpayer_id:e.us_taxpayer_id??void 0,country_of_tax_residency:e.country_of_tax_residency??void 0,id_type:e.id_type??void 0,id_number:e.id_number??void 0,id_issue_date:e.id_issue_date??void 0,id_expiry_date:e.id_expiry_date??void 0,id_issuing_country:e.id_issuing_country??void 0},onSuccess:()=>window.location.reload()})]})}e.s(["ArrangerDetailClient",()=>E])}]);