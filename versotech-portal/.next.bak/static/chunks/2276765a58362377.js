(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90613,e=>{"use strict";var a=e.i(722679),t=e.i(282141);function r({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function l({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...r})}function i({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...r})}function n({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...r})}function d({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>i,"CardFooter",()=>d,"CardHeader",()=>s,"CardTitle",()=>l])},129432,e=>{"use strict";var a=e.i(722679),t=e.i(179232),r=e.i(414846),s=e.i(282141);let l=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,asChild:i=!1,...n}){let d=i?t.Slot:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,s.cn)(l({variant:r}),e),...n})}e.s(["Badge",()=>i])},773510,e=>{"use strict";let a=(0,e.i(410587).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>a],773510)},398472,e=>{"use strict";let a=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>a],398472)},201495,e=>{"use strict";let a=(0,e.i(410587).default)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);e.s(["Scale",()=>a],201495)},733784,e=>{"use strict";var a=e.i(722679),t=e.i(340915),r=e.i(820417),s=e.i(90613),l=e.i(129432),i=e.i(316264),n=e.i(191569),d=e.i(538892),c=e.i(201495),o=e.i(971743),m=e.i(645855),u=e.i(831833),x=e.i(750809),h=e.i(773510),g=e.i(981218),p=e.i(398472),v=e.i(603274),j=e.i(352776),f=e.i(514133),y=e.i(994500);let b=[{label:"Limited Liability Company",value:"llc"},{label:"Limited Liability Partnership",value:"llp"},{label:"Professional Corporation",value:"pc"},{label:"Partnership",value:"partnership"},{label:"Sole Proprietorship",value:"sole_proprietor"}],N=["M&A","Securities","Tax","Fund Formation","Private Equity","Real Estate","Corporate","Regulatory","Litigation","Banking & Finance"];function C({open:e,onOpenChange:r}){let s=(0,v.useRouter)(),[l,c]=(0,t.useTransition)(),[o,m]=(0,t.useState)(""),[u,x]=(0,t.useState)(""),[h,g]=(0,t.useState)("llp"),[p,C]=(0,t.useState)(""),[w,S]=(0,t.useState)(""),[L,k]=(0,t.useState)(""),[F,A]=(0,t.useState)(""),[T,P]=(0,t.useState)(""),[_,B]=(0,t.useState)([]),D=()=>{m(""),x(""),g("llp"),C(""),S(""),k(""),A(""),P(""),B([])};return(0,a.jsx)(j.Dialog,{open:e,onOpenChange:e=>{r(e),e||D()},children:(0,a.jsxs)(j.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(j.DialogHeader,{children:[(0,a.jsx)(j.DialogTitle,{children:"Add Law Firm"}),(0,a.jsx)(j.DialogDescription,{children:"Register a new legal partner for deal documentation and compliance"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"firmName",children:"Firm Name *"}),(0,a.jsx)(n.Input,{id:"firmName",value:o,onChange:e=>m(e.target.value),placeholder:"e.g. Smith & Associates LLP",autoFocus:!0})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"displayName",children:"Display Name"}),(0,a.jsx)(n.Input,{id:"displayName",value:u,onChange:e=>x(e.target.value),placeholder:"Short name (defaults to firm name)"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{children:"Entity Type"}),(0,a.jsxs)(d.Select,{value:h,onValueChange:g,children:[(0,a.jsx)(d.SelectTrigger,{children:(0,a.jsx)(d.SelectValue,{placeholder:"Select entity type"})}),(0,a.jsx)(d.SelectContent,{children:b.map(e=>(0,a.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"country",children:"Country"}),(0,a.jsx)(n.Input,{id:"country",value:F,onChange:e=>A(e.target.value),placeholder:"e.g. United States"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"city",children:"City"}),(0,a.jsx)(n.Input,{id:"city",value:T,onChange:e=>P(e.target.value),placeholder:"e.g. New York"})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Primary Contact"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"contactName",children:"Contact Name"}),(0,a.jsx)(n.Input,{id:"contactName",value:p,onChange:e=>C(e.target.value),placeholder:"e.g. John Smith"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"contactEmail",children:"Email"}),(0,a.jsx)(n.Input,{id:"contactEmail",type:"email",value:w,onChange:e=>S(e.target.value),placeholder:"john@smithlaw.com"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(f.Label,{htmlFor:"contactPhone",children:"Phone"}),(0,a.jsx)(n.Input,{id:"contactPhone",type:"tel",value:L,onChange:e=>k(e.target.value),placeholder:"+1 (555) 123-4567"})]})]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)(f.Label,{className:"mb-3 block",children:"Specializations"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:N.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>{B(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},className:`px-3 py-1 text-xs rounded-full border transition-colors ${_.includes(e)?"bg-primary text-primary-foreground border-primary":"bg-transparent text-muted-foreground border-white/20 hover:border-white/40"}`,children:e},e))})]})]}),(0,a.jsxs)(j.DialogFooter,{children:[(0,a.jsx)(i.Button,{variant:"outline",onClick:()=>r(!1),disabled:l,children:"Cancel"}),(0,a.jsx)(i.Button,{onClick:()=>{c(async()=>{if(!o.trim())return void y.toast.error("Firm name is required");try{let e=await fetch("/api/admin/lawyers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firm_name:o.trim(),display_name:u.trim()||o.trim(),legal_entity_type:h,primary_contact_name:p.trim()||null,primary_contact_email:w.trim()||null,primary_contact_phone:L.trim()||null,country:F.trim()||null,city:T.trim()||null,specializations:_.length>0?_:null,is_active:!0,kyc_status:"draft"})});if(!e.ok){let a=await e.json().catch(()=>null);console.error("[AddLawyerDialog] Failed to create lawyer:",a),y.toast.error(a?.error??"Failed to create lawyer");return}y.toast.success("Law firm created successfully"),r(!1),D(),s.refresh()}catch(e){console.error("[AddLawyerDialog] Error:",e),y.toast.error("Failed to create lawyer")}})},disabled:l,children:l?"Creating...":"Create Law Firm"})]})]})})}let w=[{label:"All status",value:"all"},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],S=[{label:"All KYC",value:"all"},{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Draft",value:"draft"}];function L({summary:e,lawyers:v}){let[j,f]=(0,t.useState)(""),[y,b]=(0,t.useState)("all"),[N,L]=(0,t.useState)("all"),[k,F]=(0,t.useState)(!1),A=(0,t.useMemo)(()=>v.filter(e=>{let a="all"===y||"active"===y&&e.isActive||"inactive"===y&&!e.isActive,t="all"===N||e.kycStatus===N,r=!j||e.firmName.toLowerCase().includes(j.toLowerCase())||e.displayName.toLowerCase().includes(j.toLowerCase())||(e.primaryContactName?.toLowerCase().includes(j.toLowerCase())??!1)||(e.primaryContactEmail?.toLowerCase().includes(j.toLowerCase())??!1);return a&&t&&r}),[v,y,N,j]),T={approved:"bg-green-500/20 text-green-400 border-green-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",draft:"bg-gray-500/20 text-gray-400 border-gray-500/30",expired:"bg-red-500/20 text-red-400 border-red-500/30"};return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Lawyer Management"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage law firms, legal counsel, and compliance documentation"})]}),(0,a.jsxs)(i.Button,{onClick:()=>F(!0),children:[(0,a.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Add Lawyer"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-3",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(c.Scale,{className:"h-4 w-4"}),"Active Lawyers"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground",children:e.activeLawyers}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e.totalLawyers," total"]})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-3",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(g.Shield,{className:"h-4 w-4"}),"KYC Approved"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:e.kycApproved}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Verified firms"})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-3",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(m.Clock,{className:"h-4 w-4"}),"KYC Pending"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:e.kycPending}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Awaiting review"})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsx)(s.CardHeader,{className:"pb-3",children:(0,a.jsxs)(s.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(o.Building2,{className:"h-4 w-4"}),"Total Firms"]})}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-foreground",children:e.totalLawyers}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Registered"})]})]})]}),(0,a.jsxs)(s.Card,{children:[(0,a.jsxs)(s.CardHeader,{className:"pb-4",children:[(0,a.jsx)(s.CardTitle,{className:"text-base",children:"Law Firms"}),(0,a.jsx)(s.CardDescription,{children:"Browse and manage legal partners"})]}),(0,a.jsxs)(s.CardContent,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,a.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.Input,{placeholder:"Search by name, contact, or email...",value:j,onChange:e=>f(e.target.value),className:"pl-10"})]})}),(0,a.jsxs)(d.Select,{value:y,onValueChange:b,children:[(0,a.jsx)(d.SelectTrigger,{className:"w-[140px]",children:(0,a.jsx)(d.SelectValue,{placeholder:"Status"})}),(0,a.jsx)(d.SelectContent,{children:w.map(e=>(0,a.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)(d.Select,{value:N,onValueChange:L,children:[(0,a.jsx)(d.SelectTrigger,{className:"w-[140px]",children:(0,a.jsx)(d.SelectValue,{placeholder:"KYC Status"})}),(0,a.jsx)(d.SelectContent,{children:S.map(e=>(0,a.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),0===A.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,a.jsx)(c.Scale,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"No lawyers found"}),(0,a.jsxs)(i.Button,{variant:"outline",className:"mt-4",onClick:()=>F(!0),children:[(0,a.jsx)(u.Plus,{className:"h-4 w-4 mr-2"}),"Add First Lawyer"]})]}):(0,a.jsx)("div",{className:"space-y-3",children:A.map(e=>(0,a.jsx)(r.default,{href:`/versotech_main/lawyers/${e.id}`,className:"block",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:(0,a.jsx)(c.Scale,{className:"h-5 w-5 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-foreground",children:e.firmName}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.displayName,e.country&&` â€¢ ${e.country}`]}),e.primaryContactEmail&&(0,a.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,a.jsx)(h.Mail,{className:"h-3 w-3"}),e.primaryContactEmail]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[e.specializations&&e.specializations.length>0&&(0,a.jsxs)("div",{className:"hidden md:flex gap-1",children:[e.specializations.slice(0,2).map(e=>(0,a.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:e},e)),e.specializations.length>2&&(0,a.jsxs)(l.Badge,{variant:"outline",className:"text-xs",children:["+",e.specializations.length-2]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(l.Badge,{className:e.isActive?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400",children:e.isActive?"Active":"Inactive"}),e.kycStatus&&(0,a.jsxs)(l.Badge,{className:`ml-2 ${T[e.kycStatus]||"bg-gray-500/20 text-gray-400"}`,children:["KYC: ",e.kycStatus]})]}),(0,a.jsx)(p.ExternalLink,{className:"h-4 w-4 text-muted-foreground"})]})]})},e.id))})]})]}),(0,a.jsx)(C,{open:k,onOpenChange:F})]})}e.s(["LawyersDashboard",()=>L],733784)}]);