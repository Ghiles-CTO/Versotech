(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,176835,e=>{"use strict";let t=(0,e.i(410587).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],176835)},264651,e=>{"use strict";let t=(0,e.i(410587).default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["PlayCircle",()=>t],264651)},931105,e=>{"use strict";function t(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}e.s(["default",()=>t])},849809,e=>{"use strict";function t(e,r){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,r)}e.s(["default",()=>t])},342102,e=>{"use strict";function t(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.s(["default",()=>t])},181742,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},846812,(e,t,r)=>{"use strict";var n=e.r(181742);function o(){}function a(){}a.resetWarningCache=o,t.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},350627,(e,t,r)=>{t.exports=e.r(846812)()},74329,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},763388,(e,t,r)=>{e.e,t.exports=function(){var e=[function(e,t){"use strict";function r(e,t,r,n){return({red:n[4*(r*t+e)],green:n[4*(r*t+e)+1],blue:n[4*(r*t+e)+2],alpha:n[4*(r*t+e)+3]}).alpha}function n(e,t,n,o){for(var a=e?1:-1,i=e?0:n-1,s=i;e?s<n:s>-1;s+=a)for(var l=0;l<t;l++)if(r(l,s,t,o))return s;return null}function o(e,t,n,o){for(var a=e?1:-1,i=e?0:t-1,s=i;e?s<t:s>-1;s+=a)for(var l=0;l<n;l++)if(r(s,l,t,o))return s;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),r=e.width,a=e.height,i=t.getImageData(0,0,r,a).data,s=n(!0,r,a,i),l=n(!1,r,a,i),c=o(!0,r,a,i),d=o(!1,r,a,i)-c+1,h=l-s+1,u=t.getImageData(c,s,d,h);return e.width=d,e.height=h,t.clearRect(0,0,d,h),t.putImageData(u,0,0),e}}];function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}()},594422,e=>{"use strict";var t=e.i(74329),r=e.i(931105);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e.i(849809);function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}var s=e.i(342102),l=e.i(350627),c=e.i(340915);function d(e,t,r){this.x=e,this.y=t,this.time=r||new Date().getTime()}function h(e,t,r,n){this.startPoint=e,this.control1=t,this.control2=r,this.endPoint=n}function u(e,t){var r,n,o,a,i,s,l,c,d,h=this,m=t||{};(this.velocityFilterWeight=m.velocityFilterWeight||.7,this.minWidth=m.minWidth||.5,this.maxWidth=m.maxWidth||2.5,this.throttle="throttle"in m?m.throttle:16,this.minDistance="minDistance"in m?m.minDistance:5,this.throttle)?this._strokeMoveUpdate=(r=u.prototype._strokeUpdate,n=this.throttle,l=null,c=0,o||(o={}),d=function(){c=!1===o.leading?0:Date.now(),l=null,s=r.apply(a,i),l||(a=i=null)},function(){var e=Date.now();c||!1!==o.leading||(c=e);var t=n-(e-c);return a=this,i=arguments,t<=0||t>n?(l&&(clearTimeout(l),l=null),c=e,s=r.apply(a,i),l||(a=i=null)):l||!1===o.trailing||(l=setTimeout(d,t)),s}):this._strokeMoveUpdate=u.prototype._strokeUpdate,this.dotSize=m.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=m.penColor||"black",this.backgroundColor=m.backgroundColor||"rgba(0,0,0,0)",this.onBegin=m.onBegin,this.onEnd=m.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(h._mouseButtonDown=!0,h._strokeBegin(e))},this._handleMouseMove=function(e){h._mouseButtonDown&&h._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&h._mouseButtonDown&&(h._mouseButtonDown=!1,h._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];h._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];h._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===h._canvas&&(e.preventDefault(),h._strokeEnd(e))},this.on()}d.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},d.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},d.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},h.prototype.length=function(){for(var e=0,t=void 0,r=void 0,n=0;n<=10;n+=1){var o=n/10,a=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){var s=a-t,l=i-r;e+=Math.sqrt(s*s+l*l)}t=a,r=i}return e},h.prototype._point=function(e,t,r,n,o){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*n*(1-e)*e*e+o*e*e*e},u.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},u.prototype.fromDataURL=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Image,o=r.ratio||window.devicePixelRatio||1,a=r.width||this._canvas.width/o,i=r.height||this._canvas.height/o;this._reset(),n.src=e,n.onload=function(){t._ctx.drawImage(n,0,0,a,i)},this._isEmpty=!1},u.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(n))},u.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},u.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},u.prototype.isEmpty=function(){return this._isEmpty},u.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},u.prototype._strokeUpdate=function(e){var t=e.clientX,r=e.clientY,n=this._createPoint(t,r),o=this._data[this._data.length-1],a=o&&o[o.length-1],i=a&&n.distanceTo(a)<this.minDistance;if(!(a&&i)){var s=this._addPoint(n),l=s.curve,c=s.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:n.x,y:n.y,time:n.time,color:this.penColor})}},u.prototype._strokeEnd=function(e){var t=this.points.length>2,r=this.points[0];if(!t&&r&&this._drawDot(r),r){var n=this._data[this._data.length-1],o=n[n.length-1];r.equals(o)||n.push({x:r.x,y:r.y,time:r.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},u.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},u.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},u.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},u.prototype._createPoint=function(e,t,r){var n=this._canvas.getBoundingClientRect();return new d(e-n.left,t-n.top,r||new Date().getTime())},u.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var r=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,n=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,o=new h(t[1],r,n,t[2]),a=this._calculateCurveWidths(o);return t.shift(),{curve:o,widths:a}}return{}},u.prototype._calculateCurveControlPoints=function(e,t,r){var n=e.x-t.x,o=e.y-t.y,a=t.x-r.x,i=t.y-r.y,s={x:(e.x+t.x)/2,y:(e.y+t.y)/2},l={x:(t.x+r.x)/2,y:(t.y+r.y)/2},c=Math.sqrt(n*n+o*o),h=Math.sqrt(a*a+i*i),u=s.x-l.x,m=s.y-l.y,p=h/(c+h),x={x:l.x+u*p,y:l.y+m*p},f=t.x-x.x,g=t.y-x.y;return{c1:new d(s.x+f,s.y+g),c2:new d(l.x+f,l.y+g)}},u.prototype._calculateCurveWidths=function(e){var t=e.startPoint,r=e.endPoint,n={start:null,end:null},o=this.velocityFilterWeight*r.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(o);return n.start=this._lastWidth,n.end=a,this._lastVelocity=o,this._lastWidth=a,n},u.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},u.prototype._drawPoint=function(e,t,r){var n=this._ctx;n.moveTo(e,t),n.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1},u.prototype._drawCurve=function(e,t,r){var n=this._ctx,o=r-t,a=Math.floor(e.length());n.beginPath();for(var i=0;i<a;i+=1){var s=i/a,l=s*s,c=l*s,d=1-s,h=d*d,u=h*d,m=u*e.startPoint.x;m+=3*h*s*e.control1.x+3*d*l*e.control2.x+c*e.endPoint.x;var p=u*e.startPoint.y;p+=3*h*s*e.control1.y+3*d*l*e.control2.y+c*e.endPoint.y;var x=t+c*o;this._drawPoint(m,p,x)}n.closePath(),n.fill()},u.prototype._drawDot=function(e){var t=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,r),t.closePath(),t.fill()},u.prototype._fromData=function(e,t,r){for(var n=0;n<e.length;n+=1){var o=e[n];if(o.length>1)for(var a=0;a<o.length;a+=1){var i=o[a],s=new d(i.x,i.y,i.time),l=i.color;if(0===a)this.penColor=l,this._reset(),this._addPoint(s);else if(a!==o.length-1){var c=this._addPoint(s),h=c.curve,u=c.widths;h&&u&&t(h,u,l)}}else this._reset(),r(o[0])}},u.prototype._toSVG=function(){var e=this,t=this._data,r=this._canvas,n=Math.max(window.devicePixelRatio||1,1),o=r.width/n,a=r.height/n,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"width",r.width),i.setAttributeNS(null,"height",r.height),this._fromData(t,function(e,t,r){var n=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" "+("C "+e.control1.x.toFixed(3)+",")+e.control1.y.toFixed(3)+" "+(e.control2.x.toFixed(3)+",")+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);n.setAttribute("d",o),n.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),n.setAttribute("stroke",r),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),i.appendChild(n)}},function(t){var r=document.createElement("circle"),n="function"==typeof e.dotSize?e.dotSize():e.dotSize;r.setAttribute("r",n),r.setAttribute("cx",t.x),r.setAttribute("cy",t.y),r.setAttribute("fill",t.color),i.appendChild(r)});var s='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+o+" ")+a+'" width="'+o+'" height="'+a+'">',l=i.innerHTML;if(void 0===l){var c=document.createElement("dummy"),d=i.childNodes;c.innerHTML="";for(var h=0;h<d.length;h+=1)c.appendChild(d[h].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(s+l+"</svg>")},u.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,r){return t._drawCurve(e,r.start,r.end)},function(e){return t._drawDot(e)}),this._data=e},u.prototype.toData=function(){return this._data};var m=e.i(763388),p=["canvasProps","clearOnResize"],x=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");h.prototype=Object.create(e&&e.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),e&&(0,o.default)(h,e);var l,d=(l=i(),function(){var e,t=a(h);e=l?Reflect.construct(t,arguments,a(this).constructor):t.apply(this,arguments);if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return(0,s.default)(this)});function h(){var e;if(!(this instanceof h))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return(e=d.call.apply(d,[this].concat(o))).staticThis=e.constructor,e._sigPad=null,e._canvas=null,e.setRef=function(t){e._canvas=t,null===e._canvas&&(e._sigPad=null)},e._excludeOurProps=function(){var t=e.props;return t.canvasProps,t.clearOnResize,function(e,t){if(null==e)return{};var n,o,a=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,p)},e.componentDidMount=function(){var t=e.getCanvas();e._sigPad=new u(t,e._excludeOurProps()),e._resizeCanvas(),e.on()},e.componentWillUnmount=function(){e.off()},e.componentDidUpdate=function(){Object.assign(e._sigPad,e._excludeOurProps())},e.getCanvas=function(){if(null===e._canvas)throw e.staticThis.refNullError;return e._canvas},e.getTrimmedCanvas=function(){var t=e.getCanvas(),r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0),(0,m.default)(r)},e.getSignaturePad=function(){if(null===e._sigPad)throw e.staticThis.refNullError;return e._sigPad},e._checkClearOnResize=function(){e.props.clearOnResize&&e._resizeCanvas()},e._resizeCanvas=function(){var t,r,n=null!=(t=e.props.canvasProps)?t:{},o=n.width,a=n.height;if(void 0===o||void 0===a){var i=e.getCanvas(),s=Math.max(null!=(r=window.devicePixelRatio)?r:1,1);void 0===o&&(i.width=i.offsetWidth*s),void 0===a&&(i.height=i.offsetHeight*s),i.getContext("2d").scale(s,s),e.clear()}},e.render=function(){var r=e.props.canvasProps;return c.default.createElement("canvas",(0,t.default)({ref:e.setRef},r))},e.on=function(){return window.addEventListener("resize",e._checkClearOnResize),e.getSignaturePad().on()},e.off=function(){return window.removeEventListener("resize",e._checkClearOnResize),e.getSignaturePad().off()},e.clear=function(){return e.getSignaturePad().clear()},e.isEmpty=function(){return e.getSignaturePad().isEmpty()},e.fromDataURL=function(t,r){return e.getSignaturePad().fromDataURL(t,r)},e.toDataURL=function(t,r){return e.getSignaturePad().toDataURL(t,r)},e.fromData=function(t){return e.getSignaturePad().fromData(t)},e.toData=function(){return e.getSignaturePad().toData()},e}return Object.defineProperty(h,"prototype",{writable:!1}),h}(c.Component);x.propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},x.defaultProps={clearOnResize:!0},x.refNullError=Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase."),e.s(["default",()=>x],594422)},695459,e=>{"use strict";let t=(0,e.i(410587).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],695459)},437800,e=>{"use strict";var t=e.i(722679),r=e.i(340915),n=e.i(795988),o=e.i(476817),a=e.i(341695),i=e.i(90613),s=e.i(316264),l=e.i(191569),c=e.i(129432),d=e.i(352776),h=e.i(586145),u=e.i(538892),m=e.i(237635),p=e.i(45778),x=e.i(831833),f=e.i(773510),g=e.i(957114),v=e.i(871561),y=e.i(551544),j=e.i(554369),_=e.i(401148),b=e.i(263229),w=e.i(762074),C=e.i(994500);let F=a.z.object({contact_type:a.z.enum(["legal","tax","compliance","accounting","general","other"]),contact_name:a.z.string().min(1,"Contact name is required"),contact_title:a.z.string().optional(),email:a.z.string().email("Invalid email").optional().or(a.z.literal("")),phone:a.z.string().optional(),address_line_1:a.z.string().optional(),address_line_2:a.z.string().optional(),city:a.z.string().optional(),state_province:a.z.string().optional(),postal_code:a.z.string().optional(),country:a.z.string().optional(),preferred_method:a.z.enum(["email","mail","both"]).optional(),receive_copies:a.z.boolean().optional()}),N=[{value:"legal",label:"Legal"},{value:"tax",label:"Tax"},{value:"compliance",label:"Compliance"},{value:"accounting",label:"Accounting"},{value:"general",label:"General"},{value:"other",label:"Other"}],P=[{value:"email",label:"Email"},{value:"mail",label:"Physical Mail"},{value:"both",label:"Both"}];function T({apiEndpoint:e}){let[a,T]=(0,r.useState)([]),[D,S]=(0,r.useState)(!0),[E,k]=(0,r.useState)(!1),[M,O]=(0,r.useState)(null),[L,R]=(0,r.useState)(!1),[A,z]=(0,r.useState)(null),I=(0,n.useForm)({resolver:(0,o.zodResolver)(F),defaultValues:{contact_type:"general",contact_name:"",contact_title:"",email:"",phone:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"",preferred_method:"email",receive_copies:!0}}),B=async()=>{try{S(!0);let t=await fetch(e);if(!t.ok)throw Error("Failed to fetch contacts");let r=await t.json();T(r.contacts||[])}catch(e){console.error("Error fetching notice contacts:",e),C.toast.error("Failed to load notice contacts")}finally{S(!1)}};(0,r.useEffect)(()=>{B()},[e]);let U=()=>{O(null),I.reset({contact_type:"general",contact_name:"",contact_title:"",email:"",phone:"",address_line_1:"",address_line_2:"",city:"",state_province:"",postal_code:"",country:"",preferred_method:"email",receive_copies:!0}),k(!0)},W=async t=>{try{R(!0);let r=M?`${e}/${M.id}`:e,n=M?"PATCH":"POST",o=await fetch(r,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){let e=await o.json();throw Error(e.error||"Failed to save contact")}C.toast.success(M?"Contact updated":"Contact added"),k(!1),B()}catch(e){console.error("Error saving notice contact:",e),C.toast.error(e instanceof Error?e.message:"Failed to save contact")}finally{R(!1)}},q=async t=>{try{if(!(await fetch(`${e}/${t}`,{method:"DELETE"})).ok)throw Error("Failed to delete contact");C.toast.success("Contact deleted"),z(null),B()}catch(e){console.error("Error deleting notice contact:",e),C.toast.error("Failed to delete contact")}};return D?(0,t.jsx)(i.Card,{children:(0,t.jsx)(i.CardContent,{className:"py-10",children:(0,t.jsx)("div",{className:"flex justify-center items-center",children:(0,t.jsx)(b.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.Bell,{className:"h-5 w-5"}),"Notice Contacts"]}),(0,t.jsx)(i.CardDescription,{children:"Manage contacts who should receive formal notices and communications"})]}),(0,t.jsxs)(s.Button,{onClick:U,children:[(0,t.jsx)(x.Plus,{className:"h-4 w-4 mr-2"}),"Add Contact"]})]}),(0,t.jsx)(i.CardContent,{children:0===a.length?(0,t.jsxs)("div",{className:"border border-dashed rounded-lg py-10 text-center",children:[(0,t.jsx)(_.AlertCircle,{className:"h-10 w-10 text-muted-foreground mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No notice contacts configured"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Add contacts to receive formal notices and communications"}),(0,t.jsxs)(s.Button,{variant:"outline",className:"mt-4",onClick:U,children:[(0,t.jsx)(x.Plus,{className:"h-4 w-4 mr-2"}),"Add First Contact"]})]}):(0,t.jsxs)(m.Table,{children:[(0,t.jsx)(m.TableHeader,{children:(0,t.jsxs)(m.TableRow,{children:[(0,t.jsx)(m.TableHead,{children:"Name"}),(0,t.jsx)(m.TableHead,{children:"Type"}),(0,t.jsx)(m.TableHead,{children:"Contact Info"}),(0,t.jsx)(m.TableHead,{children:"Preferred Method"}),(0,t.jsx)(m.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(m.TableBody,{children:a.map(e=>(0,t.jsxs)(m.TableRow,{children:[(0,t.jsx)(m.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.contact_name}),e.contact_title&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.contact_title})]})}),(0,t.jsx)(m.TableCell,{children:(0,t.jsx)(c.Badge,{className:(e=>{switch(e){case"legal":return"bg-blue-100 text-blue-800";case"tax":return"bg-green-100 text-green-800";case"compliance":return"bg-purple-100 text-purple-800";case"accounting":return"bg-amber-100 text-amber-800";case"general":return"bg-gray-100 text-gray-800";default:return"bg-slate-100 text-slate-800"}})(e.contact_type),children:N.find(t=>t.value===e.contact_type)?.label||e.contact_type})}),(0,t.jsx)(m.TableCell,{children:(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.Mail,{className:"h-3 w-3 text-muted-foreground"}),e.email]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Phone,{className:"h-3 w-3 text-muted-foreground"}),e.phone]}),e.city&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.MapPin,{className:"h-3 w-3 text-muted-foreground"}),e.city,e.country?`, ${e.country}`:""]})]})}),(0,t.jsx)(m.TableCell,{children:(0,t.jsx)(c.Badge,{variant:"outline",children:P.find(t=>t.value===e.preferred_method)?.label||"Email"})}),(0,t.jsx)(m.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{O(e),I.reset({contact_type:e.contact_type,contact_name:e.contact_name,contact_title:e.contact_title||"",email:e.email||"",phone:e.phone||"",address_line_1:e.address_line_1||"",address_line_2:e.address_line_2||"",city:e.city||"",state_province:e.state_province||"",postal_code:e.postal_code||"",country:e.country||"",preferred_method:e.preferred_method||"email",receive_copies:e.receive_copies??!0}),k(!0)},children:(0,t.jsx)(y.Edit,{className:"h-4 w-4"})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>z(e.id),children:(0,t.jsx)(j.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),(0,t.jsx)(d.Dialog,{open:E,onOpenChange:k,children:(0,t.jsxs)(d.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:M?"Edit Notice Contact":"Add Notice Contact"}),(0,t.jsx)(d.DialogDescription,{children:"Configure a contact to receive formal notices and communications"})]}),(0,t.jsx)(h.Form,{...I,children:(0,t.jsxs)("form",{onSubmit:I.handleSubmit(W),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(h.FormField,{control:I.control,name:"contact_type",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Contact Type *"}),(0,t.jsxs)(u.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{placeholder:"Select type"})})}),(0,t.jsx)(u.SelectContent,{children:N.map(e=>(0,t.jsx)(u.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"preferred_method",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Preferred Method"}),(0,t.jsxs)(u.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{placeholder:"Select method"})})}),(0,t.jsx)(u.SelectContent,{children:P.map(e=>(0,t.jsx)(u.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(h.FormMessage,{})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(h.FormField,{control:I.control,name:"contact_name",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Contact Name *"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"John Smith"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"contact_title",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Title"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"General Counsel"})}),(0,t.jsx)(h.FormMessage,{})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(h.FormField,{control:I.control,name:"email",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Email"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,type:"email",placeholder:"john@example.com"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"phone",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Phone"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"+1 (555) 123-4567"})}),(0,t.jsx)(h.FormMessage,{})]})})]}),(0,t.jsx)(h.FormField,{control:I.control,name:"address_line_1",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Address Line 1"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"123 Main Street"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"address_line_2",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Address Line 2"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"Suite 100"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(h.FormField,{control:I.control,name:"city",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"City"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"New York"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"state_province",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"State/Province"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"NY"})}),(0,t.jsx)(h.FormMessage,{})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(h.FormField,{control:I.control,name:"postal_code",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Postal Code"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"10001"})}),(0,t.jsx)(h.FormMessage,{})]})}),(0,t.jsx)(h.FormField,{control:I.control,name:"country",render:({field:e})=>(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"Country"}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(l.Input,{...e,placeholder:"USA"})}),(0,t.jsx)(h.FormMessage,{})]})})]}),(0,t.jsx)(h.FormField,{control:I.control,name:"receive_copies",render:({field:e})=>(0,t.jsxs)(h.FormItem,{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(h.FormLabel,{children:"Receive Copies"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Send copies of all formal notices to this contact"})]}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(p.Switch,{checked:e.value,onCheckedChange:e.onChange})})]})}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,t.jsxs)(s.Button,{type:"submit",disabled:L,children:[L&&(0,t.jsx)(b.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),M?"Update Contact":"Add Contact"]})]})]})})]})}),(0,t.jsx)(d.Dialog,{open:!!A,onOpenChange:()=>z(null),children:(0,t.jsxs)(d.DialogContent,{children:[(0,t.jsxs)(d.DialogHeader,{children:[(0,t.jsx)(d.DialogTitle,{children:"Delete Notice Contact"}),(0,t.jsx)(d.DialogDescription,{children:"Are you sure you want to delete this notice contact? This action cannot be undone."})]}),(0,t.jsxs)(d.DialogFooter,{children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>z(null),children:"Cancel"}),(0,t.jsx)(s.Button,{variant:"destructive",onClick:()=>A&&q(A),children:"Delete"})]})]})})]})}e.s(["NoticeContactsTab",()=>T])},738684,e=>{"use strict";var t=e.i(722679),r=e.i(340915),n=e.i(316264),o=e.i(514133),a=e.i(90613),i=e.i(816654),s=e.i(312692),l=e.i(908925),c=e.i(263229),d=e.i(761722),h=e.i(554369),u=e.i(981218),m=e.i(119311),p=e.i(398472),x=e.i(994500),f=e.i(282141);function g({variant:e="light",className:g}){let v="dark"===e,[y,j]=(0,r.useState)(!1),[_,b]=(0,r.useState)(!1),[w,C]=(0,r.useState)(""),[F,N]=(0,r.useState)(!1),[P,T]=(0,r.useState)(!1),[D,S]=(0,r.useState)(!0),E=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/gdpr/deletion-request"),t=await e.json();e.ok&&t.has_pending&&T(!0)}catch(e){console.error("Error checking pending deletion:",e)}finally{S(!1)}},[]);(0,r.useEffect)(()=>{E()},[E]);let k=async()=>{j(!0);try{let e=await fetch("/api/gdpr/export",{method:"POST"});if(!e.ok)throw Error("Export failed");let t=await e.blob(),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`verso-data-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),n.remove(),x.toast.success("Your data has been exported successfully")}catch(e){console.error("Export error:",e),x.toast.error("Failed to export your data. Please try again.")}finally{j(!1)}},M=async()=>{if(!w||w.length<10)return void x.toast.error("Please provide a reason (at least 10 characters)");if(!F)return void x.toast.error("Please confirm you understand the consequences");b(!0);try{let e=await fetch("/api/gdpr/deletion-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:w,confirm_understood:F})}),t=await e.json();if(!e.ok)throw Error(t.error||"Failed to submit request");x.toast.success("Your deletion request has been submitted and will be reviewed within 30 days."),T(!0),C(""),N(!1)}catch(e){console.error("Deletion request error:",e),x.toast.error(e.message||"Failed to submit deletion request")}finally{b(!1)}};return D?(0,t.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,t.jsxs)("div",{className:(0,f.cn)("space-y-6",g),children:[(0,t.jsxs)(a.Card,{className:(0,f.cn)(v?"bg-white/5 border-white/10":"border-slate-200"),children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Shield,{className:(0,f.cn)("h-5 w-5",v?"text-primary":"text-blue-600")}),(0,t.jsx)(a.CardTitle,{className:v?"text-white":"",children:"Your Data Rights"})]}),(0,t.jsx)(a.CardDescription,{className:v?"text-white/70":"",children:"Under GDPR, you have rights to access, export, and request deletion of your personal data"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:(0,f.cn)("rounded-lg p-4",v?"bg-blue-500/10 border border-blue-500/20":"bg-blue-50 border border-blue-200"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.FileText,{className:(0,f.cn)("h-5 w-5 flex-shrink-0 mt-0.5",v?"text-blue-400":"text-blue-600")}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:(0,f.cn)("font-medium",v?"text-blue-300":"text-blue-900"),children:"About Your Privacy Rights"}),(0,t.jsx)("p",{className:(0,f.cn)("mt-1",v?"text-blue-200/80":"text-blue-700"),children:"As a VERSO user, you have the right to access your data, receive a portable copy, request corrections, and request deletion. All requests are processed within 30 days."}),(0,t.jsxs)("a",{href:"/privacy-policy",target:"_blank",className:(0,f.cn)("inline-flex items-center gap-1 mt-2 text-sm font-medium",v?"text-blue-300 hover:text-blue-200":"text-blue-600 hover:text-blue-700"),children:["View Privacy Policy",(0,t.jsx)(p.ExternalLink,{className:"h-3 w-3"})]})]})]})})})]}),(0,t.jsxs)(a.Card,{className:(0,f.cn)(v?"bg-white/5 border-white/10":""),children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:(0,f.cn)("text-base",v?"text-white":""),children:"Export Your Data"}),(0,t.jsx)(a.CardDescription,{className:v?"text-white/70":"",children:"Download a complete copy of all your personal data stored in our system"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsx)("div",{className:(0,f.cn)("text-sm",v?"text-white/60":"text-muted-foreground"),children:"Includes: Profile information, preferences, activity history, and documents metadata"}),(0,t.jsx)(n.Button,{type:"button",variant:v?"outline":"default",className:(0,f.cn)("shrink-0",v&&"border-white/20 text-white hover:bg-white/10"),onClick:k,disabled:y,children:y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Exporting..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Download,{className:"mr-2 h-4 w-4"}),"Download My Data"]})})]})})]}),(0,t.jsxs)(a.Card,{className:(0,f.cn)(v?"bg-white/5 border-red-500/30":"border-red-200"),children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{className:(0,f.cn)("text-base",v?"text-red-400":"text-red-600"),children:"Request Account Deletion"}),(0,t.jsx)(a.CardDescription,{className:v?"text-white/70":"",children:"Permanently delete your account and all associated data. This action is irreversible."})]}),(0,t.jsx)(a.CardContent,{children:P?(0,t.jsx)("div",{className:(0,f.cn)("rounded-lg border p-4",v?"border-amber-500/30 bg-amber-500/10":"border-amber-300 bg-amber-50"),children:(0,t.jsx)("p",{className:(0,f.cn)("text-sm",v?"text-amber-300":"text-amber-800"),children:"You have a pending deletion request. Our team will review it within 30 days. You will receive an email notification once the review is complete."})}):(0,t.jsxs)(l.AlertDialog,{children:[(0,t.jsx)(l.AlertDialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{type:"button",variant:"destructive",className:"w-full sm:w-auto",children:[(0,t.jsx)(h.Trash2,{className:"mr-2 h-4 w-4"}),"Request Account Deletion"]})}),(0,t.jsxs)(l.AlertDialogContent,{className:v?"bg-zinc-900 border-white/10":"",children:[(0,t.jsxs)(l.AlertDialogHeader,{children:[(0,t.jsx)(l.AlertDialogTitle,{className:v?"text-white":"",children:"Request Account Deletion"}),(0,t.jsx)(l.AlertDialogDescription,{asChild:!0,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:v?"text-white/70":"",children:"This will submit a request to permanently delete your account and all associated data. This action cannot be undone."}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"gdpr-deletion-reason",className:v?"text-white":"",children:"Please tell us why you want to delete your account:"}),(0,t.jsx)(i.Textarea,{id:"gdpr-deletion-reason",placeholder:"Enter your reason (minimum 10 characters)",value:w,onChange:e=>C(e.target.value),className:(0,f.cn)("min-h-[100px]",v&&"bg-white/5 border-white/10 text-white placeholder:text-white/40")})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(s.Checkbox,{id:"gdpr-deletion-confirm",checked:F,onCheckedChange:e=>N(!0===e)}),(0,t.jsx)("label",{htmlFor:"gdpr-deletion-confirm",className:(0,f.cn)("text-sm leading-tight",v?"text-white/70":"text-muted-foreground"),children:"I understand that this will permanently delete my account, all my data, and I will lose access to the platform and all associated documents."})]})]})})]}),(0,t.jsxs)(l.AlertDialogFooter,{children:[(0,t.jsx)(l.AlertDialogCancel,{className:v?"bg-white/10 text-white border-white/20 hover:bg-white/20":"",children:"Cancel"}),(0,t.jsx)(l.AlertDialogAction,{onClick:M,disabled:_||!w||w.length<10||!F,className:"bg-red-600 hover:bg-red-700",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Deletion Request"})]})]})]})})]})]})}e.s(["GDPRControls",()=>g])}]);