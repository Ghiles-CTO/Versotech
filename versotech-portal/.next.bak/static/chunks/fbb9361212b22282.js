(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,398472,e=>{"use strict";let s=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>s],398472)},615870,e=>{"use strict";let s=(0,e.i(410587).default)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);e.s(["Flag",()=>s],615870)},871561,e=>{"use strict";let s=(0,e.i(410587).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>s],871561)},416469,e=>{"use strict";let s=(0,e.i(410587).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>s],416469)},957114,e=>{"use strict";let s=(0,e.i(410587).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],957114)},773510,e=>{"use strict";let s=(0,e.i(410587).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>s],773510)},745083,e=>{"use strict";let s=(0,e.i(410587).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>s],745083)},845323,e=>{"use strict";var s=e.i(144145),a=e.i(567397),t=e.i(925362);function r(e,r){let g,p,j=()=>(0,a.constructFrom)(r?.in,NaN),f=r?.additionalDigits??2,b=function(e){let s,a={},t=e.split(l);if(t.length>2)return a;if(/:/.test(t[0])?s=t[0]:(a.date=t[0],s=t[1],i.test(a.date)&&(a.date=e.split(i)[0],s=e.substr(a.date.length,e.length))),s){let e=n.exec(s);e?(a.time=s.replace(e[1],""),a.timezone=e[1]):a.time=s}return a}(e);if(b.date){let e=function(e,s){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),t=e.match(a);if(!t)return{year:NaN,restDateString:""};let r=t[1]?parseInt(t[1]):null,l=t[2]?parseInt(t[2]):null;return{year:null===l?r:100*l,restDateString:e.slice((t[1]||t[2]).length)}}(b.date,f);g=function(e,s){var a,t,r,l,i,n,d,o,x,g;if(null===s)return new Date(NaN);let p=e.match(c);if(!p)return new Date(NaN);let j=!!p[4],f=m(p[1]),b=m(p[2])-1,N=m(p[3]),v=m(p[4]),y=m(p[5])-1;if(j){let e,n;return(a=v,t=y,a>=1&&a<=53&&t>=0&&t<=6)?(r=s,l=v,i=y,(e=new Date(0)).setUTCFullYear(r,0,4),n=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((l-1)*7+i+1-n)),e):new Date(NaN)}{let e=new Date(0);return(n=s,d=b,o=N,d>=0&&d<=11&&o>=1&&o<=(u[d]||(h(n)?29:28))&&(x=s,(g=f)>=1&&g<=(h(x)?366:365)))?(e.setUTCFullYear(s,b,Math.max(f,N)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!g||isNaN(+g))return j();let N=+g,v=0;if(b.time&&isNaN(v=function(e){var a,t,r;let l=e.match(d);if(!l)return NaN;let i=x(l[1]),n=x(l[2]),c=x(l[3]);return(a=i,t=n,r=c,24===a?0===t&&0===r:r>=0&&r<60&&t>=0&&t<60&&a>=0&&a<25)?i*s.millisecondsInHour+n*s.millisecondsInMinute+1e3*c:NaN}(b.time)))return j();if(b.timezone){if(isNaN(p=function(e){var a;if("Z"===e)return 0;let t=e.match(o);if(!t)return 0;let r="+"===t[1]?-1:1,l=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return(a=i)>=0&&a<=59?r*(l*s.millisecondsInHour+i*s.millisecondsInMinute):NaN}(b.timezone)))return j()}else{let e=new Date(N+v),s=(0,t.toDate)(0,r?.in);return s.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),s.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),s}return(0,t.toDate)(N+v+p,r?.in)}let l=/[T ]/,i=/[Z ]/i,n=/([Z+-].*)$/,c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function m(e){return e?parseInt(e):1}function x(e){return e&&parseFloat(e.replace(",","."))||0}let u=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}e.s(["parseISO",()=>r])},1694,441782,e=>{"use strict";var s=e.i(722679),a=e.i(90613),t=e.i(316264),r=e.i(129432),l=e.i(704477),i=e.i(957114),n=e.i(871561),c=e.i(119311);let d=(0,e.i(410587).default)("id-card",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);e.s(["IdCard",()=>d],441782);var o=e.i(84065),m=e.i(416469),x=e.i(615870),u=e.i(971743),h=e.i(551544),g=e.i(80465),p=e.i(745083),j=e.i(137533),f=e.i(845323);function b(e){if(!e)return"-";try{return(0,j.format)((0,f.parseISO)(e),"MMM d, yyyy")}catch{return e}}function N({icon:e,label:a,value:t,className:r=""}){return(0,s.jsxs)("div",{className:`flex items-start gap-3 ${r}`,children:[e&&(0,s.jsx)(e,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:a}),(0,s.jsx)("div",{className:"text-sm font-medium text-foreground break-words",children:t||"-"})]})]})}function v({icon:e,label:a,value:t}){return(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[e&&(0,s.jsx)(e,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:a}),(0,s.jsx)(r.Badge,{variant:"outline",className:t?"bg-green-500/10 text-green-400 border-green-500/30":"bg-gray-500/10 text-gray-400 border-gray-500/30",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.CheckCircle,{className:"h-3 w-3 mr-1"}),"Yes"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.XCircle,{className:"h-3 w-3 mr-1"}),"No"]})})]})]})}function y({data:e,onEdit:r,showEditButton:g=!0,title:p="Personal KYC Information",className:j="",showPersonalInfo:f=!0,showContact:y=!0,showAddress:C=!0,showTaxInfo:w=!0,showIdentification:_=!0,showProofDates:D=!0}){var A;let k=e.first_name||e.last_name||e.date_of_birth||e.nationality||e.residential_street||e.id_number;return(0,s.jsxs)(a.Card,{className:j,children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-4",children:[(0,s.jsxs)(a.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(l.User,{className:"h-5 w-5"}),p]}),g&&r&&(0,s.jsxs)(t.Button,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[(0,s.jsx)(h.Edit,{className:"h-4 w-4"}),"Edit"]})]}),(0,s.jsx)(a.CardContent,{children:k?(0,s.jsxs)("div",{className:"space-y-6",children:[f&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(l.User,{className:"h-4 w-4"}),"Personal Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsx)(N,{label:"Full Name",value:[e.first_name,e.middle_name,e.last_name,e.name_suffix].filter(Boolean).join(" ")||"-"}),(0,s.jsx)(N,{icon:o.Calendar,label:"Date of Birth",value:b(e.date_of_birth)}),(0,s.jsx)(N,{icon:m.Globe,label:"Nationality",value:e.nationality}),(0,s.jsx)(N,{icon:x.Flag,label:"Country of Birth",value:e.country_of_birth})]})]}),y&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(i.Phone,{className:"h-4 w-4"}),"Contact Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsx)(N,{icon:i.Phone,label:"Mobile",value:e.phone_mobile}),(0,s.jsx)(N,{icon:i.Phone,label:"Office",value:e.phone_office}),e.email&&(0,s.jsx)(N,{label:"Email",value:e.email})]})]}),C&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(n.MapPin,{className:"h-4 w-4"}),"Residential Address"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(N,{label:"Street Address",value:e.residential_street}),(0,s.jsx)(N,{label:"Address Line 2",value:e.residential_line_2}),(0,s.jsx)(N,{label:"City",value:e.residential_city}),(0,s.jsx)(N,{label:"State/Province",value:e.residential_state}),(0,s.jsx)(N,{label:"Postal Code",value:e.residential_postal_code}),(0,s.jsx)(N,{icon:m.Globe,label:"Country",value:e.residential_country})]})]}),w&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(c.FileText,{className:"h-4 w-4"}),"Tax Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsx)(v,{icon:x.Flag,label:"US Citizen",value:e.is_us_citizen}),(0,s.jsx)(v,{icon:u.Building2,label:"US Taxpayer",value:e.is_us_taxpayer}),e.is_us_taxpayer&&(0,s.jsx)(N,{label:"US Taxpayer ID",value:e.us_taxpayer_id}),(0,s.jsx)(N,{icon:m.Globe,label:"Country of Tax Residency",value:e.country_of_tax_residency}),e.tax_id_number&&(0,s.jsx)(N,{label:"Tax ID Number",value:e.tax_id_number})]})]}),_&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(d,{className:"h-4 w-4"}),"Identification Document"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,s.jsx)(N,{icon:d,label:"ID Type",value:(A=e.id_type)?({passport:"Passport",national_id:"National ID",drivers_license:"Driver's License",residence_permit:"Residence Permit"})[A]||A:"-"}),(0,s.jsx)(N,{label:"ID Number",value:e.id_number}),(0,s.jsx)(N,{icon:o.Calendar,label:"Issue Date",value:b(e.id_issue_date)}),(0,s.jsx)(N,{icon:o.Calendar,label:"Expiry Date",value:b(e.id_expiry_date)}),(0,s.jsx)(N,{icon:m.Globe,label:"Issuing Country",value:e.id_issuing_country})]})]}),D&&(e.proof_of_address_date||e.proof_of_address_expiry)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2",children:[(0,s.jsx)(c.FileText,{className:"h-4 w-4"}),"Proof Document Validation"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(N,{icon:o.Calendar,label:"Proof of Address Date",value:b(e.proof_of_address_date)}),(0,s.jsx)(N,{icon:o.Calendar,label:"Proof of Address Expiry",value:b(e.proof_of_address_expiry)})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(l.User,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),(0,s.jsx)("p",{children:"No KYC information available"}),g&&r&&(0,s.jsx)(t.Button,{variant:"outline",size:"sm",onClick:r,className:"mt-4",children:"Add KYC Information"})]})})]})}e.s(["IndividualKycDisplay",()=>y],1694)},295588,e=>{"use strict";let s=(0,e.i(410587).default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["UserX",()=>s],295588)},104548,e=>{"use strict";let s=(0,e.i(410587).default)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);e.s(["Key",()=>s],104548)},91065,e=>{"use strict";e.s(["ALL_COLUMNS",0,["select","user","email","systemRole","title","phone","officeLocation","entities","kyc","createdAt","lastLoginAt","passwordSet","isSuperAdmin","hasSignature","actions"],"DEFAULT_VISIBLE_COLUMNS",0,["select","user","email","systemRole","entities","kyc","lastLoginAt","actions"],"ENTITY_TYPE_CONFIG",0,{investor:{label:"Investor",className:"bg-green-500/20 text-green-400 border-green-500/30"},partner:{label:"Partner",className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"},lawyer:{label:"Lawyer",className:"bg-violet-500/20 text-violet-400 border-violet-500/30"},commercial_partner:{label:"Commercial Partner",className:"bg-teal-500/20 text-teal-400 border-teal-500/30"},introducer:{label:"Introducer",className:"bg-orange-500/20 text-orange-400 border-orange-500/30"},arranger:{label:"Arranger",className:"bg-amber-500/20 text-amber-400 border-amber-500/30"}},"KYC_STATUS_CONFIG",0,{approved:{label:"Approved",className:"text-green-400",icon:"check"},pending:{label:"Pending",className:"text-yellow-400",icon:"clock"},submitted:{label:"Submitted",className:"text-blue-400",icon:"upload"},rejected:{label:"Rejected",className:"text-red-400",icon:"x"},expired:{label:"Expired",className:"text-orange-400",icon:"alert"}},"REQUIRED_COLUMNS",0,["select","user","actions"],"ROLE_BADGE_CONFIG",0,{staff_admin:{label:"Staff Admin",className:"bg-blue-500/20 text-blue-400 border-blue-500/30"},staff_ops:{label:"Staff Ops",className:"bg-blue-500/20 text-blue-400 border-blue-500/30"},staff_rm:{label:"Staff RM",className:"bg-blue-500/20 text-blue-400 border-blue-500/30"},ceo:{label:"CEO",className:"bg-purple-500/20 text-purple-400 border-purple-500/30"},investor:{label:"Investor",className:"bg-green-500/20 text-green-400 border-green-500/30"},partner:{label:"Partner",className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"},lawyer:{label:"Lawyer",className:"bg-violet-500/20 text-violet-400 border-violet-500/30"},introducer:{label:"Introducer",className:"bg-orange-500/20 text-orange-400 border-orange-500/30"},arranger:{label:"Arranger",className:"bg-amber-500/20 text-amber-400 border-amber-500/30"},commercial_partner:{label:"Commercial Partner",className:"bg-teal-500/20 text-teal-400 border-teal-500/30"},multi_persona:{label:"Multi-Role",className:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30"}}])},157380,e=>{"use strict";var s=e.i(722679),a=e.i(340915),t=e.i(820417),r=e.i(603274),l=e.i(994500),i=e.i(90613),n=e.i(316264),c=e.i(129432),d=e.i(74434),o=e.i(908925),m=e.i(396132),x=e.i(773510),u=e.i(957114),h=e.i(871561),g=e.i(84065),p=e.i(645855),j=e.i(104548),f=e.i(981218),b=e.i(818798),N=e.i(971743),v=e.i(398472),y=e.i(263229),C=e.i(80465),w=e.i(745083),_=e.i(619324),D=e.i(35334),A=e.i(295588),k=e.i(1694),T=e.i(91065);let S={investor:"/versotech_main/investors",partner:"/versotech_main/partners",lawyer:"/versotech_main/lawyers",commercial_partner:"/versotech_main/commercial-partners",introducer:"/versotech_main/introducers",arranger:"/versotech_main/arrangers"},I={check:C.CheckCircle,clock:p.Clock,upload:p.Clock,x:w.XCircle,alert:_.AlertTriangle},U={approved:"bg-green-500/20 text-green-400 border-green-500/30",submitted:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",rejected:"bg-red-500/20 text-red-400 border-red-500/30",expired:"bg-orange-500/20 text-orange-400 border-orange-500/30"};function M({status:e}){let a=T.KYC_STATUS_CONFIG[e];if(!a)return null;let t=I[a.icon]||C.CheckCircle,r=U[e]||"bg-gray-500/20 text-gray-400 border-gray-500/30";return(0,s.jsxs)(c.Badge,{variant:"outline",className:r,children:[(0,s.jsx)(t,{className:"h-3 w-3 mr-1"}),"KYC ",a.label]})}function P({user:e,fullKycData:C}){let w=(0,r.useRouter)(),[_,I]=(0,a.useState)(!1),[U,P]=(0,a.useState)(!1),[F,B]=(0,a.useState)(!1),[L,E]=(0,a.useState)(!1),R=T.ROLE_BADGE_CONFIG[e.systemRole]||{label:e.systemRole,className:"bg-gray-500/20 text-gray-400"},O=async()=>{E(!0);try{let s=await fetch(`/api/admin/users/${e.id}/reset-password`,{method:"POST"}),a=await s.json().catch(()=>({}));s.ok&&a?.success?(l.toast.success("Password reset email sent successfully"),I(!1)):l.toast.error(a?.error||"Failed to send password reset email")}catch(e){console.error("Reset password error:",e),l.toast.error("An error occurred while sending password reset email")}finally{E(!1)}},z=async()=>{E(!0);try{let s=await fetch(`/api/admin/users/${e.id}/deactivate`,{method:"PATCH"}),a=await s.json().catch(()=>({}));s.ok&&a?.success?(l.toast.success("User deactivated successfully"),P(!1),w.push("/versotech_main/users")):l.toast.error(a?.error||"Failed to deactivate user")}catch(e){console.error("Deactivate error:",e),l.toast.error("An error occurred while deactivating user")}finally{E(!1)}},$=async()=>{E(!0);try{let s=await fetch(`/api/admin/users/${e.id}/reactivate`,{method:"PATCH"}),a=await s.json().catch(()=>({}));s.ok&&a?.success?(l.toast.success("User reactivated successfully"),B(!1),w.refresh()):l.toast.error(a?.error||"Failed to reactivate user")}catch(e){console.error("Reactivate error:",e),l.toast.error("An error occurred while reactivating user")}finally{E(!1)}};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(t.default,{href:"/versotech_main/users",children:(0,s.jsxs)(n.Button,{variant:"ghost",size:"sm",className:"bg-gray-800 text-white hover:bg-gray-700",children:[(0,s.jsx)(m.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})})})}),(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(d.Avatar,{className:"h-20 w-20",children:[e.avatarUrl&&(0,s.jsx)(d.AvatarImage,{src:e.avatarUrl,alt:e.displayName}),(0,s.jsx)(d.AvatarFallback,{className:"text-xl",children:e.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.CardTitle,{className:"text-2xl flex items-center gap-2",children:[e.displayName,e.isSuperAdmin&&(0,s.jsxs)(c.Badge,{variant:"outline",className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:[(0,s.jsx)(f.Shield,{className:"h-3 w-3 mr-1"}),"Super Admin"]})]}),(0,s.jsx)(i.CardDescription,{className:"text-base mt-1",children:e.title||"No title"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(c.Badge,{variant:"outline",className:R.className,children:R.label}),e.kyc?.status&&T.KYC_STATUS_CONFIG[e.kyc.status]&&(0,s.jsx)(M,{status:e.kyc.status}),e.isDeleted&&(0,s.jsx)(c.Badge,{variant:"destructive",children:"Deactivated"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>window.location.href=`mailto:${e.email}`,children:[(0,s.jsx)(x.Mail,{className:"h-4 w-4 mr-2"}),"Send Email"]}),(0,s.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>I(!0),disabled:e.isDeleted,children:[(0,s.jsx)(j.Key,{className:"h-4 w-4 mr-2"}),"Reset Password"]}),e.isDeleted?(0,s.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>B(!0),className:"border-green-500 text-green-500 hover:bg-green-500/10",children:[(0,s.jsx)(D.UserCheck,{className:"h-4 w-4 mr-2"}),"Reactivate"]}):(0,s.jsxs)(n.Button,{variant:"destructive",size:"sm",onClick:()=>P(!0),children:[(0,s.jsx)(A.UserX,{className:"h-4 w-4 mr-2"}),"Deactivate"]})]})]})}),(0,s.jsx)(i.CardContent,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(x.Mail,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.email})]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(u.Phone,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.phone})]}),e.officeLocation&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(h.MapPin,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.officeLocation})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(g.Calendar,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"text-sm",children:["Joined: ",new Date(e.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,s.jsx)(p.Clock,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"text-sm",children:["Last Active: ",function(e){if(!e)return"Never";let s=new Date(e),a=new Date().getTime()-s.getTime(),t=Math.floor(a/36e5),r=Math.floor(a/864e5);return t<1?"Just now":1===t?"1 hour ago":t<24?`${t} hours ago`:1===r?"Yesterday":r<7?`${r} days ago`:r<30?`${Math.floor(r/7)} weeks ago`:r<365?`${Math.floor(r/30)} months ago`:`${Math.floor(r/365)} years ago`}(e.lastLoginAt)]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.Key,{className:`h-4 w-4 ${e.passwordSet?"text-green-400":"text-muted-foreground/30"}`}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Password: ",e.passwordSet?"Set":"Not Set"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.PenTool,{className:`h-4 w-4 ${e.hasSignature?"text-green-400":"text-muted-foreground/30"}`}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Signature: ",e.hasSignature?"Uploaded":"None"]})]})]}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(N.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.entityCount," ",1===e.entityCount?"Entity":"Entities"]})]})})]})})]}),(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(N.Building2,{className:"h-5 w-5"}),"Entity Associations"]}),(0,s.jsx)(i.CardDescription,{children:"Organizations this user is associated with"})]}),(0,s.jsx)(i.CardContent,{children:0===e.entities.length?(0,s.jsx)("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No entity associations"}):(0,s.jsx)("div",{className:"space-y-3",children:e.entities.map(e=>{let a=T.ENTITY_TYPE_CONFIG[e.type],r=S[e.type];return(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30 hover:bg-muted/50 transition-colors",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.name}),(0,s.jsx)(c.Badge,{variant:"outline",className:`text-xs ${a?.className||""}`,children:a?.label||e.type})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground capitalize",children:e.role}),e.isPrimary&&(0,s.jsx)(c.Badge,{variant:"outline",className:"text-xs py-0 bg-blue-500/10 text-blue-400 border-blue-500/30",children:"Primary"}),e.canSign&&(0,s.jsx)(c.Badge,{variant:"outline",className:"text-xs py-0 bg-green-500/10 text-green-400 border-green-500/30",children:"Can Sign"}),e.approvalStatus&&(0,s.jsx)(c.Badge,{variant:"outline",className:`text-xs py-0 ${"approved"===e.approvalStatus?"bg-green-500/10 text-green-400 border-green-500/30":"pending"===e.approvalStatus?"bg-yellow-500/10 text-yellow-400 border-yellow-500/30":"bg-red-500/10 text-red-400 border-red-500/30"}`,children:e.approvalStatus})]})]})}),r&&(0,s.jsx)(t.default,{href:`${r}/${e.id}`,children:(0,s.jsx)(n.Button,{variant:"ghost",size:"sm",children:(0,s.jsx)(v.ExternalLink,{className:"h-4 w-4"})})})]},`${e.type}-${e.id}`)})})})]}),C?(0,s.jsx)(k.IndividualKycDisplay,{data:C,title:"KYC Personal Information",showEditButton:!1}):(0,s.jsxs)(i.Card,{children:[(0,s.jsxs)(i.CardHeader,{children:[(0,s.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(f.Shield,{className:"h-5 w-5"}),"KYC Personal Information"]}),(0,s.jsx)(i.CardDescription,{children:"Know Your Customer verification status"})]}),(0,s.jsx)(i.CardContent,{children:(0,s.jsx)("p",{className:"text-muted-foreground text-sm py-4 text-center",children:"No KYC data available for this user"})})]}),(0,s.jsx)(o.AlertDialog,{open:_,onOpenChange:I,children:(0,s.jsxs)(o.AlertDialogContent,{children:[(0,s.jsxs)(o.AlertDialogHeader,{children:[(0,s.jsx)(o.AlertDialogTitle,{children:"Reset Password"}),(0,s.jsxs)(o.AlertDialogDescription,{children:["This will send a password reset email to ",(0,s.jsx)("strong",{children:e.email}),". The user will need to click the link in the email to set a new password."]})]}),(0,s.jsxs)(o.AlertDialogFooter,{children:[(0,s.jsx)(o.AlertDialogCancel,{children:"Cancel"}),(0,s.jsx)(o.AlertDialogAction,{onClick:O,disabled:L,children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Email"})]})]})}),(0,s.jsx)(o.AlertDialog,{open:U,onOpenChange:P,children:(0,s.jsxs)(o.AlertDialogContent,{children:[(0,s.jsxs)(o.AlertDialogHeader,{children:[(0,s.jsx)(o.AlertDialogTitle,{children:"Deactivate User"}),(0,s.jsxs)(o.AlertDialogDescription,{children:["Are you sure you want to deactivate ",(0,s.jsx)("strong",{children:e.displayName}),"? This user will no longer be able to access the platform. This action can be reversed by reactivating the user."]})]}),(0,s.jsxs)(o.AlertDialogFooter,{children:[(0,s.jsx)(o.AlertDialogCancel,{children:"Cancel"}),(0,s.jsx)(o.AlertDialogAction,{onClick:z,disabled:L,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Deactivating..."]}):"Deactivate"})]})]})}),(0,s.jsx)(o.AlertDialog,{open:F,onOpenChange:B,children:(0,s.jsxs)(o.AlertDialogContent,{children:[(0,s.jsxs)(o.AlertDialogHeader,{children:[(0,s.jsx)(o.AlertDialogTitle,{children:"Reactivate User"}),(0,s.jsxs)(o.AlertDialogDescription,{children:["Are you sure you want to reactivate ",(0,s.jsx)("strong",{children:e.displayName}),"? This will restore their access to the platform."]})]}),(0,s.jsxs)(o.AlertDialogFooter,{children:[(0,s.jsx)(o.AlertDialogCancel,{children:"Cancel"}),(0,s.jsx)(o.AlertDialogAction,{onClick:$,disabled:L,className:"bg-green-600 text-white hover:bg-green-700",children:L?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Reactivating..."]}):"Reactivate"})]})]})})]})}e.s(["UserDetailClient",()=>P])}]);