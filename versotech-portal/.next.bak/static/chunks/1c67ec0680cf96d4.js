(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56213,e=>{"use strict";var t=e.i(722679),r=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",e),...a})}e.s(["Skeleton",()=>a])},382021,e=>{"use strict";let t=(0,e.i(410587).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>t],382021)},661521,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(362208),s="horizontal",n=["horizontal","vertical"],l=r.forwardRef((e,r)=>{var l;let{decorative:o,orientation:i=s,...d}=e,c=(l=i,n.includes(l))?i:s;return(0,t.jsx)(a.Primitive.div,{"data-orientation":c,...o?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:r})});l.displayName="Separator";var o=e.i(282141);let i=r.forwardRef(({className:e,orientation:r="horizontal",decorative:a=!0,...s},n)=>(0,t.jsx)(l,{ref:n,decorative:a,orientation:r,className:(0,o.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...s}));i.displayName=l.displayName,e.s(["Separator",()=>i],661521)},416469,e=>{"use strict";let t=(0,e.i(410587).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],416469)},90613,e=>{"use strict";var t=e.i(722679),r=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>o,"CardDescription",()=>l,"CardFooter",()=>i,"CardHeader",()=>s,"CardTitle",()=>n])},237635,e=>{"use strict";var t=e.i(722679),r=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function s({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function o({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function i({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>n,"TableCell",()=>i,"TableHead",()=>o,"TableHeader",()=>s,"TableRow",()=>l])},335631,e=>{"use strict";let t,r,a;var s=e.i(722679),n=e.i(340915),l=e.i(679472),o=e.i(886978),i=e.i(47264),d=e.i(938015),c=e.i(636433),u=e.i(679039),m=e.i(798827),p=e.i(45547),h=e.i(222578),x=e.i(873358),f=e.i(362208),v=Symbol("radix.slottable");function g(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===v}var j=e.i(68977),b=e.i(773318),y=e.i(949345),N="Popover",[C,w]=(0,i.createContextScope)(N,[p.createPopperScope]),k=(0,p.createPopperScope)(),[P,S]=C(N),R=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:l,onOpenChange:o,modal:i=!1}=e,d=k(t),c=n.useRef(null),[u,h]=n.useState(!1),[x,f]=(0,j.useControllableState)({prop:a,defaultProp:l??!1,onChange:o,caller:N});return(0,s.jsx)(p.Root,{...d,children:(0,s.jsx)(P,{scope:t,contentId:(0,m.useId)(),triggerRef:c,open:x,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:n.useCallback(()=>h(!0),[]),onCustomAnchorRemove:n.useCallback(()=>h(!1),[]),modal:i,children:r})})};R.displayName=N;var T="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,l=S(T,r),o=k(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=l;return n.useEffect(()=>(i(),()=>d()),[i,d]),(0,s.jsx)(p.Anchor,{...o,...a,ref:t})}).displayName=T;var A="PopoverTrigger",E=n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,n=S(A,r),i=k(r),d=(0,o.useComposedRefs)(t,n.triggerRef),c=(0,s.jsx)(f.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":$(n.open),...a,ref:d,onClick:(0,l.composeEventHandlers)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?c:(0,s.jsx)(p.Anchor,{asChild:!0,...i,children:c})});E.displayName=A;var F="PopoverPortal",[O,_]=C(F,{forceMount:void 0}),B=e=>{let{__scopePopover:t,forceMount:r,children:a,container:n}=e,l=S(F,t);return(0,s.jsx)(O,{scope:t,forceMount:r,children:(0,s.jsx)(x.Presence,{present:r||l.open,children:(0,s.jsx)(h.Portal,{asChild:!0,container:n,children:a})})})};B.displayName=F;var H="PopoverContent",D=n.forwardRef((e,t)=>{let r=_(H,e.__scopePopover),{forceMount:a=r.forceMount,...n}=e,l=S(H,e.__scopePopover);return(0,s.jsx)(x.Presence,{present:a||l.open,children:l.modal?(0,s.jsx)(U,{...n,ref:t}):(0,s.jsx)(z,{...n,ref:t})})});D.displayName=H;var I=((a=n.forwardRef((e,t)=>{let{children:r,...a}=e;if(n.isValidElement(r)){var s;let e,l,i=(s=r,(l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==n.Fragment&&(d.ref=t?(0,o.composeRefs)(t,i):i),n.cloneElement(r,d)}return n.Children.count(r)>1?n.Children.only(null):null})).displayName="PopoverContent.RemoveScroll.SlotClone",t=a,(r=n.forwardRef((e,r)=>{let{children:a,...l}=e,o=n.Children.toArray(a),i=o.find(g);if(i){let e=i.props.children,a=o.map(t=>t!==i?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(t,{...l,ref:r,children:a})})).displayName="PopoverContent.RemoveScroll.Slot",r),U=n.forwardRef((e,t)=>{let r=S(H,e.__scopePopover),a=n.useRef(null),i=(0,o.useComposedRefs)(t,a),d=n.useRef(!1);return n.useEffect(()=>{let e=a.current;if(e)return(0,b.hideOthers)(e)},[]),(0,s.jsx)(y.RemoveScroll,{as:I,allowPinchZoom:!0,children:(0,s.jsx)(M,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,l.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||r.triggerRef.current?.focus()}),onPointerDownOutside:(0,l.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,l.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),z=n.forwardRef((e,t)=>{let r=S(H,e.__scopePopover),a=n.useRef(!1),l=n.useRef(!1);return(0,s.jsx)(M,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),M=n.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:x,...f}=e,v=S(H,r),g=k(r);return(0,c.useFocusGuards)(),(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,s.jsx)(d.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:x,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:(0,s.jsx)(p.Content,{"data-state":$(v.open),role:"dialog",id:v.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose";function $(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,n=S(L,r);return(0,s.jsx)(f.Primitive.button,{type:"button",...a,ref:t,onClick:(0,l.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})}).displayName=L,n.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,n=k(r);return(0,s.jsx)(p.Arrow,{...n,...a,ref:t})}).displayName="PopoverArrow";var V=e.i(282141);function G({...e}){return(0,s.jsx)(R,{"data-slot":"popover",...e})}function W({...e}){return(0,s.jsx)(E,{"data-slot":"popover-trigger",...e})}function X({className:e,align:t="center",sideOffset:r=4,...a}){return(0,s.jsx)(B,{children:(0,s.jsx)(D,{"data-slot":"popover-content",align:t,sideOffset:r,className:(0,V.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 max-w-[calc(100vw-2rem)] origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}e.s(["Popover",()=>G,"PopoverContent",()=>X,"PopoverTrigger",()=>W],335631)},913127,e=>{"use strict";let t=(0,e.i(410587).default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);e.s(["ChevronsUpDown",()=>t],913127)},540318,59531,e=>{"use strict";let t=(0,e.i(410587).default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);e.s(["default",()=>t],59531),e.s(["Handshake",()=>t],540318)},385838,e=>{"use strict";let t=(0,e.i(410587).default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);e.s(["Landmark",()=>t],385838)},266705,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(603274),s=e.i(237635),n=e.i(316264),l=e.i(129432),o=e.i(74434),i=e.i(191569),d=e.i(90613),c=e.i(335631),u=e.i(93502),m=e.i(56213),p=e.i(661521),h=e.i(799359),x=e.i(230112),f=e.i(197098),v=e.i(750809),g=e.i(432598),j=e.i(310556),b=e.i(913127),y=e.i(382021),N=e.i(971743),C=e.i(501259),w=e.i(201495),k=e.i(540318),P=e.i(416469),S=e.i(385838),R=e.i(820417),T=e.i(282141);let A=[{value:"investor",label:"Investor"},{value:"partner",label:"Partner"},{value:"lawyer",label:"Law Firm"},{value:"commercial_partner",label:"Commercial Partner"},{value:"introducer",label:"Introducer"},{value:"arranger",label:"Arranger"}],E={investor:N.Building2,partner:C.Users,lawyer:w.Scale,commercial_partner:k.Handshake,introducer:P.Globe,arranger:S.Landmark},F={investor:"Investor",partner:"Partner",lawyer:"Law Firm",commercial_partner:"Commercial Partner",introducer:"Introducer",arranger:"Arranger"};function O({title:e,options:a,selected:s,onSelect:o,className:i}){let[d,m]=(0,r.useState)(!1);return(0,t.jsxs)(c.Popover,{open:d,onOpenChange:m,children:[(0,t.jsx)(c.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",className:(0,T.cn)("h-9 border-dashed",s.length>0&&"border-primary",i),children:[(0,t.jsx)(y.Filter,{className:"mr-2 h-4 w-4"}),e,s.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Separator,{orientation:"vertical",className:"mx-2 h-4"}),(0,t.jsx)(l.Badge,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:s.length})]}),(0,t.jsx)(b.ChevronsUpDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),(0,t.jsx)(c.PopoverContent,{className:"w-52 p-0",align:"start",children:(0,t.jsxs)(u.Command,{children:[(0,t.jsx)(u.CommandInput,{placeholder:`Search ${e.toLowerCase()}...`}),(0,t.jsxs)(u.CommandList,{children:[(0,t.jsx)(u.CommandEmpty,{children:"No results found."}),(0,t.jsx)(u.CommandGroup,{children:a.map(e=>{let r=s.includes(e.value);return(0,t.jsxs)(u.CommandItem,{onSelect:()=>{var t;return t=e.value,void(s.includes(t)?o(s.filter(e=>e!==t)):o([...s,t]))},children:[(0,t.jsx)("div",{className:(0,T.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",r?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,t.jsx)(j.Check,{className:"h-3 w-3"})}),(0,t.jsx)("span",{children:e.label})]},e.value)})}),s.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.CommandSeparator,{}),(0,t.jsx)(u.CommandGroup,{children:(0,t.jsx)(u.CommandItem,{onSelect:()=>{o([]),m(!1)},className:"justify-center text-center",children:"Clear selection"})})]})]})]})})]})}function _(){return(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,r)=>(0,t.jsx)(d.Card,{children:(0,t.jsx)(d.CardHeader,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(m.Skeleton,{className:"h-10 w-10 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(m.Skeleton,{className:"h-5 w-48"}),(0,t.jsx)(m.Skeleton,{className:"h-4 w-24"})]})]})})},r))})}function B(){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,t.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,t.jsx)(N.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No entities found"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center max-w-sm",children:"No entities match the current filters. Try adjusting your search or filter criteria."})]})}function H({entity:e}){let[a,i]=(0,r.useState)(!1),c=E[e.type];return(0,t.jsx)(h.Collapsible,{open:a,onOpenChange:i,children:(0,t.jsxs)(d.Card,{className:"overflow-hidden",children:[(0,t.jsx)(h.CollapsibleTrigger,{asChild:!0,children:(0,t.jsx)(d.CardHeader,{className:"py-4 cursor-pointer hover:bg-muted/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full bg-muted",children:(0,t.jsx)(c,{className:"h-5 w-5 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.CardTitle,{className:"text-base font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:F[e.type]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.users.length," ",1===e.users.length?"user":"users"]})]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:a?(0,t.jsx)(x.ChevronDown,{className:"h-5 w-5 text-muted-foreground"}):(0,t.jsx)(f.ChevronRight,{className:"h-5 w-5 text-muted-foreground"})})]})})}),(0,t.jsx)(h.CollapsibleContent,{children:(0,t.jsx)(d.CardContent,{className:"pt-0 pb-4",children:(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(s.Table,{children:[(0,t.jsx)(s.TableHeader,{children:(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableHead,{children:"User"}),(0,t.jsx)(s.TableHead,{children:"Email"}),(0,t.jsx)(s.TableHead,{children:"Role"}),(0,t.jsx)(s.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(s.TableBody,{children:e.users.map(e=>(0,t.jsxs)(s.TableRow,{children:[(0,t.jsx)(s.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(o.Avatar,{className:"h-8 w-8",children:[(0,t.jsx)(o.AvatarImage,{src:e.avatarUrl||void 0,alt:e.displayName}),(0,t.jsx)(o.AvatarFallback,{className:"text-xs",children:e.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,t.jsx)(R.default,{href:`/versotech_admin/users/${e.id}`,className:"font-medium hover:underline",children:e.displayName})]})}),(0,t.jsx)(s.TableCell,{className:"text-muted-foreground",children:e.email}),(0,t.jsx)(s.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Badge,{variant:e.isPrimary?"default":"secondary",children:e.isPrimary?"Primary":"Member"}),e.canSign&&(0,t.jsx)(l.Badge,{variant:"outline",children:"Can Sign"})]})}),(0,t.jsx)(s.TableCell,{className:"text-right",children:(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)(R.default,{href:`/versotech_admin/users/${e.id}`,children:"View"})})})]},e.id))})]})})})})]})})}function D(){let e=(0,a.useRouter)(),s=(0,a.usePathname)(),o=(0,a.useSearchParams)(),[c,u]=(0,r.useState)(o.get("search")||""),[m,p]=(0,r.useState)(o.get("type")?.split(",").filter(Boolean)||[]),[h,x]=(0,r.useState)([]),[f,j]=(0,r.useState)(!0),[b,y]=(0,r.useState)(null),N=function(e,t){let[a,s]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let t=setTimeout(()=>{s(e)},300);return()=>{clearTimeout(t)}},[e,300]),a}(c,0),C=N.length>0||m.length>0,w=(0,r.useCallback)(t=>{let r=new URLSearchParams(o.toString());void 0!==t.search&&(t.search?r.set("search",t.search):r.delete("search")),void 0!==t.type&&(t.type.length>0?r.set("type",t.type.join(",")):r.delete("type"));let a=r.toString();e.push(`${s}${a?`?${a}`:""}`)},[s,e,o]),k=(0,r.useCallback)(async()=>{try{j(!0),y(null);let e=new URLSearchParams;N&&e.set("search",N),m.length>0&&e.set("type",m.join(","));let t=await fetch(`/api/admin/entities/users?${e}`),r=await t.json();if(!r.success)throw Error(r.error||"Failed to fetch entities");x(r.data||[])}catch(e){y(e instanceof Error?e.message:"An error occurred")}finally{j(!1)}},[N,m]);(0,r.useEffect)(()=>{k(),w({search:N,type:m})},[N,m]);let P={totalEntities:h.length,totalUsers:h.reduce((e,t)=>e+t.users.length,0),byType:A.map(e=>({type:e.value,label:e.label,count:h.filter(t=>t.type===e.value).length})).filter(e=>e.count>0)};return b?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-destructive",children:"Error loading entities"}),(0,t.jsx)("p",{className:"text-sm text-destructive/80 mt-1",children:b}),(0,t.jsx)(n.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>k(),children:"Try Again"})]})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Users by Entity"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"View users grouped by their entity associations"})]})}),!f&&h.length>0&&(0,t.jsxs)("div",{className:"grid gap-4 grid-cols-2 md:grid-cols-4",children:[(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Entities"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:P.totalEntities})]})}),(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-4",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:P.totalUsers})]})}),P.byType.slice(0,2).map(e=>(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-4",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.label,"s"]}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.count})]})},e.type))]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,t.jsx)(v.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search entities or users...",value:c,onChange:e=>u(e.target.value),className:"pl-9 h-9"}),c&&(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 p-0",onClick:()=>u(""),children:(0,t.jsx)(g.X,{className:"h-4 w-4"})})]}),(0,t.jsx)(O,{title:"Entity Type",options:A,selected:m,onSelect:p})]}),C&&(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>{u(""),p([])},className:"h-9",children:[(0,t.jsx)(g.X,{className:"mr-2 h-4 w-4"}),"Clear filters"]})]}),C&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),N&&(0,t.jsxs)(l.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:['Search: "',N,'"',(0,t.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>u(""),children:(0,t.jsx)(g.X,{className:"h-3 w-3"})})]}),m.map(e=>(0,t.jsxs)(l.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:["Type: ",A.find(t=>t.value===e)?.label||e,(0,t.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>p(m.filter(t=>t!==e)),children:(0,t.jsx)(g.X,{className:"h-3 w-3"})})]},e))]}),f?(0,t.jsx)(_,{}):0===h.length?(0,t.jsx)(B,{}):(0,t.jsxs)("div",{className:"space-y-4",children:[h.map(e=>(0,t.jsx)(H,{entity:e},`${e.type}-${e.id}`)),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground text-center pt-4",children:["Showing ",h.length," ",1===h.length?"entity":"entities"," with ",P.totalUsers," linked users"]})]})]})}e.s(["default",()=>D])}]);