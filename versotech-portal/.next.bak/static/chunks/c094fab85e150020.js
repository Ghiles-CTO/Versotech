(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,496383,e=>{"use strict";let t=(0,e.i(410587).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],496383)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,t="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let t="string"==typeof e?new Date(e):e;return Number.isNaN(t?.getTime?.())?"—":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},360209,e=>{"use strict";let t=(0,e.i(410587).default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);e.s(["Percent",()=>t],360209)},761722,e=>{"use strict";let t=(0,e.i(410587).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],761722)},237635,e=>{"use strict";var t=e.i(722679),s=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})})}function r({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function i({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function d({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>l,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>n])},90613,e=>{"use strict";var t=e.i(722679),s=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>l])},15098,e=>{"use strict";let t=(0,e.i(410587).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],15098)},773510,e=>{"use strict";let t=(0,e.i(410587).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],773510)},49664,e=>{"use strict";let t=(0,e.i(410587).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],49664)},10994,e=>{"use strict";let t=(0,e.i(410587).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],10994)},110686,e=>{"use strict";let t=(0,e.i(410587).default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);e.s(["List",()=>t],110686)},545322,e=>{"use strict";let t=(0,e.i(410587).default)("columns-3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["Columns3",()=>t],545322)},710385,e=>{"use strict";var t=e.i(722679),s=e.i(340915),a=e.i(820417),r=e.i(90613),l=e.i(129432),n=e.i(316264),i=e.i(191569),d=e.i(538892),c=e.i(237635),o=e.i(501259),m=e.i(15098),x=e.i(750809),u=e.i(263229),h=e.i(401148),b=e.i(704477),g=e.i(971743),j=e.i(691974),f=e.i(733179),p=e.i(773510),N=e.i(119311),y=e.i(49664),v=e.i(360209),C=e.i(545322),w=e.i(110686),k=e.i(496383),_=e.i(818798),T=e.i(10994),S=e.i(761722),B=e.i(282141),H=e.i(501495);let U=[{key:"new_lead",label:"New Lead",color:"bg-slate-500",icon:b.User},{key:"interested",label:"Interested",color:"bg-blue-500",icon:k.Eye},{key:"subscribing",label:"Subscribing",color:"bg-purple-500",icon:_.PenTool},{key:"funded",label:"Funded",color:"bg-green-500",icon:T.Wallet},{key:"passed",label:"Passed",color:"bg-gray-400",icon:h.AlertCircle}],D={active:"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",pending:"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700",approved:"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",funded:"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-700",signed:"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-700",committed:"bg-cyan-100 dark:bg-cyan-900/40 text-cyan-800 dark:text-cyan-300 border-cyan-200 dark:border-cyan-700",cancelled:"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700",rejected:"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700",withdrawn:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600"},L=[{label:"All Clients",value:"all"},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}];function E(){let[e,k]=(0,s.useState)(null),[_,T]=(0,s.useState)(null),[E,M]=(0,s.useState)([]),[z,F]=(0,s.useState)({totalClients:0,activeClients:0,totalTransactions:0,totalValue:0,estimatedCommission:0}),[V,$]=(0,s.useState)(!0),[A,O]=(0,s.useState)(!1),[R,P]=(0,s.useState)(null),[I,q]=(0,s.useState)(""),[K,W]=(0,s.useState)("all"),[G,J]=(0,s.useState)("table");(0,s.useEffect)(()=>{!async function(){try{$(!0);let e=await fetch("/api/commercial-partners/me/client-transactions");if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to load client transactions")}let t=await e.json();k(t.partner||null),T(t.placement_agreement||null),M(t.clients||[]),F(t.summary||{totalClients:0,activeClients:0,totalTransactions:0,totalValue:0,estimatedCommission:0}),P(null)}catch(e){console.error("[ClientTransactionsPage] Error:",e),P(e instanceof Error?e.message:"Failed to load client transactions")}finally{$(!1)}}()},[]);let Q=async()=>{if(!A&&!X){O(!0);try{let e=await fetch("/api/commercial-partners/me/clients/export");if(!e.ok){let t=await e.json();throw Error(t.error||"Export failed")}let t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`client-transactions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(e){console.error("Export error:",e),P(e instanceof Error?e.message:"Export failed")}finally{O(!1)}}},X=null===e,Y=E.filter(e=>{let t="all"===K||"active"===K&&e.is_active||"inactive"===K&&!e.is_active,s=!I||e.client_name?.toLowerCase().includes(I.toLowerCase())||e.client_email?.toLowerCase().includes(I.toLowerCase())||e.deal_name?.toLowerCase().includes(I.toLowerCase());return t&&s}),Z=U.reduce((e,t)=>(e[t.key]=Y.filter(e=>e.journey_stage===t.key),e),{});return V?(0,t.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,t.jsx)(u.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,t.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading client transactions..."})]}):R?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(h.AlertCircle,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Error Loading Clients"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:R})]}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Client Transactions"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:e?`Manage clients you've introduced as ${e.name}`:"View and manage all client transactions"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[!X&&e&&(0,t.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:Q,disabled:A||0===E.length,children:[A?(0,t.jsx)(u.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(S.Download,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),_&&(0,t.jsxs)(l.Badge,{variant:"outline",className:"text-green-600 dark:text-green-400 border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/30",children:[(0,t.jsx)(v.Percent,{className:"h-3 w-3 mr-1"}),(_.default_commission_bps/100).toFixed(2),"% Commission"]}),e&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:e.logo_url?(0,t.jsx)("img",{src:e.logo_url,alt:e.name,className:"h-10 w-10 rounded-lg object-cover"}):(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center",children:(0,t.jsx)(g.Building2,{className:"h-5 w-5 text-muted-foreground"})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-2",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(o.Users,{className:"h-4 w-4"}),"Total Clients"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:z.totalClients}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Clients introduced"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-2",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(m.CheckCircle2,{className:"h-4 w-4"}),"Active Clients"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:z.activeClients}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently active"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-2",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(j.Briefcase,{className:"h-4 w-4"}),"Subscriptions"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:z.totalTransactions}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active investments"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-2",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(f.TrendingUp,{className:"h-4 w-4"}),"Total Value"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:(0,H.formatCurrency)(z.totalValue,"USD")}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total commitment"})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{className:"pb-2",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(v.Percent,{className:"h-4 w-4"}),"Est. Commission"]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:(0,H.formatCurrency)(z.estimatedCommission,"USD")}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"On funded deals"})]})]})]}),(0,t.jsx)(r.Card,{children:(0,t.jsx)(r.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search by client name, email, or deal...",value:I,onChange:e=>q(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(d.Select,{value:K,onValueChange:W,children:[(0,t.jsx)(d.SelectTrigger,{className:"w-full md:w-48",children:(0,t.jsx)(d.SelectValue,{placeholder:"Filter by status"})}),(0,t.jsx)(d.SelectContent,{children:L.map(e=>(0,t.jsx)(d.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Button,{variant:"table"===G?"default":"outline",size:"sm",onClick:()=>J("table"),children:[(0,t.jsx)(w.List,{className:"h-4 w-4 mr-1"}),"Table"]}),(0,t.jsxs)(n.Button,{variant:"buckets"===G?"default":"outline",size:"sm",onClick:()=>J("buckets"),children:[(0,t.jsx)(C.Columns3,{className:"h-4 w-4 mr-1"}),"Buckets"]})]})]})})}),"table"===G&&(0,t.jsxs)(r.Card,{children:[(0,t.jsxs)(r.CardHeader,{children:[(0,t.jsx)(r.CardTitle,{children:"Client Transactions"}),(0,t.jsxs)(r.CardDescription,{children:[Y.length," transaction",1!==Y.length?"s":""," found"]})]}),(0,t.jsx)(r.CardContent,{children:0===Y.length?(0,t.jsxs)("div",{className:"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2",children:[(0,t.jsx)(o.Users,{className:"h-10 w-10 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:I||"all"!==K?"No clients match your filters":e?"No clients introduced yet":"No client transactions found"})]}):(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(c.Table,{children:[(0,t.jsx)(c.TableHeader,{children:(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableHead,{children:"Client"}),(0,t.jsx)(c.TableHead,{children:"Deal"}),(0,t.jsx)(c.TableHead,{children:"Investment"}),(0,t.jsx)(c.TableHead,{children:"Stage"}),(0,t.jsx)(c.TableHead,{children:"Est. Commission"}),(0,t.jsx)(c.TableHead,{children:"Actions"})]})}),(0,t.jsx)(c.TableBody,{children:Y.map(e=>(0,t.jsxs)(c.TableRow,{children:[(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(b.User,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.client_name}),e.client_email&&(0,t.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(p.Mail,{className:"h-3 w-3"}),e.client_email]})]})]})}),(0,t.jsx)(c.TableCell,{children:e.deal_name?(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(j.Briefcase,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:e.deal_name}),e.deal_status&&(0,t.jsx)(l.Badge,{variant:"outline",className:"text-xs ml-1",children:e.deal_status})]}):(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"No deal"})}),(0,t.jsx)(c.TableCell,{children:e.subscription_amount?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:(0,H.formatCurrency)(e.subscription_amount,"USD")}),e.subscription_status&&(0,t.jsx)(l.Badge,{variant:"outline",className:(0,B.cn)("text-xs capitalize mt-1",D[e.subscription_status]||""),children:e.subscription_status})]}):(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"No subscription"})}),(0,t.jsx)(c.TableCell,{children:U.find(t=>t.key===e.journey_stage)&&(0,t.jsx)(l.Badge,{className:(0,B.cn)("text-white",U.find(t=>t.key===e.journey_stage)?.color),children:U.find(t=>t.key===e.journey_stage)?.label})}),(0,t.jsx)(c.TableCell,{children:e.estimated_commission?(0,t.jsxs)("div",{className:"text-sm font-medium text-purple-600",children:[(0,H.formatCurrency)(e.estimated_commission,"USD"),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground ml-1",children:["(",(e.commission_rate_bps||0)/100,"%)"]})]}):(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}),(0,t.jsx)(c.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[e.deal_id&&e.has_termsheet&&(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",asChild:!0,title:"View Termsheet",children:(0,t.jsx)(a.default,{href:`/versotech_main/opportunities/${e.deal_id}`,children:(0,t.jsx)(N.FileText,{className:"h-4 w-4"})})}),e.deal_id&&e.has_dataroom_access&&(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",asChild:!0,title:"Access Dataroom",children:(0,t.jsx)(a.default,{href:`/versotech_main/opportunities/${e.deal_id}?tab=data-room${e.investor_id?`&client_investor_id=${e.investor_id}`:""}`,children:(0,t.jsx)(y.FolderOpen,{className:"h-4 w-4"})})})]})})]},e.id))})]})})})]}),"buckets"===G&&(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:U.map(e=>{let s=e.icon,i=Z[e.key]||[],d=i.reduce((e,t)=>e+(t.subscription_amount||0),0);return(0,t.jsxs)(r.Card,{className:"flex flex-col",children:[(0,t.jsxs)(r.CardHeader,{className:(0,B.cn)("pb-2",e.color,"text-white rounded-t-lg"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"h-4 w-4"}),(0,t.jsx)(r.CardTitle,{className:"text-sm",children:e.label})]}),(0,t.jsx)(l.Badge,{variant:"secondary",className:"bg-white/20 text-white",children:i.length})]}),d>0&&(0,t.jsx)("p",{className:"text-xs text-white/80 mt-1",children:(0,H.formatCurrency)(d,"USD")})]}),(0,t.jsx)(r.CardContent,{className:"flex-1 pt-4 space-y-2 min-h-[200px] max-h-[400px] overflow-y-auto",children:0===i.length?(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No clients in this stage"}):i.map(e=>(0,t.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg border border-border hover:bg-muted transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(b.User,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm font-medium truncate",children:e.client_name})]}),e.deal_name&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate mb-1",children:e.deal_name}),e.subscription_amount?(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-medium",children:(0,H.formatCurrency)(e.subscription_amount,"USD")}),(0,t.jsx)(l.Badge,{variant:"outline",className:(0,B.cn)("text-xs",D[e.subscription_status||""]||""),children:e.subscription_status})]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"No subscription"}),e.deal_id&&(0,t.jsxs)("div",{className:"flex gap-1 mt-2",children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",asChild:!0,children:(0,t.jsxs)(a.default,{href:`/versotech_main/opportunities/${e.deal_id}`,children:[(0,t.jsx)(N.FileText,{className:"h-3 w-3 mr-1"}),"Deal"]})}),(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",asChild:!0,children:(0,t.jsxs)(a.default,{href:`/versotech_main/opportunities/${e.deal_id}?tab=data-room${e.investor_id?`&client_investor_id=${e.investor_id}`:""}`,children:[(0,t.jsx)(y.FolderOpen,{className:"h-3 w-3 mr-1"}),"Files"]})})]})]},e.id))})]},e.key)})})]})}e.s(["default",()=>E])}]);