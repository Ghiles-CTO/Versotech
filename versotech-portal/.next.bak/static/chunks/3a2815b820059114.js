(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,496383,e=>{"use strict";let t=(0,e.i(410587).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],496383)},398472,e=>{"use strict";let t=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],398472)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,t="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let t="string"==typeof e?new Date(e):e;return Number.isNaN(t?.getTime?.())?"—":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},80289,e=>{"use strict";var t=e.i(722679),r=e.i(340915),s=e.i(414846),n=e.i(282141);let i=(0,s.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),a=r.forwardRef(({className:e,variant:r,...s},a)=>(0,t.jsx)("div",{ref:a,role:"alert",className:(0,n.cn)(i({variant:r}),e),...s}));a.displayName="Alert";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));o.displayName="AlertTitle";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...r}));l.displayName="AlertDescription",e.s(["Alert",()=>a,"AlertDescription",()=>l,"AlertTitle",()=>o])},360209,e=>{"use strict";let t=(0,e.i(410587).default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);e.s(["Percent",()=>t],360209)},931105,e=>{"use strict";function t(e,t){if(null==e)return{};var r={};for(var s in e)if(({}).hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;r[s]=e[s]}return r}e.s(["default",()=>t])},849809,e=>{"use strict";function t(e,r){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,r)}e.s(["default",()=>t])},342102,e=>{"use strict";function t(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.s(["default",()=>t])},181742,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},846812,(e,t,r)=>{"use strict";var s=e.r(181742);function n(){}function i(){}i.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,i,a){if(a!==s){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:n};return r.PropTypes=r,r}},350627,(e,t,r)=>{t.exports=e.r(846812)()},74329,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}e.s(["default",()=>t])},763388,(e,t,r)=>{e.e,t.exports=function(){var e=[function(e,t){"use strict";function r(e,t,r,s){return({red:s[4*(r*t+e)],green:s[4*(r*t+e)+1],blue:s[4*(r*t+e)+2],alpha:s[4*(r*t+e)+3]}).alpha}function s(e,t,s,n){for(var i=e?1:-1,a=e?0:s-1,o=a;e?o<s:o>-1;o+=i)for(var l=0;l<t;l++)if(r(l,o,t,n))return o;return null}function n(e,t,s,n){for(var i=e?1:-1,a=e?0:t-1,o=a;e?o<t:o>-1;o+=i)for(var l=0;l<s;l++)if(r(o,l,t,n))return o;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext("2d"),r=e.width,i=e.height,a=t.getImageData(0,0,r,i).data,o=s(!0,r,i,a),l=s(!1,r,i,a),c=n(!0,r,i,a),d=n(!1,r,i,a)-c+1,u=l-o+1,h=t.getImageData(c,o,d,u);return e.width=d,e.height=u,t.clearRect(0,0,d,u),t.putImageData(h,0,0),e}}];function t(s){if(r[s])return r[s].exports;var n=r[s]={exports:{},id:s,loaded:!1};return e[s].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}()},594422,e=>{"use strict";var t=e.i(74329),r=e.i(931105);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=e.i(849809);function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}var o=e.i(342102),l=e.i(350627),c=e.i(340915);function d(e,t,r){this.x=e,this.y=t,this.time=r||new Date().getTime()}function u(e,t,r,s){this.startPoint=e,this.control1=t,this.control2=r,this.endPoint=s}function h(e,t){var r,s,n,i,a,o,l,c,d,u=this,m=t||{};(this.velocityFilterWeight=m.velocityFilterWeight||.7,this.minWidth=m.minWidth||.5,this.maxWidth=m.maxWidth||2.5,this.throttle="throttle"in m?m.throttle:16,this.minDistance="minDistance"in m?m.minDistance:5,this.throttle)?this._strokeMoveUpdate=(r=h.prototype._strokeUpdate,s=this.throttle,l=null,c=0,n||(n={}),d=function(){c=!1===n.leading?0:Date.now(),l=null,o=r.apply(i,a),l||(i=a=null)},function(){var e=Date.now();c||!1!==n.leading||(c=e);var t=s-(e-c);return i=this,a=arguments,t<=0||t>s?(l&&(clearTimeout(l),l=null),c=e,o=r.apply(i,a),l||(i=a=null)):l||!1===n.trailing||(l=setTimeout(d,t)),o}):this._strokeMoveUpdate=h.prototype._strokeUpdate,this.dotSize=m.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=m.penColor||"black",this.backgroundColor=m.backgroundColor||"rgba(0,0,0,0)",this.onBegin=m.onBegin,this.onEnd=m.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(u._mouseButtonDown=!0,u._strokeBegin(e))},this._handleMouseMove=function(e){u._mouseButtonDown&&u._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&u._mouseButtonDown&&(u._mouseButtonDown=!1,u._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];u._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];u._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===u._canvas&&(e.preventDefault(),u._strokeEnd(e))},this.on()}d.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},d.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},d.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},u.prototype.length=function(){for(var e=0,t=void 0,r=void 0,s=0;s<=10;s+=1){var n=s/10,i=this._point(n,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this._point(n,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){var o=i-t,l=a-r;e+=Math.sqrt(o*o+l*l)}t=i,r=a}return e},u.prototype._point=function(e,t,r,s,n){return t*(1-e)*(1-e)*(1-e)+3*r*(1-e)*(1-e)*e+3*s*(1-e)*e*e+n*e*e*e},h.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},h.prototype.fromDataURL=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new Image,n=r.ratio||window.devicePixelRatio||1,i=r.width||this._canvas.width/n,a=r.height||this._canvas.height/n;this._reset(),s.src=e,s.onload=function(){t._ctx.drawImage(s,0,0,i,a)},this._isEmpty=!1},h.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var r=arguments.length,s=Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];return(t=this._canvas).toDataURL.apply(t,[e].concat(s))},h.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},h.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},h.prototype.isEmpty=function(){return this._isEmpty},h.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},h.prototype._strokeUpdate=function(e){var t=e.clientX,r=e.clientY,s=this._createPoint(t,r),n=this._data[this._data.length-1],i=n&&n[n.length-1],a=i&&s.distanceTo(i)<this.minDistance;if(!(i&&a)){var o=this._addPoint(s),l=o.curve,c=o.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:s.x,y:s.y,time:s.time,color:this.penColor})}},h.prototype._strokeEnd=function(e){var t=this.points.length>2,r=this.points[0];if(!t&&r&&this._drawDot(r),r){var s=this._data[this._data.length-1],n=s[s.length-1];r.equals(n)||s.push({x:r.x,y:r.y,time:r.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},h.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},h.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},h.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},h.prototype._createPoint=function(e,t,r){var s=this._canvas.getBoundingClientRect();return new d(e-s.left,t-s.top,r||new Date().getTime())},h.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var r=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,s=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,n=new u(t[1],r,s,t[2]),i=this._calculateCurveWidths(n);return t.shift(),{curve:n,widths:i}}return{}},h.prototype._calculateCurveControlPoints=function(e,t,r){var s=e.x-t.x,n=e.y-t.y,i=t.x-r.x,a=t.y-r.y,o={x:(e.x+t.x)/2,y:(e.y+t.y)/2},l={x:(t.x+r.x)/2,y:(t.y+r.y)/2},c=Math.sqrt(s*s+n*n),u=Math.sqrt(i*i+a*a),h=o.x-l.x,m=o.y-l.y,x=u/(c+u),g={x:l.x+h*x,y:l.y+m*x},p=t.x-g.x,f=t.y-g.y;return{c1:new d(o.x+p,o.y+f),c2:new d(l.x+p,l.y+f)}},h.prototype._calculateCurveWidths=function(e){var t=e.startPoint,r=e.endPoint,s={start:null,end:null},n=this.velocityFilterWeight*r.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(n);return s.start=this._lastWidth,s.end=i,this._lastVelocity=n,this._lastWidth=i,s},h.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},h.prototype._drawPoint=function(e,t,r){var s=this._ctx;s.moveTo(e,t),s.arc(e,t,r,0,2*Math.PI,!1),this._isEmpty=!1},h.prototype._drawCurve=function(e,t,r){var s=this._ctx,n=r-t,i=Math.floor(e.length());s.beginPath();for(var a=0;a<i;a+=1){var o=a/i,l=o*o,c=l*o,d=1-o,u=d*d,h=u*d,m=h*e.startPoint.x;m+=3*u*o*e.control1.x+3*d*l*e.control2.x+c*e.endPoint.x;var x=h*e.startPoint.y;x+=3*u*o*e.control1.y+3*d*l*e.control2.y+c*e.endPoint.y;var g=t+c*n;this._drawPoint(m,x,g)}s.closePath(),s.fill()},h.prototype._drawDot=function(e){var t=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,r),t.closePath(),t.fill()},h.prototype._fromData=function(e,t,r){for(var s=0;s<e.length;s+=1){var n=e[s];if(n.length>1)for(var i=0;i<n.length;i+=1){var a=n[i],o=new d(a.x,a.y,a.time),l=a.color;if(0===i)this.penColor=l,this._reset(),this._addPoint(o);else if(i!==n.length-1){var c=this._addPoint(o),u=c.curve,h=c.widths;u&&h&&t(u,h,l)}}else this._reset(),r(n[0])}},h.prototype._toSVG=function(){var e=this,t=this._data,r=this._canvas,s=Math.max(window.devicePixelRatio||1,1),n=r.width/s,i=r.height/s,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"width",r.width),a.setAttributeNS(null,"height",r.height),this._fromData(t,function(e,t,r){var s=document.createElement("path");if(!isNaN(e.control1.x)&&!isNaN(e.control1.y)&&!isNaN(e.control2.x)&&!isNaN(e.control2.y)){var n="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" "+("C "+e.control1.x.toFixed(3)+",")+e.control1.y.toFixed(3)+" "+(e.control2.x.toFixed(3)+",")+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);s.setAttribute("d",n),s.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),s.setAttribute("stroke",r),s.setAttribute("fill","none"),s.setAttribute("stroke-linecap","round"),a.appendChild(s)}},function(t){var r=document.createElement("circle"),s="function"==typeof e.dotSize?e.dotSize():e.dotSize;r.setAttribute("r",s),r.setAttribute("cx",t.x),r.setAttribute("cy",t.y),r.setAttribute("fill",t.color),a.appendChild(r)});var o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="0 0 '+n+" ")+i+'" width="'+n+'" height="'+i+'">',l=a.innerHTML;if(void 0===l){var c=document.createElement("dummy"),d=a.childNodes;c.innerHTML="";for(var u=0;u<d.length;u+=1)c.appendChild(d[u].cloneNode(!0));l=c.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+l+"</svg>")},h.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,r){return t._drawCurve(e,r.start,r.end)},function(e){return t._drawDot(e)}),this._data=e},h.prototype.toData=function(){return this._data};var m=e.i(763388),x=["canvasProps","clearOnResize"],g=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");u.prototype=Object.create(e&&e.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),e&&(0,n.default)(u,e);var l,d=(l=a(),function(){var e,t=i(u);e=l?Reflect.construct(t,arguments,i(this).constructor):t.apply(this,arguments);if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return(0,o.default)(this)});function u(){var e;if(!(this instanceof u))throw TypeError("Cannot call a class as a function");for(var s=arguments.length,n=Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=d.call.apply(d,[this].concat(n))).staticThis=e.constructor,e._sigPad=null,e._canvas=null,e.setRef=function(t){e._canvas=t,null===e._canvas&&(e._sigPad=null)},e._excludeOurProps=function(){var t=e.props;return t.canvasProps,t.clearOnResize,function(e,t){if(null==e)return{};var s,n,i=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&({}).propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}(t,x)},e.componentDidMount=function(){var t=e.getCanvas();e._sigPad=new h(t,e._excludeOurProps()),e._resizeCanvas(),e.on()},e.componentWillUnmount=function(){e.off()},e.componentDidUpdate=function(){Object.assign(e._sigPad,e._excludeOurProps())},e.getCanvas=function(){if(null===e._canvas)throw e.staticThis.refNullError;return e._canvas},e.getTrimmedCanvas=function(){var t=e.getCanvas(),r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0),(0,m.default)(r)},e.getSignaturePad=function(){if(null===e._sigPad)throw e.staticThis.refNullError;return e._sigPad},e._checkClearOnResize=function(){e.props.clearOnResize&&e._resizeCanvas()},e._resizeCanvas=function(){var t,r,s=null!=(t=e.props.canvasProps)?t:{},n=s.width,i=s.height;if(void 0===n||void 0===i){var a=e.getCanvas(),o=Math.max(null!=(r=window.devicePixelRatio)?r:1,1);void 0===n&&(a.width=a.offsetWidth*o),void 0===i&&(a.height=a.offsetHeight*o),a.getContext("2d").scale(o,o),e.clear()}},e.render=function(){var r=e.props.canvasProps;return c.default.createElement("canvas",(0,t.default)({ref:e.setRef},r))},e.on=function(){return window.addEventListener("resize",e._checkClearOnResize),e.getSignaturePad().on()},e.off=function(){return window.removeEventListener("resize",e._checkClearOnResize),e.getSignaturePad().off()},e.clear=function(){return e.getSignaturePad().clear()},e.isEmpty=function(){return e.getSignaturePad().isEmpty()},e.fromDataURL=function(t,r){return e.getSignaturePad().fromDataURL(t,r)},e.toDataURL=function(t,r){return e.getSignaturePad().toDataURL(t,r)},e.fromData=function(t){return e.getSignaturePad().fromData(t)},e.toData=function(){return e.getSignaturePad().toData()},e}return Object.defineProperty(u,"prototype",{writable:!1}),u}(c.Component);g.propTypes={velocityFilterWeight:l.default.number,minWidth:l.default.number,maxWidth:l.default.number,minDistance:l.default.number,dotSize:l.default.oneOfType([l.default.number,l.default.func]),penColor:l.default.string,throttle:l.default.number,onEnd:l.default.func,onBegin:l.default.func,canvasProps:l.default.object,clearOnResize:l.default.bool},g.defaultProps={clearOnResize:!0},g.refNullError=Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase."),e.s(["default",()=>g],594422)},896816,e=>{"use strict";let t=(0,e.i(410587).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["PenLine",()=>t],896816)},470828,462795,e=>{"use strict";var t=e.i(722679),r=e.i(340915),s=e.i(316264),n=e.i(90613),i=e.i(263229),a=e.i(780),o=e.i(594422);function l({onSignatureCapture:e,signerName:l,signerEmail:c,isSubmitting:d=!1}){let u=(0,r.useRef)(null),[h,m]=(0,r.useState)(!1),x=async()=>{if(!u.current||u.current.isEmpty())return;let t=u.current.getTrimmedCanvas().toDataURL("image/png");await e(t)};return(0,t.jsxs)(n.Card,{className:"h-full",children:[(0,t.jsxs)(n.CardHeader,{children:[(0,t.jsx)(n.CardTitle,{children:"Sign Document"}),(0,t.jsx)(n.CardDescription,{children:"Draw your signature below to execute this document"})]}),(0,t.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Signing as:"}),(0,t.jsxs)("div",{className:"rounded-lg bg-muted p-3",children:[(0,t.jsx)("p",{className:"font-semibold",children:l}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:c})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"Your Signature"}),(0,t.jsx)("div",{className:"border-2 border-border rounded-lg bg-white dark:bg-zinc-100 overflow-hidden",children:(0,t.jsx)(o.default,{ref:u,canvasProps:{className:"w-full cursor-crosshair",style:{width:"100%",height:"192px"}},penColor:"black",backgroundColor:"white",onEnd:()=>{u.current&&!u.current.isEmpty()&&m(!0)}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Draw your signature using your mouse or touchscreen"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsxs)(s.Button,{variant:"outline",onClick:()=>{u.current&&(u.current.clear(),m(!1))},disabled:!h||d,className:"flex-1",children:[(0,t.jsx)(a.RotateCcw,{className:"h-4 w-4 mr-2"}),"Clear"]}),(0,t.jsx)(s.Button,{onClick:x,disabled:!h||d,className:"flex-1",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Signature"})]})]})]})}e.s(["SignatureCanvasWidget",()=>l],470828);var c=e.i(119311),d=e.i(398472);function u({pdfUrl:e,documentName:r}){return(0,t.jsxs)(n.Card,{className:"h-full",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.FileText,{className:"h-5 w-5"}),(0,t.jsx)(n.CardTitle,{className:"text-lg",children:r})]}),(0,t.jsx)(s.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:["Open in New Tab",(0,t.jsx)(d.ExternalLink,{className:"h-4 w-4 ml-2"})]})})]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsx)("div",{className:"border rounded-lg bg-gray-50 overflow-hidden",style:{height:"600px"},children:(0,t.jsx)("iframe",{src:e,className:"w-full h-full",title:r})})})]})}e.s(["InlinePdfViewer",()=>u],462795)},666233,e=>{"use strict";var t=e.i(722679),r=e.i(340915),s=e.i(603274),n=e.i(59178),i=e.i(90613),a=e.i(129432),o=e.i(316264),l=e.i(429760),c=e.i(80289),d=e.i(15098),u=e.i(645855),h=e.i(401148),m=e.i(711819),x=e.i(501259),g=e.i(773510),p=e.i(84065),f=e.i(619324),v=e.i(396132),y=e.i(137533),j=e.i(470828),_=e.i(462795);function b({userId:e,signatureGroups:b,stats:w}){let N=(0,s.useRouter)(),[C,k]=(0,r.useState)("countersignatures"),[T,P]=(0,r.useState)(null),[S,E]=(0,r.useState)({active:!1,task:null,signatureRequest:null,token:null}),[D,M]=(0,r.useState)(!1),[O,R]=(0,r.useState)(null),A=async e=>{if(!e.instructions?.action_url)return void R("No signature URL available");let t=(e=>{let t=e.match(/[?&]token=([^&]+)/);if(t)return t[1];let r=e.match(/\/sign\/([^\/\?]+)/);return r?r[1]:null})(e.instructions.action_url);if(!t)return void R("Invalid signature URL");P(e.id),R(null);try{let r=await fetch(`/api/signature/${t}`);if(!r.ok){if(410===r.status)throw Error('This signature request has expired. Please check the "Expired" tab or resend the signature request.');if(400===r.status){let e=await r.json().catch(()=>({}));throw Error(e.error||"This signature request is no longer valid.")}if(404===r.status)throw Error("Signature request not found. It may have been deleted or never created.");throw Error("Failed to fetch signature request")}let s=await r.json();E({active:!0,task:e,signatureRequest:s,token:t}),await fetch("/api/tasks",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,status:"in_progress",started_at:new Date().toISOString()})})}catch(e){console.error("Error entering signing mode:",e),R(e instanceof Error?e.message:"Failed to load signature request")}finally{P(null)}},U=()=>{E({active:!1,task:null,signatureRequest:null,token:null}),R(null)},B=async e=>{if(S.signatureRequest&&S.token){M(!0),R(null);try{let t=await fetch("/api/signature/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:S.token,signature_data_url:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to submit signature")}U(),N.refresh()}catch(e){console.error("Error submitting signature:",e),R(e instanceof Error?e.message:"Failed to submit signature")}finally{M(!1)}}};(0,r.useEffect)(()=>{let t=(0,n.createClient)().channel("versosign_tasks").on("postgres_changes",{event:"UPDATE",schema:"public",table:"tasks",filter:`owner_user_id=eq.${e}`},e=>{console.log("Task updated:",e),N.refresh()}).on("postgres_changes",{event:"INSERT",schema:"public",table:"tasks",filter:`owner_user_id=eq.${e}`},e=>{console.log("New task created:",e),N.refresh()}).subscribe();return()=>{t.unsubscribe()}},[e,N]);let L=async e=>{let t=`
Investor: ${e.metadata?.investor_name||"Unknown"}
Email: ${e.instructions?.investor_email||"Not available"}
Signature URL: ${e.instructions?.action_url||"Not available"}

Action Required: ${e.instructions?.action_required||"Send signature link to investor"}
    `;await navigator.clipboard.writeText(t),alert("Follow-up details copied to clipboard!"),P(e.id);try{(await fetch("/api/tasks",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,status:"in_progress",started_at:new Date().toISOString()})})).ok||console.error("Failed to update task status")}catch(e){console.error("Error updating task:",e)}finally{P(null)}};if(S.active&&S.task&&S.signatureRequest){let e=S.signatureRequest.unsigned_pdf_url||S.signatureRequest.google_drive_url;return(0,t.jsxs)("div",{className:"container mx-auto py-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)(o.Button,{variant:"ghost",onClick:U,className:"mb-4",children:[(0,t.jsx)(v.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Tasks"]}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-2",children:S.task.title}),(0,t.jsx)("p",{className:"text-muted-foreground",children:S.task.description})]}),O&&(0,t.jsxs)(c.Alert,{className:"mb-6 border-red-200 bg-red-50",children:[(0,t.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)(c.AlertTitle,{className:"text-red-900",children:"Error"}),(0,t.jsx)(c.AlertDescription,{className:"text-red-700",children:O})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e&&(0,t.jsx)(_.InlinePdfViewer,{pdfUrl:e,documentName:S.task.title}),(0,t.jsx)(j.SignatureCanvasWidget,{onSignatureCapture:B,signerName:S.signatureRequest.signer_name,signerEmail:S.signatureRequest.signer_email,isSubmitting:D})]})]})}return(0,t.jsxs)("div",{className:"container mx-auto py-6",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"VersoSign"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Document signature management and countersigning"})]}),O&&(0,t.jsxs)(c.Alert,{className:"mb-6 border-red-200 bg-red-50",children:[(0,t.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)(c.AlertTitle,{className:"text-red-900",children:"Error"}),(0,t.jsx)(c.AlertDescription,{className:"text-red-700",children:O})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Pending Signatures"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:w.pending}),w.pending>0&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting action"})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:w.in_progress}),w.in_progress>0&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently signing"})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Completed Today"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:w.completed_today}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Signed today"})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Overdue"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:w.overdue}),w.overdue>0&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Need immediate attention"})]})]})]}),w.overdue>0&&(0,t.jsxs)(c.Alert,{className:"mb-6 border-red-200 bg-red-50",children:[(0,t.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)(c.AlertTitle,{className:"text-red-900",children:"Overdue Signatures"}),(0,t.jsxs)(c.AlertDescription,{className:"text-red-700",children:["You have ",w.overdue," overdue signature",1!==w.overdue?"s":""," requiring immediate attention."]})]}),(0,t.jsxs)(l.Tabs,{value:C,onValueChange:k,children:[(0,t.jsxs)(l.TabsList,{className:"mb-6",children:[(0,t.jsxs)(l.TabsTrigger,{value:"countersignatures",children:[(0,t.jsx)(m.FileSignature,{className:"h-4 w-4 mr-2"}),"Countersignatures",(b.find(e=>"countersignatures"===e.category)?.tasks.length||0)>0&&(0,t.jsx)(a.Badge,{className:"ml-2",variant:"secondary",children:b.find(e=>"countersignatures"===e.category)?.tasks.length||0})]}),(0,t.jsxs)(l.TabsTrigger,{value:"follow_ups",children:[(0,t.jsx)(x.Users,{className:"h-4 w-4 mr-2"}),"Manual Follow-ups",(b.find(e=>"follow_ups"===e.category)?.tasks.length||0)>0&&(0,t.jsx)(a.Badge,{className:"ml-2",variant:"secondary",children:b.find(e=>"follow_ups"===e.category)?.tasks.length||0})]}),(0,t.jsxs)(l.TabsTrigger,{value:"other",children:[(0,t.jsx)(d.CheckCircle2,{className:"h-4 w-4 mr-2"}),"Completed"]}),(0,t.jsxs)(l.TabsTrigger,{value:"expired",children:[(0,t.jsx)(h.AlertCircle,{className:"h-4 w-4 mr-2"}),"Expired",w.expired>0&&(0,t.jsx)(a.Badge,{className:"ml-2",variant:"destructive",children:w.expired})]})]}),b.map(e=>(0,t.jsx)(l.TabsContent,{value:e.category,children:(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:e.title}),(0,t.jsx)(i.CardDescription,{children:e.description})]}),(0,t.jsx)(i.CardContent,{children:"expired"===e.category?0===(e.expiredSignatures?.length||0)&&0===(e.tasks?.length||0)?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No expired signatures"}):(0,t.jsxs)("div",{className:"space-y-4",children:[e.tasks?.map(e=>(0,t.jsx)("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50/50 dark:bg-red-950/20 dark:border-red-900",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(h.AlertCircle,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)("h4",{className:"font-semibold text-foreground",children:e.title}),(0,t.jsx)(a.Badge,{variant:"destructive",children:"Expired"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description||"The signature request for this task has expired."}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.instructions?.investor_name&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Users,{className:"h-3 w-3"}),e.instructions.investor_name]}),e.instructions?.investor_email&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.Mail,{className:"h-3 w-3"}),e.instructions.investor_email]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Calendar,{className:"h-3 w-3"}),"Created ",(0,y.format)(new Date(e.created_at),"MMM d, yyyy")]})]})]})})},e.id)),e.expiredSignatures?.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(h.AlertCircle,{className:"h-4 w-4 text-red-600"}),(0,t.jsx)("h4",{className:"font-semibold",children:e.document_type.toUpperCase()}),(0,t.jsx)(a.Badge,{variant:"destructive",children:"Expired"})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-3",children:["Request for ",e.signer_name," expired on ",(0,y.format)(new Date(e.token_expires_at),"MMM d, yyyy")]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Users,{className:"h-3 w-3"}),e.investor?.display_name||e.investor?.legal_name||e.signer_name]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.Mail,{className:"h-3 w-3"}),e.signer_email]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Calendar,{className:"h-3 w-3"}),"Created ",(0,y.format)(new Date(e.created_at),"MMM d, yyyy")]})]})]})})},e.id))]}):0===e.tasks.length?(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No tasks in this category"}):(0,t.jsx)("div",{className:"space-y-4",children:e.tasks.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(e=>{switch(e){case"completed":return(0,t.jsx)(d.CheckCircle2,{className:"h-4 w-4 text-green-600"});case"in_progress":return(0,t.jsx)(u.Clock,{className:"h-4 w-4 text-blue-600 animate-pulse"});case"overdue":return(0,t.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-red-600"});default:return(0,t.jsx)(h.AlertCircle,{className:"h-4 w-4 text-yellow-600"})}})(e.due_at&&new Date(e.due_at)<new Date&&"pending"===e.status?"overdue":e.status),(0,t.jsx)("h4",{className:"font-semibold",children:e.title}),(0,t.jsx)(a.Badge,{variant:"outline",className:(e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}})(e.priority),children:e.priority}),e.instructions?.signer_role&&(0,t.jsxs)(a.Badge,{variant:"secondary",className:"text-xs",children:["Signing as: ",e.instructions.signer_role.toUpperCase()]}),e.instructions?.requires_prior_signature&&(0,t.jsx)(a.Badge,{variant:"outline",className:"text-xs text-amber-600 border-amber-300",children:"Awaiting prior signature"})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[e.instructions?.investor_name&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Users,{className:"h-3 w-3"}),e.instructions.investor_name]}),e.due_at&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.Calendar,{className:"h-3 w-3"}),"Due ",(0,y.format)(new Date(e.due_at),"MMM d, yyyy")]}),e.instructions?.investor_email&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(g.Mail,{className:"h-3 w-3"}),e.instructions.investor_email]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[("pending"===e.status||"in_progress"===e.status)&&(0,t.jsxs)(t.Fragment,{children:["countersignature"===e.kind&&e.instructions?.action_url&&(0,t.jsxs)(o.Button,{size:"sm",onClick:()=>A(e),disabled:T===e.id,children:[(0,t.jsx)(m.FileSignature,{className:"h-4 w-4 mr-2"}),T===e.id?"Loading...":"Sign Document"]}),e.metadata?.issue==="investor_no_user_account"&&(0,t.jsxs)(o.Button,{size:"sm",variant:"outline",onClick:()=>L(e),disabled:T===e.id,children:[(0,t.jsx)(g.Mail,{className:"h-4 w-4 mr-2"}),"Copy Details"]})]}),"completed"===e.status&&e.completed_at&&(0,t.jsxs)(a.Badge,{variant:"outline",className:"text-green-600",children:["Completed ",(0,y.format)(new Date(e.completed_at),"MMM d")]})]})]})},e.id))})})]})},e.category))]})]})}e.s(["VersoSignPageClient",()=>b])},379782,e=>{"use strict";var t=e.i(722679),r=e.i(340915),s=e.i(603274),n=e.i(820417),i=e.i(90613),a=e.i(316264),o=e.i(237635),l=e.i(896816),c=e.i(263229),d=e.i(971743),u=e.i(84065),h=e.i(360209),m=e.i(496383),x=e.i(691974),g=e.i(994500),p=e.i(501495),f=e.i(470828),v=e.i(462795);function y({agreements:e,isStaff:y,isArranger:j=!1}){let _=(0,s.useRouter)(),[b,w]=(0,r.useState)(null),[N,C]=(0,r.useState)({active:!1,agreement:null,token:null,pdfUrl:null}),[k,T]=(0,r.useState)(!1),P=e=>e?.display_name||e?.legal_name||"Unknown Partner",S=async e=>{w(e.id);try{let t=await fetch(`/api/placement-agreements/${e.id}/sign`,{method:"POST"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to initiate signing")}let r=await t.json();if(r.signing_url){let t=r.signing_url.split("/sign/")[1];C({active:!0,agreement:e,token:t,pdfUrl:r.pdf_url||e.pdf_url})}else g.toast.error("No signing URL returned")}catch(e){g.toast.error(e instanceof Error?e.message:"Failed to initiate signing")}finally{w(null)}},E=async e=>{if(N.token&&N.agreement){T(!0);try{let t=await fetch("/api/signature/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:N.token,signature_data_url:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to complete signature")}g.toast.success("Placement agreement signed successfully!"),C({active:!1,agreement:null,token:null,pdfUrl:null}),_.refresh()}catch(e){g.toast.error(e instanceof Error?e.message:"Failed to complete signature")}finally{T(!1)}}};return N.active&&N.agreement?(0,t.jsxs)(i.Card,{className:"border-purple-500/30 bg-gradient-to-br from-purple-500/5 to-pink-500/5",children:[(0,t.jsx)(i.CardHeader,{className:"border-b border-purple-500/20",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/20",children:(0,t.jsx)(l.PenLine,{className:"h-5 w-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{className:"text-lg",children:"Sign Placement Agreement"}),(0,t.jsxs)(i.CardDescription,{children:["Agreement with ",P(N.agreement.commercial_partner)]})]})]}),(0,t.jsx)(a.Button,{variant:"ghost",onClick:()=>{C({active:!1,agreement:null,token:null,pdfUrl:null})},disabled:k,children:"Cancel"})]})}),(0,t.jsx)(i.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-muted-foreground",children:"Document Preview"}),N.pdfUrl?(0,t.jsx)("div",{className:"border rounded-lg overflow-hidden h-[500px]",children:(0,t.jsx)(v.InlinePdfViewer,{pdfUrl:N.pdfUrl,documentName:`Placement Agreement - ${P(N.agreement.commercial_partner)}`})}):(0,t.jsx)("div",{className:"border rounded-lg h-[500px] flex items-center justify-center bg-muted/50",children:(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"PDF not available"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-muted-foreground",children:"Your Signature"}),(0,t.jsx)(f.SignatureCanvasWidget,{onSignatureCapture:E,signerName:j?"Arranger":"CEO",signerEmail:"",isSubmitting:k}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"By signing, you agree to the terms of this placement fee agreement."})]})]})})]}):(0,t.jsxs)(i.Card,{className:"border-purple-500/20",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-500/20",children:(0,t.jsx)(x.Briefcase,{className:"h-5 w-5 text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.CardTitle,{className:"text-lg",children:y?"Placement Agreements Awaiting Your Signature":j?"My Mandates - Placement Fee Agreements":"Your Pending Placement Agreements"}),(0,t.jsx)(i.CardDescription,{children:y?"These agreements have been approved and are ready for CEO signature":j?"Placement fee agreements for your mandates requiring your signature":"These agreements are ready for your signature"})]})]})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"rounded-lg border",children:(0,t.jsxs)(o.Table,{children:[(0,t.jsx)(o.TableHeader,{children:(0,t.jsxs)(o.TableRow,{children:[(0,t.jsx)(o.TableHead,{children:"Commercial Partner"}),(0,t.jsx)(o.TableHead,{children:"Commission"}),(0,t.jsx)(o.TableHead,{children:"Created"}),(0,t.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(o.TableBody,{children:e.map(e=>{var r;return(0,t.jsxs)(o.TableRow,{children:[(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(d.Building2,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:P(e.commercial_partner)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.commercial_partner?.email})]})]})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Percent,{className:"h-3.5 w-3.5 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:null===(r=e.default_commission_bps)?"N/A":`${(r/100).toFixed(2)}%`})]})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,t.jsx)(u.Calendar,{className:"h-3.5 w-3.5"}),(0,p.formatDate)(e.created_at)]})}),(0,t.jsx)(o.TableCell,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(n.default,{href:`/versotech_main/commercial-partner-agreements/${e.id}`,children:[(0,t.jsx)(m.Eye,{className:"h-4 w-4 mr-1"}),"View"]})}),(0,t.jsx)(a.Button,{size:"sm",onClick:()=>S(e),disabled:b===e.id,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white",children:b===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"h-4 w-4 mr-1 animate-spin"}),"Loading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.PenLine,{className:"h-4 w-4 mr-1"}),"Sign Now"]})})]})})]},e.id)})})]})})})]})}e.s(["PlacementAgreementSigningSection",()=>y])}]);