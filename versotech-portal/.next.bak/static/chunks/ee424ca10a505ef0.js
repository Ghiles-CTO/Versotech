(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,496383,e=>{"use strict";let t=(0,e.i(410587).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],496383)},398472,e=>{"use strict";let t=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],398472)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,t="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let t="string"==typeof e?new Date(e):e;return Number.isNaN(t?.getTime?.())?"—":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},196767,e=>{"use strict";let t=(0,e.i(410587).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],196767)},816654,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(282141);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));s.displayName="Textarea",e.s(["Textarea",()=>s])},90613,e=>{"use strict";var t=e.i(722679),r=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>n,"CardDescription",()=>l,"CardFooter",()=>o,"CardHeader",()=>s,"CardTitle",()=>i])},15098,e=>{"use strict";let t=(0,e.i(410587).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],15098)},80289,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(414846),s=e.i(282141);let i=(0,a.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=r.forwardRef(({className:e,variant:r,...a},l)=>(0,t.jsx)("div",{ref:l,role:"alert",className:(0,s.cn)(i({variant:r}),e),...a}));l.displayName="Alert";let n=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("h5",{ref:a,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));n.displayName="AlertTitle";let o=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",e),...r}));o.displayName="AlertDescription",e.s(["Alert",()=>l,"AlertDescription",()=>o,"AlertTitle",()=>n])},661521,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(362208),s="horizontal",i=["horizontal","vertical"],l=r.forwardRef((e,r)=>{var l;let{decorative:n,orientation:o=s,...d}=e,c=(l=o,i.includes(l))?o:s;return(0,t.jsx)(a.Primitive.div,{"data-orientation":c,...n?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:r})});l.displayName="Separator";var n=e.i(282141);let o=r.forwardRef(({className:e,orientation:r="horizontal",decorative:a=!0,...s},i)=>(0,t.jsx)(l,{ref:i,decorative:a,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...s}));o.displayName=l.displayName,e.s(["Separator",()=>o],661521)},758768,e=>{"use strict";let t=(0,e.i(410587).default)("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);e.s(["FileCheck",()=>t],758768)},360209,e=>{"use strict";let t=(0,e.i(410587).default)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);e.s(["Percent",()=>t],360209)},586145,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(179232),s=e.i(795988),i=e.i(282141),l=e.i(514133);let n=s.FormProvider,o=r.createContext({}),d=({...e})=>(0,t.jsx)(o.Provider,{value:{name:e.name},children:(0,t.jsx)(s.Controller,{...e})}),c=()=>{let e=r.useContext(o),t=r.useContext(m),{getFieldState:a}=(0,s.useFormContext)(),i=(0,s.useFormState)({name:e.name}),l=a(e.name,i);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},m=r.createContext({});function u({className:e,...a}){let s=r.useId();return(0,t.jsx)(m.Provider,{value:{id:s},children:(0,t.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",e),...a})})}function x({className:e,...r}){let{error:a,formItemId:s}=c();return(0,t.jsx)(l.Label,{"data-slot":"form-label","data-error":!!a,className:(0,i.cn)("data-[error=true]:text-destructive",e),htmlFor:s,...r})}function f({...e}){let{error:r,formItemId:s,formDescriptionId:i,formMessageId:l}=c();return(0,t.jsx)(a.Slot,{"data-slot":"form-control",id:s,"aria-describedby":r?`${i} ${l}`:`${i}`,"aria-invalid":!!r,...e})}function h({className:e,...r}){let{formDescriptionId:a}=c();return(0,t.jsx)("p",{"data-slot":"form-description",id:a,className:(0,i.cn)("text-muted-foreground text-sm",e),...r})}function p({className:e,...r}){let{error:a,formMessageId:s}=c(),l=a?String(a?.message??""):r.children;return l?(0,t.jsx)("p",{"data-slot":"form-message",id:s,className:(0,i.cn)("text-destructive text-sm",e),...r,children:l}):null}e.s(["Form",()=>n,"FormControl",()=>f,"FormDescription",()=>h,"FormField",()=>d,"FormItem",()=>u,"FormLabel",()=>x,"FormMessage",()=>p])},429760,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(679472),s=e.i(47264),i=e.i(478985),l=e.i(873358),n=e.i(362208),o=e.i(599205),d=e.i(68977),c=e.i(798827),m="Tabs",[u,x]=(0,s.createContextScope)(m,[i.createRovingFocusGroupScope]),f=(0,i.createRovingFocusGroupScope)(),[h,p]=u(m),g=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:s,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:x,activationMode:f="automatic",...p}=e,g=(0,o.useDirection)(x),[b,v]=(0,d.useControllableState)({prop:s,onChange:i,defaultProp:l??"",caller:m});return(0,t.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:b,onValueChange:v,orientation:u,dir:g,activationMode:f,children:(0,t.jsx)(n.Primitive.div,{dir:g,"data-orientation":u,...p,ref:r})})});g.displayName=m;var b="TabsList",v=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:s=!0,...l}=e,o=p(b,a),d=f(a);return(0,t.jsx)(i.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:s,children:(0,t.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...l,ref:r})})});v.displayName=b;var j="TabsTrigger",y=r.forwardRef((e,r)=>{let{__scopeTabs:s,value:l,disabled:o=!1,...d}=e,c=p(j,s),m=f(s),u=C(c.baseId,l),x=F(c.baseId,l),h=l===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...m,focusable:!o,active:h,children:(0,t.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(l)})})})});y.displayName=j;var N="TabsContent",w=r.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,forceMount:o,children:d,...c}=e,m=p(N,s),u=C(m.baseId,i),x=F(m.baseId,i),f=i===m.value,h=r.useRef(f);return r.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(l.Presence,{present:o||f,children:({present:r})=>(0,t.jsx)(n.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&d})})});function C(e,t){return`${e}-trigger-${t}`}function F(e,t){return`${e}-content-${t}`}w.displayName=N;var k=e.i(282141);let D=r.forwardRef(({id:e,...a},s)=>{let i=r.useId();return(0,t.jsx)(g,{ref:s,id:e??i,...a})});D.displayName="Tabs";let S=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(v,{ref:a,className:(0,k.cn)("inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));S.displayName=v.displayName;let T=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(y,{ref:a,className:(0,k.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));T.displayName=y.displayName;let _=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(w,{ref:a,className:(0,k.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));_.displayName=w.displayName,e.s(["Tabs",()=>D,"TabsContent",()=>_,"TabsList",()=>S,"TabsTrigger",()=>T],429760)},773510,e=>{"use strict";let t=(0,e.i(410587).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],773510)},80465,e=>{"use strict";let t=(0,e.i(410587).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],80465)},761722,e=>{"use strict";let t=(0,e.i(410587).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],761722)},237635,e=>{"use strict";var t=e.i(722679),r=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...a})})}function s({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...a})}function i({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function n({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function o({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>i,"TableCell",()=>o,"TableHead",()=>n,"TableHeader",()=>s,"TableRow",()=>l])},745083,e=>{"use strict";let t=(0,e.i(410587).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],745083)},540318,59531,e=>{"use strict";let t=(0,e.i(410587).default)("handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);e.s(["default",()=>t],59531),e.s(["Handshake",()=>t],540318)},10994,e=>{"use strict";let t=(0,e.i(410587).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],10994)},582834,e=>{"use strict";var t=e.i(722679),r=e.i(90613),a=e.i(129432),s=e.i(196767),i=e.i(645855),l=e.i(758768),n=e.i(15098),o=e.i(501495),d=e.i(282141);function c({summary:e,variant:c="card",className:m,title:u="Commission Summary"}){let x=e.invoice_submitted??0,{accrued:f,invoice_requested:h,invoiced:p,paid:g,total_owed:b,currency:v}=e,j=h+x+p;return"inline"===c?(0,t.jsxs)("div",{className:(0,d.cn)("space-y-1",m),children:[g>0&&(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-green-600 font-medium",children:(0,o.formatCurrency)(g,v)}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs ml-1",children:"paid"})]}),b>0&&(0,t.jsxs)("div",{className:"text-xs text-yellow-600",children:[(0,o.formatCurrency)(b,v)," pending"]}),0===g&&0===b&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"No commissions"})]}):"compact"===c?(0,t.jsxs)("div",{className:(0,d.cn)("flex flex-wrap gap-2",m),children:[f>0&&(0,t.jsxs)(a.Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-200",children:[(0,t.jsx)(i.Clock,{className:"h-3 w-3 mr-1"}),(0,o.formatCurrency)(f,v)," accrued"]}),j>0&&(0,t.jsxs)(a.Badge,{variant:"outline",className:"bg-yellow-500/10 text-yellow-600 border-yellow-200",children:[(0,t.jsx)(l.FileCheck,{className:"h-3 w-3 mr-1"}),(0,o.formatCurrency)(j,v)," invoiced"]}),g>0&&(0,t.jsxs)(a.Badge,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-200",children:[(0,t.jsx)(n.CheckCircle2,{className:"h-3 w-3 mr-1"}),(0,o.formatCurrency)(g,v)," paid"]})]}):(0,t.jsxs)(r.Card,{className:m,children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)(r.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,t.jsx)(s.DollarSign,{className:"h-4 w-4 text-muted-foreground"}),u]})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,t.jsx)(i.Clock,{className:"h-3 w-3 text-blue-500"}),"Accrued"]}),(0,t.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:(0,o.formatCurrency)(f,v)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,t.jsx)(l.FileCheck,{className:"h-3 w-3 text-yellow-500"}),"Invoiced"]}),(0,t.jsx)("div",{className:"text-lg font-semibold text-yellow-600",children:(0,o.formatCurrency)(j,v)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,t.jsx)(n.CheckCircle2,{className:"h-3 w-3 text-green-500"}),"Paid"]}),(0,t.jsx)("div",{className:"text-lg font-semibold text-green-600",children:(0,o.formatCurrency)(g,v)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,t.jsx)(s.DollarSign,{className:"h-3 w-3 text-purple-500"}),"Total Owed"]}),(0,t.jsx)("div",{className:"text-lg font-semibold text-purple-600",children:(0,o.formatCurrency)(b,v)})]})]}),g+b>0&&(0,t.jsxs)("div",{className:"mt-4 pt-3 border-t",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[(0,t.jsx)("span",{children:"Payment Progress"}),(0,t.jsxs)("span",{children:[Math.round(g/(g+b)*100),"% paid"]})]}),(0,t.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:`${g/(g+b)*100}%`}})})]})]})]})}e.s(["CommissionSummary",()=>c])},304091,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(603274),s=e.i(795988),i=e.i(476817),l=e.i(341695),n=e.i(352776),o=e.i(586145),d=e.i(191569),c=e.i(316264),m=e.i(816654),u=e.i(994500),x=e.i(711819),f=e.i(360209),h=e.i(84065),p=e.i(119311),g=e.i(263229),b=e.i(691974),v=e.i(538892);let j=[{value:"referral",label:"Referral Fee"},{value:"revenue_share",label:"Revenue Share"},{value:"fixed_fee",label:"Fixed Fee"},{value:"hybrid",label:"Hybrid"}],y=l.z.object({agreement_type:l.z.enum(["referral","revenue_share","fixed_fee","hybrid"]),default_commission_bps:l.z.preprocess(e=>""===e?0:Number(e),l.z.number().min(0,"Commission must be at least 0").max(500,"Commission cannot exceed 5%")),effective_date:l.z.string().min(1,"Effective date is required"),expiry_date:l.z.string().optional(),notes:l.z.string().optional()});function N({open:e,onOpenChange:l,introducerId:N,introducerName:w,defaultCommissionBps:C=100}){let F=(0,a.useRouter)(),[k,D]=(0,r.useState)(!1),S=(0,s.useForm)({resolver:(0,i.zodResolver)(y),defaultValues:{agreement_type:"referral",default_commission_bps:C,effective_date:new Date().toISOString().split("T")[0],expiry_date:"",notes:""}}),T=async e=>{D(!0);try{let t=await fetch("/api/introducer-agreements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({introducer_id:N,agreement_type:e.agreement_type,default_commission_bps:e.default_commission_bps,effective_date:e.effective_date,expiry_date:e.expiry_date||null,notes:e.notes||null})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create agreement")}u.toast.success("Agreement created successfully"),l(!1),S.reset(),F.refresh()}catch(e){u.toast.error(e instanceof Error?e.message:"Failed to create agreement")}finally{D(!1)}};return(0,t.jsx)(n.Dialog,{open:e,onOpenChange:l,children:(0,t.jsxs)(n.DialogContent,{className:"sm:max-w-[520px] bg-background border-white/10",children:[(0,t.jsx)(n.DialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/20",children:(0,t.jsx)(x.FileSignature,{className:"h-5 w-5 text-amber-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"Create Fee Agreement"}),(0,t.jsxs)(n.DialogDescription,{className:"text-sm text-muted-foreground",children:["For ",w]})]})]})}),(0,t.jsx)(o.Form,{...S,children:(0,t.jsxs)("form",{onSubmit:S.handleSubmit(T),className:"space-y-5",children:[(0,t.jsx)(o.FormField,{control:S.control,name:"agreement_type",render:({field:e})=>(0,t.jsxs)(o.FormItem,{children:[(0,t.jsxs)(o.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(b.Briefcase,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Agreement Type"]}),(0,t.jsxs)(v.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,t.jsx)(o.FormControl,{children:(0,t.jsx)(v.SelectTrigger,{className:"bg-white/5 border-white/10 focus:border-amber-500/50",children:(0,t.jsx)(v.SelectValue,{placeholder:"Select agreement type"})})}),(0,t.jsx)(v.SelectContent,{children:j.map(e=>(0,t.jsx)(v.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(o.FormMessage,{})]})}),(0,t.jsx)(o.FormField,{control:S.control,name:"default_commission_bps",render:({field:e})=>(0,t.jsxs)(o.FormItem,{children:[(0,t.jsxs)(o.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(f.Percent,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Commission Rate (basis points)"]}),(0,t.jsx)(o.FormControl,{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Input,{type:"number",placeholder:"100",...e,className:"bg-white/5 border-white/10 focus:border-amber-500/50 focus:ring-amber-500/20 pr-16"}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"bps"})]})}),(0,t.jsxs)(o.FormDescription,{className:"text-xs",children:["100 bps = 1.00% | Current: ",((e.value||0)/100).toFixed(2),"%"]}),(0,t.jsx)(o.FormMessage,{})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(o.FormField,{control:S.control,name:"effective_date",render:({field:e})=>(0,t.jsxs)(o.FormItem,{children:[(0,t.jsxs)(o.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(h.Calendar,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Effective Date"]}),(0,t.jsx)(o.FormControl,{children:(0,t.jsx)(d.Input,{type:"date",...e,className:"bg-white/5 border-white/10 focus:border-amber-500/50"})}),(0,t.jsx)(o.FormMessage,{})]})}),(0,t.jsx)(o.FormField,{control:S.control,name:"expiry_date",render:({field:e})=>(0,t.jsxs)(o.FormItem,{children:[(0,t.jsxs)(o.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(h.Calendar,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Expiry Date",(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:"(optional)"})]}),(0,t.jsx)(o.FormControl,{children:(0,t.jsx)(d.Input,{type:"date",...e,className:"bg-white/5 border-white/10 focus:border-amber-500/50"})}),(0,t.jsx)(o.FormMessage,{})]})})]}),(0,t.jsx)(o.FormField,{control:S.control,name:"notes",render:({field:e})=>(0,t.jsxs)(o.FormItem,{children:[(0,t.jsxs)(o.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(p.FileText,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Notes",(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:"(optional)"})]}),(0,t.jsx)(o.FormControl,{children:(0,t.jsx)(m.Textarea,{placeholder:"Any special terms or conditions for this agreement...",rows:3,...e,className:"bg-white/5 border-white/10 focus:border-amber-500/50 resize-none"})}),(0,t.jsx)(o.FormMessage,{})]})}),(0,t.jsxs)(n.DialogFooter,{className:"pt-2",children:[(0,t.jsx)(c.Button,{type:"button",variant:"ghost",onClick:()=>l(!1),disabled:k,children:"Cancel"}),(0,t.jsx)(c.Button,{type:"submit",disabled:k,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white border-0",children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.FileSignature,{className:"h-4 w-4 mr-2"}),"Create Agreement"]})})]})]})})]})})}e.s(["CreateAgreementDialog",()=>N])},671613,e=>{"use strict";var t=e.i(722679),r=e.i(340915),a=e.i(337684),s=e.i(761722),i=e.i(263229),l=e.i(401148),n=e.i(352776),o=e.i(316264),d=e.i(80289);function c({documentId:e,documentName:c,mimeType:m,open:u,onClose:x}){let[f,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),j=(0,r.useCallback)(async()=>{h(!0),g(null);try{let t=await fetch(`/api/documents/${e}/download`);if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to load document")}let r=await t.json();v(r.url)}catch(e){console.error("Document load error:",e),g(e instanceof Error?e.message:"Failed to load document")}finally{h(!1)}},[e]);(0,r.useEffect)(()=>(u&&e&&j(),()=>{b&&URL.revokeObjectURL(b)}),[u,e,j]);let y="application/pdf"===m,N=m.startsWith("image/");return(0,t.jsx)(n.Dialog,{open:u,onOpenChange:x,children:(0,t.jsxs)(n.DialogContent,{className:"max-w-5xl h-[90vh] flex flex-col",children:[(0,t.jsx)(n.DialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between pr-8",children:[(0,t.jsx)(n.DialogTitle,{className:"text-lg font-semibold",children:c}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{if(!b)return;let e=document.createElement("a");e.href=b,e.download=c,e.click()},disabled:!b||f,children:[(0,t.jsx)(s.Download,{className:"h-4 w-4 mr-2"}),"Download"]})})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-auto",children:[f&&(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-blue-600"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Loading document..."})]})}),p&&(0,t.jsxs)(d.Alert,{variant:"destructive",className:"m-4",children:[(0,t.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(d.AlertDescription,{children:p})]}),!f&&!p&&b&&(0,t.jsxs)(t.Fragment,{children:[y&&(0,t.jsx)("iframe",{src:b,className:"w-full h-full border-0",title:c}),N&&(0,t.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,t.jsx)(a.default,{src:b,alt:c,width:0,height:0,sizes:"100vw",className:"w-full h-auto rounded-lg shadow-lg"})}),!y&&!N&&(0,t.jsxs)(d.Alert,{className:"m-4",children:[(0,t.jsx)(l.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(d.AlertDescription,{children:"Preview not available for this file type. Please download to view."})]})]})]})]})})}e.s(["DocumentViewer",()=>c])}]);