(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,398472,e=>{"use strict";let t=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],398472)},90613,e=>{"use strict";var t=e.i(722679),s=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>i,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>n])},15098,e=>{"use strict";let t=(0,e.i(410587).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],15098)},196767,e=>{"use strict";let t=(0,e.i(410587).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],196767)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,t="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let t="string"==typeof e?new Date(e):e;return Number.isNaN(t?.getTime?.())?"—":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},102728,105938,e=>{"use strict";var t=e.i(295656);function s(e,s,a){let[r,n]=(0,t.normalizeDates)(a?.in,e,s);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}e.s(["differenceInCalendarMonths",()=>s],102728);var a=e.i(925362);function r(e,t){let s=(0,a.toDate)(e,t?.in),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}e.s(["endOfMonth",()=>r],105938)},661521,e=>{"use strict";var t=e.i(722679),s=e.i(340915),a=e.i(362208),r="horizontal",n=["horizontal","vertical"],i=s.forwardRef((e,s)=>{var i;let{decorative:l,orientation:d=r,...o}=e,c=(i=d,n.includes(i))?d:r;return(0,t.jsx)(a.Primitive.div,{"data-orientation":c,...l?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...o,ref:s})});i.displayName="Separator";var l=e.i(282141);let d=s.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...r},n)=>(0,t.jsx)(i,{ref:n,decorative:a,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...r}));d.displayName=i.displayName,e.s(["Separator",()=>d],661521)},49664,e=>{"use strict";let t=(0,e.i(410587).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],49664)},688964,e=>{"use strict";var t=e.i(722679),s=e.i(340915),a=e.i(90613),r=e.i(129432),n=e.i(316264),i=e.i(191569),l=e.i(538892),d=e.i(83245),o=e.i(237635),c=e.i(335994),m=e.i(501259),u=e.i(196767),x=e.i(15098),h=e.i(645855),p=e.i(750809),f=e.i(263229),g=e.i(401148),j=e.i(398472),v=e.i(761722),b=e.i(49664),N=e.i(971743),_=e.i(432598),C=e.i(994500),y=e.i(282141),w=e.i(501495),S=e.i(59178),D=e.i(820417),T=e.i(352776),k=e.i(514133),L=e.i(661521);let I={passed:0,interested:1,approved:2,signed:3,funded:4};function H(e){switch(e){case"allocated":return"signed";case"joined":return"approved";case"lost":case"inactive":return"passed";default:return"interested"}}let B={interested:"bg-blue-100 text-blue-800 border-blue-200",approved:"bg-purple-100 text-purple-800 border-purple-200",signed:"bg-amber-100 text-amber-800 border-amber-200",funded:"bg-green-100 text-green-800 border-green-200",passed:"bg-gray-100 text-gray-800 border-gray-200"},U=[{label:"All Status",value:"all"},{label:"Interested",value:"interested"},{label:"Approved",value:"approved"},{label:"Signed",value:"signed"},{label:"Funded",value:"funded"},{label:"Passed",value:"passed"}];function E(){let[e,E]=(0,s.useState)(null),[F,A]=(0,s.useState)([]),[z,R]=(0,s.useState)({totalIntroductions:0,interestedCount:0,approvedCount:0,signedCount:0,fundedCount:0,passedCount:0,totalCommissionEarned:0,pendingCommission:0}),[P,M]=(0,s.useState)(!0),[q,O]=(0,s.useState)(null),[V,$]=(0,s.useState)(""),[Y,K]=(0,s.useState)("all"),[X,W]=(0,s.useState)(void 0),[G,J]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)(null),[ee,et]=(0,s.useState)(!1),[es,ea]=(0,s.useState)(!1),er=async e=>{try{ea(!0),et(!0);let t=(0,S.createClient)(),{data:s,error:a}=await t.from("deals").select(`
          id,
          name,
          company_name,
          description,
          investment_thesis,
          sector,
          stage,
          location,
          deal_type,
          currency,
          minimum_investment,
          maximum_investment,
          target_amount,
          raised_amount,
          offer_unit_price,
          open_at,
          close_at,
          status,
          company_website,
          stock_type,
          deal_round
        `).eq("id",e).single();if(a)throw a;Z(s)}catch(e){console.error("[IntroductionsPage] Error fetching deal:",e),C.toast.error("Failed to load deal details"),et(!1)}finally{ea(!1)}},en=async()=>{if(!e)return void C.toast.error("Export is only available for introducer users");try{J(!0);let e=await fetch("/api/introducers/me/introductions/export");if(429===e.status)return void C.toast.error("Please wait 1 minute between export requests");if(!e.ok){let t=await e.json();throw Error(t.error||"Export failed")}let t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`introductions-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a),C.toast.success("Introductions exported successfully")}catch(e){console.error("[IntroductionsPage] Export error:",e),C.toast.error(e instanceof Error?e.message:"Failed to export introductions")}finally{J(!1)}};(0,s.useEffect)(()=>{async function e(e){let{data:t,error:s}=await e.from("introductions").select(`
          id,
          prospect_email,
          status,
          introduced_at,
          commission_rate_override_bps,
          notes,
          deal:deals (
            id,
            name,
            company_name
          ),
          investor:prospect_investor_id (
            id,
            legal_name
          )
        `).order("introduced_at",{ascending:!1}).limit(100);if(s)throw s;let a=(t||[]).map(e=>({id:e.id,prospect_email:e.prospect_email||"",status:H(e.status||null),introduced_at:e.introduced_at,commission_rate_override_bps:e.commission_rate_override_bps,notes:e.notes,deal:e.deal,investor:e.investor,commission:null}));A(a);let r=a.filter(e=>"interested"===e.status).length,n=a.filter(e=>"approved"===e.status).length,i=a.filter(e=>"signed"===e.status).length,l=a.filter(e=>"funded"===e.status).length,d=a.filter(e=>"passed"===e.status).length;R({totalIntroductions:a.length,interestedCount:r,approvedCount:n,signedCount:i,fundedCount:l,passedCount:d,totalCommissionEarned:0,pendingCommission:0})}!async function(){try{M(!0);let t=(0,S.createClient)(),{data:{user:s}}=await t.auth.getUser();if(!s)return void O("Not authenticated");let{data:a,error:r}=await t.from("introducer_users").select("introducer_id").eq("user_id",s.id).single();if(r||!a)return void await e(t);let{data:n,error:i}=await t.from("introducers").select("id, legal_name, default_commission_bps, status").eq("id",a.introducer_id).single();if(i)throw i;E(n);let{data:l,error:d}=await t.from("introductions").select(`
            id,
            prospect_email,
            status,
            introduced_at,
            commission_rate_override_bps,
            notes,
            deal:deals (
              id,
              name,
              company_name
            ),
            investor:prospect_investor_id (
              id,
              legal_name
            )
          `).eq("introducer_id",a.introducer_id).order("introduced_at",{ascending:!1});if(d)throw d;let o=(l||[]).map(e=>{let t=Array.isArray(e.investor)?e.investor[0]:e.investor;return t?.id||null}).filter(Boolean),c=(l||[]).map(e=>{let t=Array.isArray(e.deal)?e.deal[0]:e.deal;return t?.id||null}).filter(Boolean),m={};if(o.length>0&&c.length>0){let{data:e}=await t.from("subscriptions").select("investor_id, deal_id, status").in("investor_id",o).in("deal_id",c);for(let t of e||[]){let e=function(e){switch(e){case"funded":case"active":case"completed":return"funded";case"signed":case"committed":return"signed";case"approved":case"pending":case"pending_review":return"approved";case"cancelled":case"rejected":case"withdrawn":return"passed";default:return"interested"}}(t.status||null),s=`${t.investor_id}:${t.deal_id}`,a=m[s];(!a||I[e]>I[a])&&(m[s]=e)}}let u=(l||[]).map(e=>e.id),x={};if(u.length>0){let{data:e}=await t.from("introducer_commissions").select("introduction_id, accrual_amount, currency, status").in("introduction_id",u);for(let t of e||[])t.introduction_id&&(x[t.introduction_id]={accrual_amount:Number(t.accrual_amount)||0,currency:t.currency||"USD",status:t.status||"accrued"})}let h=(l||[]).map(e=>{let t=Array.isArray(e.deal)?e.deal[0]:e.deal,s=Array.isArray(e.investor)?e.investor[0]:e.investor,a=s?.id&&t?.id?`${s.id}:${t.id}`:null,r=a?m[a]:null,n=r||H(e.status||null);return!r&&"allocated"===e.status&&x[e.id]&&(n="funded"),{id:e.id,prospect_email:e.prospect_email||"",status:n,introduced_at:e.introduced_at,commission_rate_override_bps:e.commission_rate_override_bps,notes:e.notes,deal:t,investor:s,commission:x[e.id]||null}});A(h);let p=h.filter(e=>"interested"===e.status).length,f=h.filter(e=>"approved"===e.status).length,g=h.filter(e=>"signed"===e.status).length,j=h.filter(e=>"funded"===e.status).length,v=h.filter(e=>"passed"===e.status).length,b=0,N=0;for(let e of h)e.commission&&("paid"===e.commission.status?b+=e.commission.accrual_amount:("accrued"===e.commission.status||"invoiced"===e.commission.status)&&(N+=e.commission.accrual_amount));R({totalIntroductions:h.length,interestedCount:p,approvedCount:f,signedCount:g,fundedCount:j,passedCount:v,totalCommissionEarned:b,pendingCommission:N}),O(null)}catch(e){console.error("[IntroductionsPage] Error:",e),O(e instanceof Error?e.message:"Failed to load introductions")}finally{M(!1)}}()},[]);let ei=F.filter(e=>{let t="all"===Y||e.status===Y,s=!V||e.prospect_email.toLowerCase().includes(V.toLowerCase())||e.deal?.name?.toLowerCase().includes(V.toLowerCase())||e.deal?.company_name?.toLowerCase().includes(V.toLowerCase())||e.investor?.legal_name?.toLowerCase().includes(V.toLowerCase()),a=!0;if(X?.from||X?.to)if(e.introduced_at){let t=new Date(e.introduced_at);if(X.from&&t<X.from&&(a=!1),X.to){let e=new Date(X.to);e.setHours(23,59,59,999),t>e&&(a=!1)}}else a=!1;return t&&s&&a});return P?(0,t.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,t.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading introductions..."})]}):q?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(g.AlertCircle,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Error Loading Introductions"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:q})]}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"My Introductions"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:e?`Track your introductions and commissions as ${e.legal_name}`:"View all introductions across the platform"})]}),e&&(0,t.jsxs)(n.Button,{variant:"outline",onClick:en,disabled:G||0===F.length,children:[G?(0,t.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,t.jsx)(v.Download,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(m.Users,{className:"h-4 w-4"}),"Total Introductions"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:z.totalIntroductions}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[z.interestedCount," interested, ",z.approvedCount," approved"]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(x.CheckCircle2,{className:"h-4 w-4"}),"Funded"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:z.fundedCount}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[z.signedCount," signed"]})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(u.DollarSign,{className:"h-4 w-4"}),"Commission Earned"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:(0,w.formatCurrency)(z.totalCommissionEarned)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total paid out"})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{className:"pb-2",children:(0,t.jsxs)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(h.Clock,{className:"h-4 w-4"}),"Pending Commission"]})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-500",children:(0,w.formatCurrency)(z.pendingCommission)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting payment"})]})]})]}),(0,t.jsx)(a.Card,{children:(0,t.jsxs)(a.CardContent,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search by email, deal, or investor...",value:V,onChange:e=>$(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)(l.Select,{value:Y,onValueChange:K,children:[(0,t.jsx)(l.SelectTrigger,{className:"w-full md:w-48",children:(0,t.jsx)(l.SelectValue,{placeholder:"Filter by status"})}),(0,t.jsx)(l.SelectContent,{children:U.map(e=>(0,t.jsx)(l.SelectItem,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.DateRangePicker,{value:X,onChange:W,className:"w-auto"}),X&&(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>W(void 0),title:"Clear date filter",children:(0,t.jsx)(_.X,{className:"h-4 w-4"})})]})]}),("all"!==Y||V||X)&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,t.jsx)(n.Button,{variant:"link",size:"sm",onClick:()=>{K("all"),$(""),W(void 0)},className:"text-muted-foreground p-0 h-auto",children:"Clear all filters"})})]})}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"Introductions"}),(0,t.jsxs)(a.CardDescription,{children:[ei.length," introduction",1!==ei.length?"s":""," found"]})]}),(0,t.jsx)(a.CardContent,{children:0===ei.length?(0,t.jsxs)("div",{className:"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2",children:[(0,t.jsx)(c.UserPlus,{className:"h-10 w-10 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:V||"all"!==Y?"No introductions match your filters":"No introductions yet"})]}):(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(o.Table,{children:[(0,t.jsx)(o.TableHeader,{children:(0,t.jsxs)(o.TableRow,{children:[(0,t.jsx)(o.TableHead,{children:"Prospect"}),(0,t.jsx)(o.TableHead,{children:"Deal"}),(0,t.jsx)(o.TableHead,{children:"Status"}),(0,t.jsx)(o.TableHead,{children:"Introduced"}),(0,t.jsx)(o.TableHead,{children:"Commission"}),(0,t.jsx)(o.TableHead,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(o.TableBody,{children:ei.map(e=>(0,t.jsxs)(o.TableRow,{children:[(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.prospect_email}),e.investor&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.investor.legal_name})]})}),(0,t.jsx)(o.TableCell,{children:e.deal?(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>er(e.deal.id),className:"font-medium text-left hover:text-primary hover:underline transition-colors",children:e.deal.name}),e.deal.company_name&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.deal.company_name})]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"—"})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsx)(r.Badge,{variant:"outline",className:(0,y.cn)("capitalize",B[e.status]||B.passed),children:e.status})}),(0,t.jsx)(o.TableCell,{children:e.introduced_at?(0,w.formatDate)(e.introduced_at):"—"}),(0,t.jsx)(o.TableCell,{children:e.commission?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:(0,w.formatCurrency)(e.commission.accrual_amount,e.commission.currency)}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground capitalize",children:e.commission.status})]}):e.commission_rate_override_bps?(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Rate: ",(0,w.formatBps)(e.commission_rate_override_bps)]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"—"})}),(0,t.jsx)(o.TableCell,{className:"text-right",children:e.deal&&(0,t.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,t.jsxs)(n.Button,{variant:"ghost",size:"sm",onClick:()=>er(e.deal.id),title:"View Deal Details",children:[(0,t.jsx)(b.FolderOpen,{className:"h-4 w-4 mr-1"}),"View Deal"]})})})]},e.id))})]})})})]}),(0,t.jsx)(T.Dialog,{open:ee,onOpenChange:et,children:(0,t.jsx)(T.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:es?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,t.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading deal details..."})]}):Q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.DialogHeader,{children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(N.Building2,{className:"w-6 h-6 text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)(T.DialogTitle,{className:"text-xl",children:Q.name}),Q.company_name&&(0,t.jsx)(T.DialogDescription,{className:"text-base",children:Q.company_name})]}),(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>et(!1),className:"flex-shrink-0",children:(0,t.jsx)(_.X,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"space-y-6 pt-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[Q.sector&&(0,t.jsx)(r.Badge,{variant:"secondary",children:Q.sector}),Q.stage&&(0,t.jsx)(r.Badge,{variant:"outline",children:Q.stage}),Q.location&&(0,t.jsx)(r.Badge,{variant:"outline",children:Q.location}),Q.status&&(0,t.jsx)(r.Badge,{variant:"outline",className:(0,y.cn)("capitalize","active"===Q.status&&"bg-green-100 text-green-800 border-green-200","draft"===Q.status&&"bg-gray-100 text-gray-800 border-gray-200","closed"===Q.status&&"bg-red-100 text-red-800 border-red-200"),children:Q.status})]}),(0,t.jsx)(L.Separator,{}),Q.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-base font-semibold",children:"Description"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground whitespace-pre-wrap",children:Q.description})]}),Q.investment_thesis&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-base font-semibold",children:"Investment Thesis"}),(0,t.jsx)("p",{className:"mt-2 text-muted-foreground whitespace-pre-wrap",children:Q.investment_thesis})]}),(0,t.jsx)(L.Separator,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-base font-semibold",children:"Deal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3",children:[Q.deal_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Deal Type"}),(0,t.jsx)("p",{className:"font-medium mt-1 capitalize",children:Q.deal_type.replace(/_/g," ")})]}),Q.stock_type&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Stock Type"}),(0,t.jsx)("p",{className:"font-medium mt-1 capitalize",children:Q.stock_type.replace(/_/g," ")})]}),Q.deal_round&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Round"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:Q.deal_round})]}),Q.target_amount&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Target Raise"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatCurrency)(Q.target_amount,Q.currency||"USD")})]}),null!==Q.raised_amount&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Raised"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatCurrency)(Q.raised_amount,Q.currency||"USD")})]}),Q.minimum_investment&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Min Investment"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatCurrency)(Q.minimum_investment,Q.currency||"USD")})]}),Q.maximum_investment&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Max Investment"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatCurrency)(Q.maximum_investment,Q.currency||"USD")})]}),Q.offer_unit_price&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Unit Price"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatCurrency)(Q.offer_unit_price,Q.currency||"USD")})]}),Q.open_at&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Opens"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatDate)(Q.open_at)})]}),Q.close_at&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Closes"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:(0,w.formatDate)(Q.close_at)})]})]})]}),Q.company_website&&(0,t.jsxs)("div",{children:[(0,t.jsx)(k.Label,{className:"text-base font-semibold",children:"Company Website"}),(0,t.jsxs)("a",{href:Q.company_website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 mt-2 text-primary hover:underline",children:[Q.company_website,(0,t.jsx)(j.ExternalLink,{className:"h-4 w-4"})]})]}),(0,t.jsx)(L.Separator,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>et(!1),children:"Close"}),(0,t.jsx)(n.Button,{asChild:!0,children:(0,t.jsxs)(D.default,{href:`/versotech_main/opportunities/${Q.id}?from=introductions`,children:[(0,t.jsx)(b.FolderOpen,{className:"h-4 w-4 mr-2"}),"View as Investor"]})})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-right",children:"Data room access requires investor persona with deal membership"})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(g.AlertCircle,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Deal Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Unable to load deal details."})]})})})]})}e.s(["default",()=>E])}]);