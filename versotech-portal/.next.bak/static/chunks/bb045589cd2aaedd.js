(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,420255,e=>{"use strict";var s=e.i(722679),t=e.i(340915),a=e.i(603274),i=e.i(820417),l=e.i(771750),r=e.i(137533),n=e.i(994500),c=e.i(795988),d=e.i(476817),o=e.i(341695),m=e.i(316264),x=e.i(129432),h=e.i(74434),u=e.i(90613),j=e.i(56213),p=e.i(191569),g=e.i(514133),f=e.i(45778),N=e.i(429760),y=e.i(538892),v=e.i(510166),w=e.i(908925),C=e.i(352776),b=e.i(396132),A=e.i(64927),D=e.i(818893),k=e.i(295588),S=e.i(35334),T=e.i(553426),L=e.i(410587);let F=(0,L.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var E=e.i(695817),_=e.i(619324),P=e.i(773510),U=e.i(704477),R=e.i(691974),$=e.i(871561),B=e.i(957114),M=e.i(981218),H=e.i(117925),I=e.i(456289);let O=(0,L.default)("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);var z=e.i(84065),V=e.i(645855),G=e.i(263229),K=e.i(971743),W=e.i(734213),J=e.i(501259),q=e.i(201495),Y=e.i(540318),X=e.i(416469),Q=e.i(385838),Z=e.i(554369),ee=e.i(761722),es=e.i(119311),et=e.i(382021),ea=e.i(230112),ei=e.i(264653);let el=(0,L.default)("monitor-smartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]),er=(0,L.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var en=e.i(262823),ec=e.i(237635);let ed={investor:K.Building2,partner:J.Users,lawyer:q.Scale,commercial_partner:Y.Handshake,introducer:X.Globe,arranger:Q.Landmark},eo={investor:"Investor",partner:"Partner",lawyer:"Law Firm",commercial_partner:"Commercial Partner",introducer:"Introducer",arranger:"Arranger"},em=o.z.object({display_name:o.z.string().min(1,"Display name is required").max(100,"Display name must be less than 100 characters"),title:o.z.string().max(100,"Title must be less than 100 characters").optional().or(o.z.literal("")),phone:o.z.string().max(50,"Phone must be less than 50 characters").optional().or(o.z.literal("")),office_location:o.z.string().max(100,"Office location must be less than 100 characters").optional().or(o.z.literal(""))}),ex=e=>"ceo"===e?"default":e.startsWith("staff_")?"secondary":"outline",eh=e=>({ceo:"CEO",staff_admin:"Staff Admin",staff_ops:"Staff Ops",staff_rm:"Staff RM",investor:"Investor"})[e]||e;function eu(){return(0,s.jsx)(u.Card,{children:(0,s.jsx)(u.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-6",children:[(0,s.jsx)(j.Skeleton,{className:"h-24 w-24 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(j.Skeleton,{className:"h-8 w-64"}),(0,s.jsx)(j.Skeleton,{className:"h-4 w-48"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,s.jsx)(j.Skeleton,{className:"h-6 w-20 rounded-full"}),(0,s.jsx)(j.Skeleton,{className:"h-6 w-24 rounded-full"})]}),(0,s.jsx)(j.Skeleton,{className:"h-4 w-32 mt-2"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.Skeleton,{className:"h-9 w-20"}),(0,s.jsx)(j.Skeleton,{className:"h-9 w-9"})]})]})})})}function ej(){let e=(0,a.useParams)(),o=(0,a.useRouter)(),L=e.id,[J,q]=(0,t.useState)(null),[Y,X]=(0,t.useState)(!0),[Q,ej]=(0,t.useState)(null),[ep,eg]=(0,t.useState)(!1),[ef,eN]=(0,t.useState)(!1),[ey,ev]=(0,t.useState)(!1),[ew,eC]=(0,t.useState)(!1),[eb,eA]=(0,t.useState)(!1),[eD,ek]=(0,t.useState)(!1),[eS,eT]=(0,t.useState)(!1),[eL,eF]=(0,t.useState)(!1),[eE,e_]=(0,t.useState)(null),[eP,eU]=(0,t.useState)(!1),[eR,e$]=(0,t.useState)([]),[eB,eM]=(0,t.useState)(!1),[eH,eI]=(0,t.useState)(!1),[eO,ez]=(0,t.useState)(0),[eV,eG]=(0,t.useState)(0),[eK,eW]=(0,t.useState)([]),[eJ,eq]=(0,t.useState)("all"),[eY,eX]=(0,t.useState)(!1),[eQ,eZ]=(0,t.useState)(!1),[e0,e1]=(0,t.useState)(!1),[e2,e4]=(0,t.useState)(0),[e5,e6]=(0,t.useState)(0),[e3,e8]=(0,t.useState)(null),[e9,e7]=(0,t.useState)(!1),[se,ss]=(0,t.useState)(!1),[st,sa]=(0,t.useState)(!1),[si,sl]=(0,t.useState)(!1),[sr,sn]=(0,t.useState)("profile"),{register:sc,handleSubmit:sd,reset:so,formState:{errors:sm}}=(0,c.useForm)({resolver:(0,d.zodResolver)(em),defaultValues:{display_name:"",title:"",phone:"",office_location:""}}),sx=(0,t.useCallback)(async()=>{try{X(!0),ej(null);let e=await fetch(`/api/admin/users/${L}`),s=await e.json();if(!s.success)throw Error(s.error||"Failed to fetch user");q(s.data||null)}catch(e){ej(e instanceof Error?e.message:"An error occurred")}finally{X(!1)}},[L]);(0,t.useEffect)(()=>{L&&sx()},[L,sx]);let sh=(0,t.useCallback)(async(e=!1)=>{try{eM(!0);let s=e?0:eV,t="all"!==eJ?`&action=${encodeURIComponent(eJ)}`:"",a=await fetch(`/api/admin/users/${L}/activity?offset=${s}&limit=20${t}`),i=await a.json();if(!i.success||!i.data)throw Error(i.error||"Failed to fetch activity");e?(e$(i.data.logs),eG(20)):(e$(e=>[...e,...i.data.logs]),eG(e=>e+20)),eI(i.data.hasMore),ez(i.data.total),eW(i.data.actionTypes),eX(!0)}catch(e){console.error("Failed to fetch activity:",e),n.toast.error("Failed to load activity",{description:e instanceof Error?e.message:"An error occurred"})}finally{eM(!1)}},[L,eV,eJ]),su=(0,t.useCallback)(async()=>{try{e1(!0);let e=await fetch(`/api/admin/users/${L}/activity?limit=1000&action=LOGIN`),s=await e.json();if(s.success&&s.data){let e=new Date(Date.now()-2592e6),t=s.data.logs.filter(s=>new Date(s.timestamp)>e);e4(t.length)}let t=await fetch(`/api/admin/users/${L}/activity?limit=100&action=LOGIN_FAILED`),a=await t.json();if(a.success&&a.data){let e=new Date(Date.now()-864e5),s=a.data.logs.filter(s=>new Date(s.timestamp)>e);e6(s.length)}let i=await fetch(`/api/admin/users/${L}/activity?limit=1&action=PASSWORD_CHANGED`),l=await i.json();l.success&&l.data&&l.data.logs.length>0&&e8(l.data.logs[0].timestamp),eZ(!0)}catch(e){console.error("Failed to fetch security data:",e)}finally{e1(!1)}},[L]),sj=async e=>{if(J){sa(!0);try{let s=e?`/api/admin/users/${L}/reactivate`:`/api/admin/users/${L}/deactivate`,t=await fetch(s,{method:"PATCH"}),a=await t.json();if(!a.success)throw Error(a.error||"Failed to update status");n.toast.success(e?"User activated":"User deactivated",{description:e?`${J.displayName} can now access the platform.`:`${J.displayName} can no longer access the platform.`}),sx()}catch(e){n.toast.error("Failed to update status",{description:e instanceof Error?e.message:"An error occurred"})}finally{sa(!1)}}},sp=async()=>{if(J){sl(!0);try{let e=await fetch(`/api/admin/users/${L}/toggle-lock`,{method:"PATCH"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to toggle lock status");let t=s.data?.is_locked;n.toast.success(t?"Account locked":"Account unlocked",{description:t?`${J.displayName}'s account has been locked.`:`${J.displayName}'s account has been unlocked.`}),sx()}catch(e){n.toast.error("Failed to toggle lock status",{description:e instanceof Error?e.message:"An error occurred"})}finally{sl(!1)}}},sg=async()=>{if(J){ss(!0);try{let e=await fetch(`/api/admin/users/${L}/revoke-sessions`,{method:"POST",headers:{"Content-Type":"application/json"}}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to revoke sessions");n.toast.success("Sessions revoked",{description:`All active sessions for ${J.displayName} have been terminated.`}),e7(!1),e4(0)}catch(e){n.toast.error("Failed to revoke sessions",{description:e instanceof Error?e.message:"An error occurred"})}finally{ss(!1)}}};(0,t.useEffect)(()=>{eY&&sh(!0)},[eJ]);let sf=(0,t.useCallback)(e=>{sn(e),"activity"!==e||eY||eB||sh(!0),"security"!==e||eQ||e0||su()},[eY,eB,sh,eQ,e0,su]),sN=async()=>{if(J){eg(!0);try{let e=await fetch(`/api/admin/users/${L}/deactivate`,{method:"PATCH"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to deactivate user");n.toast.success("User deactivated",{description:`${J.displayName} has been deactivated and can no longer access the platform.`}),eN(!1),sx()}catch(e){n.toast.error("Failed to deactivate user",{description:e instanceof Error?e.message:"An error occurred"})}finally{eg(!1)}}},sy=async()=>{if(J){eg(!0);try{let e=await fetch(`/api/admin/users/${L}/reactivate`,{method:"PATCH"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to reactivate user");n.toast.success("User reactivated",{description:`${J.displayName} has been reactivated and can now access the platform.`}),ev(!1),sx()}catch(e){n.toast.error("Failed to reactivate user",{description:e instanceof Error?e.message:"An error occurred"})}finally{eg(!1)}}},sv=async()=>{if(J){eg(!0);try{let e=await fetch(`/api/admin/users/${L}/toggle-lock`,{method:"PATCH"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to update lock status");let t=s.data?.is_locked;n.toast.success(t?"User locked":"User unlocked",{description:t?`${J.displayName} has been locked and cannot access the platform.`:`${J.displayName} has been unlocked and can now access the platform.`}),eC(!1),sx()}catch(e){n.toast.error("Failed to update lock status",{description:e instanceof Error?e.message:"An error occurred"})}finally{eg(!1)}}},sw=async()=>{if(J){eg(!0);try{let e=await fetch(`/api/admin/users/${L}/reset-password`,{method:"POST"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to send password reset");n.toast.success("Password reset email sent",{description:`A password reset link has been sent to ${J.email}.`}),eA(!1)}catch(e){n.toast.error("Failed to send password reset",{description:e instanceof Error?e.message:"An error occurred"})}finally{eg(!1)}}},sC=async e=>{eT(!0);try{let s=await fetch(`/api/admin/users/${L}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:e.display_name,title:e.title||null,phone:e.phone||null,office_location:e.office_location||null})}),t=await s.json();if(!t.success)throw Error(t.error||"Failed to update user");n.toast.success("Profile updated",{description:"User profile has been updated successfully."}),ek(!1),sx()}catch(e){n.toast.error("Failed to update profile",{description:e instanceof Error?e.message:"An error occurred"})}finally{eT(!1)}},sb=async()=>{if(eE&&J){eU(!0);try{let e=await fetch(`/api/admin/users/${L}/entities/${eE.id}?type=${eE.type}`,{method:"DELETE"}),s=await e.json();if(!s.success)throw Error(s.error||"Failed to remove entity");n.toast.success("Entity removed",{description:`${eE.name} has been unlinked from ${J.displayName}.`}),eF(!1),e_(null),sx()}catch(e){n.toast.error("Failed to remove entity",{description:e instanceof Error?e.message:"An error occurred"})}finally{eU(!1)}}};return Q?(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)(i.default,{href:"/versotech_admin/users",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-6",children:[(0,s.jsx)(b.ArrowLeft,{className:"h-4 w-4 mr-1"}),"Back to Users"]}),(0,s.jsxs)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-6",children:[(0,s.jsx)("h3",{className:"font-medium text-destructive",children:"Error loading user"}),(0,s.jsx)("p",{className:"text-sm text-destructive/80 mt-1",children:Q}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,s.jsx)(m.Button,{variant:"outline",size:"sm",onClick:()=>sx(),children:"Try Again"}),(0,s.jsx)(m.Button,{variant:"outline",size:"sm",onClick:()=>o.push("/versotech_admin/users"),children:"Back to Users"})]})]})]}):(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)(i.default,{href:"/versotech_admin/users",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[(0,s.jsx)(b.ArrowLeft,{className:"h-4 w-4 mr-1"}),"Back to Users"]}),Y?(0,s.jsx)(eu,{}):J?(0,s.jsx)(u.Card,{children:(0,s.jsx)(u.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[(0,s.jsxs)(h.Avatar,{className:"h-24 w-24 text-2xl",children:[(0,s.jsx)(h.AvatarImage,{src:J.avatarUrl||void 0,alt:J.displayName}),(0,s.jsx)(h.AvatarFallback,{className:"text-xl font-medium",children:J.displayName.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:J.displayName}),J.isSuperAdmin&&(0,s.jsx)(x.Badge,{variant:"default",className:"bg-purple-500 hover:bg-purple-500/80",children:"Super Admin"})]}),(0,s.jsxs)("p",{className:"text-muted-foreground flex items-center gap-1 mt-1",children:[(0,s.jsx)(P.Mail,{className:"h-4 w-4"}),J.email]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(()=>{let{variant:e,className:t}=(e=>{if(e.isDeleted)return{variant:"destructive"};let s=new Date(Date.now()-2592e6);return e.lastLoginAt&&new Date(e.lastLoginAt)>s?{variant:"default",className:"bg-green-500 hover:bg-green-500/80"}:e.lastLoginAt?{variant:"outline"}:{variant:"secondary",className:"bg-yellow-500 text-white hover:bg-yellow-500/80"}})(J);return(0,s.jsx)(x.Badge,{variant:e,className:t,children:(e=>{if(e.isDeleted)return"Deactivated";let s=new Date(Date.now()-2592e6);return e.lastLoginAt&&new Date(e.lastLoginAt)>s?"Active":e.lastLoginAt?"Inactive":"Pending"})(J)})})(),(0,s.jsx)(x.Badge,{variant:ex(J.systemRole),children:eh(J.systemRole)}),J.entityCount>0&&(0,s.jsxs)(x.Badge,{variant:"outline",children:[J.entityCount," ",1===J.entityCount?"Entity":"Entities"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:J.lastLoginAt?(0,s.jsxs)(s.Fragment,{children:["Last seen: ",(0,l.formatDistanceToNow)(new Date(J.lastLoginAt),{addSuffix:!0})]}):(0,s.jsx)(s.Fragment,{children:"Never logged in"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(m.Button,{variant:"outline",size:"sm",onClick:()=>{J&&(so({display_name:J.displayName||"",title:J.title||"",phone:J.phone||"",office_location:J.officeLocation||""}),ek(!0))},children:[(0,s.jsx)(D.Pencil,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsxs)(v.DropdownMenu,{children:[(0,s.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(m.Button,{variant:"outline",size:"icon",children:[(0,s.jsx)(A.MoreVertical,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"More actions"})]})}),(0,s.jsxs)(v.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,s.jsx)(v.DropdownMenuLabel,{children:"Actions"}),(0,s.jsx)(v.DropdownMenuSeparator,{}),J.isDeleted?(0,s.jsxs)(v.DropdownMenuItem,{onClick:()=>ev(!0),className:"text-green-600",children:[(0,s.jsx)(S.UserCheck,{className:"mr-2 h-4 w-4"}),"Reactivate"]}):(0,s.jsxs)(v.DropdownMenuItem,{onClick:()=>eN(!0),className:"text-destructive",children:[(0,s.jsx)(k.UserX,{className:"mr-2 h-4 w-4"}),"Deactivate"]}),(0,s.jsx)(v.DropdownMenuItem,{onClick:()=>eC(!0),className:"text-yellow-600",children:J.isDeleted?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F,{className:"mr-2 h-4 w-4"}),"Unlock"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Lock,{className:"mr-2 h-4 w-4"}),"Lock"]})}),(0,s.jsx)(v.DropdownMenuSeparator,{}),(0,s.jsxs)(v.DropdownMenuItem,{onClick:()=>eA(!0),disabled:J.isDeleted,children:[(0,s.jsx)(E.KeyRound,{className:"mr-2 h-4 w-4"}),"Reset Password"]})]})]})]})]})})}):null,J&&!Y&&(0,s.jsxs)(N.Tabs,{value:sr,onValueChange:sf,className:"w-full",children:[(0,s.jsxs)(N.TabsList,{className:"grid w-full grid-cols-4 md:w-auto md:inline-grid",children:[(0,s.jsxs)(N.TabsTrigger,{value:"profile",className:"flex items-center gap-2",children:[(0,s.jsx)(U.User,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Profile"})]}),(0,s.jsxs)(N.TabsTrigger,{value:"entities",className:"flex items-center gap-2",children:[(0,s.jsx)(K.Building2,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Entities"})]}),(0,s.jsxs)(N.TabsTrigger,{value:"activity",className:"flex items-center gap-2",children:[(0,s.jsx)(W.Activity,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Activity"})]}),(0,s.jsxs)(N.TabsTrigger,{value:"security",className:"flex items-center gap-2",children:[(0,s.jsx)(M.Shield,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Security"})]})]}),(0,s.jsxs)(N.TabsContent,{value:"profile",className:"mt-6 space-y-6",children:[(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(U.User,{className:"h-5 w-5"}),"Personal Information"]})}),(0,s.jsxs)(u.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display Name"}),(0,s.jsx)("p",{className:"font-medium",children:J.displayName||"—"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(P.Mail,{className:"h-4 w-4 text-muted-foreground"}),J.email||"—"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(B.Phone,{className:"h-4 w-4 text-muted-foreground"}),J.phone||"—"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Title"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(R.Briefcase,{className:"h-4 w-4 text-muted-foreground"}),J.title||"—"]})]}),(0,s.jsxs)("div",{className:"space-y-1 md:col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Office Location"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)($.MapPin,{className:"h-4 w-4 text-muted-foreground"}),J.officeLocation||"—"]})]})]})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(M.Shield,{className:"h-5 w-5"}),"Account Settings"]})}),(0,s.jsxs)(u.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"System Role"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Badge,{variant:ex(J.systemRole),children:eh(J.systemRole)}),J.isSuperAdmin&&(0,s.jsx)(x.Badge,{variant:"default",className:"bg-purple-500 hover:bg-purple-500/80",children:"Super Admin"})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"MFA Status"}),(0,s.jsx)("p",{className:"font-medium flex items-center gap-2",children:J.passwordSet?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.ShieldCheck,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{className:"text-green-600",children:"Enabled"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(M.Shield,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{className:"text-muted-foreground",children:"Not Configured"})]})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Account Created"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(z.Calendar,{className:"h-4 w-4 text-muted-foreground"}),J.createdAt?(0,r.format)(new Date(J.createdAt),"MMM d, yyyy"):"—"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Login"}),(0,s.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,s.jsx)(V.Clock,{className:"h-4 w-4 text-muted-foreground"}),J.lastLoginAt?(0,s.jsxs)(s.Fragment,{children:[(0,r.format)(new Date(J.lastLoginAt),"MMM d, yyyy"),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",(0,l.formatDistanceToNow)(new Date(J.lastLoginAt),{addSuffix:!0}),")"]})]}):"Never logged in"]})]})]})]})]}),(0,s.jsx)(N.TabsContent,{value:"entities",className:"mt-6",children:(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{className:"pb-4",children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(K.Building2,{className:"h-5 w-5"}),"Linked Entities"]})}),(0,s.jsx)(u.CardContent,{children:0===J.entities.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,s.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,s.jsx)(K.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No linked entities"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"This user is not associated with any entities. Entity associations are created during the invitation process."})]}):(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(ec.Table,{children:[(0,s.jsx)(ec.TableHeader,{children:(0,s.jsxs)(ec.TableRow,{children:[(0,s.jsx)(ec.TableHead,{className:"w-[50px]",children:"Type"}),(0,s.jsx)(ec.TableHead,{children:"Entity Name"}),(0,s.jsx)(ec.TableHead,{children:"Entity Type"}),(0,s.jsx)(ec.TableHead,{children:"Role"}),(0,s.jsx)(ec.TableHead,{className:"w-[100px] text-right",children:"Actions"})]})}),(0,s.jsx)(ec.TableBody,{children:J.entities.map(e=>{let t=ed[e.type];return(0,s.jsxs)(ec.TableRow,{children:[(0,s.jsx)(ec.TableCell,{children:(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)(t,{className:"h-5 w-5 text-muted-foreground"})})}),(0,s.jsx)(ec.TableCell,{className:"font-medium",children:e.name}),(0,s.jsx)(ec.TableCell,{children:(0,s.jsx)(x.Badge,{variant:"outline",children:eo[e.type]})}),(0,s.jsxs)(ec.TableCell,{children:[(0,s.jsx)(x.Badge,{variant:e.isPrimary?"default":"secondary",children:e.isPrimary?"Primary":"Member"}),e.canSign&&(0,s.jsx)(x.Badge,{variant:"outline",className:"ml-2",children:"Can Sign"})]}),(0,s.jsx)(ec.TableCell,{className:"text-right",children:(0,s.jsxs)(m.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{e_(e),eF(!0)},children:[(0,s.jsx)(Z.Trash2,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Remove entity"})]})})]},`${e.type}-${e.id}`)})})]})})})]})}),(0,s.jsx)(N.TabsContent,{value:"activity",className:"mt-6",children:(0,s.jsxs)(u.Card,{children:[(0,s.jsxs)(u.CardHeader,{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0 pb-4",children:[(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(ei.History,{className:"h-5 w-5"}),"Activity History",eO>0&&(0,s.jsxs)(x.Badge,{variant:"secondary",className:"ml-2",children:[eO," ",1===eO?"event":"events"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(y.Select,{value:eJ,onValueChange:e=>{eq(e),eG(0)},children:[(0,s.jsxs)(y.SelectTrigger,{className:"w-[180px]",children:[(0,s.jsx)(et.Filter,{className:"h-4 w-4 mr-2"}),(0,s.jsx)(y.SelectValue,{placeholder:"Filter by action"})]}),(0,s.jsxs)(y.SelectContent,{children:[(0,s.jsx)(y.SelectItem,{value:"all",children:"All Actions"}),eK.map(e=>(0,s.jsx)(y.SelectItem,{value:e,children:e.replace(/_/g," ")},e))]})]}),(0,s.jsxs)(m.Button,{variant:"outline",size:"sm",onClick:()=>{if(0===eR.length)return;let e=new Blob([["Timestamp,Action,Entity Type,Entity ID,IP Address",...eR.map(e=>[new Date(e.timestamp).toISOString(),e.action,e.entity_type||"",e.entity_id||"",e.ip_address||""]).map(e=>e.map(e=>`"${e}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download=`${J?.displayName||"user"}_activity_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s),n.toast.success("Activity exported",{description:`${eR.length} activities exported to CSV`})},disabled:0===eR.length,children:[(0,s.jsx)(ee.Download,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,s.jsxs)(u.CardContent,{children:[!eY&&!eB&&(0,s.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,s.jsxs)(m.Button,{variant:"outline",onClick:()=>sh(!0),children:[(0,s.jsx)(W.Activity,{className:"h-4 w-4 mr-2"}),"Load Activity"]})}),eB&&0===eR.length&&(0,s.jsx)("div",{className:"space-y-4 py-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)(j.Skeleton,{className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(j.Skeleton,{className:"h-4 w-3/4"}),(0,s.jsx)(j.Skeleton,{className:"h-3 w-1/2"})]})]},t))}),eY&&0===eR.length&&!eB&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,s.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,s.jsx)(es.FileText,{className:"h-8 w-8 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No activity recorded"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"all"!==eJ?`No "${eJ.replace(/_/g," ")}" actions found. Try selecting a different filter.`:"This user has no recorded activity in the system."}),"all"!==eJ&&(0,s.jsx)(m.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>eq("all"),children:"Clear Filter"})]}),eR.length>0&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border"}),eR.map((e,t)=>{let a,i,r,n;return(0,s.jsxs)("div",{className:"relative flex items-start gap-4 py-4 first:pt-0",children:[(0,s.jsx)("div",{className:"relative z-10 flex h-10 w-10 items-center justify-center rounded-full bg-background border-2 border-border",children:(0,s.jsx)(W.Activity,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:(i=(a=e.rawAction.split("_"))[0],r=a.slice(1).join(" ").toLowerCase(),n=({LOGIN:"Logged in",LOGOUT:"Logged out",VIEW:"Viewed",CREATE:"Created",UPDATE:"Updated",DELETE:"Deleted",APPROVE:"Approved",REJECT:"Rejected",SUBMIT:"Submitted",DOWNLOAD:"Downloaded",UPLOAD:"Uploaded",SIGN:"Signed",INVITE:"Invited"})[i]||e.action,e.entity_type?`${n} ${e.entity_type.replace(/_/g," ")}`:r?`${n} ${r}`:n)}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,l.formatDistanceToNow)(new Date(e.timestamp),{addSuffix:!0})})]}),e.entity_type&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,s.jsx)(x.Badge,{variant:"outline",className:"text-xs font-normal mr-2",children:e.entity_type.replace(/_/g," ")}),e.entity_id&&(0,s.jsxs)("span",{className:"text-xs font-mono",children:["ID: ",e.entity_id.slice(0,8),"..."]})]}),e.ip_address&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["IP: ",e.ip_address]})]})]},e.id)})]}),eH&&(0,s.jsx)("div",{className:"flex justify-center pt-4 mt-4 border-t",children:(0,s.jsx)(m.Button,{variant:"outline",onClick:()=>sh(!1),disabled:eB,children:eB?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea.ChevronDown,{className:"h-4 w-4 mr-2"}),"Load More"]})})}),!eH&&eR.length>0&&(0,s.jsxs)("p",{className:"text-center text-xs text-muted-foreground pt-4 mt-4 border-t",children:["Showing all ",eO," ",1===eO?"activity":"activities"]})]})]})]})}),(0,s.jsxs)(N.TabsContent,{value:"security",className:"mt-6 space-y-6",children:[(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(er,{className:"h-5 w-5"}),"Account Status"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Active Status"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:J.isDeleted?"Account is currently deactivated. User cannot access the platform.":"Account is active. User can access the platform normally."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Badge,{variant:J.isDeleted?"destructive":"default",className:J.isDeleted?"":"bg-green-500 hover:bg-green-500/80",children:J.isDeleted?"Inactive":"Active"}),(0,s.jsx)(f.Switch,{checked:!J.isDeleted,onCheckedChange:sj,disabled:st}),st&&(0,s.jsx)(G.Loader2,{className:"h-4 w-4 animate-spin"})]})]})})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[J.isDeleted?(0,s.jsx)(T.Lock,{className:"h-5 w-5 text-destructive"}):(0,s.jsx)(F,{className:"h-5 w-5 text-green-500"}),"Account Lock"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Lock Status"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:J.isDeleted?"Account is locked. User is temporarily blocked from accessing the platform.":"Account is unlocked. User has normal access to the platform."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(x.Badge,{variant:J.isDeleted?"destructive":"outline",children:J.isDeleted?"Locked":"Unlocked"}),(0,s.jsx)(f.Switch,{checked:J.isDeleted,onCheckedChange:sp,disabled:si}),si&&(0,s.jsx)(G.Loader2,{className:"h-4 w-4 animate-spin"})]})]})})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(E.KeyRound,{className:"h-5 w-5"}),"Password"]})}),(0,s.jsx)(u.CardContent,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Password Status"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:J.passwordSet?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.ShieldCheck,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)("span",{children:"Password is set."}),e3&&(0,s.jsxs)("span",{className:"text-xs",children:["Last changed ",(0,l.formatDistanceToNow)(new Date(e3),{addSuffix:!0})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.ShieldAlert,{className:"h-4 w-4 text-yellow-500"}),(0,s.jsx)("span",{children:"No password set (uses magic link login)"})]})})]}),(0,s.jsxs)(m.Button,{variant:"outline",size:"sm",onClick:()=>eA(!0),disabled:J.isDeleted||ep,children:[(0,s.jsx)(en.RefreshCw,{className:"h-4 w-4 mr-2"}),"Reset Password"]})]})})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(el,{className:"h-5 w-5"}),"Sessions"]})}),(0,s.jsx)(u.CardContent,{children:eQ||e0?e0?(0,s.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,s.jsx)(G.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Active Sessions"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e2>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Badge,{variant:"secondary",className:"mr-2",children:e2}),"recent login",1!==e2?"s":""," in the last 30 days"]}):"No recent session activity recorded"})]}),(0,s.jsxs)(m.Button,{variant:"destructive",size:"sm",onClick:()=>e7(!0),disabled:0===e2||J.isDeleted,children:[(0,s.jsx)(O,{className:"h-4 w-4 mr-2"}),"Revoke All"]})]}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center py-6",children:(0,s.jsxs)(m.Button,{variant:"outline",onClick:su,children:[(0,s.jsx)(en.RefreshCw,{className:"h-4 w-4 mr-2"}),"Load Security Data"]})})})]}),(0,s.jsxs)(u.Card,{children:[(0,s.jsx)(u.CardHeader,{children:(0,s.jsxs)(u.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(_.AlertTriangle,{className:"h-5 w-5"}),"Failed Logins"]})}),(0,s.jsx)(u.CardContent,{children:eQ||e0?e0?(0,s.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,s.jsx)(G.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"font-medium",children:"Failed Attempts (Last 24 Hours)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.Badge,{variant:e5>5?"destructive":e5>0?"secondary":"outline",className:0===e5?"bg-green-500/10 text-green-600 border-green-500/20":"",children:e5}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:0===e5?"No failed login attempts":e5>5?"High number of failed attempts - consider locking account":`failed attempt${1!==e5?"s":""} recorded`})]})]}):(0,s.jsx)("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Load security data to view failed login attempts"})})]})]})]}),(0,s.jsx)(w.AlertDialog,{open:ef,onOpenChange:eN,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(_.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Deactivate User"]}),(0,s.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to deactivate ",(0,s.jsx)("strong",{children:J?.displayName}),"? They will no longer be able to access the platform."]})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:ep,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sN,disabled:ep,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ep?"Deactivating...":"Deactivate"})]})]})}),(0,s.jsx)(w.AlertDialog,{open:ey,onOpenChange:ev,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(S.UserCheck,{className:"h-5 w-5 text-green-600"}),"Reactivate User"]}),(0,s.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to reactivate ",(0,s.jsx)("strong",{children:J?.displayName}),"? They will regain access to the platform."]})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:ep,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sy,disabled:ep,className:"bg-green-600 text-white hover:bg-green-600/90",children:ep?"Reactivating...":"Reactivate"})]})]})}),(0,s.jsx)(w.AlertDialog,{open:ew,onOpenChange:eC,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsx)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:J?.isDeleted?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F,{className:"h-5 w-5 text-yellow-600"}),"Unlock User"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(T.Lock,{className:"h-5 w-5 text-yellow-600"}),"Lock User"]})}),(0,s.jsx)(w.AlertDialogDescription,{children:J?.isDeleted?(0,s.jsxs)(s.Fragment,{children:["Are you sure you want to unlock ",(0,s.jsx)("strong",{children:J?.displayName}),"? They will be able to access the platform again."]}):(0,s.jsxs)(s.Fragment,{children:["Are you sure you want to lock ",(0,s.jsx)("strong",{children:J?.displayName}),"? They will be temporarily unable to access the platform."]})})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:ep,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sv,disabled:ep,className:"bg-yellow-600 text-white hover:bg-yellow-600/90",children:ep?"Processing...":J?.isDeleted?"Unlock":"Lock"})]})]})}),(0,s.jsx)(w.AlertDialog,{open:eb,onOpenChange:eA,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(E.KeyRound,{className:"h-5 w-5"}),"Reset Password"]}),(0,s.jsxs)(w.AlertDialogDescription,{children:["This will send a password reset email to ",(0,s.jsx)("strong",{children:J?.email}),". The user will need to click the link in the email to set a new password."]})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:ep,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sw,disabled:ep,children:ep?"Sending...":"Send Reset Email"})]})]})}),(0,s.jsx)(C.Dialog,{open:eD,onOpenChange:ek,children:(0,s.jsxs)(C.DialogContent,{className:"sm:max-w-[500px]",children:[(0,s.jsxs)(C.DialogHeader,{children:[(0,s.jsxs)(C.DialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(D.Pencil,{className:"h-5 w-5"}),"Edit Profile"]}),(0,s.jsxs)(C.DialogDescription,{children:["Update profile information for ",J?.displayName,"."]})]}),(0,s.jsxs)("form",{onSubmit:sd(sC),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.Label,{htmlFor:"display_name",children:"Display Name *"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(U.User,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(p.Input,{id:"display_name",placeholder:"John Smith",className:"pl-10",...sc("display_name")})]}),sm.display_name&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:sm.display_name.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.Label,{htmlFor:"title",children:"Title"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(R.Briefcase,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(p.Input,{id:"title",placeholder:"Managing Director",className:"pl-10",...sc("title")})]}),sm.title&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:sm.title.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.Label,{htmlFor:"phone",children:"Phone"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(B.Phone,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(p.Input,{id:"phone",placeholder:"+1 (555) 123-4567",className:"pl-10",...sc("phone")})]}),sm.phone&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:sm.phone.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(g.Label,{htmlFor:"office_location",children:"Office Location"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)($.MapPin,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(p.Input,{id:"office_location",placeholder:"New York, NY",className:"pl-10",...sc("office_location")})]}),sm.office_location&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:sm.office_location.message})]}),(0,s.jsxs)(C.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(m.Button,{type:"button",variant:"outline",onClick:()=>ek(!1),disabled:eS,children:"Cancel"}),(0,s.jsx)(m.Button,{type:"submit",disabled:eS,children:eS?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}),(0,s.jsx)(w.AlertDialog,{open:eL,onOpenChange:eF,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(_.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Remove Entity Link"]}),(0,s.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to unlink ",(0,s.jsx)("strong",{children:eE?.name})," from ",J?.displayName,"? The user will no longer have access to this entity's data."]})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:eP,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sb,disabled:eP,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:eP?"Removing...":"Remove"})]})]})}),(0,s.jsx)(w.AlertDialog,{open:e9,onOpenChange:e7,children:(0,s.jsxs)(w.AlertDialogContent,{children:[(0,s.jsxs)(w.AlertDialogHeader,{children:[(0,s.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(O,{className:"h-5 w-5 text-destructive"}),"Revoke All Sessions"]}),(0,s.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to revoke all active sessions for ",(0,s.jsx)("strong",{children:J?.displayName}),"? This will immediately log them out from all devices and browsers."]})]}),(0,s.jsxs)(w.AlertDialogFooter,{children:[(0,s.jsx)(w.AlertDialogCancel,{disabled:se,children:"Cancel"}),(0,s.jsx)(w.AlertDialogAction,{onClick:sg,disabled:se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:se?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoking..."]}):"Revoke All Sessions"})]})]})})]})}e.s(["default",()=>ej],420255)}]);