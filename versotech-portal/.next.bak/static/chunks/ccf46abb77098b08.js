(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,496383,e=>{"use strict";let t=(0,e.i(410587).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],496383)},398472,e=>{"use strict";let t=(0,e.i(410587).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],398472)},90613,e=>{"use strict";var t=e.i(722679),s=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},15098,e=>{"use strict";let t=(0,e.i(410587).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],15098)},196767,e=>{"use strict";let t=(0,e.i(410587).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],196767)},501495,e=>{"use strict";e.s(["formatBps",0,e=>null==e?"—":`${e} bps`,"formatCurrency",0,(e,t="USD")=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:0}).format(e):"$0","formatDate",0,e=>{if(!e)return"—";let t="string"==typeof e?new Date(e):e;return Number.isNaN(t?.getTime?.())?"—":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},761722,e=>{"use strict";let t=(0,e.i(410587).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],761722)},237635,e=>{"use strict";var t=e.i(722679),s=e.i(282141);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})})}function r({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function d({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function i({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>l,"TableCell",()=>i,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>n])},416469,e=>{"use strict";let t=(0,e.i(410587).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],416469)},871561,e=>{"use strict";let t=(0,e.i(410587).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],871561)},619962,e=>{"use strict";var t=e.i(722679),s=e.i(340915),a=e.i(400557),r=e.i(432598),l=e.i(761722),n=e.i(263229),d=e.i(401148),i=e.i(119311),c=e.i(316264),o=e.i(282141);function m({isOpen:e,document:m,previewUrl:x,isLoading:u,error:h,onClose:g,onDownload:p}){let[f,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1);(0,s.useEffect)(()=>(N(!0),()=>N(!1)),[]);let y=(0,s.useMemo)(()=>{var e;return x?(e=m?.file_name||m?.name,e?.toLowerCase().endsWith(".pdf")||x?.toLowerCase().includes(".pdf")||x?.includes("deal-documents")&&x?.includes(".pdf")||0)?x.includes("#")?x:`${x}#navpanes=0&view=FitH&pagemode=none`:x:null},[x,m]);if((0,s.useEffect)(()=>{let t=e=>{"Escape"===e.key&&g(),e.ctrlKey&&"d"===e.key&&(e.preventDefault(),p())};if(e&&1)return window.addEventListener("keydown",t),window.document?.body&&(window.document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",t),window.document?.body&&(window.document.body.style.overflow="")}},[e,g,p]),(0,s.useEffect)(()=>{b(!1)},[x]),!e||!j)return null;let v=(0,t.jsxs)("div",{className:"fixed inset-0 z-[9999] bg-black/95 overflow-hidden",children:[(0,t.jsxs)("div",{className:"h-16 bg-white border-b shadow-md flex items-center justify-between px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[(0,t.jsx)(i.FileText,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 truncate",children:m?.file_name||m?.name||"Document Preview"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[m?.type&&(0,t.jsx)("span",{className:"capitalize",children:m.type}),m?.file_size_bytes&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:(0,o.formatFileSize)(m.file_size_bytes)})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,t.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:p,className:"gap-2",children:[(0,t.jsx)(l.Download,{className:"h-4 w-4"}),"Download"]}),(0,t.jsxs)(c.Button,{variant:"ghost",size:"sm",onClick:g,className:"gap-2",children:[(0,t.jsx)(r.X,{className:"h-4 w-4"}),"Close"]})]})]}),(0,t.jsxs)("div",{className:"h-[calc(100vh-4rem)] bg-gray-900",children:[(u||h||f)&&(0,t.jsxs)("div",{className:"w-full h-full flex items-center justify-center",children:[u&&(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 text-white",children:[(0,t.jsx)(n.Loader2,{className:"h-12 w-12 animate-spin"}),(0,t.jsx)("p",{className:"text-lg",children:"Loading document..."})]}),h&&!u&&(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 text-white max-w-md mx-auto px-4",children:[(0,t.jsx)(d.AlertCircle,{className:"h-16 w-16 text-red-400"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Failed to Load Preview"}),(0,t.jsx)("p",{className:"text-gray-300 text-center",children:h}),(0,t.jsxs)(c.Button,{onClick:p,variant:"secondary",className:"gap-2 mt-4",children:[(0,t.jsx)(l.Download,{className:"h-4 w-4"}),"Download Instead"]})]}),f&&!u&&!h&&(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4 text-white max-w-md mx-auto px-4",children:[(0,t.jsx)(d.AlertCircle,{className:"h-16 w-16 text-red-400"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Preview Unavailable"}),(0,t.jsx)("p",{className:"text-gray-300 text-center",children:"This document cannot be previewed in your browser."}),(0,t.jsxs)(c.Button,{onClick:p,variant:"secondary",className:"gap-2 mt-4",children:[(0,t.jsx)(l.Download,{className:"h-4 w-4"}),"Download to View"]})]})]}),y&&!u&&!h&&!f&&(0,t.jsx)("iframe",{src:y,className:"w-full h-full border-0",title:"Document Preview",onError:()=>{console.error("iframe failed to load preview"),b(!0)}})]}),!u&&!h&&(0,t.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/60 text-sm bg-black/50 px-4 py-2 rounded-full",children:["Press ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-white/10 rounded mx-1",children:"ESC"})," to close or ",(0,t.jsx)("kbd",{className:"px-2 py-1 bg-white/10 rounded mx-1",children:"Ctrl+D"})," to download"]})]}),w=window.document.body;return w?(0,a.createPortal)(v,w):null}e.s(["DocumentViewerFullscreen",()=>m])},10994,e=>{"use strict";let t=(0,e.i(410587).default)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],10994)},416200,e=>{"use strict";let t=(0,e.i(410587).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],416200)},682950,e=>{"use strict";let t=(0,e.i(410587).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["HelpCircle",()=>t],682950)},385838,e=>{"use strict";let t=(0,e.i(410587).default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);e.s(["Landmark",()=>t],385838)},14467,e=>{"use strict";var t=e.i(340915),s=e.i(679472),a=e.i(47264),r=e.i(68977),l=e.i(990290),n=e.i(886978),d=e.i(362208),i=e.i(873358),c=e.i(798827),o=e.i(722679),m="Collapsible",[x,u]=(0,a.createContextScope)(m),[h,g]=x(m),p=t.forwardRef((e,s)=>{let{__scopeCollapsible:a,open:l,defaultOpen:n,disabled:i,onOpenChange:x,...u}=e,[g,p]=(0,r.useControllableState)({prop:l,defaultProp:n??!1,onChange:x,caller:m});return(0,o.jsx)(h,{scope:a,disabled:i,contentId:(0,c.useId)(),open:g,onOpenToggle:t.useCallback(()=>p(e=>!e),[p]),children:(0,o.jsx)(d.Primitive.div,{"data-state":v(g),"data-disabled":i?"":void 0,...u,ref:s})})});p.displayName=m;var f="CollapsibleTrigger",b=t.forwardRef((e,t)=>{let{__scopeCollapsible:a,...r}=e,l=g(f,a);return(0,o.jsx)(d.Primitive.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":v(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...r,ref:t,onClick:(0,s.composeEventHandlers)(e.onClick,l.onOpenToggle)})});b.displayName=f;var j="CollapsibleContent",N=t.forwardRef((e,t)=>{let{forceMount:s,...a}=e,r=g(j,e.__scopeCollapsible);return(0,o.jsx)(i.Presence,{present:s||r.open,children:({present:e})=>(0,o.jsx)(y,{...a,ref:t,present:e})})});N.displayName=j;var y=t.forwardRef((e,s)=>{let{__scopeCollapsible:a,present:r,children:i,...c}=e,m=g(j,a),[x,u]=t.useState(r),h=t.useRef(null),p=(0,n.useComposedRefs)(s,h),f=t.useRef(0),b=f.current,N=t.useRef(0),y=N.current,w=m.open||x,k=t.useRef(w),C=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.useLayoutEffect)(()=>{let e=h.current;if(e){C.current=C.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();f.current=t.height,N.current=t.width,k.current||(e.style.transitionDuration=C.current.transitionDuration,e.style.animationName=C.current.animationName),u(r)}},[m.open,r]),(0,o.jsx)(d.Primitive.div,{"data-state":v(m.open),"data-disabled":m.disabled?"":void 0,id:m.contentId,hidden:!w,...c,ref:p,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:w&&i})});function v(e){return e?"open":"closed"}e.s(["CollapsibleContent",()=>N,"CollapsibleTrigger",()=>b,"Content",()=>N,"Root",()=>p,"Trigger",()=>b,"createCollapsibleScope",()=>u])},799359,e=>{"use strict";var t=e.i(14467);let s=t.Root,a=t.CollapsibleTrigger,r=t.CollapsibleContent;e.s(["Collapsible",()=>s,"CollapsibleContent",()=>r,"CollapsibleTrigger",()=>a])},71637,e=>{"use strict";let t=(0,e.i(410587).default)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);e.s(["ScrollText",()=>t],71637)},654588,e=>{"use strict";let t=(0,e.i(410587).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],654588)},223271,e=>{"use strict";let t=(0,e.i(410587).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],223271)},531170,e=>{"use strict";var t=e.i(722679),s=e.i(340915),a=e.i(820417),r=e.i(337684),l=e.i(90613),n=e.i(129432),d=e.i(316264),i=e.i(994500),c=e.i(619962),o=e.i(237635),m=e.i(799359),x=e.i(396132),u=e.i(971743),h=e.i(15098),g=e.i(230112),p=e.i(645855),f=e.i(196767),b=e.i(761722),j=e.i(398472),N=e.i(496383),y=e.i(119311);let v=(0,e.i(410587).default)("gavel",[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]]);var w=e.i(416469),k=e.i(682950),C=e.i(385838),_=e.i(654588),T=e.i(263229),D=e.i(871561),M=e.i(71637),S=e.i(981218),F=e.i(223271),B=e.i(416200),z=e.i(733179),H=e.i(704477),A=e.i(501259),P=e.i(10994),E=e.i(282141),L=e.i(501495);let R={open:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",draft:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600",closed:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",cancelled:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700",allocation_pending:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",fully_subscribed:"bg-violet-100 text-violet-800 border-violet-300 dark:bg-violet-900/30 dark:text-violet-300 dark:border-violet-700"},U={active:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",pending:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",completed:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",removed:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600"},q={funded:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",partial:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",awaiting_funding:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",pending_signature:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600"},I={funded:"Funded",partial:"Partially Funded",awaiting_funding:"Awaiting Funding",pending_signature:"Pending Signature"},V={nda:{icon:(0,t.jsx)(S.Shield,{className:"h-4 w-4"}),label:"NDA",color:"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30"},term_sheet:{icon:(0,t.jsx)(M.ScrollText,{className:"h-4 w-4"}),label:"Term Sheet",color:"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/30"},subscription_pack:{icon:(0,t.jsx)(y.FileText,{className:"h-4 w-4"}),label:"Subscription Pack",color:"text-emerald-600 bg-emerald-50 dark:text-emerald-400 dark:bg-emerald-900/30"},subscription_draft:{icon:(0,t.jsx)(y.FileText,{className:"h-4 w-4"}),label:"Subscription Draft",color:"text-amber-600 bg-amber-50 dark:text-amber-400 dark:bg-amber-900/30"},investment_memo:{icon:(0,t.jsx)(B.Target,{className:"h-4 w-4"}),label:"Investment Memo",color:"text-violet-600 bg-violet-50 dark:text-violet-400 dark:bg-violet-900/30"},financial_statements:{icon:(0,t.jsx)(z.TrendingUp,{className:"h-4 w-4"}),label:"Financial Statements",color:"text-cyan-600 bg-cyan-50 dark:text-cyan-400 dark:bg-cyan-900/30"},legal_document:{icon:(0,t.jsx)(v,{className:"h-4 w-4"}),label:"Legal Document",color:"text-indigo-600 bg-indigo-50 dark:text-indigo-400 dark:bg-indigo-900/30"},pitch_deck:{icon:(0,t.jsx)(_.Layers,{className:"h-4 w-4"}),label:"Pitch Deck",color:"text-pink-600 bg-pink-50 dark:text-pink-400 dark:bg-pink-900/30"},due_diligence:{icon:(0,t.jsx)(k.HelpCircle,{className:"h-4 w-4"}),label:"Due Diligence",color:"text-orange-600 bg-orange-50 dark:text-orange-400 dark:bg-orange-900/30"},other:{icon:(0,t.jsx)(y.FileText,{className:"h-4 w-4"}),label:"Document",color:"text-muted-foreground bg-muted dark:text-slate-400 dark:bg-slate-800"}};function $({data:e}){var _;let{deal:M,vehicle:S,assignment:B,escrow:$,subscriptions:O,documents:K,faqs:W,fee_summary:G}=e,[Q,X]=(0,s.useState)(null),[Y,J]=(0,s.useState)(null),[Z,ee]=(0,s.useState)(null),[et,es]=(0,s.useState)(!1),[ea,er]=(0,s.useState)(null),[el,en]=(0,s.useState)(new Set),ed=(0,s.useCallback)(async e=>{try{let t=await fetch(`/api/documents/${e}/download`);if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to fetch document")}let s=await t.json();return s.url||s.signedUrl||null}catch(e){throw console.error("Error fetching signed URL:",e),e}},[]),ei=(0,s.useCallback)(async e=>{if(!e.has_file&&!e.external_url)return void i.toast.error("This document has no file attached");J(e),es(!0),er(null),ee(null);try{if(e.external_url)ee(e.external_url);else{let t=await ed(e.id);ee(t)}}catch(e){er(e instanceof Error?e.message:"Failed to load document")}finally{es(!1)}},[ed]),ec=(0,s.useCallback)(async e=>{if(!e.has_file&&!e.external_url)return void i.toast.error("This document has no file attached");en(t=>new Set(t).add(e.id));try{if(e.external_url)window.open(e.external_url,"_blank");else{let t=await ed(e.id);t&&(window.open(t,"_blank"),i.toast.success("Document download started"))}}catch(e){i.toast.error(e instanceof Error?e.message:"Failed to download document")}finally{en(t=>{let s=new Set(t);return s.delete(e.id),s})}},[ed]),eo=(0,s.useCallback)(()=>{J(null),ee(null),er(null)},[]),em=(0,s.useMemo)(()=>G.partner_fees.pending+G.introducer_fees.pending+G.cp_fees.pending,[G]),ex=(0,s.useMemo)(()=>G.partner_fees.paid+G.introducer_fees.paid+G.cp_fees.paid,[G]),eu=(0,s.useMemo)(()=>0===$.total_committed?0:Math.round($.total_funded/$.total_committed*100),[$]),eh=(0,s.useMemo)(()=>M.target_amount&&0!==M.target_amount?Math.round($.total_committed/Number(M.target_amount)*100):0,[M.target_amount,$.total_committed]),eg=(0,s.useMemo)(()=>{let e={};return K.forEach(t=>{let s=t.type||"other";e[s]||(e[s]=[]),e[s].push(t)}),e},[K]);return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-muted/50 to-background",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,t.jsxs)("header",{className:"space-y-6",children:[(0,t.jsxs)(a.default,{href:"/versotech_main/assigned-deals",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors group",children:[(0,t.jsx)(x.ArrowLeft,{className:"h-4 w-4 transition-transform group-hover:-translate-x-1"}),"Back to Assigned Deals"]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[(0,t.jsx)("div",{className:"relative h-24 w-24 rounded-2xl bg-card flex items-center justify-center overflow-hidden shadow-lg border border-border",children:M.company_logo_url?(0,t.jsx)(r.default,{src:M.company_logo_url,alt:M.company_name||M.name,fill:!0,className:"object-cover"}):(0,t.jsx)(u.Building2,{className:"h-12 w-12 text-muted-foreground/50"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:M.name}),(0,t.jsx)(n.Badge,{variant:"outline",className:(0,E.cn)("capitalize font-semibold text-sm px-3 py-1",R[M.status]||R.draft),children:M.status.replace(/_/g," ")})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[M.company_name&&(0,t.jsxs)("span",{className:"flex items-center gap-1.5 font-medium",children:[(0,t.jsx)(u.Building2,{className:"h-4 w-4 text-muted-foreground"}),M.company_name]}),M.sector&&(0,t.jsx)(n.Badge,{variant:"secondary",className:"font-medium",children:M.sector}),M.stage&&(0,t.jsx)(n.Badge,{variant:"outline",className:"font-medium",children:M.stage}),M.location&&(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(D.MapPin,{className:"h-4 w-4 text-muted-foreground"}),M.location]}),M.company_website&&(0,t.jsxs)("a",{href:M.company_website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 transition-colors",children:[(0,t.jsx)(w.Globe,{className:"h-4 w-4"}),"Website",(0,t.jsx)(j.ExternalLink,{className:"h-3 w-3"})]})]})]})]})]}),(0,t.jsx)(l.Card,{className:"border-l-4 border-l-indigo-500 bg-gradient-to-r from-indigo-50/60 to-background dark:from-indigo-950/30 dark:to-background shadow-sm",children:(0,t.jsxs)(l.CardContent,{className:"py-5",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center shadow-sm",children:(0,t.jsx)(v,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wider",children:"Your Assignment"}),(0,t.jsx)("p",{className:"text-xl font-bold text-foreground capitalize",children:B.role.replace(/_/g," ")})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,t.jsxs)("div",{className:"text-center sm:text-right",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,t.jsx)(n.Badge,{variant:"outline",className:(0,E.cn)("capitalize mt-1",U[B.status]||U.pending),children:B.status})]}),(0,t.jsxs)("div",{className:"text-center sm:text-right",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Assigned"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground mt-1",children:(0,L.formatDate)(B.assigned_at)})]}),B.assigned_by&&(0,t.jsxs)("div",{className:"text-center sm:text-right",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"By"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground mt-1",children:B.assigned_by})]})]})]}),B.notes&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-indigo-100 dark:border-indigo-900/50",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-semibold text-foreground/80",children:"Notes:"})," ",B.notes]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsx)(l.CardHeader,{className:"pb-4",children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(u.Building2,{className:"h-5 w-5 text-muted-foreground"}),"Company Overview"]})}),(0,t.jsxs)(l.CardContent,{className:"space-y-4",children:[M.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Description"}),(0,t.jsx)("p",{className:"text-sm text-foreground/80 leading-relaxed",children:M.description})]}),M.investment_thesis&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Investment Thesis"}),(0,t.jsx)("p",{className:"text-sm text-foreground/80 leading-relaxed",children:M.investment_thesis})]}),!M.description&&!M.investment_thesis&&(0,t.jsxs)("div",{className:"py-8 text-center",children:[(0,t.jsx)(u.Building2,{className:"h-10 w-10 text-muted-foreground/40 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No company overview available"})]})]})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsx)(l.CardHeader,{className:"pb-4",children:(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(f.DollarSign,{className:"h-5 w-5 text-muted-foreground"}),"Investment Terms"]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Target"}),(0,t.jsx)("p",{className:"text-lg font-bold text-foreground",children:M.target_amount?(0,L.formatCurrency)(Number(M.target_amount),M.currency):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Raised"}),(0,t.jsx)("p",{className:"text-lg font-bold text-emerald-600",children:M.raised_amount?(0,L.formatCurrency)(Number(M.raised_amount),M.currency):"$0"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Min Investment"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:M.minimum_investment?(0,L.formatCurrency)(Number(M.minimum_investment),M.currency):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Max Investment"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:M.maximum_investment?(0,L.formatCurrency)(Number(M.maximum_investment),M.currency):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Price/Unit"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:M.offer_unit_price?(0,L.formatCurrency)(Number(M.offer_unit_price),M.currency):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Deal Type"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:(_=M.deal_type)?_.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Opens"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:M.open_at?(0,L.formatDate)(M.open_at):"N/A"})]}),(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Closes"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-foreground",children:M.close_at?(0,L.formatDate)(M.close_at):"N/A"})]})]})})]})]}),S&&(0,t.jsx)(l.Card,{className:"shadow-sm border-l-4 border-l-cyan-500",children:(0,t.jsx)(l.CardContent,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-cyan-100 dark:bg-cyan-900/50 flex items-center justify-center",children:(0,t.jsx)(C.Landmark,{className:"h-5 w-5 text-cyan-600 dark:text-cyan-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wider",children:"Investment Vehicle"}),(0,t.jsx)("p",{className:"text-lg font-bold text-foreground",children:S.name}),S.legal_name&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:S.legal_name})]}),S.vehicle_type&&(0,t.jsx)(n.Badge,{variant:"outline",className:"capitalize",children:S.vehicle_type.replace(/_/g," ")})]})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[(0,t.jsx)(P.Wallet,{className:"h-5 w-5 text-muted-foreground"}),"Escrow Overview"]}),(0,t.jsx)(a.default,{href:"/versotech_main/escrow",children:(0,t.jsxs)(d.Button,{variant:"outline",size:"sm",className:"gap-2",children:["View Escrow",(0,t.jsx)(j.ExternalLink,{className:"h-3.5 w-3.5"})]})})]}),(0,t.jsx)(l.Card,{className:"shadow-sm",children:(0,t.jsxs)(l.CardContent,{className:"py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Target Progress"}),(0,t.jsxs)("span",{className:"text-sm font-bold text-foreground",children:[eh,"%"]})]}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-500",style:{width:`${Math.min(eh,100)}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Committed: ",(0,L.formatCurrency)($.total_committed,$.currency)]}),(0,t.jsxs)("span",{children:["Target: ",M.target_amount?(0,L.formatCurrency)(Number(M.target_amount),M.currency):"N/A"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(l.Card,{className:"shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-blue-400 to-blue-600"}),(0,t.jsx)(l.CardContent,{className:"pt-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Committed"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:(0,L.formatCurrency)($.total_committed,$.currency)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[O.length," subscription",1!==O.length?"s":""]})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center",children:(0,t.jsx)(z.TrendingUp,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-emerald-400 to-emerald-600"}),(0,t.jsx)(l.CardContent,{className:"pt-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Funded"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-emerald-600 mt-1",children:(0,L.formatCurrency)($.total_funded,$.currency)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[eu,"% of commitment"]})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center",children:(0,t.jsx)(h.CheckCircle2,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})]})})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-amber-400 to-amber-600"}),(0,t.jsx)(l.CardContent,{className:"pt-5",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Pending Confirmations"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-amber-600 mt-1",children:$.pending_confirmations}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting funding"})]}),(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:(0,t.jsx)(p.Clock,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})})]})]})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(A.Users,{className:"h-5 w-5 text-muted-foreground"}),"Subscriptions"]}),(0,t.jsx)(l.CardDescription,{children:"Investor commitments and funding status"})]}),(0,t.jsxs)(n.Badge,{variant:"secondary",className:"text-sm font-semibold",children:[O.length," Total"]})]})}),(0,t.jsx)(l.CardContent,{children:0===O.length?(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-xl py-12 flex flex-col items-center justify-center text-center",children:[(0,t.jsx)(A.Users,{className:"h-12 w-12 text-muted-foreground/40 mb-3"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"No subscriptions yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Subscriptions will appear here when investors commit"})]}):(0,t.jsx)("div",{className:"rounded-xl border overflow-hidden",children:(0,t.jsxs)(o.Table,{children:[(0,t.jsx)(o.TableHeader,{children:(0,t.jsxs)(o.TableRow,{className:"bg-muted",children:[(0,t.jsx)(o.TableHead,{className:"font-semibold",children:"Investor"}),(0,t.jsx)(o.TableHead,{className:"text-right font-semibold",children:"Commitment"}),(0,t.jsx)(o.TableHead,{className:"text-right font-semibold",children:"Funded"}),(0,t.jsx)(o.TableHead,{className:"font-semibold",children:"Signed"}),(0,t.jsx)(o.TableHead,{className:"font-semibold",children:"Status"})]})}),(0,t.jsx)(o.TableBody,{children:O.map(e=>(0,t.jsxs)(o.TableRow,{className:"hover:bg-muted/50",children:[(0,t.jsx)(o.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-muted to-muted/70 flex items-center justify-center",children:(0,t.jsx)(H.User,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-foreground",children:e.investor_name}),e.investor_entity&&e.investor_entity!==e.investor_name&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.investor_entity})]})]})}),(0,t.jsx)(o.TableCell,{className:"text-right",children:(0,t.jsx)("span",{className:"font-bold text-foreground",children:(0,L.formatCurrency)(e.commitment_amount,e.currency)})}),(0,t.jsx)(o.TableCell,{className:"text-right",children:(0,t.jsx)("span",{className:(0,E.cn)("font-bold",e.funded_amount>=e.commitment_amount?"text-emerald-600":e.funded_amount>0?"text-amber-600":"text-slate-400"),children:(0,L.formatCurrency)(e.funded_amount,e.currency)})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.signed_at?(0,L.formatDate)(e.signed_at):"—"})}),(0,t.jsx)(o.TableCell,{children:(0,t.jsx)(n.Badge,{variant:"outline",className:(0,E.cn)("font-medium",q[e.funding_status]||q.pending_signature),children:I[e.funding_status]||e.funding_status})})]},e.id))})]})})})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(y.FileText,{className:"h-5 w-5 text-muted-foreground"}),"Data Room"]}),(0,t.jsxs)(l.CardDescription,{children:["All deal documents (",K.length," total)"]})]})})}),(0,t.jsx)(l.CardContent,{children:0===K.length?(0,t.jsxs)("div",{className:"border-2 border-dashed border-border rounded-xl py-12 flex flex-col items-center justify-center text-center",children:[(0,t.jsx)(y.FileText,{className:"h-12 w-12 text-muted-foreground/40 mb-3"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"No documents available"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Documents will appear here when uploaded"})]}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(eg).map(([e,s])=>{let a=V[e]||V.other;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:(0,E.cn)("h-7 w-7 rounded-lg flex items-center justify-center",a.color),children:a.icon}),(0,t.jsx)("h4",{className:"font-semibold text-foreground/80",children:a.label}),(0,t.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:s.length})]}),(0,t.jsx)("div",{className:"grid gap-2 pl-9",children:s.map(e=>{var s;let a=el.has(e.id),r=e.has_file||e.external_url;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted hover:bg-muted/80 transition-colors group",children:[(0,t.jsx)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium text-sm text-foreground truncate",children:e.name}),!e.is_published&&(0,t.jsx)(n.Badge,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200",children:"Draft"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[(0,t.jsx)("span",{children:(0,L.formatDate)(e.created_at)}),e.file_size_bytes&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:(s=e.file_size_bytes)?s<1024?`${s} B`:s<1048576?`${(s/1024).toFixed(1)} KB`:`${(s/1048576).toFixed(1)} MB`:""})]})]})]})}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"gap-1.5 opacity-70 group-hover:opacity-100 transition-opacity",onClick:()=>ei(e),children:[(0,t.jsx)(N.Eye,{className:"h-4 w-4"}),"Preview"]}),(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"gap-1.5 opacity-70 group-hover:opacity-100 transition-opacity",onClick:()=>ec(e),disabled:a,children:[a?(0,t.jsx)(T.Loader2,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(b.Download,{className:"h-4 w-4"}),"Download"]})]})]},e.id)})})]},e)})})})]}),W.length>0&&(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsxs)(l.CardHeader,{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(k.HelpCircle,{className:"h-5 w-5 text-muted-foreground"}),"Frequently Asked Questions"]}),(0,t.jsxs)(l.CardDescription,{children:[W.length," question",1!==W.length?"s":""," about this deal"]})]}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:W.map(e=>(0,t.jsxs)(m.Collapsible,{open:Q===e.id,onOpenChange:t=>X(t?e.id:null),children:[(0,t.jsx)(m.CollapsibleTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:"w-full flex items-center justify-between p-4 rounded-lg bg-muted hover:bg-muted/80 transition-colors text-left group",children:[(0,t.jsx)("span",{className:"font-semibold text-foreground pr-4",children:e.question}),(0,t.jsx)(g.ChevronDown,{className:(0,E.cn)("h-5 w-5 text-muted-foreground transition-transform",Q===e.id&&"rotate-180")})]})}),(0,t.jsx)(m.CollapsibleContent,{children:(0,t.jsx)("div",{className:"px-4 pb-4 pt-2",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap",children:e.answer})})})]},e.id))})})]}),(0,t.jsxs)(l.Card,{className:"shadow-sm",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(F.Tag,{className:"h-5 w-5 text-muted-foreground"}),"Fee Summary"]}),(0,t.jsx)(l.CardDescription,{children:"Commission payments for this deal"})]}),(0,t.jsx)(a.default,{href:"/versotech_main/reconciliation",children:(0,t.jsxs)(d.Button,{variant:"outline",size:"sm",className:"gap-2",children:["View All",(0,t.jsx)(j.ExternalLink,{className:"h-3.5 w-3.5"})]})})]})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-xl bg-violet-100 dark:bg-violet-900/50 flex items-center justify-center",children:(0,t.jsx)(A.Users,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})}),(0,t.jsx)("span",{className:"font-semibold text-foreground",children:"Partner Fees"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:(0,E.cn)("font-bold",G.partner_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,L.formatCurrency)(G.partner_fees.pending,$.currency)," pending"]}),G.partner_fees.paid>0&&(0,t.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,L.formatCurrency)(G.partner_fees.paid,$.currency)," paid"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center",children:(0,t.jsx)(H.User,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsx)("span",{className:"font-semibold text-foreground",children:"Introducer Fees"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:(0,E.cn)("font-bold",G.introducer_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,L.formatCurrency)(G.introducer_fees.pending,$.currency)," pending"]}),G.introducer_fees.paid>0&&(0,t.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,L.formatCurrency)(G.introducer_fees.paid,$.currency)," paid"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center",children:(0,t.jsx)(u.Building2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),(0,t.jsx)("span",{className:"font-semibold text-foreground",children:"Commercial Partner Fees"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:(0,E.cn)("font-bold",G.cp_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,L.formatCurrency)(G.cp_fees.pending,$.currency)," pending"]}),G.cp_fees.paid>0&&(0,t.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,L.formatCurrency)(G.cp_fees.paid,$.currency)," paid"]})]})]}),(0,t.jsx)("div",{className:"pt-4 mt-4 border-t-2 border-border",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-foreground",children:"Total"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:(0,E.cn)("text-xl font-bold",em>0?"text-amber-600":"text-slate-400"),children:[(0,L.formatCurrency)(em,$.currency)," pending"]}),ex>0&&(0,t.jsxs)("p",{className:"text-sm font-semibold text-emerald-600",children:[(0,L.formatCurrency)(ex,$.currency)," paid"]})]})]})})]})})]})]}),(0,t.jsx)(c.DocumentViewerFullscreen,{isOpen:!!Y,document:Y?{id:Y.id,name:Y.name,file_name:Y.name,type:Y.type||"other",file_size_bytes:Y.file_size_bytes||void 0,mime_type:Y.mime_type||void 0}:null,previewUrl:Z,isLoading:et,error:ea,onClose:eo,onDownload:()=>Y&&ec(Y)})]})}e.s(["LawyerDealClient",()=>$],531170)}]);