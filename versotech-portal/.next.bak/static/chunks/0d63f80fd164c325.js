(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,262823,e=>{"use strict";let a=(0,e.i(410587).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>a],262823)},758768,e=>{"use strict";let a=(0,e.i(410587).default)("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);e.s(["FileCheck",()=>a],758768)},385838,e=>{"use strict";let a=(0,e.i(410587).default)("landmark",[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]]);e.s(["Landmark",()=>a],385838)},742488,e=>{"use strict";var a=e.i(722679),t=e.i(340915),s=e.i(820417),i=e.i(90613),l=e.i(129432),r=e.i(316264),n=e.i(429760),d=e.i(396132),c=e.i(971743),o=e.i(773510),m=e.i(957114),u=e.i(416469),x=e.i(871561),h=e.i(119311),p=e.i(645855),j=e.i(981218),g=e.i(551544),_=e.i(501259),v=e.i(385838),y=e.i(758768),N=e.i(561866),f=e.i(771750),b=e.i(137533),C=e.i(603274),S=e.i(352776),T=e.i(191569),w=e.i(514133),k=e.i(816654),I=e.i(538892),L=e.i(994500);let B=[{label:"Entity",value:"entity"},{label:"Individual",value:"individual"}],F=[{label:"Bank",value:"bank"},{label:"Insurance",value:"insurance"},{label:"Wealth Manager",value:"wealth-manager"},{label:"Broker",value:"broker"},{label:"Custodian",value:"custodian"},{label:"Other",value:"other"}],M=[{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Inactive",value:"inactive"}],D=[{label:"Not Started",value:"not_started"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Expired",value:"expired"},{label:"Rejected",value:"rejected"}];function E({open:e,onOpenChange:s,partner:i}){let l=(0,C.useRouter)(),[n,d]=(0,t.useTransition)(),[c,o]=(0,t.useState)(i.name),[m,u]=(0,t.useState)(i.legal_name||""),[x,h]=(0,t.useState)(i.type),[p,j]=(0,t.useState)(i.cp_type),[g,_]=(0,t.useState)(i.status),[v,y]=(0,t.useState)(i.regulatory_status||""),[N,f]=(0,t.useState)(i.regulatory_number||""),[b,E]=(0,t.useState)(i.jurisdiction||""),[P,H]=(0,t.useState)(i.contact_name||""),[K,A]=(0,t.useState)(i.contact_email||""),[R,z]=(0,t.useState)(i.contact_phone||""),[O,U]=(0,t.useState)(i.website||""),[V,Y]=(0,t.useState)(i.address_line_1||""),[$,q]=(0,t.useState)(i.address_line_2||""),[J,W]=(0,t.useState)(i.city||""),[G,Z]=(0,t.useState)(i.postal_code||""),[Q,X]=(0,t.useState)(i.country||""),[ee,ea]=(0,t.useState)(i.payment_terms||""),[et,es]=(0,t.useState)(i.notes||""),[ei,el]=(0,t.useState)(i.kyc_status||"not_started"),[er,en]=(0,t.useState)(i.kyc_notes||"");return(0,t.useEffect)(()=>{e&&(o(i.name),u(i.legal_name||""),h(i.type),j(i.cp_type),_(i.status),y(i.regulatory_status||""),f(i.regulatory_number||""),E(i.jurisdiction||""),H(i.contact_name||""),A(i.contact_email||""),z(i.contact_phone||""),U(i.website||""),Y(i.address_line_1||""),q(i.address_line_2||""),W(i.city||""),Z(i.postal_code||""),X(i.country||""),ea(i.payment_terms||""),es(i.notes||""),el(i.kyc_status||"not_started"),en(i.kyc_notes||""))},[e,i]),(0,a.jsx)(S.Dialog,{open:e,onOpenChange:s,children:(0,a.jsxs)(S.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(S.DialogHeader,{children:[(0,a.jsx)(S.DialogTitle,{children:"Edit Commercial Partner"}),(0,a.jsxs)(S.DialogDescription,{children:["Update information for ",i.name]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"name",children:"Name *"}),(0,a.jsx)(T.Input,{id:"name",value:c,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,a.jsx)(T.Input,{id:"legalName",value:m,onChange:e=>u(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{children:"Entity Type"}),(0,a.jsxs)(I.Select,{value:x,onValueChange:h,children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{})}),(0,a.jsx)(I.SelectContent,{children:B.map(e=>(0,a.jsx)(I.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{children:"Partner Type"}),(0,a.jsxs)(I.Select,{value:p,onValueChange:j,children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{})}),(0,a.jsx)(I.SelectContent,{children:F.map(e=>(0,a.jsx)(I.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{children:"Status"}),(0,a.jsxs)(I.Select,{value:g,onValueChange:_,children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{})}),(0,a.jsx)(I.SelectContent,{children:M.map(e=>(0,a.jsx)(I.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Regulatory Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"regulatoryStatus",children:"Regulatory Status"}),(0,a.jsx)(T.Input,{id:"regulatoryStatus",value:v,onChange:e=>y(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"regulatoryNumber",children:"Regulatory Number"}),(0,a.jsx)(T.Input,{id:"regulatoryNumber",value:N,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"jurisdiction",children:"Jurisdiction"}),(0,a.jsx)(T.Input,{id:"jurisdiction",value:b,onChange:e=>E(e.target.value)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Contact Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"contactName",children:"Contact Name"}),(0,a.jsx)(T.Input,{id:"contactName",value:P,onChange:e=>H(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"contactEmail",children:"Email"}),(0,a.jsx)(T.Input,{id:"contactEmail",type:"email",value:K,onChange:e=>A(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"contactPhone",children:"Phone"}),(0,a.jsx)(T.Input,{id:"contactPhone",value:R,onChange:e=>z(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"website",children:"Website"}),(0,a.jsx)(T.Input,{id:"website",value:O,onChange:e=>U(e.target.value),placeholder:"https://"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Address"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"addressLine1",children:"Address Line 1"}),(0,a.jsx)(T.Input,{id:"addressLine1",value:V,onChange:e=>Y(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"addressLine2",children:"Address Line 2"}),(0,a.jsx)(T.Input,{id:"addressLine2",value:$,onChange:e=>q(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"city",children:"City"}),(0,a.jsx)(T.Input,{id:"city",value:J,onChange:e=>W(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"postalCode",children:"Postal Code"}),(0,a.jsx)(T.Input,{id:"postalCode",value:G,onChange:e=>Z(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"country",children:"Country"}),(0,a.jsx)(T.Input,{id:"country",value:Q,onChange:e=>X(e.target.value)})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Business Terms"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,a.jsx)(T.Input,{id:"paymentTerms",value:ee,onChange:e=>ea(e.target.value),placeholder:"e.g. Net 30"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"KYC Status"}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{children:"KYC Status"}),(0,a.jsxs)(I.Select,{value:ei,onValueChange:el,children:[(0,a.jsx)(I.SelectTrigger,{children:(0,a.jsx)(I.SelectValue,{})}),(0,a.jsx)(I.SelectContent,{children:D.map(e=>(0,a.jsx)(I.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"kycNotes",children:"KYC Notes"}),(0,a.jsx)(k.Textarea,{id:"kycNotes",value:er,onChange:e=>en(e.target.value),rows:2})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(w.Label,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(k.Textarea,{id:"notes",value:et,onChange:e=>es(e.target.value),rows:3})]})]}),(0,a.jsxs)(S.DialogFooter,{children:[(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>s(!1),disabled:n,children:"Cancel"}),(0,a.jsx)(r.Button,{onClick:()=>{d(async()=>{if(!c.trim())return void L.toast.error("Partner name is required");try{let e=await fetch(`/api/admin/commercial-partners/${i.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c.trim(),legal_name:m.trim()||null,type:x,cp_type:p,status:g,regulatory_status:v.trim()||null,regulatory_number:N.trim()||null,jurisdiction:b.trim()||null,contact_name:P.trim()||null,contact_email:K.trim()||null,contact_phone:R.trim()||null,website:O.trim()||null,address_line_1:V.trim()||null,address_line_2:$.trim()||null,city:J.trim()||null,postal_code:G.trim()||null,country:Q.trim()||null,payment_terms:ee.trim()||null,notes:et.trim()||null,kyc_status:ei,kyc_notes:er.trim()||null})});if(!e.ok){let a=await e.json().catch(()=>null);console.error("[EditCommercialPartnerDialog] Failed to update partner:",a),L.toast.error(a?.error??"Failed to update partner");return}L.toast.success("Commercial partner updated successfully"),s(!1),l.refresh()}catch(e){console.error("[EditCommercialPartnerDialog] Error:",e),L.toast.error("Failed to update partner")}})},disabled:n,children:n?"Saving...":"Save Changes"})]})]})})}var P=e.i(475478),H=e.i(160599),K=e.i(764355);e.i(227041);var A=e.i(1694),R=e.i(465914),z=e.i(923226),O=e.i(429482),U=e.i(747972);let V={bank:"Bank",insurance:"Insurance","wealth-manager":"Wealth Manager",broker:"Broker",custodian:"Custodian",other:"Other"};function Y({partner:e,linkedUsers:C,documentCount:S}){let[T,w]=(0,t.useState)(!1),[k,I]=(0,t.useState)(!1),[L,B]=(0,t.useState)(!1),F=[e.address_line_1,e.address_line_2,e.city,e.postal_code,e.country].filter(Boolean).join(", ");return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.default,{href:"/versotech_main/users",children:(0,a.jsx)(r.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(d.ArrowLeft,{className:"h-5 w-5"})})}),(0,a.jsx)("div",{className:"h-16 w-16 rounded-full bg-white/10 flex items-center justify-center",children:e.logo_url?(0,a.jsx)("img",{src:e.logo_url,alt:e.name,className:"h-16 w-16 rounded-full object-cover"}):(0,a.jsx)(v.Landmark,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:e.name}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[V[e.cp_type]||e.cp_type,e.jurisdiction&&` â€¢ ${e.jurisdiction}`]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Badge,{className:(0,U.getStatusStyle)(e.status,U.statusStyles),children:e.status}),e.kyc_status&&(0,a.jsxs)(l.Badge,{className:(0,U.getStatusStyle)(e.kyc_status,U.kycStyles),children:["KYC: ",e.kyc_status.replace("_"," ")]}),(0,a.jsxs)(r.Button,{onClick:()=>w(!0),children:[(0,a.jsx)(g.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-2",children:(0,a.jsxs)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(_.Users,{className:"h-4 w-4"}),"Linked Users"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:C.length})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-2",children:(0,a.jsxs)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(h.FileText,{className:"h-4 w-4"}),"Documents"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:S})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-2",children:(0,a.jsxs)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(j.Shield,{className:"h-4 w-4"}),"KYC Status"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"text-lg font-bold capitalize",children:e.kyc_status?.replace("_"," ")||"Not Started"})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{className:"pb-2",children:(0,a.jsxs)(i.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(p.Clock,{className:"h-4 w-4"}),"Created"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("div",{className:"text-lg font-bold",children:(0,f.formatDistanceToNow)(new Date(e.created_at),{addSuffix:!0})})})]})]}),(0,a.jsxs)(n.Tabs,{defaultValue:"overview",className:"space-y-6",id:`commercial-partner-tabs-${e.id}`,children:[(0,a.jsxs)(n.TabsList,{children:[(0,a.jsx)(n.TabsTrigger,{value:"overview",children:"Overview"}),(0,a.jsx)(n.TabsTrigger,{value:"members",children:"Members"}),(0,a.jsx)(n.TabsTrigger,{value:"kyc-documents",children:"KYC Documents"}),(0,a.jsx)(n.TabsTrigger,{value:"bank-details",children:"Bank Details"}),(0,a.jsx)(n.TabsTrigger,{value:"activity",children:"Activity"})]}),(0,a.jsxs)(n.TabsContent,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(c.Building2,{className:"h-4 w-4"}),"Basic Information"]})}),(0,a.jsx)(i.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Legal Name"}),(0,a.jsx)("p",{className:"font-medium",children:e.legal_name||e.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Entity Type"}),(0,a.jsx)("p",{className:"font-medium capitalize",children:e.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Partner Type"}),(0,a.jsx)("p",{className:"font-medium",children:V[e.cp_type]||e.cp_type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,a.jsx)(l.Badge,{className:(0,U.getStatusStyle)(e.status,U.statusStyles),children:e.status})]})]})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(y.FileCheck,{className:"h-4 w-4"}),"Regulatory Information"]})}),(0,a.jsx)(i.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Regulatory Status"}),(0,a.jsx)("p",{className:"font-medium",children:e.regulatory_status||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Regulatory Number"}),(0,a.jsx)("p",{className:"font-medium",children:e.regulatory_number||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Jurisdiction"}),(0,a.jsx)("p",{className:"font-medium",children:e.jurisdiction||"Not specified"})]})]})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(o.Mail,{className:"h-4 w-4"}),"Contact Information"]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-3",children:[e.contact_name&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(_.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.contact_name})]}),e.contact_email&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("a",{href:`mailto:${e.contact_email}`,className:"text-primary hover:underline",children:e.contact_email})]}),e.contact_phone&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.contact_phone})]}),e.website&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u.Globe,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:e.website})]}),F&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x.MapPin,{className:"h-4 w-4 text-muted-foreground mt-1"}),(0,a.jsx)("span",{children:F})]}),!e.contact_name&&!e.contact_email&&!e.contact_phone&&(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"No contact information available"})]})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(N.CreditCard,{className:"h-4 w-4"}),"Business Terms"]})}),(0,a.jsx)(i.CardContent,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Payment Terms"}),(0,a.jsx)("p",{className:"font-medium",children:e.payment_terms||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract Start"}),(0,a.jsx)("p",{className:"font-medium",children:e.contract_start_date?(0,b.format)(new Date(e.contract_start_date),"dd MMM yyyy"):"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract End"}),(0,a.jsx)("p",{className:"font-medium",children:e.contract_end_date?(0,b.format)(new Date(e.contract_end_date),"dd MMM yyyy"):"Not specified"})]})]})})]}),(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(_.Users,{className:"h-4 w-4"}),"Linked Users"]}),(0,a.jsx)(r.Button,{variant:"outline",size:"sm",onClick:()=>I(!0),children:"Invite User"})]}),(0,a.jsx)(i.CardContent,{children:0===C.length?(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"No users linked to this commercial partner"}):(0,a.jsx)("div",{className:"space-y-3",children:C.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-white/10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.displayName||e.email}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Badge,{variant:"outline",className:"text-xs",children:e.role}),e.isPrimary&&(0,a.jsx)(l.Badge,{className:"bg-blue-500/20 text-blue-400 text-xs",children:"Primary"}),e.canSign&&(0,a.jsx)(l.Badge,{className:"bg-purple-500/20 text-purple-400 text-xs",children:"Can Sign"}),e.canExecuteForClients&&(0,a.jsx)(l.Badge,{className:"bg-green-500/20 text-green-400 text-xs",children:"Execute"})]})]},e.userId))})})]}),e.notes&&(0,a.jsxs)(i.Card,{className:"lg:col-span-2",children:[(0,a.jsx)(i.CardHeader,{children:(0,a.jsxs)(i.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(h.FileText,{className:"h-4 w-4"}),"Notes"]})}),(0,a.jsx)(i.CardContent,{children:(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.notes})})]})]}),"individual"===e.type&&(0,a.jsx)(A.IndividualKycDisplay,{data:{first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,name_suffix:e.name_suffix,date_of_birth:e.date_of_birth,country_of_birth:e.country_of_birth,nationality:e.nationality,email:e.email||e.contact_email,phone_mobile:e.phone_mobile,phone_office:e.phone_office,residential_street:e.residential_street,residential_line_2:e.residential_line_2,residential_city:e.residential_city,residential_state:e.residential_state,residential_postal_code:e.residential_postal_code,residential_country:e.residential_country,is_us_citizen:e.is_us_citizen,is_us_taxpayer:e.is_us_taxpayer,us_taxpayer_id:e.us_taxpayer_id,country_of_tax_residency:e.country_of_tax_residency,id_type:e.id_type,id_number:e.id_number,id_issue_date:e.id_issue_date,id_expiry_date:e.id_expiry_date,id_issuing_country:e.id_issuing_country},showEditButton:!0,onEdit:()=>B(!0),title:"Personal KYC Information"})]}),(0,a.jsx)(n.TabsContent,{value:"members",children:(0,a.jsx)(z.StaffEntityMembersTab,{entityType:"commercial_partner",entityId:e.id,entityName:e.name})}),(0,a.jsx)(n.TabsContent,{value:"kyc-documents",children:(0,a.jsx)(P.KYCDocumentsTab,{entityType:"commercial_partner",entityId:e.id,entityName:e.name})}),(0,a.jsx)(n.TabsContent,{value:"bank-details",children:(0,a.jsx)(H.BankDetailsTab,{entityType:"commercial_partner",entityId:e.id,entityName:e.name})}),(0,a.jsx)(n.TabsContent,{value:"activity",children:(0,a.jsx)(K.ActivityTimelineTab,{entityType:"commercial_partner",entityId:e.id,entityName:e.name})})]}),(0,a.jsx)(E,{open:T,onOpenChange:w,partner:e}),(0,a.jsx)(O.InviteUserDialog,{open:k,onOpenChange:I,entityType:"commercial_partner",entityId:e.id,entityName:e.name}),"individual"===e.type&&(0,a.jsx)(R.EntityKYCEditDialog,{open:L,onOpenChange:B,entityType:"commercial_partner",entityId:e.id,entityName:e.name,apiEndpoint:`/api/admin/commercial-partners/${e.id}`,initialData:{first_name:e.first_name??void 0,middle_name:e.middle_name??void 0,last_name:e.last_name??void 0,name_suffix:e.name_suffix??void 0,date_of_birth:e.date_of_birth??void 0,country_of_birth:e.country_of_birth??void 0,nationality:e.nationality??void 0,email:(e.email||e.contact_email)??void 0,phone_mobile:e.phone_mobile??void 0,phone_office:e.phone_office??void 0,residential_street:e.residential_street??void 0,residential_line_2:e.residential_line_2??void 0,residential_city:e.residential_city??void 0,residential_state:e.residential_state??void 0,residential_postal_code:e.residential_postal_code??void 0,residential_country:e.residential_country??void 0,is_us_citizen:e.is_us_citizen??void 0,is_us_taxpayer:e.is_us_taxpayer??void 0,us_taxpayer_id:e.us_taxpayer_id??void 0,country_of_tax_residency:e.country_of_tax_residency??void 0,id_type:e.id_type??void 0,id_number:e.id_number??void 0,id_issue_date:e.id_issue_date??void 0,id_expiry_date:e.id_expiry_date??void 0,id_issuing_country:e.id_issuing_country??void 0},onSuccess:()=>window.location.reload()})]})}e.s(["CommercialPartnerDetailClient",()=>Y],742488)}]);