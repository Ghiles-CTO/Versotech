(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,430710,e=>{"use strict";let t=["supabase","sb-","auth","supabase.auth.token"],s=e=>{let s=new Set;t.forEach(t=>{Object.keys(e).filter(e=>e.includes(t)).forEach(e=>s.add(e))}),s.forEach(t=>e.removeItem(t))};class o{static instance;isInitialized=!1;static getInstance(){return o.instance||(o.instance=new o),o.instance}init(){if(!this.isInitialized)try{this.isInitialized=!0,window.addEventListener("storage",this.handleStorageChange),console.info("[auth-session] Session manager initialized")}catch(e){console.error("[auth-session] Failed to initialize session manager:",e),this.isInitialized=!1}}clearAuthCookies(){if("undefined"==typeof document)return;let e=document.cookie.split(";"),s=[];e.forEach(e=>{let o=e.split("=")[0].trim();t.some(e=>o.includes(e))&&s.push(o)}),s.forEach(e=>{let t=[window.location.hostname,`.${window.location.hostname}`,""];["/","/versoholdings","/versotech","/versotech_main"].forEach(s=>{t.forEach(t=>{let o=t?`domain=${t};`:"";document.cookie=`${e}=; ${o}path=${s}; expires=Thu, 01 Jan 1970 00:00:00 GMT; max-age=0`})})}),console.info("[auth-session] Cleared auth cookies:",s)}clearAllAuthData(){console.info("[auth-session] Clearing ALL auth data (storage + cookies)"),s(window.localStorage),s(window.sessionStorage),this.clearAuthCookies()}forceSignOut(){console.info("[auth-session] Force sign out - clearing all auth state"),this.clearAllAuthData(),fetch("/api/auth/logout",{method:"POST",credentials:"include"}).catch(e=>{console.error("[auth-session] Failed to revoke server session",e)})}handleStorageChange=e=>{e.key&&t.some(t=>e.key?.includes(t))&&null===e.newValue&&(console.info("[auth-session] Auth state cleared in another tab, redirecting to login"),window.location.href="/versotech_main/login?error=signed_out")};markAuthenticated(){console.info("[auth-session] Session marked as authenticated")}getDebugInfo(){return{localStorageKeys:Object.keys(localStorage).filter(e=>t.some(t=>e.includes(t))),sessionStorageKeys:Object.keys(sessionStorage).filter(e=>t.some(t=>e.includes(t)))}}}let i=o.getInstance();e.s(["sessionManager",0,i])},986073,e=>{"use strict";var t=e.i(340915),s=e.i(430710);function o(){let[e,o]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{o(!0);try{s.sessionManager.init()}catch(e){console.error("[auth-session] Initialization error:",e)}},[]),null}e.s(["AuthInit",()=>o])},32823,e=>{e.n(e.i(986073))}]);