(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,475478,160599,923226,e=>{"use strict";var a=e.i(722679),s=e.i(316264),r=e.i(90613),t=e.i(191569),i=e.i(129432),n=e.i(514133),l=e.i(538892),d=e.i(352776),c=e.i(816654),o=e.i(119311),m=e.i(396064),u=e.i(761722),x=e.i(554369),h=e.i(15098),p=e.i(378710),f=e.i(263229),j=e.i(401148),g=e.i(645855),b=e.i(619324),_=e.i(340915),v=e.i(994500),y=e.i(933626),N=e.i(840298);let w={investor:[{label:"Certificate of Incorporation",value:"certificate_of_incorporation"},{label:"Memorandum & Articles of Association",value:"memorandum_articles"},{label:"Register of Members/Directors",value:"register_members_directors"},{label:"Passport/ID (Authorized Signatories)",value:"signatory_id"},{label:"Proof of Address (Signatories)",value:"signatory_proof_of_address"},{label:"Source of Funds Declaration",value:"source_of_funds"},{label:"Tax Forms (W-8BEN-E/W-9)",value:"tax_forms"}],introducer:[{label:"Introducer Agreement",value:"introducer_agreement"},{label:"Company Registration",value:"company_registration"},{label:"Proof of Address",value:"proof_of_address"}],arranger:[{label:"Certificate of Incorporation",value:"certificate_of_incorporation"},{label:"FCA Authorization Letter / SEC Form ADV",value:"regulatory_license"},{label:"Professional Indemnity Insurance",value:"insurance_certificate"},{label:"AML/CTF Policy Document",value:"aml_policy"},{label:"Latest Financial Statements",value:"financial_statements"},{label:"Beneficial Ownership Declaration",value:"beneficial_ownership"},{label:"Proof of Registered Address",value:"proof_of_address"}],lawyer:[{label:"Bar Registration Certificate",value:"bar_registration"},{label:"Professional Indemnity Insurance",value:"professional_insurance"},{label:"Firm Registration",value:"firm_registration"},{label:"Practice License",value:"practice_license"}],partner:[{label:"Accreditation Certificate",value:"accreditation_certificate"},{label:"Certificate of Incorporation",value:"certificate_of_incorporation"},{label:"Beneficial Ownership Declaration",value:"beneficial_ownership"},{label:"Source of Funds Declaration",value:"source_of_funds"},{label:"Tax Forms",value:"tax_forms"}],commercial_partner:[{label:"Certificate of Incorporation",value:"certificate_of_incorporation"},{label:"Regulatory License",value:"regulatory_license"},{label:"Professional Indemnity Insurance",value:"insurance_certificate"},{label:"AML/CTF Policy Document",value:"aml_policy"},{label:"Partnership Agreement",value:"partnership_agreement"}]},C=[{label:"ID Document (Passport/National ID)",value:"member_id"},{label:"Proof of Address",value:"member_proof_of_address"}];function D({entityType:e,entityId:D,entityName:k,readOnly:T=!1,memberId:S,memberName:B,members:A=[],showMemberDocuments:F=!1}){let[E,P]=(0,_.useState)([]),[I,O]=(0,_.useState)(!0),[L,U]=(0,_.useState)(null),$=(0,_.useRef)({}),[H,R]=(0,_.useState)(!1),[z,M]=(0,_.useState)(null),[K,G]=(0,_.useState)(null),[Y,J]=(0,_.useState)(""),[V,W]=(0,_.useState)(""),[q,X]=(0,_.useState)(""),[Q,Z]=(0,_.useState)(!1),[ee,ea]=(0,_.useState)(""),[es,er]=(0,_.useState)(null),et=w[e]||[],ei=(0,_.useCallback)(async()=>{if(D){O(!0);try{let a={investor:"owner_investor_id",arranger:"arranger_entity_id",introducer:"introducer_id",lawyer:"lawyer_id",partner:"partner_id",commercial_partner:"commercial_partner_id"}[e]||`${e}_id`,s=await fetch(`/api/documents?${a}=${D}&limit=100`);if(!s.ok)throw Error("Failed to fetch documents");let r=await s.json();P(r.documents||[])}catch(e){console.error("Error fetching documents:",e),v.toast.error("Failed to load documents")}finally{O(!1)}}},[D,e]);(0,_.useEffect)(()=>{ei()},[ei]);let en=async(e,a)=>{if(D){if(e.size>0x3200000)return void v.toast.error("File size exceeds 50MB limit");if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","image/jpeg","image/png","text/plain"].includes(e.type))return void v.toast.error("Invalid file type. Please upload PDF, DOC, DOCX, JPG, PNG, or TXT files");if((0,N.isIdDocument)(a)||(0,N.isProofOfAddress)(a))return void(G(e),M(a),W(""),X(""),Z(!1),ea(""),er(null),J(S||""),R(!0));await el(e,a,"","","",!1,"")}},el=async(a,s,r,t,i,n,l)=>{U(s),er(null);try{let d=new FormData;d.append("file",a),d.append("type",s),d.append("name",a.name.replace(/\.[^/.]+$/,""));let c="arranger"===e?"arranger_entity_id":`${e}_id`;if(d.append(c,D),i){let a=`${e}_member_id`;d.append(a,i)}r&&d.append("document_date",r),t&&d.append("document_expiry_date",t),n&&(d.append("staff_override","true"),d.append("override_reason",l));let o=await fetch("/api/documents/upload",{method:"POST",body:d}),m=await o.json();if(!o.ok){if(422===o.status&&m.validation?.canOverride)return void er({error:m.error,canOverride:!0});throw Error(m.error||"Upload failed")}let u=et.find(e=>e.value===s)?.label||C.find(e=>e.value===s)?.label||s;v.toast.success(`${u} uploaded successfully`),R(!1),await ei()}catch(e){console.error("Upload error:",e),v.toast.error(e.message||"Failed to upload document")}finally{U(null),$.current[s]&&($.current[s].value="")}},ed=async e=>{if(confirm(`Delete "${e.name}"? This action cannot be undone.`))try{let a=await fetch(`/api/staff/documents/${e.id}`,{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.error||"Delete failed")}v.toast.success("Document deleted successfully"),await ei()}catch(e){console.error("Delete error:",e),v.toast.error(e.message||"Failed to delete document")}},ec=async e=>{try{let a=await fetch(`/api/documents/${e.id}/download`);if(!a.ok)throw Error("Download failed");let s=await a.blob(),r=window.URL.createObjectURL(s),t=document.createElement("a");t.href=r,t.download=e.file_name||e.name,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(r),document.body.removeChild(t),v.toast.success("Document downloaded")}catch(e){console.error("Download error:",e),v.toast.error("Failed to download document")}},eo=e=>e?e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`:"Unknown size",em=E.filter(e=>et.some(a=>a.value===e.type)).length,eu=et.length>0?Math.round(em/et.length*100):0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Dialog,{open:H,onOpenChange:R,children:(0,a.jsxs)(d.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsxs)(d.DialogHeader,{children:[(0,a.jsx)(d.DialogTitle,{children:"Upload Document"}),(0,a.jsxs)(d.DialogDescription,{children:[(0,N.isIdDocument)(z||"")&&"ID documents require an expiry date for compliance tracking.",(0,N.isProofOfAddress)(z||"")&&"Proof of address must be dated within the last 3 months."]})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[K&&(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-white/5",children:[(0,a.jsx)(o.FileText,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:K.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:eo(K.size)})]})]}),A.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{children:"Associate with Member (Optional)"}),(0,a.jsxs)(l.Select,{value:Y,onValueChange:J,children:[(0,a.jsx)(l.SelectTrigger,{children:(0,a.jsx)(l.SelectValue,{placeholder:"Entity-level document"})}),(0,a.jsxs)(l.SelectContent,{children:[(0,a.jsx)(l.SelectItem,{value:"",children:"Entity-level document"}),A.map(e=>(0,a.jsxs)(l.SelectItem,{value:e.id,children:[e.full_name?e.full_name:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:e.id.slice(0,8)," (",e.role,")"]},e.id))]})]})]}),(0,N.isProofOfAddress)(z||"")&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.Label,{htmlFor:"document_date",children:["Document Date ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)(t.Input,{id:"document_date",type:"date",value:V,onChange:e=>W(e.target.value),max:new Date().toISOString().split("T")[0]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Date shown on the document (utility bill date, bank statement date, etc.)"})]}),(0,N.isIdDocument)(z||"")&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.Label,{htmlFor:"expiry_date",children:["Document Expiry Date ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)(t.Input,{id:"expiry_date",type:"date",value:q,onChange:e=>X(e.target.value),min:new Date().toISOString().split("T")[0]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Expiry date shown on the ID document"})]}),es&&(0,a.jsxs)("div",{className:"p-3 rounded-lg border border-red-500/50 bg-red-500/10 space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(b.AlertTriangle,{className:"h-5 w-5 text-red-400 flex-shrink-0 mt-0.5"}),(0,a.jsx)("p",{className:"text-sm text-red-400",children:es.error})]}),es.canOverride&&(0,a.jsxs)("div",{className:"space-y-2 pt-2 border-t border-red-500/30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"staff_override",checked:Q,onChange:e=>Z(e.target.checked),className:"rounded"}),(0,a.jsx)(n.Label,{htmlFor:"staff_override",className:"text-sm",children:"Staff Override (requires reason)"})]}),Q&&(0,a.jsx)(c.Textarea,{placeholder:"Enter reason for override...",value:ee,onChange:e=>ea(e.target.value),className:"min-h-[60px]"})]})]})]}),(0,a.jsxs)(d.DialogFooter,{children:[(0,a.jsx)(s.Button,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),(0,a.jsxs)(s.Button,{onClick:()=>{K&&z&&el(K,z,V,q,Y,Q,ee)},disabled:L===z||(0,N.isIdDocument)(z||"")&&!q||(0,N.isProofOfAddress)(z||"")&&!V||es?.canOverride&&Q&&!ee,children:[L===z?(0,a.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(m.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.CardTitle,{children:"KYC Documents"}),(0,a.jsx)(r.CardDescription,{children:k?`Compliance documents for ${k}`:"Required compliance and verification documents"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-foreground",children:[em,"/",et.length]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[eu,"% complete"]})]})]})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,a.jsx)("div",{className:`h-2 rounded-full transition-all ${100===eu?"bg-green-500":eu>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${eu}%`}})})})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-base",children:"Required Documents"}),(0,a.jsx)(r.CardDescription,{children:"Upload all required documents to complete KYC verification"})]}),(0,a.jsx)(r.CardContent,{children:I?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(f.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,a.jsx)("div",{className:"space-y-3",children:et.map(e=>{let r=E.find(a=>a.type===e.value),n=L===e.value;return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 py-3 px-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r?(0,a.jsx)(h.CheckCircle2,{className:"h-5 w-5 text-green-400 flex-shrink-0"}):(0,a.jsx)(p.Circle,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:e.label}),r&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[r.file_name," • ",eo(r.file_size_bytes)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r&&(e=>{if(e.document_expiry_date){let s=new Date(e.document_expiry_date),r=new Date,t=(0,y.differenceInDays)(s,r);if(t<0)return(0,a.jsxs)(i.Badge,{className:"bg-red-500/20 text-red-400 text-xs gap-1",children:[(0,a.jsx)(j.AlertCircle,{className:"h-3 w-3"}),"Expired"]});if(t<=30)return(0,a.jsxs)(i.Badge,{className:"bg-amber-500/20 text-amber-400 text-xs gap-1",children:[(0,a.jsx)(g.Clock,{className:"h-3 w-3"}),(0,N.formatExpiryCountdown)(t)]})}return e.validation_status&&"valid"!==e.validation_status?(0,a.jsx)(i.Badge,{className:`${(0,N.getValidationStatusColor)(e.validation_status)} text-xs`,children:(0,N.getValidationStatusLabel)(e.validation_status)}):null})(r),r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>ec(r),className:"h-8 w-8 p-0",children:(0,a.jsx)(u.Download,{className:"h-4 w-4"})}),!T&&(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>ed(r),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",children:(0,a.jsx)(x.Trash2,{className:"h-4 w-4"})})]}):!T&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Input,{ref:a=>{$.current[e.value]=a},type:"file",className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.txt",onChange:a=>{let s=a.target.files?.[0];s&&en(s,e.value)},disabled:n}),(0,a.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>$.current[e.value]?.click(),disabled:n,children:[n?(0,a.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(m.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]})]})]})]},e.value)})})})]}),E.filter(e=>!et.some(a=>a.value===e.type)).length>0&&(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-base",children:"Additional Documents"}),(0,a.jsx)(r.CardDescription,{children:"Other documents uploaded for this entity"})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"space-y-2",children:E.filter(e=>!et.some(a=>a.value===e.type)).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 py-2 px-3 rounded-lg hover:bg-white/5 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,a.jsx)(o.FileText,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[e.file_name," • ",eo(e.file_size_bytes)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>ec(e),className:"h-8 w-8 p-0",children:(0,a.jsx)(u.Download,{className:"h-4 w-4"})}),!T&&(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>ed(e),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",children:(0,a.jsx)(x.Trash2,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1 border-t border-white/10 pt-4",children:[(0,a.jsx)("p",{children:"• Supported formats: PDF, DOC, DOCX, JPG, PNG, TXT"}),(0,a.jsx)("p",{children:"• Maximum file size: 50MB per file"}),(0,a.jsx)("p",{children:"• Documents are stored securely and linked to this entity"}),(0,a.jsx)("p",{children:"• Upload actions are logged for audit trail"}),(0,N.isIdDocument)("signatory_id")&&(0,a.jsx)("p",{children:"• ID documents must have a valid expiry date"}),(0,N.isProofOfAddress)("proof_of_address")&&(0,a.jsx)("p",{children:"• Proof of address must be dated within the last 3 months"})]})]})]})}e.s(["KYCDocumentsTab",()=>D],475478);var k=e.i(45778),T=e.i(971743),S=e.i(831833),B=e.i(703281),A=e.i(358634);let F=[{value:"USD",label:"USD - US Dollar"},{value:"EUR",label:"EUR - Euro"},{value:"GBP",label:"GBP - British Pound"},{value:"CHF",label:"CHF - Swiss Franc"},{value:"JPY",label:"JPY - Japanese Yen"},{value:"CAD",label:"CAD - Canadian Dollar"},{value:"AUD",label:"AUD - Australian Dollar"},{value:"SGD",label:"SGD - Singapore Dollar"},{value:"HKD",label:"HKD - Hong Kong Dollar"}],E={bank_name:"",account_holder_name:"",account_number:"",routing_number:"",swift_bic:"",iban:"",currency:"USD",is_primary:!1,notes:""};function P({entityType:e,entityId:i,entityName:o,readOnly:m=!1}){let[u,h]=(0,_.useState)([]),[p,j]=(0,_.useState)(!0),[g,b]=(0,_.useState)(!1),[y,N]=(0,_.useState)(!1),[w,C]=(0,_.useState)(null),[D,P]=(0,_.useState)(E),I=(0,_.useCallback)(async()=>{if(i){j(!0);try{let a=await fetch(`/api/admin/bank-details?entity_type=${e}&entity_id=${i}`);if(!a.ok)throw Error("Failed to fetch bank details");let s=await a.json();h(s.bankDetails||[])}catch(e){console.error("Error fetching bank details:",e),v.toast.error("Failed to load bank details")}finally{j(!1)}}},[i,e]);(0,_.useEffect)(()=>{I()},[I]);let O=async()=>{if(!D.bank_name.trim()||!D.account_holder_name.trim())return void v.toast.error("Bank name and account holder name are required");b(!0);try{let a=w?`/api/admin/bank-details/${w}`:"/api/admin/bank-details",s=await fetch(a,{method:w?"PATCH":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...D,entity_type:e,entity_id:i})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save bank details")}v.toast.success(w?"Bank details updated":"Bank account added"),N(!1),C(null),P(E),await I()}catch(e){console.error("Save error:",e),v.toast.error(e.message||"Failed to save bank details")}finally{b(!1)}},L=async e=>{if(confirm("Delete this bank account? This action cannot be undone."))try{let a=await fetch(`/api/admin/bank-details/${e}`,{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.error||"Delete failed")}v.toast.success("Bank account deleted"),await I()}catch(e){console.error("Delete error:",e),v.toast.error(e.message||"Failed to delete bank account")}},U=async e=>{try{let a=await fetch(`/api/admin/bank-details/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_primary:!0})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to set as primary")}v.toast.success("Primary bank account updated"),await I()}catch(e){console.error("Set primary error:",e),v.toast.error(e.message||"Failed to update primary account")}},$=()=>{C(null),P(E),N(!0)},H=u.find(e=>e.is_primary);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.CardTitle,{children:"Bank Details"}),(0,a.jsx)(r.CardDescription,{children:o?`Bank accounts for ${o}`:"Manage bank account information for payments and distributions"})]}),!m&&(0,a.jsxs)(d.Dialog,{open:y,onOpenChange:N,children:[(0,a.jsx)(d.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(s.Button,{onClick:$,children:[(0,a.jsx)(S.Plus,{className:"h-4 w-4 mr-2"}),"Add Account"]})}),(0,a.jsxs)(d.DialogContent,{className:"max-w-lg",children:[(0,a.jsxs)(d.DialogHeader,{children:[(0,a.jsx)(d.DialogTitle,{children:w?"Edit Bank Account":"Add Bank Account"}),(0,a.jsx)(d.DialogDescription,{children:w?"Update bank account details":"Add a new bank account for this entity"})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"bank_name",children:"Bank Name *"}),(0,a.jsx)(t.Input,{id:"bank_name",value:D.bank_name,onChange:e=>P(a=>({...a,bank_name:e.target.value})),placeholder:"e.g., HSBC, Barclays"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"currency",children:"Currency"}),(0,a.jsxs)(l.Select,{value:D.currency,onValueChange:e=>P(a=>({...a,currency:e})),children:[(0,a.jsx)(l.SelectTrigger,{children:(0,a.jsx)(l.SelectValue,{})}),(0,a.jsx)(l.SelectContent,{children:F.map(e=>(0,a.jsx)(l.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"account_holder_name",children:"Account Holder Name *"}),(0,a.jsx)(t.Input,{id:"account_holder_name",value:D.account_holder_name,onChange:e=>P(a=>({...a,account_holder_name:e.target.value})),placeholder:"Name on the account"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"account_number",children:"Account Number"}),(0,a.jsx)(t.Input,{id:"account_number",value:D.account_number,onChange:e=>P(a=>({...a,account_number:e.target.value})),placeholder:"Account number"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"routing_number",children:"Routing Number / Sort Code"}),(0,a.jsx)(t.Input,{id:"routing_number",value:D.routing_number,onChange:e=>P(a=>({...a,routing_number:e.target.value})),placeholder:"Routing/Sort code"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"swift_bic",children:"SWIFT/BIC Code"}),(0,a.jsx)(t.Input,{id:"swift_bic",value:D.swift_bic,onChange:e=>P(a=>({...a,swift_bic:e.target.value})),placeholder:"e.g., HSBCGB2L"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"iban",children:"IBAN"}),(0,a.jsx)(t.Input,{id:"iban",value:D.iban,onChange:e=>P(a=>({...a,iban:e.target.value})),placeholder:"e.g., GB82WEST..."})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(c.Textarea,{id:"notes",value:D.notes,onChange:e=>P(a=>({...a,notes:e.target.value})),placeholder:"Additional notes about this account",rows:2})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.Switch,{id:"is_primary",checked:D.is_primary,onCheckedChange:e=>P(a=>({...a,is_primary:e}))}),(0,a.jsx)(n.Label,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary account"})]})]}),(0,a.jsxs)(d.DialogFooter,{children:[(0,a.jsx)(s.Button,{variant:"outline",onClick:()=>N(!1),disabled:g,children:"Cancel"}),(0,a.jsxs)(s.Button,{onClick:O,disabled:g,children:[g&&(0,a.jsx)(f.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),w?"Update":"Add Account"]})]})]})]})]})})}),H&&(0,a.jsxs)(r.Card,{className:"border-primary/50 bg-primary/5",children:[(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Star,{className:"h-5 w-5 text-primary fill-primary"}),(0,a.jsx)(r.CardTitle,{className:"text-base",children:"Primary Account"})]})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Bank Name"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:H.bank_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Account Holder"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:H.account_holder_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currency"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:H.currency})]}),H.iban&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"IBAN"}),(0,a.jsx)("p",{className:"text-sm font-medium font-mono",children:H.iban})]})]})})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-base",children:"All Bank Accounts"}),(0,a.jsxs)(r.CardDescription,{children:[u.length," account",1!==u.length?"s":""," on file"]})]}),(0,a.jsx)(r.CardContent,{children:p?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(f.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):0===u.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,a.jsx)(T.Building2,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No bank accounts added yet"}),!m&&(0,a.jsxs)(s.Button,{variant:"outline",className:"mt-4",onClick:$,children:[(0,a.jsx)(S.Plus,{className:"h-4 w-4 mr-2"}),"Add First Account"]})]}):(0,a.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,a.jsxs)("div",{className:`flex items-start justify-between gap-4 p-4 rounded-lg border transition-colors ${e.is_primary?"border-primary/50 bg-primary/5":"border-white/10 hover:bg-white/5"}`,children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[(0,a.jsx)(T.Building2,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-foreground",children:e.bank_name}),e.is_primary&&(0,a.jsx)("span",{className:"text-xs bg-primary/20 text-primary px-2 py-0.5 rounded-full",children:"Primary"}),(0,a.jsx)("span",{className:"text-xs bg-white/10 text-muted-foreground px-2 py-0.5 rounded-full",children:e.currency})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.account_holder_name}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[e.account_number&&(0,a.jsxs)("span",{children:["Account: •••",e.account_number.slice(-4)]}),e.swift_bic&&(0,a.jsxs)("span",{children:["SWIFT: ",e.swift_bic]}),e.iban&&(0,a.jsxs)("span",{className:"font-mono",children:["IBAN: ",e.iban.slice(0,4),"...",e.iban.slice(-4)]})]})]})]}),!m&&(0,a.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!e.is_primary&&(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>U(e.id),className:"h-8 w-8 p-0",title:"Set as primary",children:(0,a.jsx)(A.Star,{className:"h-4 w-4"})}),(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{C(e.id),P({bank_name:e.bank_name,account_holder_name:e.account_holder_name,account_number:e.account_number||"",routing_number:e.routing_number||"",swift_bic:e.swift_bic||"",iban:e.iban||"",currency:e.currency,is_primary:e.is_primary,notes:e.notes||""}),N(!0)},className:"h-8 w-8 p-0",children:(0,a.jsx)(B.Edit2,{className:"h-4 w-4"})}),(0,a.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>L(e.id),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",children:(0,a.jsx)(x.Trash2,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1 border-t border-white/10 pt-4",children:[(0,a.jsx)("p",{children:"• Bank details are used for distributions and commission payments"}),(0,a.jsx)("p",{children:"• The primary account will be used by default for payments"}),(0,a.jsx)("p",{children:"• Only authorized staff can view and edit bank details"}),(0,a.jsx)("p",{children:"• All changes are logged for audit purposes"})]})]})}e.s(["BankDetailsTab",()=>P],160599);var I=e.i(501259),O=e.i(335994),L=e.i(551544),U=e.i(117925),$=e.i(775079),H=e.i(80465),R=e.i(745083),z=e.i(360209),M=e.i(237635),K=e.i(908925),G=e.i(129263),Y=e.i(669019);let J={investor:"investors",partner:"partners",introducer:"introducers",lawyer:"lawyers",arranger:"arrangers",commercial_partner:"commercial-partners"},V={director:"Director",shareholder:"Shareholder",beneficial_owner:"Beneficial Owner",authorized_signatory:"Authorized Signatory",officer:"Officer",partner:"Partner",ubo:"UBO",signatory:"Signatory",authorized_representative:"Authorized Representative",beneficiary:"Beneficiary",trustee:"Trustee",managing_member:"Managing Member",general_partner:"General Partner",limited_partner:"Limited Partner",other:"Other"};function W({entityType:e,entityId:t,entityName:n,title:l="Entity Members",description:d="Manage directors, shareholders, beneficial owners, and signatories",onDataChange:c}){let[o,m]=(0,_.useState)([]),[u,h]=(0,_.useState)(!0),[p,f]=(0,_.useState)(null),[b,y]=(0,_.useState)(!1),[N,w]=(0,_.useState)(null),[C,D]=(0,_.useState)(!1),[k,T]=(0,_.useState)(null),[S,B]=(0,_.useState)(!1),A=J[e],F=`/api/staff/${A}/${t}/members`,E=(0,_.useCallback)(async()=>{h(!0),f(null);try{let e=await fetch(F);if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to load members")}let a=await e.json();m(a.members||[])}catch(e){console.error("Error loading members:",e),f(e instanceof Error?e.message:"Failed to load members")}finally{h(!1)}},[F]);(0,_.useEffect)(()=>{E()},[E]);let P=()=>{w(null),y(!0)},W=async()=>{if(k){B(!0);try{let e=await fetch(`${F}/${k.id}`,{method:"DELETE"});if(!e.ok){let a=await e.json();throw Error(a.error||"Failed to delete member")}v.toast.success("Member removed successfully"),D(!1),T(null),await E(),c?.()}catch(e){console.error("Error deleting member:",e),v.toast.error(e instanceof Error?e.message:"Failed to delete member")}finally{B(!1)}}},q=e=>{if(e.full_name)return e.full_name;let a=[e.first_name,e.middle_name,e.last_name,e.name_suffix].filter(Boolean);return a.length>0?a.join(" "):"Unknown"},X=e=>!!e.id_expiry_date&&new Date(e.id_expiry_date)<new Date,Q=o.filter(e=>e.is_beneficial_owner||"ubo"===e.role||"beneficial_owner"===e.role).length,Z=o.filter(e=>e.is_signatory||e.can_sign||"signatory"===e.role||"authorized_signatory"===e.role).length,ee=o.reduce((e,a)=>e+(a.ownership_percentage||0),0),ea=o.filter(e=>!e.kyc_status||"pending"===e.kyc_status||"submitted"===e.kyc_status).length,es=o.filter(e=>X(e)).length;return u?(0,a.jsx)(r.Card,{children:(0,a.jsx)(r.CardContent,{className:"py-12 text-center",children:(0,a.jsx)("div",{className:"animate-pulse",children:"Loading members..."})})}):p?(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-12 text-center",children:[(0,a.jsx)(j.AlertCircle,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),(0,a.jsx)("p",{className:"text-destructive",children:p}),(0,a.jsx)(s.Button,{onClick:E,variant:"outline",className:"mt-4",children:"Retry"})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[o.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Members"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:o.length})]})}),(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"UBOs"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:Q})]})}),(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Signatories"}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:Z})]})}),(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Ownership"}),(0,a.jsxs)("div",{className:"text-2xl font-bold flex items-center",children:[ee.toFixed(1),"%",ee>100&&(0,a.jsx)(Y.TooltipProvider,{children:(0,a.jsxs)(Y.Tooltip,{children:[(0,a.jsx)(Y.TooltipTrigger,{children:(0,a.jsx)(j.AlertCircle,{className:"w-4 h-4 ml-2 text-amber-500"})}),(0,a.jsx)(Y.TooltipContent,{children:"Ownership exceeds 100%"})]})})]})]})}),(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"py-4",children:[(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pending KYC"}),(0,a.jsx)("div",{className:`text-2xl font-bold ${ea>0?"text-amber-500":"text-green-500"}`,children:ea})]})})]}),es>0&&(0,a.jsx)(r.Card,{className:"border-red-200 bg-red-50",children:(0,a.jsx)(r.CardContent,{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,a.jsx)($.FileWarning,{className:"w-5 h-5"}),(0,a.jsxs)("span",{className:"font-medium",children:[es," member",es>1?"s have":" has"," expired ID documents"]})]})})}),(0,a.jsxs)(r.Card,{children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.CardTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(I.Users,{className:"h-5 w-5"}),l]}),(0,a.jsx)(r.CardDescription,{children:d})]}),(0,a.jsxs)(s.Button,{onClick:P,children:[(0,a.jsx)(O.UserPlus,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),(0,a.jsx)(r.CardContent,{children:0===o.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(I.Users,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"No members added yet. Add directors, shareholders, or beneficial owners."}),(0,a.jsxs)(s.Button,{onClick:P,variant:"outline",children:[(0,a.jsx)(O.UserPlus,{className:"w-4 h-4 mr-2"}),"Add First Member"]})]}):(0,a.jsxs)(M.Table,{children:[(0,a.jsx)(M.TableHeader,{children:(0,a.jsxs)(M.TableRow,{children:[(0,a.jsx)(M.TableHead,{children:"Name"}),(0,a.jsx)(M.TableHead,{children:"Role"}),(0,a.jsx)(M.TableHead,{children:"Ownership"}),(0,a.jsx)(M.TableHead,{children:"Email"}),(0,a.jsx)(M.TableHead,{children:"KYC Status"}),(0,a.jsx)(M.TableHead,{children:"ID Expiry"}),(0,a.jsx)(M.TableHead,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(M.TableBody,{children:o.map(e=>{var r;return(0,a.jsxs)(M.TableRow,{children:[(0,a.jsx)(M.TableCell,{className:"font-medium",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:q(e)}),(0,a.jsxs)("div",{className:"flex gap-1 mt-1",children:[(e.is_beneficial_owner||"ubo"===e.role||"beneficial_owner"===e.role)&&(0,a.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:"UBO"}),(e.is_signatory||e.can_sign)&&(0,a.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:"Signatory"})]})]})}),(0,a.jsx)(M.TableCell,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(r=e.role,(0,a.jsx)(i.Badge,{className:{director:"bg-blue-500",shareholder:"bg-purple-500",beneficial_owner:"bg-amber-500",ubo:"bg-amber-500",authorized_signatory:"bg-green-500",signatory:"bg-green-500",trustee:"bg-indigo-500",general_partner:"bg-cyan-500",limited_partner:"bg-teal-500"}[r]||"bg-gray-500",children:V[r]||r})),e.role_title&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.role_title})]})}),(0,a.jsx)(M.TableCell,{children:null!=e.ownership_percentage?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(z.Percent,{className:"w-3 h-3 text-muted-foreground"}),(0,a.jsxs)("span",{children:[e.ownership_percentage,"%"]})]}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"—"})}),(0,a.jsx)(M.TableCell,{children:e.email||(0,a.jsx)("span",{className:"text-muted-foreground",children:"—"})}),(0,a.jsx)(M.TableCell,{children:(e=>{switch(e){case"approved":return(0,a.jsxs)(i.Badge,{className:"bg-green-500",children:[(0,a.jsx)(H.CheckCircle,{className:"w-3 h-3 mr-1"}),"Approved"]});case"pending":return(0,a.jsxs)(i.Badge,{className:"bg-yellow-500",children:[(0,a.jsx)(g.Clock,{className:"w-3 h-3 mr-1"}),"Pending"]});case"submitted":return(0,a.jsxs)(i.Badge,{className:"bg-blue-500",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-3 h-3 mr-1"}),"Submitted"]});case"rejected":return(0,a.jsxs)(i.Badge,{className:"bg-red-500",children:[(0,a.jsx)(R.XCircle,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"expired":return(0,a.jsxs)(i.Badge,{className:"bg-orange-500",children:[(0,a.jsx)($.FileWarning,{className:"w-3 h-3 mr-1"}),"Expired"]});default:return(0,a.jsxs)(i.Badge,{variant:"outline",className:"text-muted-foreground",children:[(0,a.jsx)(j.AlertCircle,{className:"w-3 h-3 mr-1"}),"Not Submitted"]})}})(e.kyc_status)}),(0,a.jsx)(M.TableCell,{children:e.id_expiry_date?(0,a.jsx)("div",{className:"flex items-center gap-1",children:X(e)?(0,a.jsxs)(i.Badge,{variant:"destructive",className:"text-xs",children:[(0,a.jsx)(R.XCircle,{className:"w-3 h-3 mr-1"}),"Expired"]}):(e=>{if(!e.id_expiry_date)return!1;let a=new Date(e.id_expiry_date),s=new Date,r=Math.ceil((a.getTime()-s.getTime())/864e5);return r<=30&&r>0})(e)?(0,a.jsxs)(i.Badge,{className:"bg-amber-500 text-xs",children:[(0,a.jsx)(j.AlertCircle,{className:"w-3 h-3 mr-1"}),"Expiring Soon"]}):(0,a.jsx)("span",{className:"text-sm",children:new Date(e.id_expiry_date).toLocaleDateString()})}):(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"—"})}),(0,a.jsx)(M.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(Y.TooltipProvider,{children:(0,a.jsxs)(Y.Tooltip,{children:[(0,a.jsx)(Y.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{w(e),y(!0)},children:(0,a.jsx)(L.Edit,{className:"w-4 h-4"})})}),(0,a.jsx)(Y.TooltipContent,{children:"Edit Member"})]})}),(0,a.jsx)(Y.TooltipProvider,{children:(0,a.jsxs)(Y.Tooltip,{children:[(0,a.jsx)(Y.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{T(e),D(!0)},children:(0,a.jsx)(x.Trash2,{className:"w-4 h-4"})})}),(0,a.jsx)(Y.TooltipContent,{children:"Remove Member"})]})})]})})]},e.id)})})]})})]}),(0,a.jsx)(G.MemberKYCEditDialog,{open:b,onOpenChange:y,entityType:e,entityId:t,memberId:N?.id,memberName:N?q(N):void 0,initialData:(e=>{if(e)return{role:e.role,first_name:e.first_name||"",middle_name:e.middle_name||"",last_name:e.last_name||"",name_suffix:e.name_suffix||"",date_of_birth:e.date_of_birth||"",country_of_birth:e.country_of_birth||"",nationality:e.nationality||"",email:e.email||"",phone_mobile:e.phone_mobile||"",phone_office:e.phone_office||"",residential_street:e.residential_street||"",residential_line_2:e.residential_line_2||"",residential_city:e.residential_city||"",residential_state:e.residential_state||"",residential_postal_code:e.residential_postal_code||"",residential_country:e.residential_country||"",is_us_citizen:e.is_us_citizen||!1,is_us_taxpayer:e.is_us_taxpayer||!1,us_taxpayer_id:e.us_taxpayer_id||"",country_of_tax_residency:e.country_of_tax_residency||"",tax_id_number:e.tax_id_number||"",id_type:e.id_type||"",id_number:e.id_number||"",id_issue_date:e.id_issue_date||"",id_expiry_date:e.id_expiry_date||"",id_issuing_country:e.id_issuing_country||"",ownership_percentage:e.ownership_percentage}})(N),apiEndpoint:F,onSuccess:()=>{E(),c?.()},mode:N?"edit":"create"}),(0,a.jsx)(K.AlertDialog,{open:C,onOpenChange:D,children:(0,a.jsxs)(K.AlertDialogContent,{children:[(0,a.jsxs)(K.AlertDialogHeader,{children:[(0,a.jsx)(K.AlertDialogTitle,{children:"Remove Member"}),(0,a.jsxs)(K.AlertDialogDescription,{children:["Are you sure you want to remove ",(0,a.jsx)("strong",{children:k?q(k):"this member"}),"?",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"This will mark the member as inactive. The record will be preserved for audit purposes."]})]}),(0,a.jsxs)(K.AlertDialogFooter,{children:[(0,a.jsx)(K.AlertDialogCancel,{disabled:S,children:"Cancel"}),(0,a.jsx)(K.AlertDialogAction,{onClick:W,disabled:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:S?"Removing...":"Remove Member"})]})]})})]})}e.s(["StaffEntityMembersTab",()=>W],923226)}]);