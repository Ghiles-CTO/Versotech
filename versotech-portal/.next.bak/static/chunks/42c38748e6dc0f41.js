(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,351889,e=>{"use strict";var t=e.i(722679),r=e.i(340915),i=e.i(90613),a=e.i(129432),s=e.i(119311),l=e.i(981218),n=e.i(417439),o=e.i(416200),c=e.i(501259),d=e.i(197098),h=e.i(282141);let p={documents:s.FileText,compliance:l.Shield,communications:n.MessageSquare,data_processing:o.Target,multi_step:c.Users};function m({category:e,title:r,description:s,processCount:l,gradient:n,onClick:o}){let c=p[e];return(0,t.jsxs)(i.Card,{className:(0,h.cn)("relative overflow-hidden cursor-pointer transition-all duration-300","border-white/20 bg-zinc-900/80 backdrop-blur-sm","hover:bg-zinc-800/80 hover:border-white/40 hover:shadow-lg hover:shadow-white/10","group"),onClick:o,children:[(0,t.jsx)("div",{className:(0,h.cn)("absolute inset-0 opacity-20 bg-gradient-to-br",n,"group-hover:opacity-30 transition-opacity")}),(0,t.jsxs)(i.CardHeader,{className:"relative",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/20 border border-white/30 group-hover:border-white/40 transition-colors",children:(0,t.jsx)(c,{className:"h-6 w-6 text-white"})}),(0,t.jsx)("div",{children:(0,t.jsx)(i.CardTitle,{className:"text-white group-hover:text-white transition-colors",children:r})})]}),(0,t.jsx)(d.ChevronRight,{className:"h-5 w-5 text-gray-400 group-hover:text-white group-hover:translate-x-1 transition-all"})]}),(0,t.jsx)(i.CardDescription,{className:"mt-2 text-gray-300",children:s})]}),(0,t.jsx)(i.CardContent,{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(a.Badge,{variant:"secondary",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:[l," ",1===l?"Process":"Processes"]}),(0,t.jsx)("span",{className:"text-xs text-gray-300 group-hover:text-white transition-colors",children:"Click to view →"})]})})]})}var u=e.i(150327),x=e.i(429760),g=e.i(316264),f=e.i(907434),b=e.i(191569),y=e.i(514133),v=e.i(312692),j=e.i(538892),w=e.i(263229);function N({schema:e,formData:i,setFormData:a,errors:s,setErrors:l}){let[n,o]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[m,u]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[f,N]=(0,r.useState)(!1);(0,r.useEffect)(()=>{Object.values(e).some(e=>e?.type==="investor_select")&&(async()=>{u(!0);try{let e=await fetch("/api/staff/investors");if(e.ok){let t=await e.json();console.log("Loaded investors:",t.investors?.length||0,"investors"),o(t.investors||[])}else console.error("Failed to fetch investors:",e.status,e.statusText)}catch(e){console.error("Failed to fetch investors:",e)}finally{u(!1)}})()},[e]),(0,r.useEffect)(()=>{Object.values(e).some(e=>e?.type==="vehicle_select")&&(async()=>{g(!0);try{let e=await fetch("/api/staff/vehicles");if(e.ok){let t=await e.json();console.log("Loaded vehicles:",t.vehicles?.length||0,"vehicles"),d(t.vehicles||[])}else console.error("Failed to fetch vehicles:",e.status,e.statusText)}catch(e){console.error("Failed to fetch vehicles:",e)}finally{g(!1)}})()},[e]),(0,r.useEffect)(()=>{Object.values(e).some(e=>e?.type==="conversation_select")&&(async()=>{N(!0);try{let e=await fetch("/api/conversations");if(e.ok){let t=await e.json();console.log("Loaded conversations:",t.conversations?.length||0,"conversations"),p(t.conversations||[])}else console.error("Failed to fetch conversations:",e.status,e.statusText)}catch(e){console.error("Failed to fetch conversations:",e)}finally{N(!1)}})()},[e]);let S=(e,t)=>{a({...i,[e]:t}),s[e]&&l({...s,[e]:""})};return(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(e).map(([e,r])=>((e,r)=>{if(!r||r.dependsOn&&void 0!==r.showWhen&&i[r.dependsOn]!==r.showWhen)return null;let a=s[e],l=r.helperText;switch(r.type){case"checkbox":return(0,t.jsxs)("div",{className:"flex items-center space-x-2 py-2",children:[(0,t.jsx)(v.Checkbox,{id:e,checked:!!i[e],onCheckedChange:t=>S(e,!0===t)}),(0,t.jsx)(y.Label,{htmlFor:e,className:"text-sm font-medium leading-none text-white cursor-pointer",children:r.label||e}),l&&(0,t.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:l})]},e);case"investor_select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{htmlFor:e,className:"text-white font-medium",children:r.label||e}),(0,t.jsxs)(j.Select,{value:i[e]??"",onValueChange:t=>S(e,t),disabled:m,children:[(0,t.jsx)(j.SelectTrigger,{id:e,className:"bg-zinc-900 border-white/30 text-white hover:border-white/50 focus:border-white/70",children:m?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Loading investors..."})]}):(0,t.jsx)(j.SelectValue,{placeholder:r.placeholder||"Select investor"})}),(0,t.jsx)(j.SelectContent,{className:"bg-zinc-900 border-white/30",children:0===n.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No investors found"}):n.map(e=>(0,t.jsx)(j.SelectItem,{value:e.id,className:"text-white hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium",children:e.legal_name}),e.email&&(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.email})]})},e.id))})]}),l&&!a&&(0,t.jsx)("p",{className:"text-xs text-gray-400",children:l}),a&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:a})]},e);case"vehicle_select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{htmlFor:e,className:"text-white font-medium",children:r.label||e}),(0,t.jsxs)(j.Select,{value:i[e]??"",onValueChange:t=>S(e,t),disabled:x,children:[(0,t.jsx)(j.SelectTrigger,{id:e,className:"bg-zinc-900 border-white/30 text-white hover:border-white/50 focus:border-white/70",children:x?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Loading vehicles..."})]}):(0,t.jsx)(j.SelectValue,{placeholder:r.placeholder||"Select vehicle"})}),(0,t.jsx)(j.SelectContent,{className:"bg-zinc-900 border-white/30",children:0===c.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No vehicles found"}):c.map(e=>(0,t.jsx)(j.SelectItem,{value:e.id,className:"text-white hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),e.type&&(0,t.jsx)("span",{className:"text-xs text-gray-400 capitalize",children:e.type})]})},e.id))})]}),l&&!a&&(0,t.jsx)("p",{className:"text-xs text-gray-400",children:l}),a&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:a})]},e);case"conversation_select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{htmlFor:e,className:"text-white font-medium",children:r.label||e}),(0,t.jsxs)(j.Select,{value:i[e]??"",onValueChange:t=>S(e,t),disabled:f,children:[(0,t.jsx)(j.SelectTrigger,{id:e,className:"bg-zinc-900 border-white/30 text-white hover:border-white/50 focus:border-white/70",children:f?(0,t.jsxs)("div",{className:"flex items-center gap-2 text-white",children:[(0,t.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}),(0,t.jsx)("span",{children:"Loading conversations..."})]}):(0,t.jsx)(j.SelectValue,{placeholder:r.placeholder||"Select conversation"})}),(0,t.jsx)(j.SelectContent,{className:"bg-zinc-900 border-white/30",children:0===h.length?(0,t.jsx)("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No conversations found"}):h.map(e=>(0,t.jsx)(j.SelectItem,{value:e.id,className:"text-white hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name||e.subject||`Conversation ${e.id.slice(0,8)}`}),e.participants&&e.participants.length>0&&(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.participants.map(e=>e.display_name).join(", ")})]})},e.id))})]}),l&&!a&&(0,t.jsx)("p",{className:"text-xs text-gray-400",children:l}),a&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:a})]},e);case"select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{htmlFor:e,className:"text-white font-medium",children:r.label||e}),(0,t.jsxs)(j.Select,{value:i[e]??"",onValueChange:t=>S(e,t),children:[(0,t.jsx)(j.SelectTrigger,{id:e,className:"bg-zinc-900 border-white/30 text-white hover:border-white/50 focus:border-white/70",children:(0,t.jsx)(j.SelectValue,{placeholder:r.placeholder||"Select option"})}),(0,t.jsx)(j.SelectContent,{className:"bg-zinc-900 border-white/30",children:r.options&&r.options.length>0?r.options.map(e=>(0,t.jsx)(j.SelectItem,{value:e.toString(),className:"text-white hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:e.toString().replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},e.toString())):(0,t.jsx)("div",{className:"p-4 text-center text-gray-400 text-sm",children:"No options available"})})]}),l&&!a&&(0,t.jsx)("p",{className:"text-xs text-gray-400",children:l}),a&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:a})]},e);default:return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y.Label,{htmlFor:e,className:"text-white font-medium",children:r.label||e}),(0,t.jsx)(b.Input,{id:e,type:r.type||"text",placeholder:r.placeholder,value:i[e]??"",onChange:t=>S(e,t.target.value),className:"bg-zinc-900 border-white/30 text-white placeholder:text-gray-500 hover:border-white/50 focus:border-white/70 focus:ring-white/20"}),l&&!a&&(0,t.jsx)("p",{className:"text-xs text-gray-400",children:l}),a&&(0,t.jsx)("p",{className:"text-xs text-red-400",children:a})]},e)}})(e,r))})}var S=e.i(264651),C=e.i(645855),T=e.i(80465),_=e.i(745083),k=e.i(84065),q=e.i(235717),D=e.i(758768),P=e.i(900974),z=e.i(733179),A=e.i(264653),V=e.i(994500);let R={BarChart3:q.BarChart3,FileText:s.FileText,FileCheck:D.FileCheck,Database:P.Database,MessageSquare:n.MessageSquare,Target:o.Target,TrendingUp:z.TrendingUp,Shield:l.Shield,Calendar:k.Calendar,Users:c.Users};function I({workflow:e,open:i,onClose:s}){let[l,n]=(0,r.useState)({}),[o,c]=(0,r.useState)({}),[d,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)([]),[b,y]=(0,r.useState)("configure"),[v,j]=(0,r.useState)(!1),[q,D]=(0,r.useState)(null);if((0,r.useEffect)(()=>{if(e){let t={};Object.entries(e.inputSchema).forEach(([e,r])=>{r?.defaultValue!==void 0?t[e]=r.defaultValue:r?.type==="checkbox"&&(t[e]=!1)}),n(t),c({}),y("configure"),D(null)}},[e]),(0,r.useEffect)(()=>{e&&(async()=>{try{let t=await fetch(`/api/workflows/${e.key}/recent`);if(t.ok){let e=await t.json();Array.isArray(e.recentRuns)&&m(e.recentRuns)}}catch(e){console.error("Failed to load recent runs",e)}})()},[e]),!e)return null;let P=R[e.icon]||S.PlayCircle,z=async()=>{let t;if(t={},Object.entries(e.inputSchema).forEach(([e,r])=>{if(!r)return;let i=l[e];if(!r.dependsOn||void 0===r.showWhen||l[r.dependsOn]===r.showWhen){if(r.required&&(void 0===i||""===i||null===i)){t[e]=`${r.label||e} is required`;return}null!=i&&""!==i&&("email"===r.type&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(i))||(t[e]=`${r.label||e} must be a valid email`)),"number"===r.type&&Number.isNaN(Number(i))&&(t[e]=`${r.label||e} must be a number`))}}),c(t),0!==Object.keys(t).length)return void V.toast.error("Please fix validation errors before triggering");h(!0);try{let t=await fetch(`/api/workflows/${e.key}/trigger`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity_type:"process",workflow_category:e.category,payload:l})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to trigger workflow");V.toast.success(`${e.title} workflow triggered successfully`,{description:`Workflow run ID: ${r.workflow_run_id}`});let i={id:r.workflow_run_id,status:"running",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};m(e=>[i,...e.slice(0,4)]);let a={};Object.entries(e.inputSchema).forEach(([e,t])=>{t?.defaultValue!==void 0?a[e]=t.defaultValue:t?.type==="checkbox"&&(a[e]=!1)}),n(a)}catch(e){console.error("Workflow trigger error:",e),V.toast.error("Failed to trigger workflow",{description:e instanceof Error?e.message:"Unknown error occurred"})}finally{h(!1)}};return(0,t.jsx)(u.Sheet,{open:i,onOpenChange:e=>!e&&s(),children:(0,t.jsxs)(u.SheetContent,{className:"w-full sm:max-w-2xl bg-zinc-950 border-white/20",children:[(0,t.jsxs)(u.SheetHeader,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-white/20 border border-white/30",children:(0,t.jsx)(P,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(u.SheetTitle,{className:"text-white text-xl",children:e.title}),(0,t.jsx)(u.SheetDescription,{className:"text-gray-300",children:e.description})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-3",children:["manual"===e.triggerType&&(0,t.jsx)(a.Badge,{variant:"outline",className:"border-sky-500/50 text-sky-300 bg-sky-500/20",children:"Manual Trigger"}),"scheduled"===e.triggerType&&(0,t.jsx)(a.Badge,{variant:"outline",className:"border-purple-500/50 text-purple-300 bg-purple-500/20",children:"Scheduled"}),"both"===e.triggerType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Badge,{variant:"outline",className:"border-sky-500/50 text-sky-300 bg-sky-500/20",children:"Manual"}),(0,t.jsx)(a.Badge,{variant:"outline",className:"border-purple-500/50 text-purple-300 bg-purple-500/20",children:"Scheduled"})]}),e.requiredRole&&(0,t.jsx)(a.Badge,{variant:"outline",className:"border-white/40 text-gray-300 bg-white/10",children:e.requiredRole.replace("staff_","").toUpperCase()})]})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)(x.Tabs,{value:b,onValueChange:y,children:[(0,t.jsxs)(x.TabsList,{className:"grid w-full grid-cols-3 bg-zinc-900 border border-white/20",children:[(0,t.jsx)(x.TabsTrigger,{value:"configure",className:"text-gray-400 data-[state=active]:bg-zinc-800 data-[state=active]:text-white",children:"Configure"}),(0,t.jsx)(x.TabsTrigger,{value:"schedule",className:"text-gray-400 data-[state=active]:bg-zinc-800 data-[state=active]:text-white",disabled:"manual"===e.triggerType,children:"Schedule"}),(0,t.jsx)(x.TabsTrigger,{value:"history",className:"text-gray-400 data-[state=active]:bg-zinc-800 data-[state=active]:text-white",children:"History"})]}),(0,t.jsx)(x.TabsContent,{value:"configure",className:"mt-6",children:(0,t.jsxs)(f.ScrollArea,{className:"h-[calc(100vh-20rem)] pr-4",children:[e.detailedDescription&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-zinc-900/60 border border-white/20 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-gray-300 leading-relaxed",children:e.detailedDescription})}),(0,t.jsx)(N,{schema:e.inputSchema,formData:l,setFormData:n,errors:o,setErrors:c}),(0,t.jsx)("div",{className:"mt-6 pt-6 border-t border-white/20",children:(0,t.jsx)(g.Button,{onClick:z,disabled:d,className:"w-full bg-sky-500 hover:bg-sky-600 text-white border-0 shadow-lg hover:shadow-sky-500/50",size:"lg",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Triggering..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.PlayCircle,{className:"mr-2 h-4 w-4"}),"Trigger ",e.title]})})})]})}),(0,t.jsx)(x.TabsContent,{value:"schedule",className:"mt-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-20rem)] text-center",children:[(0,t.jsx)(k.Calendar,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Schedule Configuration"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 max-w-sm",children:"Schedule functionality will be available in the next update. Configure cron expressions, frequency, and timezone settings."})]})}),(0,t.jsx)(x.TabsContent,{value:"history",className:"mt-6",children:(0,t.jsx)(f.ScrollArea,{className:"h-[calc(100vh-20rem)]",children:0===p.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[(0,t.jsx)(A.History,{className:"h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Recent Runs"}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Workflow execution history will appear here"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-white mb-4",children:"Recent Executions"}),p.map(e=>(0,t.jsxs)("div",{className:"p-4 bg-zinc-900/60 border border-white/20 rounded-lg hover:bg-zinc-800/60 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(e=>{switch(e){case"queued":return(0,t.jsx)(C.Clock,{className:"h-3 w-3 text-blue-400"});case"running":return(0,t.jsx)(w.Loader2,{className:"h-3 w-3 text-blue-400 animate-spin"});case"completed":return(0,t.jsx)(T.CheckCircle,{className:"h-3 w-3 text-green-400"});case"failed":return(0,t.jsx)(_.XCircle,{className:"h-3 w-3 text-red-400"});default:return null}})(e.status),(0,t.jsxs)("span",{className:"font-mono text-xs text-gray-400",children:[e.id.slice(0,12),"..."]})]}),(0,t.jsx)(a.Badge,{variant:"outline",className:(e=>{switch(e){case"queued":case"running":return"bg-blue-500/30 text-blue-300 border-blue-500/50";case"completed":return"bg-green-500/30 text-green-300 border-green-500/50";case"failed":return"bg-red-500/30 text-red-300 border-red-500/50";default:return"bg-white/20 text-gray-300 border-white/30"}})(e.status),children:e.status})]}),(0,t.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]},e.id))]})})})]})})]})})}var L=e.i(341695);let F=L.z.object({label:L.z.string().optional(),type:L.z.enum(["text","email","number","date","datetime","select","checkbox","investor_select","vehicle_select","conversation_select"]),placeholder:L.z.string().optional(),required:L.z.boolean().optional(),options:L.z.array(L.z.union([L.z.string(),L.z.number()])).optional(),helperText:L.z.string().optional(),defaultValue:L.z.union([L.z.string(),L.z.boolean(),L.z.number()]).optional(),dependsOn:L.z.string().optional(),showWhen:L.z.union([L.z.string(),L.z.number(),L.z.boolean()]).optional()});L.z.record(L.z.string(),F);let O=[{key:"generate-position-statement",title:"Position Statement",description:"Generate investor position statements with current NAV, distributions, and performance metrics",detailedDescription:"Automatically generate comprehensive position statements for investors showing their current NAV, capital contributions, distributions received, and performance metrics across all vehicles or a specific fund. The statement will be generated as a PDF, watermarked, and ready for distribution.",icon:"BarChart3",category:"documents",triggerType:"manual",requiredRole:"staff_ops",inputSchema:{investor_id:{label:"Investor",type:"investor_select",placeholder:"Select investor",required:!0,helperText:"Choose the investor to generate the position statement for"},vehicle_id:{label:"Vehicle (Optional)",type:"vehicle_select",placeholder:"All vehicles or select specific vehicle",helperText:"Leave empty for all vehicles or select a specific fund"},as_of_date:{label:"As of Date",type:"date",required:!0,helperText:"The date for which to generate the position statement"}}},{key:"process-nda",title:"NDA Agent",description:"Automated NDA generation, DocuSign processing, and professional investor qualification",detailedDescription:"Streamline the NDA process with automated generation, DocuSign integration for e-signatures, and professional investor qualification checks. The workflow handles document creation, sending, tracking, and storage of signed NDAs.",icon:"FileText",category:"compliance",triggerType:"manual",requiredRole:"staff_rm",inputSchema:{series_number:{label:"Series Number",type:"text",placeholder:"VC206",required:!0,helperText:"Series identifier (e.g., VC206)"},project_description:{label:"Project Description",type:"text",placeholder:"VERSO Capital 2 SCSP Series 206",required:!0,helperText:"Full project/series description"},investment_description:{label:"Investment Description",type:"text",placeholder:"OPEN AI Primary Issuance July 2025",required:!0,helperText:"Description of the investment opportunity"},party_a_name:{label:"Party A Name",type:"text",placeholder:"Investor/Company Name",required:!0,helperText:"Name of the investor or company"},party_a_registered_address:{label:"Party A Address",type:"text",placeholder:"Full registered address",required:!0,helperText:"Registered address of Party A"},party_a_city_country:{label:"Party A City/Country",type:"text",placeholder:"City, Country Code",required:!0,helperText:"City and country (e.g., London, GB)"},party_a_representative_name:{label:"Party A Representative",type:"text",placeholder:"Representative Name",required:!0,helperText:"Name of authorized representative"},party_a_representative_title:{label:"Party A Rep. Title",type:"text",placeholder:"CEO, Director, etc.",required:!0,helperText:"Title of the representative"},party_b_name:{label:"Party B Name",type:"text",placeholder:"VERSO Capital 2 SCSP Series 206",defaultValue:'VERSO Capital 2 SCSP Series 206 ("VC206")',helperText:"VERSO entity name (pre-filled)"},party_b_registered_address:{label:"Party B Address",type:"text",placeholder:"2, Avenue Charles de Gaulle – L-1653",defaultValue:"2, Avenue Charles de Gaulle – L-1653",helperText:"VERSO registered address"},party_b_city_country:{label:"Party B City/Country",type:"text",placeholder:"Luxembourg, LU",defaultValue:"Luxembourg, LU",helperText:"VERSO city and country"},party_b_representative_name:{label:"Party B Representative",type:"text",placeholder:"Julien Machot",defaultValue:"Julien Machot",helperText:"VERSO representative name"},party_b_representative_title:{label:"Party B Rep. Title",type:"text",placeholder:"Managing Partner",defaultValue:"Managing Partner",helperText:"VERSO representative title"},dataroom_email:{label:"Data Room Email",type:"email",placeholder:"investor@example.com",required:!0,helperText:"Email for data room access"},execution_date:{label:"Execution Date",type:"date",required:!0,helperText:"Date of NDA execution"},zoho_sign_document_id:{label:"Zoho Sign Document ID",type:"text",placeholder:"Optional - auto-generated if empty",helperText:"Zoho Sign tracking ID (optional)"}}},{key:"shared-drive-notification",title:"Shared-Drive Notification",description:"Automatically notify investors when documents in shared drives are updated",detailedDescription:"Monitor shared drive folders for document changes and automatically notify relevant investors when new documents are uploaded or existing ones are updated. This ensures investors stay informed about important updates without manual intervention.",icon:"Database",category:"communications",triggerType:"scheduled",requiredRole:"staff_ops",inputSchema:{document_category:{label:"Document Category",type:"select",options:["legal","financial","marketing","compliance","reports"],required:!0,helperText:"Type of documents to monitor"},notification_group:{label:"Notification Group",type:"select",options:["investors","staff","compliance","all"],required:!0,helperText:"Who should be notified of changes"}}},{key:"inbox-manager",title:"Inbox Manager",description:"Intelligently process and route investor communications to appropriate teams",detailedDescription:"Automate inbox management by processing incoming emails or VERSOTECH messages, categorizing them based on content, and routing to the appropriate team members. Supports both email filtering and internal messaging workflows.",icon:"MessageSquare",category:"communications",triggerType:"both",requiredRole:"staff_ops",inputSchema:{inbox_type:{label:"Inbox Type",type:"select",options:["email","versotech_messaging"],required:!0,helperText:"Choose the type of inbox to process"},command:{label:"Command/Action",type:"text",placeholder:'e.g., "route to compliance", "create task"',required:!0,helperText:"Specify the action to perform on matched messages"},email_subject:{label:"Email Subject Filter",type:"text",placeholder:"Subject keywords to match",dependsOn:"inbox_type",showWhen:"email",helperText:"Filter emails by subject line"},conversation_id:{label:"Conversation",type:"conversation_select",placeholder:"Select conversation",dependsOn:"inbox_type",showWhen:"versotech_messaging",helperText:"Choose the conversation to apply the command to"}}},{key:"linkedin-leads-scraper",title:"LinkedIn Leads Scraper",description:"Identify and qualify potential high-net-worth investors and institutional clients",detailedDescription:"Scrape LinkedIn profiles based on search criteria to identify potential investors. The workflow extracts contact information, professional background, and qualifies leads based on specified parameters for targeted outreach campaigns.",icon:"Target",category:"data_processing",triggerType:"manual",requiredRole:"staff_rm",inputSchema:{search_url:{label:"LinkedIn Search URL",type:"text",placeholder:"https://www.linkedin.com/search/results/people/?...",required:!0,helperText:"Paste the full LinkedIn search URL with filters applied"},purpose:{label:"Campaign Purpose",type:"select",options:["linkedin_outreach","cold_email_campaign"],required:!0,helperText:"Select the intended use for the scraped leads"}}},{key:"reporting-agent",title:"Reporting Agent",description:"Generate comprehensive investor reports, compliance filings, and performance analytics",detailedDescription:"Automate the generation of investor reports including quarterly statements, annual reports, and compliance filings. Reports can be generated on-demand or scheduled for regular distribution, with support for both public and corporate reporting formats.",icon:"TrendingUp",category:"documents",triggerType:"both",requiredRole:"staff_rm",inputSchema:{report_category:{label:"Report Category",type:"select",options:["public","corporate","both"],required:!0,helperText:"Type of report to generate"},investor_id:{label:"Investor",type:"investor_select",placeholder:"Select investor",required:!0,helperText:"Choose the investor to generate the report for"},vehicle_id:{label:"Vehicle",type:"vehicle_select",placeholder:"Select vehicle",required:!0,helperText:"Choose the fund or vehicle for the report"},frequency:{label:"Report Frequency",type:"select",options:["one-time","monthly","quarterly","annual"],required:!0,helperText:"How often the report should be generated"},include_charts:{label:"Include Charts",type:"checkbox",defaultValue:!0,helperText:"Add visual charts and graphs to the report"}}},{key:"kyc-aml-processing",title:"KYC/AML Processing",description:"Enhanced due diligence for professional investor qualification and BVI FSC compliance",detailedDescription:"Perform comprehensive KYC (Know Your Customer) and AML (Anti-Money Laundering) checks with automated sanctions screening, beneficial ownership analysis, and professional investor verification. Ensures full BVI FSC regulatory compliance.",icon:"Shield",category:"compliance",triggerType:"manual",requiredRole:"staff_admin",inputSchema:{investor_id:{label:"Investor",type:"investor_select",placeholder:"Select investor",required:!0,helperText:"Choose the investor to perform KYC/AML checks on"},investor_type:{label:"Investor Type",type:"select",options:["individual","institution","corporate"],required:!0,helperText:"Classification of the investor"},jurisdiction:{label:"Jurisdiction",type:"text",placeholder:"e.g., United Kingdom, Cayman Islands",required:!0,helperText:"Legal jurisdiction of the investor"},enhanced_dd:{label:"Enhanced Due Diligence",type:"checkbox",helperText:"Perform additional enhanced due diligence checks"}}},{key:"capital-call-processing",title:"Capital Call Processing",description:"Generate capital call notices, wire instructions, and investor notifications",detailedDescription:"Automate the capital call process by generating notices, calculating wire instructions per investor, and sending notifications. The workflow handles document generation, email distribution, and tracking of investor responses.",icon:"Calendar",category:"communications",triggerType:"manual",requiredRole:"staff_admin",requiredTitles:["bizops"],inputSchema:{vehicle_id:{label:"Vehicle",type:"vehicle_select",placeholder:"Select vehicle",required:!0,helperText:"Choose the fund or vehicle for the capital call"},call_percentage:{label:"Call Percentage",type:"number",placeholder:"30.00",required:!0,helperText:"Percentage of committed capital to call (e.g., 30 for 30%)"},due_date:{label:"Due Date",type:"date",required:!0,helperText:"Date by which capital must be received"},wire_deadline:{label:"Wire Deadline",type:"datetime",required:!0,helperText:"Specific date and time for wire transfer deadline"}}},{key:"investor-onboarding",title:"Investor Onboarding",description:"Complete investor onboarding flow: KYC → NDA → Subscription → First Funding",detailedDescription:"Execute the full investor onboarding sequence from initial KYC verification through NDA execution, subscription agreement signing, and first capital commitment. This multi-step workflow coordinates all required documentation and compliance checks.",icon:"Users",category:"multi_step",triggerType:"manual",requiredRole:"staff_ops",inputSchema:{investor_email:{label:"Investor Email",type:"email",placeholder:"investor@example.com",required:!0,helperText:"Primary email address for the new investor"},investment_amount:{label:"Initial Investment",type:"number",placeholder:"1000000",required:!0,helperText:"Target investment amount in USD"},target_vehicle:{label:"Target Vehicle",type:"vehicle_select",placeholder:"Select vehicle",required:!0,helperText:"Fund or vehicle the investor will participate in"},investor_type:{label:"Investor Type",type:"select",options:["individual","institution","corporate"],required:!0,helperText:"Classification for KYC processing"}}},{key:"generate-subscription-pack",title:"Subscription Pack",description:"Generate subscription agreements, PPM, and onboarding documents for new investors",detailedDescription:"Automatically generate a complete subscription package including subscription agreements, Private Placement Memorandum (PPM), and all required onboarding documents. The package is tailored to the specific vehicle and investor type, ready for e-signature.",icon:"FileCheck",category:"documents",triggerType:"manual",requiredRole:"staff_ops",inputSchema:{investor_id:{label:"Investor",type:"investor_select",placeholder:"Select investor",required:!0,helperText:"Choose the investor for subscription pack generation"},vehicle_id:{label:"Vehicle",type:"vehicle_select",placeholder:"Select vehicle",required:!0,helperText:"Fund or vehicle for the subscription"},commitment_amount:{label:"Commitment Amount",type:"number",placeholder:"1000000",required:!0,helperText:"Total commitment amount in USD"},include_ppm:{label:"Include PPM",type:"checkbox",defaultValue:!0,helperText:"Include Private Placement Memorandum"}}},{key:"generate-investment-certificate",title:"Investment Certificate",description:"Generate official investment certificates for fully funded subscriptions",detailedDescription:"Generate a professional investment certificate for investors who have fully funded their subscription. The certificate includes investment details, shares/units held, and is watermarked for security. Automatically triggered when subscriptions reach fully funded status.",icon:"Award",category:"documents",triggerType:"both",requiredRole:"staff_ops",inputSchema:{subscription_id:{label:"Subscription",type:"text",placeholder:"Subscription ID",required:!0,helperText:"The subscription to generate a certificate for"},investor_id:{label:"Investor",type:"investor_select",placeholder:"Select investor",required:!0,helperText:"The investor receiving the certificate"},vehicle_id:{label:"Vehicle",type:"vehicle_select",placeholder:"Select vehicle",required:!0,helperText:"The fund or vehicle for the certificate"},certificate_date:{label:"Certificate Date",type:"date",required:!0,helperText:"The date to display on the certificate"},include_watermark:{label:"Include Watermark",type:"checkbox",defaultValue:!0,helperText:"Add security watermark to the certificate"}}}];O.map(e=>[e.key,e]);let E={documents:{title:"Document Generation",description:"Position statements, reports, and compliance filings",icon:"FileText",gradient:"from-blue-500/20 to-cyan-500/20"},compliance:{title:"Compliance & Verification",description:"KYC, AML screening, and regulatory checks",icon:"Shield",gradient:"from-green-500/20 to-emerald-500/20"},communications:{title:"Communications",description:"Inbox management, notifications, and investor outreach",icon:"MessageSquare",gradient:"from-purple-500/20 to-pink-500/20"},data_processing:{title:"Data Processing",description:"Lead generation, data enrichment, and analytics",icon:"Target",gradient:"from-orange-500/20 to-red-500/20"},multi_step:{title:"Multi-Step Workflows",description:"Complex orchestrated processes and onboarding",icon:"Users",gradient:"from-indigo-500/20 to-violet-500/20"}};var M=e.i(355123);function B({profile:e}){let[s,l]=(0,r.useState)(null),[n,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),x={documents:O.filter(e=>"documents"===e.category),compliance:O.filter(e=>"compliance"===e.category),communications:O.filter(e=>"communications"===e.category),data_processing:O.filter(e=>"data_processing"===e.category),multi_step:O.filter(e=>"multi_step"===e.category)};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{className:"border-b border-white/20 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Process Center"}),(0,t.jsx)("p",{className:"text-lg text-gray-300 mt-1",children:"Workflow automation for VERSO Holdings operations"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-300",children:["Staff: ",e.display_name]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400",children:[e.role.replace("staff_","").toUpperCase(),e.title&&` • ${e.title}`]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(i.Card,{className:"border-white/20 bg-zinc-900/80",children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsxs)(i.CardTitle,{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,t.jsx)(M.Zap,{className:"h-4 w-4 text-white"}),"Total Processes"]})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:O.length}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Available workflows"})]})]}),(0,t.jsxs)(i.Card,{className:"border-white/20 bg-zinc-900/80",children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsxs)(i.CardTitle,{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[(0,t.jsx)(z.TrendingUp,{className:"h-4 w-4 text-white"}),"Categories"]})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:Object.keys(E).length}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Process categories"})]})]}),(0,t.jsxs)(i.Card,{className:"border-white/20 bg-zinc-900/80",children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-sm font-medium text-gray-300",children:"Your Access"})}),(0,t.jsxs)(i.CardContent,{children:[(0,t.jsx)(a.Badge,{className:"bg-green-500/30 text-green-300 border-green-500/40",children:e.role.replace("staff_","").toUpperCase()}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:[O.filter(t=>!t.requiredRole||t.requiredRole===e.role).length," accessible"]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Process Categories"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Object.entries(E).map(([e,r])=>(0,t.jsx)(m,{category:e,title:r.title,description:r.description,processCount:x[e]?.length||0,gradient:r.gradient,onClick:()=>{l(e),d(!0)}},e))})]}),(0,t.jsxs)(i.Card,{className:"border-white/20 bg-gradient-to-br from-sky-500/20 to-blue-500/20",children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{className:"text-white",children:"Getting Started"}),(0,t.jsx)(i.CardDescription,{className:"text-gray-300",children:"Learn how to use the Process Center"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-gray-300",children:[(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-sky-300 mt-0.5",children:"•"}),(0,t.jsx)("span",{children:"Click on any category card to view available processes"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-sky-300 mt-0.5",children:"•"}),(0,t.jsx)("span",{children:"Select a process to configure and trigger workflows"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-sky-300 mt-0.5",children:"•"}),(0,t.jsx)("span",{children:"View execution history and schedule recurring processes"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-sky-300 mt-0.5",children:"•"}),(0,t.jsx)("span",{children:"Processes connect to n8n webhooks for automation"})]})]})})]}),(0,t.jsx)(u.Sheet,{open:c,onOpenChange:e=>!e&&void(d(!1),l(null)),children:(0,t.jsx)(u.SheetContent,{className:"w-full sm:max-w-lg bg-zinc-950 border-white/20",children:s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(u.SheetHeader,{children:[(0,t.jsx)(u.SheetTitle,{className:"text-white text-xl",children:E[s]?.title}),(0,t.jsx)(u.SheetDescription,{className:"text-gray-300",children:E[s]?.description})]}),(0,t.jsx)("div",{className:"mt-6 space-y-3",children:O.filter(e=>e.category===s).map(e=>(0,t.jsx)(i.Card,{className:"cursor-pointer transition-all border-white/20 bg-zinc-900/80 hover:bg-zinc-800/80 hover:border-white/40",onClick:()=>{o(e),d(!1),p(!0)},children:(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"text-white text-base flex items-center justify-between",children:[e.title,(0,t.jsx)(a.Badge,{variant:"outline",className:"manual"===e.triggerType?"border-sky-500/40 text-sky-300 bg-sky-500/20":"scheduled"===e.triggerType?"border-purple-500/40 text-purple-300 bg-purple-500/20":"border-green-500/40 text-green-300 bg-green-500/20",children:"both"===e.triggerType?"Manual/Scheduled":e.triggerType})]}),(0,t.jsx)(i.CardDescription,{className:"text-gray-400 text-sm",children:e.description})]})},e.key))})]})})}),(0,t.jsx)(I,{workflow:n,open:h,onClose:()=>{p(!1),o(null)}})]})}e.s(["ProcessCenterClient",()=>B],351889)}]);