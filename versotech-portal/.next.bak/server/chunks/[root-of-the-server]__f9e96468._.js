module.exports=[918622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},270406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},193695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},433669,e=>{"use strict";e.i(814247);var r=e.i(150615),t=e.i(12049),s=e.i(57824);let n=async()=>{let e=await (0,s.cookies)();return(0,r.createServerClient)("https://ipguxdssecfexudnvtia.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZ3V4ZHNzZWNmZXh1ZG52dGlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzNjE4MzcsImV4cCI6MjA3MzkzNzgzN30.AGxM_YW9hfxuu7xDpi_4xhOoRhYM7iGTS1vJ0z2FByE",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>{e.set(r,t,s)})}catch(e){}}}})};e.s(["createClient",0,n,"createServiceClient",0,()=>(0,t.createClient)("https://ipguxdssecfexudnvtia.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})])},400589,e=>{"use strict";async function r(e){let{data:r,error:t}=await e.from("ceo_users").select("user_id, can_sign, is_primary, title").eq("can_sign",!0).order("is_primary",{ascending:!1}).order("created_at",{ascending:!0}).limit(1).maybeSingle();if(t)return console.error("[ceo-signer] Failed to load CEO signer:",t),null;if(!r)return console.warn("[ceo-signer] No CEO signer found with can_sign = true"),null;let{data:s,error:n}=await e.from("profiles").select("id, email, display_name").eq("id",r.user_id).single();return n||!s?(console.error("[ceo-signer] Failed to load profile for signer:",n),null):{id:s.id,email:s.email||"",displayName:s.display_name||s.email?.split("@")[0]||"CEO",title:r.title,canSign:r.can_sign??!1}}e.s(["getCeoSigner",()=>r])},66044,e=>{"use strict";let r=process.env.GOTENBERG_URL||"http://gotenberg:3000";async function t(e,s="document.docx"){try{console.log("ðŸ“„ [GOTENBERG] Starting DOCX to PDF conversion:",{input_size:e.length,filename:s});let t=`${r}/forms/libreoffice/convert`,n=new FormData,o=new Blob([new Uint8Array(e)],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});n.append("files",o,s);let i=await fetch(t,{method:"POST",body:n});if(!i.ok){let e=await i.text();return console.error("âŒ [GOTENBERG] Conversion failed:",{status:i.status,statusText:i.statusText,error:e}),{success:!1,error:`Gotenberg conversion failed: ${i.status} ${i.statusText}`}}let a=await i.arrayBuffer(),c=Buffer.from(a);return console.log("âœ… [GOTENBERG] Conversion successful:",{input_size:e.length,output_size:c.length}),{success:!0,pdfBuffer:c}}catch(e){return console.error("âŒ [GOTENBERG] Conversion error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown conversion error"}}}async function s(e,t="document.html"){try{let s=`${r}/forms/chromium/convert/html`,n=new FormData,o=new Blob([e],{type:"text/html"});n.append("files",o,t);let i=await fetch(s,{method:"POST",body:n});if(!i.ok){let e=await i.text();return{success:!1,error:`HTML to PDF conversion failed: ${i.status} - ${e}`}}let a=await i.arrayBuffer();return{success:!0,pdfBuffer:Buffer.from(a)}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}e.s(["convertDocxToPdf",()=>t,"convertHtmlToPdf",()=>s])},261365,e=>{e.v(e=>Promise.resolve().then(()=>e(368899)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f9e96468._.js.map