{"version":3,"sources":["../../../../../versotech-portal/src/components/investors/add-investor-modal.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/investors/investor-filters.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/investors/export-investors-button.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/investors/investor-search.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/investors/investors-data-table.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/investors/investor-columns.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/investors/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddInvestorModal = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddInvestorModal() from the server but AddInvestorModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/add-investor-modal.tsx\",\n    \"AddInvestorModal\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InvestorFilters = registerClientReference(\n    function() { throw new Error(\"Attempted to call InvestorFilters() from the server but InvestorFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/investor-filters.tsx\",\n    \"InvestorFilters\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ExportInvestorsButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call ExportInvestorsButton() from the server but ExportInvestorsButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/export-investors-button.tsx\",\n    \"ExportInvestorsButton\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InvestorSearch = registerClientReference(\n    function() { throw new Error(\"Attempted to call InvestorSearch() from the server but InvestorSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/investor-search.tsx\",\n    \"InvestorSearch\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InvestorsDataTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call InvestorsDataTable() from the server but InvestorsDataTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/investors-data-table.tsx\",\n    \"InvestorsDataTable\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const dispatchInvestorInvite = registerClientReference(\n    function() { throw new Error(\"Attempted to call dispatchInvestorInvite() from the server but dispatchInvestorInvite is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/investor-columns.tsx\",\n    \"dispatchInvestorInvite\",\n);\nexport const investorColumns = registerClientReference(\n    function() { throw new Error(\"Attempted to call investorColumns() from the server but investorColumns is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/investors/investor-columns.tsx\",\n    \"investorColumns\",\n);\n","import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { requireStaffAuth } from '@/lib/auth'\r\nimport { cookies } from 'next/headers'\r\nimport Link from 'next/link'\r\nimport { AddInvestorModal } from '@/components/investors/add-investor-modal'\r\nimport { InvestorFilters } from '@/components/investors/investor-filters'\r\nimport { ExportInvestorsButton } from '@/components/investors/export-investors-button'\r\nimport { InvestorSearch } from '@/components/investors/investor-search'\r\nimport { InvestorsDataTable } from '@/components/investors/investors-data-table'\r\nimport { investorColumns } from '@/components/investors/investor-columns'\r\nimport {\r\n  Users,\r\n  Eye,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  Clock,\r\n  Mail\r\n} from 'lucide-react'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\ntype InvestorUserRow = {\r\n  user_id: string\r\n  profiles: {\r\n    id: string\r\n    display_name: string | null\r\n    email: string | null\r\n    title: string | null\r\n    role: string | null\r\n  } | null\r\n}\r\n\r\ntype InvestorRow = {\r\n  id: string\r\n  legal_name: string | null\r\n  type: string | null\r\n  kyc_status: string | null\r\n  country: string | null\r\n  status: string | null\r\n  onboarding_status: string | null\r\n  aml_risk_rating: string | null\r\n  created_at: string | null\r\n  primary_rm: string | null\r\n  rm_profile: {\r\n    id: string\r\n    display_name: string | null\r\n    email: string | null\r\n  } | null\r\n  investor_users?: InvestorUserRow[] | null\r\n}\r\n\r\ntype InvestorMetrics = {\r\n  investor_id: string\r\n  total_commitment: number | null\r\n  total_contributed: number | null\r\n  total_distributed: number | null\r\n  unfunded_commitment: number | null\r\n  current_nav: number | null\r\n  vehicle_count: number | null\r\n}\r\n\r\ntype InvestorActivity = {\r\n  investor_id: string\r\n  created_at: string\r\n}\r\n\r\ntype UIInvestorUser = {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  title: string\r\n}\r\n\r\ntype UIInvestor = {\r\n  id: string\r\n  name: string\r\n  type: string\r\n  email: string\r\n  kycStatus: string\r\n  onboardingStatus: string\r\n  totalCommitment: number\r\n  totalContributed: number\r\n  vehicleCount: number\r\n  metricsAvailable: boolean\r\n  lastActivity: string\r\n  relationshipManager: string\r\n  riskRating: string\r\n  country: string\r\n  users: UIInvestorUser[]\r\n}\r\n\r\nconst FALLBACK_INVESTORS: UIInvestor[] = [\r\n  {\r\n    id: '1',\r\n    name: 'Acme Fund LP',\r\n    type: 'institutional',\r\n    email: 'contact@acmefund.com',\r\n    kycStatus: 'completed',\r\n    onboardingStatus: 'active',\r\n    totalCommitment: 2_500_000,\r\n    totalContributed: 1_800_000,\r\n    vehicleCount: 3,\r\n    metricsAvailable: true,\r\n    lastActivity: '2024-01-15',\r\n    relationshipManager: 'Sarah Chen',\r\n    riskRating: 'low',\r\n    country: 'United States',\r\n    users: []\r\n  },\r\n  {\r\n    id: '2',\r\n    name: 'John Smith',\r\n    type: 'individual',\r\n    email: 'john.smith@email.com',\r\n    kycStatus: 'pending',\r\n    onboardingStatus: 'in_progress',\r\n    totalCommitment: 500_000,\r\n    totalContributed: 250_000,\r\n    vehicleCount: 1,\r\n    metricsAvailable: true,\r\n    lastActivity: '2024-01-14',\r\n    relationshipManager: 'Michael Rodriguez',\r\n    riskRating: 'medium',\r\n    country: 'United Kingdom',\r\n    users: []\r\n  },\r\n  {\r\n    id: '3',\r\n    name: 'Global Investments LLC',\r\n    type: 'institutional',\r\n    email: 'investments@global.com',\r\n    kycStatus: 'completed',\r\n    onboardingStatus: 'active',\r\n    totalCommitment: 5_000_000,\r\n    totalContributed: 4_200_000,\r\n    vehicleCount: 5,\r\n    metricsAvailable: true,\r\n    lastActivity: '2024-01-16',\r\n    relationshipManager: 'Sarah Chen',\r\n    riskRating: 'low',\r\n    country: 'Luxembourg',\r\n    users: []\r\n  }\r\n]\r\n\r\nfunction getKycStatusIcon(status: string) {\r\n  switch (status) {\r\n    case 'completed':\r\n      return <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n    case 'pending':\r\n      return <Clock className=\"h-4 w-4 text-yellow-600\" />\r\n    case 'review':\r\n      return <AlertTriangle className=\"h-4 w-4 text-orange-600\" />\r\n    default:\r\n      return <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n  }\r\n}\r\n\r\nfunction getKycStatusColor(status: string) {\r\n  switch (status) {\r\n    case 'completed':\r\n      return 'bg-green-100 text-green-800'\r\n    case 'pending':\r\n      return 'bg-yellow-100 text-yellow-800'\r\n    case 'review':\r\n      return 'bg-orange-100 text-orange-800'\r\n    default:\r\n      return 'bg-gray-100 text-foreground'\r\n  }\r\n}\r\n\r\nfunction getRiskColor(risk: string) {\r\n  return (\r\n    {\r\n      low: 'bg-green-100 text-green-800',\r\n      medium: 'bg-yellow-100 text-yellow-800',\r\n      high: 'bg-red-100 text-red-800'\r\n    }[risk] || 'bg-gray-100 text-foreground'\r\n  )\r\n}\r\n\r\nfunction formatKycStatus(status: string | null) {\r\n  if (!status) return 'pending'\r\n  const lower = status.toLowerCase()\r\n  if (lower === 'approved') return 'completed'\r\n  return lower\r\n}\r\n\r\nfunction inferRisk(status: string | null) {\r\n  if (!status) return 'medium'\r\n  return status.toLowerCase() === 'approved' ? 'low' : 'medium'\r\n}\r\n\r\n// Disable caching to ensure fresh data on every visit\r\nexport const revalidate = 0\r\n\r\nexport default async function InvestorsPage({\r\n  searchParams\r\n}: {\r\n  searchParams: Promise<{ q?: string; status?: string; type?: string; rm?: string; page?: string; limit?: string }>\r\n}) {\r\n  await requireStaffAuth()\r\n  const supabase = await createClient()\r\n\r\n  // Await searchParams (Next.js 15 requirement)\r\n  const params = await searchParams\r\n\r\n  // Pagination setup - increased default limit to load more investors\r\n  const limit = parseInt(params.limit || '1000')  // Increased from 20 to 1000\r\n  const page = parseInt(params.page || '1')\r\n  const offset = (page - 1) * limit\r\n\r\n  // Build query with filters\r\n  let query = supabase\r\n    .from('investors')\r\n    .select(\r\n      `\r\n        id,\r\n        legal_name,\r\n        type,\r\n        kyc_status,\r\n        country,\r\n        status,\r\n        onboarding_status,\r\n        aml_risk_rating,\r\n        created_at,\r\n        primary_rm,\r\n        rm_profile:profiles!investors_primary_rm_fkey (\r\n          id,\r\n          display_name,\r\n          email\r\n        ),\r\n        investor_users (\r\n          user_id,\r\n          profiles:profiles!investor_users_user_id_fkey (\r\n            id,\r\n            display_name,\r\n            email,\r\n            title,\r\n            role\r\n          )\r\n        )\r\n      `,\r\n      { count: 'exact' }\r\n    )\r\n\r\n  // Apply search filter\r\n  if (params.q) {\r\n    query = query.or(`legal_name.ilike.%${params.q}%,email.ilike.%${params.q}%`)\r\n  }\r\n\r\n  // Apply KYC status filter\r\n  if (params.status) {\r\n    query = query.eq('kyc_status', params.status)\r\n  }\r\n\r\n  // Apply investor type filter\r\n  if (params.type) {\r\n    query = query.eq('type', params.type)\r\n  }\r\n\r\n  // Apply relationship manager filter\r\n  if (params.rm) {\r\n    query = query.eq('primary_rm', params.rm)\r\n  }\r\n\r\n  // Apply pagination and sorting\r\n  const { data, error, count } = await query\r\n    .order('created_at', { ascending: false })\r\n    .range(offset, offset + limit - 1)\r\n\r\n  if (error) {\r\n    console.error('[Investors] Error fetching investors:', error)\r\n    return renderPage(FALLBACK_INVESTORS, { source: 'error' })\r\n  }\r\n\r\n  const investors = (data || []).map(inv => ({\r\n    ...inv,\r\n    rm_profile: Array.isArray(inv.rm_profile) ? inv.rm_profile[0] : inv.rm_profile,\r\n    investor_users: inv.investor_users?.map(iu => ({\r\n      user_id: iu.user_id,\r\n      profiles: Array.isArray(iu.profiles) ? iu.profiles[0] : iu.profiles\r\n    }))\r\n  })) as unknown as InvestorRow[]\r\n\r\n  if (investors.length === 0) {\r\n    console.warn('[Investors] No investors returned. Using fallback dataset.')\r\n    return renderPage(FALLBACK_INVESTORS, { source: 'empty' })\r\n  }\r\n\r\n  const investorIds = investors.map((inv) => inv.id)\r\n\r\n  const [metricsMap, lastActivityMap] = await Promise.all([\r\n    fetchCapitalMetrics(supabase, investorIds),\r\n    fetchLastActivity(supabase, investorIds)\r\n  ])\r\n\r\n  const enrichedInvestors: UIInvestor[] = investors.map((inv) => {\r\n    const users: UIInvestorUser[] = (inv.investor_users || []).map((entry) => ({\r\n      id: entry.profiles?.id || entry.user_id,\r\n      name: entry.profiles?.display_name || 'Unnamed User',\r\n      email: entry.profiles?.email || 'No email',\r\n      title: entry.profiles?.title || 'â€”'\r\n    }))\r\n\r\n    const primaryContact = users[0]\r\n    const metrics = metricsMap.get(inv.id)\r\n\r\n    return {\r\n      id: inv.id,\r\n      name: inv.legal_name || 'Unnamed Investor',\r\n      type: inv.type || 'individual',\r\n      email: primaryContact?.email || 'No primary contact',\r\n      kycStatus: formatKycStatus(inv.kyc_status),\r\n      onboardingStatus: inv.onboarding_status || (metrics?.total_commitment ? 'completed' : 'pending'),\r\n      totalCommitment: metrics?.total_commitment || 0,\r\n      totalContributed: metrics?.total_contributed || 0,\r\n      vehicleCount: metrics?.vehicle_count || 0,\r\n      metricsAvailable: !!metrics,\r\n      lastActivity:\r\n        lastActivityMap.get(inv.id) ||\r\n        inv.created_at ||\r\n        new Date().toISOString(),\r\n      relationshipManager: inv.rm_profile?.display_name || 'Unassigned',\r\n      riskRating: inv.aml_risk_rating || inferRisk(inv.kyc_status),\r\n      country: inv.country || 'Unknown',\r\n      users\r\n    }\r\n  })\r\n\r\n  const totalPages = Math.ceil((count || 0) / limit)\r\n  \r\n  return renderPage(enrichedInvestors, {\r\n    source: 'live',\r\n    pagination: {\r\n      currentPage: page,\r\n      totalPages,\r\n      totalCount: count || 0,\r\n      limit\r\n    },\r\n    filters: params\r\n  })\r\n}\r\n\r\nasync function fetchCapitalMetrics(\r\n  supabase: Awaited<ReturnType<typeof createClient>> | ReturnType<typeof createServiceClient>,\r\n  investorIds: string[]\r\n) {\r\n  const metricsMap = new Map<string, InvestorMetrics>()\r\n\r\n  if (investorIds.length === 0) {\r\n    return metricsMap\r\n  }\r\n\r\n  try {\r\n    const { data, error } = await supabase.rpc('get_investor_capital_summary', {\r\n      p_investor_ids: investorIds\r\n    })\r\n\r\n    if (error) {\r\n      console.warn('[Investors] Capital summary RPC failed:', error.message)\r\n      return metricsMap\r\n    }\r\n\r\n    (data as InvestorMetrics[]).forEach((metric) => {\r\n      metricsMap.set(metric.investor_id, metric)\r\n    })\r\n  } catch (rpcError) {\r\n    console.warn('[Investors] Capital summary RPC unavailable:', rpcError)\r\n  }\r\n\r\n  return metricsMap\r\n}\r\n\r\nasync function fetchLastActivity(\r\n  supabase: Awaited<ReturnType<typeof createClient>> | ReturnType<typeof createServiceClient>,\r\n  investorIds: string[]\r\n) {\r\n  const lastActivity = new Map<string, string>()\r\n\r\n  if (investorIds.length === 0) {\r\n    return lastActivity\r\n  }\r\n\r\n  try {\r\n    const { data, error } = await supabase\r\n      .from('activity_feed')\r\n      .select('investor_id, created_at')\r\n      .in('investor_id', investorIds)\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (error) {\r\n      console.warn('[Investors] Failed to fetch activity feed:', error.message)\r\n      return lastActivity\r\n    }\r\n\r\n    (data as InvestorActivity[]).forEach((activity) => {\r\n      if (!lastActivity.has(activity.investor_id)) {\r\n        lastActivity.set(activity.investor_id, activity.created_at)\r\n      }\r\n    })\r\n  } catch (activityError) {\r\n    console.warn('[Investors] Activity feed unavailable:', activityError)\r\n  }\r\n\r\n  return lastActivity\r\n}\r\n\r\nfunction renderPage(\r\n  investorList: UIInvestor[],\r\n  meta?: {\r\n    source?: 'live' | 'demo' | 'empty' | 'error' | 'demo-empty' | 'demo-error'\r\n    pagination?: {\r\n      currentPage: number\r\n      totalPages: number\r\n      totalCount: number\r\n      limit: number\r\n    }\r\n    filters?: {\r\n      q?: string\r\n      status?: string\r\n      type?: string\r\n      rm?: string\r\n    }\r\n  }\r\n) {\r\n  if (meta?.source && !['live', 'demo'].includes(meta.source)) {\r\n    console.warn('[Investors] Rendering fallback dataset from', meta.source)\r\n  }\r\n\r\n  const stats = {\r\n    total: meta?.pagination?.totalCount || investorList.length,\r\n    active: investorList.filter((i) => i.onboardingStatus === 'completed' || i.onboardingStatus === 'active').length,\r\n    pending: investorList.filter((i) => ['pending', 'review'].includes(i.kycStatus)).length,\r\n    entities: investorList.filter((i) => i.type === 'entity').length,\r\n    individuals: investorList.filter((i) => i.type === 'individual').length\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-foreground\">Investor Management</h1>\r\n            <p className=\"text-muted-foreground mt-1\">\r\n              Manage investor accounts, linked users, and onboarding status\r\n            </p>\r\n          </div>\r\n          <AddInvestorModal />\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6\">\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Investors</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-foreground\">{stats.total}</div>\r\n              <div className=\"text-sm text-muted-foreground mt-1\">Registered accounts</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Active Accounts</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-green-400\">{stats.active}</div>\r\n              <div className=\"text-sm text-muted-foreground mt-1\">Fully onboarded</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pending KYC</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-yellow-400\">{stats.pending}</div>\r\n              <div className=\"text-sm text-muted-foreground mt-1\">Require attention</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Entities</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-blue-400\">{stats.entities}</div>\r\n              <div className=\"text-sm text-muted-foreground mt-1\">Corporate investors</div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Individuals</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-purple-400\">{stats.individuals}</div>\r\n              <div className=\"text-sm text-muted-foreground mt-1\">Natural persons</div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        <Card>\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <div className=\"flex-1\">\r\n                <InvestorSearch />\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <InvestorFilters />\r\n                <ExportInvestorsButton investors={investorList} />\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>All Investors ({meta?.pagination?.totalCount || investorList.length})</CardTitle>\r\n            <CardDescription>\r\n              Comprehensive investor list with sortable columns and bulk actions\r\n              {meta?.pagination?.totalCount && meta.pagination.totalCount > investorList.length && (\r\n                <span className=\"text-muted-foreground text-sm ml-2\">\r\n                  (Showing {investorList.length} of {meta.pagination.totalCount})\r\n                </span>\r\n              )}\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <InvestorsDataTable columns={investorColumns} data={investorList} />\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n}"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5]}