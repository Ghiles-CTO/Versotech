module.exports=[107850,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(951870),f=a.i(284169),g=a.i(211374);function h(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-36"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-48 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:Array.from({length:8}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-6 flex-1",style:{width:`${100-10*c}%`}})]},c))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-40"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-52 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"flex items-end justify-between h-[200px] pt-4",children:Array.from({length:7}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"w-8",style:{height:`${40+100*Math.random()}px`}}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-8"})]},c))})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-44"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-56 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"flex items-end justify-between h-[180px] pt-4 overflow-x-auto",children:Array.from({length:24}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1 min-w-[32px]",children:[(0,b.jsx)(g.Skeleton,{className:"w-5",style:{height:`${20+120*Math.random()}px`}}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-5"})]},c))})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-44"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-48 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 pb-2 border-b",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"})]}),Array.from({length:5}).map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 py-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-8"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-12"})]},c))]})})]})]})}var i=a.i(190120),j=a.i(828087),k=a.i(861486),l=a.i(849928),m=a.i(66579),n=a.i(921819),o=a.i(799524),p=a.i(89413),q=a.i(562044);let r=["hsl(var(--primary))","hsl(var(--primary) / 0.9)","hsl(var(--primary) / 0.8)","hsl(var(--primary) / 0.7)","hsl(var(--primary) / 0.65)","hsl(var(--primary) / 0.6)","hsl(var(--primary) / 0.55)","hsl(var(--primary) / 0.5)","hsl(var(--primary) / 0.45)","hsl(var(--primary) / 0.4)"];function s(){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-36"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-48 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:Array.from({length:8}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-6 flex-1",style:{width:`${100-10*c}%`}})]},c))})})]})}function t({active:a,payload:c}){if(a&&c&&c.length>0){let a=c[0].payload;return(0,b.jsxs)("div",{className:"bg-popover border border-border rounded-lg p-3 shadow-lg",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:a.action}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,b.jsx)("span",{className:"font-medium text-primary",children:a.count.toLocaleString()})," ","actions"]})]})}return null}function u({days:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[u,v]=(0,c.useState)(null);if((0,c.useEffect)(()=>{!async function(){h(!0),v(null);try{let b=await fetch(`/api/admin/growth/engagement?days=${a}`);if(!b.ok)throw Error("Failed to fetch engagement data");let c=await b.json();if(c.success&&c.data?.actionsByType)e(c.data.actionsByType);else throw Error(c.error||"No engagement data available")}catch(a){v(a instanceof Error?a.message:"Failed to load engagement data")}finally{h(!1)}}()},[a]),g)return(0,b.jsx)(s,{});if(u)return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.BarChart3,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Actions by Type"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[300px]",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:u})})]});if(!d||0===d.length)return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.BarChart3,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Actions by Type"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[300px]",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No action data available for this period"})})]});let w=Math.max(40*d.length+40,300);return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.BarChart3,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Actions by Type"})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Top 10 user actions over the last ",a," days"]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(o.ResponsiveContainer,{width:"100%",height:w,children:(0,b.jsxs)(j.BarChart,{data:d,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[(0,b.jsx)(p.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-border/50",horizontal:!1}),(0,b.jsx)(l.XAxis,{type:"number",stroke:"currentColor",className:"text-muted-foreground",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:a=>a.toLocaleString()}),(0,b.jsx)(m.YAxis,{type:"category",dataKey:"action",stroke:"currentColor",className:"text-muted-foreground",fontSize:11,tickLine:!1,axisLine:!1,width:100}),(0,b.jsx)(n.Tooltip,{content:(0,b.jsx)(t,{}),cursor:{fill:"hsl(var(--muted))"}}),(0,b.jsx)(k.Bar,{dataKey:"count",radius:[0,4,4,0],children:d.map((a,c)=>(0,b.jsx)(q.Cell,{fill:r[c%r.length]},`cell-${c}`))})]})})})]})}var v=a.i(724070);function w(){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-40"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-52 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"flex items-end justify-between h-[250px] pt-4",children:Array.from({length:7}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"w-10",style:{height:`${60+120*Math.random()}px`}}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-8"})]},c))})})]})}function x({active:a,payload:c}){if(a&&c&&c.length>0){let a=c[0].payload,d=0===a.day||6===a.day;return(0,b.jsxs)("div",{className:"bg-popover border border-border rounded-lg p-3 shadow-lg",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[a.dayName,d&&(0,b.jsx)("span",{className:"text-muted-foreground ml-1",children:"(Weekend)"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,b.jsx)("span",{className:"font-medium text-primary",children:a.count.toLocaleString()})," ","actions"]})]})}return null}function y({days:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,r]=(0,c.useState)(null);return((0,c.useEffect)(()=>{!async function(){h(!0),r(null);try{let b=await fetch(`/api/admin/growth/engagement?days=${a}`);if(!b.ok)throw Error("Failed to fetch engagement data");let c=await b.json();if(c.success&&c.data?.engagementByDay){let a=[...c.data.engagementByDay].sort((a,b)=>{let c=0===a.day?6:a.day-1,d=0===b.day?6:b.day-1;return c-d});e(a)}else throw Error(c.error||"No engagement data available")}catch(a){r(a instanceof Error?a.message:"Failed to load engagement data")}finally{h(!1)}}()},[a]),g)?(0,b.jsx)(w,{}):i?(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Engagement by Day"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[300px]",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:i})})]}):d&&0!==d.length?(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Engagement by Day"})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Activity distribution across weekdays (last ",a," days)"]})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)(o.ResponsiveContainer,{width:"100%",height:280,children:(0,b.jsxs)(j.BarChart,{data:d,margin:{top:10,right:10,left:-10,bottom:0},children:[(0,b.jsx)(p.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-border/50",vertical:!1}),(0,b.jsx)(l.XAxis,{dataKey:"dayName",stroke:"currentColor",className:"text-muted-foreground",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:a=>a.slice(0,3)}),(0,b.jsx)(m.YAxis,{stroke:"currentColor",className:"text-muted-foreground",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:a=>a.toLocaleString()}),(0,b.jsx)(n.Tooltip,{content:(0,b.jsx)(x,{}),cursor:{fill:"hsl(var(--muted))"}}),(0,b.jsx)(k.Bar,{dataKey:"count",radius:[4,4,0,0],children:d.map(a=>{var c;return(0,b.jsx)(q.Cell,{fill:0===(c=a.day)||6===c?"hsl(var(--primary) / 0.5)":"hsl(var(--primary))"},`cell-${a.day}`)})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-2 text-xs text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-sm bg-primary"}),(0,b.jsx)("span",{children:"Weekdays"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-sm bg-primary/50"}),(0,b.jsx)("span",{children:"Weekends"})]})]})]})]}):(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Engagement by Day"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[300px]",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No engagement data available for this period"})})]})}var z=a.i(42329),A=a.i(235164);function B(a){return 0===a?"12am":12===a?"12pm":a<12?`${a}am`:`${a-12}pm`}function C(){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-44"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-56 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"flex items-end justify-between h-[180px] pt-4 overflow-x-auto",children:Array.from({length:24}).map((a,c)=>(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1 min-w-[28px]",children:[(0,b.jsx)(g.Skeleton,{className:"w-5",style:{height:`${20+120*Math.random()}px`}}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-5"})]},c))})})]})}function D({active:a,payload:c}){if(a&&c&&c.length>0){let a=c[0].payload,d=a.hour>=9&&a.hour<=17;return(0,b.jsxs)("div",{className:"bg-popover border border-border rounded-lg p-3 shadow-lg",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[B(a.hour)," - ",B((a.hour+1)%24),d&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground ml-1",children:"(Business Hours)"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,b.jsx)("span",{className:"font-medium text-primary",children:a.count.toLocaleString()})," ","actions"]})]})}return null}function E({days:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,r]=(0,c.useState)(null);if((0,c.useEffect)(()=>{!async function(){h(!0),r(null);try{let b=await fetch(`/api/admin/growth/engagement?days=${a}`);if(!b.ok)throw Error("Failed to fetch engagement data");let c=await b.json();if(c.success&&c.data?.peakHours)e(c.data.peakHours);else throw Error(c.error||"No engagement data available")}catch(a){r(a instanceof Error?a.message:"Failed to load engagement data")}finally{h(!1)}}()},[a]),g)return(0,b.jsx)(C,{});if(i)return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Clock,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Peak Activity Hours"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[200px]",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:i})})]});if(!d||0===d.length)return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Clock,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Peak Activity Hours"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[200px]",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hourly data available for this period"})})]});let s=Math.max(...d.map(a=>a.count)),t=d.reduce((a,b)=>b.count>a.count?b:a,d[0]);return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(z.Clock,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Peak Activity Hours"})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Hourly activity distribution (last ",a," days)"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),(0,b.jsxs)("p",{className:"text-sm font-medium text-primary",children:[B(t.hour)," (",t.count.toLocaleString(),")"]})]})]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)(o.ResponsiveContainer,{width:"100%",height:220,children:(0,b.jsxs)(j.BarChart,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[(0,b.jsx)(p.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-border/50",vertical:!1}),(0,b.jsx)(l.XAxis,{dataKey:"hour",stroke:"currentColor",className:"text-muted-foreground",fontSize:10,tickLine:!1,axisLine:!1,interval:2,tickFormatter:B}),(0,b.jsx)(m.YAxis,{stroke:"currentColor",className:"text-muted-foreground",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:a=>a.toLocaleString()}),(0,b.jsx)(A.ReferenceLine,{x:9,stroke:"hsl(var(--primary) / 0.3)",strokeDasharray:"3 3"}),(0,b.jsx)(A.ReferenceLine,{x:17,stroke:"hsl(var(--primary) / 0.3)",strokeDasharray:"3 3"}),(0,b.jsx)(n.Tooltip,{content:(0,b.jsx)(D,{}),cursor:{fill:"hsl(var(--muted))"}}),(0,b.jsx)(k.Bar,{dataKey:"count",radius:[2,2,0,0],children:d.map(a=>{var c,d;let e;return(0,b.jsx)(q.Cell,{fill:(c=a.hour,d=a.count,e=s>0?d/s:0,c>=9&&c<=17?`hsl(var(--primary) / ${.4+.6*e})`:`hsl(var(--primary) / ${.2+.4*e})`)},`cell-${a.hour}`)})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-2 text-xs text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-sm bg-primary"}),(0,b.jsx)("span",{children:"Business Hours (9am-5pm)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-sm bg-primary/40"}),(0,b.jsx)("span",{children:"Off Hours"})]})]})]})]})}var F=a.i(15788),G=a.i(771088),H=a.i(95799);let I=(0,H.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),J=(0,H.default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var K=a.i(57104),L=a.i(325866),M=a.i(497412);function N({rank:a}){switch(a){case 1:return(0,b.jsx)(I,{className:"h-4 w-4 text-yellow-500"});case 2:return(0,b.jsx)(J,{className:"h-4 w-4 text-gray-400 dark:text-gray-300"});case 3:return(0,b.jsx)(K.Award,{className:"h-4 w-4 text-amber-600"});default:return(0,b.jsx)("span",{className:"text-muted-foreground text-sm font-medium w-4 text-center",children:a})}}function O(){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-44"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-48 mt-1"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 pb-2 border-b",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-20"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"})]}),Array.from({length:5}).map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4 py-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-8"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-32"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-16"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-12"})]},c))]})})]})}function P({days:a}){let[d,e]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(null);return((0,c.useEffect)(()=>{!async function(){h(!0),j(null);try{let b=await fetch(`/api/admin/growth/engagement?days=${a}`);if(!b.ok)throw Error("Failed to fetch engagement data");let c=await b.json();if(c.success&&c.data?.topEngagedUsers)e(c.data.topEngagedUsers);else throw Error(c.error||"No engagement data available")}catch(a){j(a instanceof Error?a.message:"Failed to load engagement data")}finally{h(!1)}}()},[a]),g)?(0,b.jsx)(O,{}):i?(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(L.User,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Top Engaged Users"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[200px]",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:i})})]}):d&&0!==d.length?(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(L.User,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Top Engaged Users"})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Most active users over the last ",a," days"]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)(G.Table,{children:[(0,b.jsx)(G.TableHeader,{children:(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(G.TableHead,{className:"w-16",children:"Rank"}),(0,b.jsx)(G.TableHead,{children:"User"}),(0,b.jsx)(G.TableHead,{className:"text-right",children:"Actions"}),(0,b.jsx)(G.TableHead,{className:"text-right",children:"Sessions"}),(0,b.jsx)(G.TableHead,{className:"text-right hidden sm:table-cell",children:"Avg Actions/Session"})]})}),(0,b.jsx)(G.TableBody,{children:d.map((a,c)=>{let d=c+1,e=a.sessions>0?(a.actions/a.sessions).toFixed(1):"-";return(0,b.jsxs)(G.TableRow,{children:[(0,b.jsx)(G.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(N,{rank:d}),d<=3&&(0,b.jsxs)(F.Badge,{variant:1===d?"default":"secondary",className:1===d?"bg-yellow-500 hover:bg-yellow-600 dark:bg-yellow-500 dark:hover:bg-yellow-600":2===d?"bg-gray-400 hover:bg-gray-500 dark:bg-gray-500 dark:hover:bg-gray-600":"bg-amber-600 hover:bg-amber-700 dark:bg-amber-600 dark:hover:bg-amber-700",children:["#",d]})]})}),(0,b.jsx)(G.TableCell,{children:(0,b.jsx)(M.default,{href:`/versotech_admin/users/${a.id}`,className:"font-medium text-foreground hover:text-primary hover:underline transition-colors",children:a.name})}),(0,b.jsx)(G.TableCell,{className:"text-right tabular-nums",children:a.actions.toLocaleString()}),(0,b.jsx)(G.TableCell,{className:"text-right tabular-nums",children:a.sessions.toLocaleString()}),(0,b.jsx)(G.TableCell,{className:"text-right hidden sm:table-cell tabular-nums",children:e})]},a.id)})})]})})]}):(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(L.User,{className:"h-4 w-4 text-primary"}),(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:"Top Engaged Users"})]})}),(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-[200px]",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No user engagement data available for this period"})})]})}let Q=[{value:"7",label:"Last 7 days"},{value:"30",label:"Last 30 days"},{value:"90",label:"Last 90 days"}];function R(){let a=(0,d.useSearchParams)(),c=(0,d.useRouter)(),f=(0,d.usePathname)(),g=a.get("days")||"30";return(0,b.jsxs)(e.Select,{value:g,onValueChange:b=>{let d=new URLSearchParams(a.toString());d.set("days",b),c.push(`${f}?${d.toString()}`)},children:[(0,b.jsx)(e.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(e.SelectValue,{placeholder:"Select range"})}),(0,b.jsx)(e.SelectContent,{children:Q.map(a=>(0,b.jsx)(e.SelectItem,{value:a.value,children:a.label},a.value))})]})}function S(){let a=(0,d.useSearchParams)().get("days")||"30";return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(u,{days:a}),(0,b.jsx)(y,{days:a})]}),(0,b.jsx)(E,{days:a}),(0,b.jsx)(P,{days:a})]})}function T(){return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Engagement Analytics"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Analyze user behavior patterns and identify peak engagement times"})]}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"h-10 w-[160px] rounded-md bg-muted animate-pulse"}),children:(0,b.jsx)(R,{})})]}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(h,{}),children:(0,b.jsx)(S,{})})]})}a.s(["default",()=>T],107850)}];

//# sourceMappingURL=c6ad4_src_app_%28admin%29_versotech_admin_growth_engagement_page_tsx_4706ab6d._.js.map