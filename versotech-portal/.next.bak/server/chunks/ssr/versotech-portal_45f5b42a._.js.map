{"version":3,"sources":["../../../../../versotech-portal/node_modules/%40radix-ui/react-tabs/dist/index.mjs","../../../../../versotech-portal/src/components/ui/tabs.tsx","../../../../../versotech-portal/src/components/ui/card.tsx","../../../../../versotech-portal/node_modules/lucide-react/src/icons/download.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/eye.ts","../../../../../versotech-portal/src/types/document-viewer.types.ts","../../../../../versotech-portal/src/services/document.service.ts","../../../../../versotech-portal/src/components/holdings/vehicle-documents-list.tsx"],"sourcesContent":["\"use client\";\n\n// src/tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? \"\",\n      caller: TABS_NAME\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 15V3', key: 'm9g1x1' }],\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['path', { d: 'm7 10 5 5 5-5', key: 'brsn70' }],\n];\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTVWMyIgLz4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cGF0aCBkPSJtNyAxMCA1IDUgNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('download', __iconNode);\n\nexport default Download;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0',\n      key: '1nclc0',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n];\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('eye', __iconNode);\n\nexport default Eye;\n","/**\r\n * Type definitions for the document viewer system\r\n */\r\n\r\n/**\r\n * Minimal document reference needed for preview\r\n * Flexible to support different document sources (general docs, entity docs, deal docs, etc.)\r\n */\r\nexport interface DocumentReference {\r\n  id: string\r\n  file_name?: string | null  // Optional to support different document types\r\n  name?: string | null       // Some documents use 'name' instead of 'file_name'\r\n  mime_type?: string | null\r\n  file_size_bytes?: number | null\r\n  type?: string | null\r\n  [key: string]: any // Allow additional properties\r\n}\r\n\r\n/**\r\n * Response from document download/preview API endpoints\r\n */\r\nexport interface DocumentUrlResponse {\r\n  download_url: string\r\n  mode?: 'preview' | 'download'\r\n  document: {\r\n    id: string\r\n    name: string\r\n    type: string\r\n    file_key?: string\r\n    external_url?: string\r\n    [key: string]: any\r\n  }\r\n  watermark?: {\r\n    uploaded_by?: string\r\n    uploaded_at?: string\r\n    document_classification?: string\r\n    [key: string]: any\r\n  }\r\n  expires_in_seconds: number\r\n}\r\n\r\n/**\r\n * State shape for document viewer\r\n */\r\nexport interface DocumentViewerState {\r\n  isOpen: boolean\r\n  document: DocumentReference | null\r\n  previewUrl: string | null\r\n  isLoading: boolean\r\n  error: string | null\r\n}\r\n\r\n/**\r\n * Custom error class for document operations\r\n */\r\nexport class DocumentError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public statusCode: number,\r\n    public originalError?: any\r\n  ) {\r\n    super(message)\r\n    this.name = 'DocumentError'\r\n  }\r\n}\r\n\r\n/**\r\n * Options for opening a document preview\r\n */\r\nexport interface PreviewOptions {\r\n  /** Force download mode instead of preview */\r\n  forceDownload?: boolean\r\n  /** Custom error handler */\r\n  onError?: (error: DocumentError) => void\r\n  /** Success callback after preview opens */\r\n  onSuccess?: () => void\r\n}\r\n","/**\r\n * Document Service\r\n * Centralized service for all document-related API operations\r\n */\r\n\r\nimport { DocumentError, DocumentUrlResponse } from '@/types/document-viewer.types'\r\n\r\nexport class DocumentService {\r\n  /**\r\n   * Validate that a URL is a valid storage URL from Supabase\r\n   */\r\n  private static isValidStorageUrl(url: string): boolean {\r\n    if (!url) return false\r\n\r\n    // Check if it's a valid HTTPS URL\r\n    if (!url.startsWith('https://')) return false\r\n\r\n    // Check if it's from Supabase storage or a blob URL\r\n    return (\r\n      url.includes('supabase.co/storage') ||\r\n      url.includes('supabase.com/storage') ||\r\n      url.startsWith('blob:')\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Parse and validate API response\r\n   */\r\n  private static async parseResponse(\r\n    response: Response\r\n  ): Promise<DocumentUrlResponse> {\r\n    let data: any\r\n\r\n    try {\r\n      data = await response.json()\r\n    } catch (e) {\r\n      throw new DocumentError(\r\n        'Invalid response from server',\r\n        response.status,\r\n        e\r\n      )\r\n    }\r\n\r\n    // Check for error response\r\n    if (!response.ok) {\r\n      const errorMessage = data.error || data.message || 'Failed to load document'\r\n      throw new DocumentError(errorMessage, response.status, data)\r\n    }\r\n\r\n    // Validate required fields - check for both 'url' and 'download_url' for compatibility\r\n    const downloadUrl = data.url || data.download_url\r\n    if (!downloadUrl) {\r\n      throw new DocumentError(\r\n        'No download URL in response',\r\n        500,\r\n        data\r\n      )\r\n    }\r\n\r\n    // Validate URL format\r\n    if (!this.isValidStorageUrl(downloadUrl)) {\r\n      throw new DocumentError(\r\n        'Invalid download URL format',\r\n        500,\r\n        data\r\n      )\r\n    }\r\n\r\n    // Normalize response to always have both fields for compatibility\r\n    data.url = downloadUrl\r\n    data.download_url = downloadUrl\r\n\r\n    return data as DocumentUrlResponse\r\n  }\r\n\r\n  /**\r\n   * Get preview URL for a general document\r\n   */\r\n  static async getPreviewUrl(documentId: string): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/documents/${documentId}/download?mode=preview`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading preview',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get download URL for a general document\r\n   */\r\n  static async getDownloadUrl(documentId: string): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/documents/${documentId}/download?mode=download`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading download',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get preview URL for a deal data room document\r\n   */\r\n  static async getDealDocumentPreviewUrl(\r\n    dealId: string,\r\n    documentId: string\r\n  ): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/deals/${dealId}/documents/${documentId}/download?mode=preview`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading deal document preview',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get download URL for a deal data room document\r\n   */\r\n  static async getDealDocumentDownloadUrl(\r\n    dealId: string,\r\n    documentId: string\r\n  ): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/deals/${dealId}/documents/${documentId}/download?mode=download`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading deal document download',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Map HTTP status codes to user-friendly error messages\r\n   */\r\n  static getErrorMessage(error: DocumentError): string {\r\n    switch (error.statusCode) {\r\n      case 401:\r\n        return 'You do not have permission to view this document.'\r\n      case 403:\r\n        return 'Access to this document is forbidden.'\r\n      case 404:\r\n        return 'Document not found or has been deleted.'\r\n      case 413:\r\n        return 'File is too large to process.'\r\n      case 500:\r\n        return 'Server error while loading document. Please try again.'\r\n      case 0:\r\n        return 'Network error. Please check your connection and try again.'\r\n      default:\r\n        return error.message || 'Failed to load document preview.'\r\n    }\r\n  }\r\n}\r\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { FileText, Download, Eye } from 'lucide-react'\r\nimport { DocumentService } from '@/services/document.service'\r\nimport { toast } from 'sonner'\r\n\r\ninterface Document {\r\n  id: string\r\n  name: string | null\r\n  type: string\r\n  file_key: string\r\n  status?: string\r\n  is_published?: boolean\r\n  created_at: string\r\n  created_by?: string\r\n}\r\n\r\ninterface VehicleDocumentsListProps {\r\n  documents: Document[]\r\n}\r\n\r\nexport function VehicleDocumentsList({ documents }: VehicleDocumentsListProps) {\r\n  const [downloadingId, setDownloadingId] = useState<string | null>(null)\r\n  const [previewingId, setPreviewingId] = useState<string | null>(null)\r\n\r\n  const handleDownload = async (doc: Document) => {\r\n    try {\r\n      setDownloadingId(doc.id)\r\n      const { download_url } = await DocumentService.getDownloadUrl(doc.id)\r\n\r\n      // Trigger download\r\n      const link = document.createElement('a')\r\n      link.href = download_url\r\n      link.download = doc.name || doc.file_key?.split('/').pop() || 'document'\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n\r\n      toast.success('Download started')\r\n    } catch (error: any) {\r\n      console.error('Download error:', error)\r\n      toast.error(error.message || 'Failed to download document')\r\n    } finally {\r\n      setDownloadingId(null)\r\n    }\r\n  }\r\n\r\n  const handlePreview = async (doc: Document) => {\r\n    try {\r\n      setPreviewingId(doc.id)\r\n      const { download_url } = await DocumentService.getPreviewUrl(doc.id)\r\n\r\n      // Open preview in new tab\r\n      window.open(download_url, '_blank')\r\n\r\n      toast.success('Opening preview')\r\n    } catch (error: any) {\r\n      console.error('Preview error:', error)\r\n      toast.error(error.message || 'Failed to preview document')\r\n    } finally {\r\n      setPreviewingId(null)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className=\"border-0 shadow-md\">\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <FileText className=\"h-5 w-5 text-blue-600\" />\r\n          Related Documents\r\n        </CardTitle>\r\n        <CardDescription>\r\n          Documents specific to this investment vehicle\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {documents && documents.length > 0 ? (\r\n          <div className=\"space-y-3\">\r\n            {documents.map((doc) => (\r\n              <div key={doc.id} className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-muted transition-colors\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <FileText className=\"h-5 w-5 text-muted-foreground\" />\r\n                  <div>\r\n                    <div className=\"font-medium\">{doc.name || doc.file_key?.split('/').pop() || doc.type}</div>\r\n                    <div className=\"text-sm text-muted-foreground\">\r\n                      {doc.type} â€¢ {new Date(doc.created_at).toLocaleDateString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    className=\"gap-2\"\r\n                    onClick={() => handlePreview(doc)}\r\n                    disabled={previewingId === doc.id || downloadingId === doc.id}\r\n                  >\r\n                    {previewingId === doc.id ? (\r\n                      <>Loading...</>\r\n                    ) : (\r\n                      <>\r\n                        <Eye className=\"h-4 w-4\" />\r\n                        Preview\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    className=\"gap-2\"\r\n                    onClick={() => handleDownload(doc)}\r\n                    disabled={downloadingId === doc.id || previewingId === doc.id}\r\n                  >\r\n                    {downloadingId === doc.id ? (\r\n                      <>Loading...</>\r\n                    ) : (\r\n                      <>\r\n                        <Download className=\"h-4 w-4\" />\r\n                        Download\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12 text-muted-foreground\">\r\n            <FileText className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground/50\" />\r\n            <p>No documents available</p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,3,4]}