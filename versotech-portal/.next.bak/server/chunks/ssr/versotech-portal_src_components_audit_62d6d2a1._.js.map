{"version":3,"sources":["../../../../../versotech-portal/src/components/audit/audit-log-filters.tsx","../../../../../versotech-portal/src/components/audit/audit-log-table.tsx","../../../../../versotech-portal/src/components/audit/compliance-alerts.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Search, Filter, Download, Calendar } from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\n\r\nexport function AuditLogFilters() {\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const [search, setSearch] = useState(searchParams.get('search') || '')\r\n\r\n  const handleSearch = (value: string) => {\r\n    const params = new URLSearchParams(searchParams.toString())\r\n    if (value) {\r\n      params.set('search', value)\r\n    } else {\r\n      params.delete('search')\r\n    }\r\n    router.push(`?${params.toString()}`)\r\n  }\r\n\r\n  const handleRiskFilter = (value: string) => {\r\n    const params = new URLSearchParams(searchParams.toString())\r\n    if (value && value !== 'all') {\r\n      params.set('risk', value)\r\n    } else {\r\n      params.delete('risk')\r\n    }\r\n    router.push(`?${params.toString()}`)\r\n  }\r\n\r\n  const handleActionFilter = (value: string) => {\r\n    const params = new URLSearchParams(searchParams.toString())\r\n    if (value && value !== 'all') {\r\n      params.set('action', value)\r\n    } else {\r\n      params.delete('action')\r\n    }\r\n    router.push(`?${params.toString()}`)\r\n  }\r\n\r\n  const handleExport = async () => {\r\n    // Export current filtered audit logs to CSV\r\n    const response = await fetch(`/api/audit/export?${searchParams.toString()}`)\r\n    const blob = await response.blob()\r\n    const url = window.URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `audit-logs-${new Date().toISOString().split('T')[0]}.csv`\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    window.URL.revokeObjectURL(url)\r\n    document.body.removeChild(a)\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <div className=\"flex-1\">\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search audit logs by actor, action, or entity...\"\r\n                className=\"pl-10\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    handleSearch(search)\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Select\r\n              defaultValue={searchParams.get('risk') || 'all'}\r\n              onValueChange={handleRiskFilter}\r\n            >\r\n              <SelectTrigger className=\"w-[140px]\">\r\n                <SelectValue placeholder=\"Risk Level\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">All Risk Levels</SelectItem>\r\n                <SelectItem value=\"low\">Low Risk</SelectItem>\r\n                <SelectItem value=\"medium\">Medium Risk</SelectItem>\r\n                <SelectItem value=\"high\">High Risk</SelectItem>\r\n                <SelectItem value=\"critical\">Critical Risk</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <Select\r\n              defaultValue={searchParams.get('action') || 'all'}\r\n              onValueChange={handleActionFilter}\r\n            >\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Action Type\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">All Actions</SelectItem>\r\n                <SelectItem value=\"login_success\">Login Success</SelectItem>\r\n                <SelectItem value=\"login_failed\">Login Failed</SelectItem>\r\n                <SelectItem value=\"document_download\">Document Download</SelectItem>\r\n                <SelectItem value=\"document_access\">Document Access</SelectItem>\r\n                <SelectItem value=\"investor_data_modify\">Data Modify</SelectItem>\r\n                <SelectItem value=\"user_role_change\">Role Change</SelectItem>\r\n                <SelectItem value=\"workflow_execution\">Workflow</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleExport}>\r\n              <Download className=\"h-4 w-4 mr-2\" />\r\n              Export\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Shield,\r\n  User,\r\n  FileText,\r\n  Database,\r\n  Activity,\r\n  Eye,\r\n  Globe,\r\n  AlertTriangle\r\n} from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\n\r\ninterface AuditLog {\r\n  id: string\r\n  timestamp: string\r\n  actor_email: string | null\r\n  actor_role: string | null\r\n  action: string\r\n  entity_type: string | null\r\n  entity_id: string | null\r\n  details: string | null\r\n  ip_address: string | null\r\n  user_agent: string | null\r\n  risk_level: string | null\r\n  compliance_flag: boolean | null\r\n  before_value: any\r\n  after_value: any\r\n}\r\n\r\nfunction getActionIcon(action: string) {\r\n  switch (action) {\r\n    case 'login_success':\r\n    case 'login_failed':\r\n    case 'failed_login_attempt':\r\n      return <User className=\"h-4 w-4\" />\r\n    case 'document_download':\r\n    case 'document_access':\r\n      return <FileText className=\"h-4 w-4\" />\r\n    case 'investor_data_modify':\r\n    case 'user_role_change':\r\n      return <Database className=\"h-4 w-4\" />\r\n    case 'workflow_execution':\r\n      return <Activity className=\"h-4 w-4\" />\r\n    default:\r\n      return <Shield className=\"h-4 w-4\" />\r\n  }\r\n}\r\n\r\nfunction getRiskColor(risk: string | null) {\r\n  switch (risk) {\r\n    case 'low':\r\n      return 'bg-green-100 text-green-800'\r\n    case 'medium':\r\n      return 'bg-yellow-100 text-yellow-800'\r\n    case 'high':\r\n      return 'bg-red-100 text-red-800'\r\n    case 'critical':\r\n      return 'bg-red-200 text-red-900'\r\n    default:\r\n      return 'bg-gray-100 text-foreground'\r\n  }\r\n}\r\n\r\nfunction getRoleColor(role: string | null) {\r\n  switch (role) {\r\n    case 'staff_admin':\r\n      return 'bg-purple-100 text-purple-800'\r\n    case 'staff_rm':\r\n      return 'bg-blue-100 text-blue-800'\r\n    case 'staff_ops':\r\n      return 'bg-green-100 text-green-800'\r\n    case 'investor':\r\n      return 'bg-gray-100 text-foreground'\r\n    case 'system':\r\n      return 'bg-orange-100 text-orange-800'\r\n    default:\r\n      return 'bg-gray-100 text-foreground'\r\n  }\r\n}\r\n\r\nexport function AuditLogTable({ logs }: { logs: AuditLog[] }) {\r\n  const [selectedLog, setSelectedLog] = useState<AuditLog | null>(null)\r\n\r\n  if (!logs || logs.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Audit Trail</CardTitle>\r\n          <CardDescription>\r\n            Comprehensive log of all system activities and user actions\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-center py-12 text-muted-foreground\">\r\n            No audit logs found. Try adjusting your filters.\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Audit Trail</CardTitle>\r\n          <CardDescription>\r\n            Showing {logs.length} audit events\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-4\">\r\n            {logs.map((log) => (\r\n              <div\r\n                key={log.id}\r\n                className=\"border border-gray-800 rounded-lg p-4 hover:bg-gray-900/50 transition-colors cursor-pointer\"\r\n                onClick={() => setSelectedLog(log)}\r\n              >\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div className=\"flex items-start gap-4 flex-1\">\r\n                    <div\r\n                      className={`w-10 h-10 rounded-lg flex items-center justify-center border ${\r\n                        log.risk_level === 'high' || log.risk_level === 'critical'\r\n                          ? 'bg-red-950/30 border-red-800'\r\n                          : log.risk_level === 'medium'\r\n                          ? 'bg-yellow-950/30 border-yellow-800'\r\n                          : 'bg-green-950/30 border-green-800'\r\n                      }`}\r\n                    >\r\n                      {getActionIcon(log.action)}\r\n                    </div>\r\n\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <h3 className=\"font-semibold text-foreground\">\r\n                          {log.action.replace(/_/g, ' ').replace(/\\b\\w/g, (l) => l.toUpperCase())}\r\n                        </h3>\r\n                        {log.compliance_flag && (\r\n                          <Badge className=\"bg-yellow-100 text-yellow-800\">\r\n                            <AlertTriangle className=\"h-3 w-3 mr-1\" />\r\n                            Compliance\r\n                          </Badge>\r\n                        )}\r\n                        {log.risk_level && (\r\n                          <Badge className={getRiskColor(log.risk_level)}>\r\n                            {log.risk_level} risk\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n\r\n                      <p className=\"text-foreground mb-3\">{log.details || 'No details provided'}</p>\r\n\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 text-sm\">\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">Actor</div>\r\n                          <div className=\"text-muted-foreground\">{log.actor_email || 'Unknown'}</div>\r\n                          {log.actor_role && (\r\n                            <Badge className={`${getRoleColor(log.actor_role)} text-xs`}>\r\n                              {log.actor_role.replace('_', ' ')}\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">Timestamp</div>\r\n                          <div className=\"text-muted-foreground\">\r\n                            {new Date(log.timestamp).toLocaleString()}\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">Entity</div>\r\n                          <div className=\"text-muted-foreground\">\r\n                            {log.entity_type || 'N/A'}\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">IP Address</div>\r\n                          <div className=\"text-muted-foreground flex items-center gap-1\">\r\n                            <Globe className=\"h-3 w-3\" />\r\n                            {log.ip_address || 'N/A'}\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">ID</div>\r\n                          <div className=\"text-muted-foreground font-mono text-xs\">\r\n                            {log.id.substring(0, 8)}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => setSelectedLog(log)}>\r\n                    <Eye className=\"h-4 w-4 mr-2\" />\r\n                    Details\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={!!selectedLog} onOpenChange={() => setSelectedLog(null)}>\r\n        <DialogContent className=\"max-w-3xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Audit Log Details</DialogTitle>\r\n            <DialogDescription>\r\n              Complete information for this audit event\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          {selectedLog && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Event ID</h4>\r\n                  <p className=\"text-sm text-muted-foreground font-mono\">{selectedLog.id}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Timestamp</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    {new Date(selectedLog.timestamp).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Actor</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{selectedLog.actor_email}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Role</h4>\r\n                  <Badge className={getRoleColor(selectedLog.actor_role)}>\r\n                    {selectedLog.actor_role || 'Unknown'}\r\n                  </Badge>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Action</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{selectedLog.action}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Risk Level</h4>\r\n                  <Badge className={getRiskColor(selectedLog.risk_level)}>\r\n                    {selectedLog.risk_level || 'Unknown'}\r\n                  </Badge>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">IP Address</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">{selectedLog.ip_address || 'N/A'}</p>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Entity</h4>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    {selectedLog.entity_type} ({selectedLog.entity_id || 'N/A'})\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <h4 className=\"font-medium mb-1\">Details</h4>\r\n                <p className=\"text-sm text-muted-foreground\">{selectedLog.details}</p>\r\n              </div>\r\n\r\n              {selectedLog.user_agent && (\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">User Agent</h4>\r\n                  <p className=\"text-sm text-muted-foreground font-mono text-xs break-all\">\r\n                    {selectedLog.user_agent}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              {selectedLog.before_value && (\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">Before Value</h4>\r\n                  <pre className=\"text-sm bg-gray-900 p-3 rounded-lg overflow-auto\">\r\n                    {JSON.stringify(selectedLog.before_value, null, 2)}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n\r\n              {selectedLog.after_value && (\r\n                <div>\r\n                  <h4 className=\"font-medium mb-1\">After Value</h4>\r\n                  <pre className=\"text-sm bg-gray-900 p-3 rounded-lg overflow-auto\">\r\n                    {JSON.stringify(selectedLog.after_value, null, 2)}\r\n                  </pre>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { AlertTriangle } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ninterface ComplianceAlert {\r\n  id: string\r\n  audit_log_id: string | null\r\n  alert_type: string\r\n  severity: string\r\n  description: string | null\r\n  status: string\r\n  assigned_to: string | null\r\n  created_at: string\r\n}\r\n\r\nexport function ComplianceAlerts({ alerts }: { alerts: ComplianceAlert[] }) {\r\n  const router = useRouter()\r\n\r\n  const handleReview = async (alertId: string) => {\r\n    const response = await fetch(`/api/audit/compliance-alerts/${alertId}/review`, {\r\n      method: 'POST'\r\n    })\r\n    if (response.ok) {\r\n      router.refresh()\r\n    }\r\n  }\r\n\r\n  if (!alerts || alerts.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Compliance Alerts</CardTitle>\r\n          <CardDescription>Events requiring compliance review</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-center py-6 text-muted-foreground text-sm\">\r\n            No open compliance alerts\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle>Compliance Alerts</CardTitle>\r\n        <CardDescription>\r\n          {alerts.length} events requiring compliance review\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"space-y-3\">\r\n          {alerts.slice(0, 5).map((alert) => (\r\n            <div\r\n              key={alert.id}\r\n              className={`flex items-center justify-between p-3 border rounded-lg ${\r\n                alert.severity === 'high' || alert.severity === 'critical'\r\n                  ? 'bg-red-950/20 border-red-800'\r\n                  : 'bg-yellow-950/20 border-yellow-800'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center gap-3 flex-1\">\r\n                <AlertTriangle\r\n                  className={`h-4 w-4 ${\r\n                    alert.severity === 'high' || alert.severity === 'critical'\r\n                      ? 'text-red-400'\r\n                      : 'text-yellow-400'\r\n                  }`}\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <div className=\"font-medium text-foreground\">\r\n                    {alert.alert_type.replace(/_/g, ' ')}\r\n                  </div>\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    {alert.description || 'No description'}\r\n                  </div>\r\n                  <div className=\"text-xs text-muted-foreground mt-1\">\r\n                    {new Date(alert.created_at).toLocaleString()}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <Button\r\n                size=\"sm\"\r\n                variant=\"outline\"\r\n                onClick={() => handleReview(alert.id)}\r\n              >\r\n                Review\r\n              </Button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}