{"version":3,"sources":["../../../../../versotech-portal/src/app/%28admin%29/versotech_admin/users/page.tsx","../../../../../versotech-portal/src/components/users/batch-invite-dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport { useEffect, useState, useCallback, useMemo } from 'react'\nimport { useSearchParams, useRouter, usePathname } from 'next/navigation'\nimport {\n  ColumnDef,\n  SortingState,\n  flexRender,\n  getCoreRowModel,\n  getSortedRowModel,\n  useReactTable,\n  RowSelectionState,\n} from '@tanstack/react-table'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport { Input } from '@/components/ui/input'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover'\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from '@/components/ui/command'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  ChevronLeft,\n  ChevronRight,\n  MoreHorizontal,\n  User,\n  Eye,\n  UserX,\n  Lock,\n  KeyRound,\n  ArrowUpDown,\n  Users as UsersIcon,\n  Search,\n  X,\n  Check,\n  ChevronsUpDown,\n  Filter,\n  Download,\n  AlertTriangle,\n  UserPlus,\n  Building2,\n  Loader2,\n} from 'lucide-react'\nimport { toast } from 'sonner'\nimport Link from 'next/link'\nimport { formatDistanceToNow, format } from 'date-fns'\nimport { cn } from '@/lib/utils'\nimport type { UserRow, UsersResponse } from '@/app/api/admin/users/route'\nimport { BatchInviteDialog } from '@/components/users/batch-invite-dialog'\n\n// Filter option types\ninterface FilterOption {\n  value: string\n  label: string\n}\n\n// Filter options\nconst roleOptions: FilterOption[] = [\n  { value: 'investor', label: 'Investor' },\n  { value: 'staff_admin', label: 'Staff Admin' },\n  { value: 'staff_ops', label: 'Staff Ops' },\n  { value: 'staff_rm', label: 'Staff RM' },\n  { value: 'ceo', label: 'CEO' },\n]\n\nconst statusOptions: FilterOption[] = [\n  { value: 'active', label: 'Active' },\n  { value: 'pending', label: 'Pending' },\n  { value: 'inactive', label: 'Inactive' },\n  { value: 'deactivated', label: 'Deactivated' },\n]\n\nconst entityTypeOptions: FilterOption[] = [\n  { value: 'investor', label: 'Investor' },\n  { value: 'arranger', label: 'Arranger' },\n  { value: 'introducer', label: 'Introducer' },\n  { value: 'partner', label: 'Partner' },\n  { value: 'lawyer', label: 'Lawyer' },\n]\n\n// KYC Status options (PRD 3.2.3)\nconst kycStatusOptions: FilterOption[] = [\n  { value: 'pending', label: 'Pending' },\n  { value: 'in_review', label: 'In Review' },\n  { value: 'completed', label: 'Completed' },\n  { value: 'rejected', label: 'Rejected' },\n]\n\n// Has Entities toggle options (PRD 3.2.3)\nconst hasEntitiesOptions: FilterOption[] = [\n  { value: 'yes', label: 'Has Entities' },\n  { value: 'no', label: 'No Entities' },\n]\n\n// Multi-select filter component\ninterface MultiSelectFilterProps {\n  title: string\n  options: FilterOption[]\n  selected: string[]\n  onSelect: (values: string[]) => void\n  className?: string\n}\n\nfunction MultiSelectFilter({\n  title,\n  options,\n  selected,\n  onSelect,\n  className,\n}: MultiSelectFilterProps) {\n  const [open, setOpen] = useState(false)\n\n  const toggleOption = (value: string) => {\n    if (selected.includes(value)) {\n      onSelect(selected.filter(v => v !== value))\n    } else {\n      onSelect([...selected, value])\n    }\n  }\n\n  const clearSelection = () => {\n    onSelect([])\n    setOpen(false)\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className={cn(\n            'h-9 border-dashed',\n            selected.length > 0 && 'border-primary',\n            className\n          )}\n        >\n          <Filter className=\"mr-2 h-4 w-4\" />\n          {title}\n          {selected.length > 0 && (\n            <>\n              <Separator orientation=\"vertical\" className=\"mx-2 h-4\" />\n              <Badge\n                variant=\"secondary\"\n                className=\"rounded-sm px-1 font-normal\"\n              >\n                {selected.length}\n              </Badge>\n            </>\n          )}\n          <ChevronsUpDown className=\"ml-2 h-4 w-4 opacity-50\" />\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-52 p-0\" align=\"start\">\n        <Command>\n          <CommandInput placeholder={`Search ${title.toLowerCase()}...`} />\n          <CommandList>\n            <CommandEmpty>No results found.</CommandEmpty>\n            <CommandGroup>\n              {options.map((option) => {\n                const isSelected = selected.includes(option.value)\n                return (\n                  <CommandItem\n                    key={option.value}\n                    onSelect={() => toggleOption(option.value)}\n                  >\n                    <div\n                      className={cn(\n                        'mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary',\n                        isSelected\n                          ? 'bg-primary text-primary-foreground'\n                          : 'opacity-50 [&_svg]:invisible'\n                      )}\n                    >\n                      <Check className=\"h-3 w-3\" />\n                    </div>\n                    <span>{option.label}</span>\n                  </CommandItem>\n                )\n              })}\n            </CommandGroup>\n            {selected.length > 0 && (\n              <>\n                <CommandSeparator />\n                <CommandGroup>\n                  <CommandItem\n                    onSelect={clearSelection}\n                    className=\"justify-center text-center\"\n                  >\n                    Clear selection\n                  </CommandItem>\n                </CommandGroup>\n              </>\n            )}\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\n// Status badge color mapping (with dark mode support)\nconst statusBadgeVariant = (user: UserRow): { variant: 'default' | 'secondary' | 'destructive' | 'outline'; className?: string } => {\n  if (user.isDeleted) {\n    return { variant: 'destructive' }\n  }\n  // Active = logged in within last 30 days\n  const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n  const isActive = user.lastLoginAt && new Date(user.lastLoginAt) > thirtyDaysAgo\n\n  if (isActive) {\n    return { variant: 'default', className: 'bg-green-500 dark:bg-green-600 hover:bg-green-500/80 dark:hover:bg-green-600/80' }\n  }\n  // Pending = never logged in\n  if (!user.lastLoginAt) {\n    return { variant: 'secondary', className: 'bg-yellow-500 dark:bg-yellow-600 text-white hover:bg-yellow-500/80 dark:hover:bg-yellow-600/80' }\n  }\n  // Inactive = not active recently\n  return { variant: 'outline' }\n}\n\nconst getStatusLabel = (user: UserRow): string => {\n  if (user.isDeleted) return 'Deactivated'\n  const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n  const isActive = user.lastLoginAt && new Date(user.lastLoginAt) > thirtyDaysAgo\n  if (isActive) return 'Active'\n  if (!user.lastLoginAt) return 'Pending'\n  return 'Inactive'\n}\n\n// Role badge variant\nconst roleBadgeVariant = (role: string): 'default' | 'secondary' | 'outline' => {\n  if (role === 'ceo') return 'default'\n  if (role.startsWith('staff_')) return 'secondary'\n  return 'outline'\n}\n\nconst formatRole = (role: string): string => {\n  const roleMap: Record<string, string> = {\n    ceo: 'CEO',\n    staff_admin: 'Staff Admin',\n    staff_ops: 'Staff Ops',\n    staff_rm: 'Staff RM',\n    investor: 'Investor',\n  }\n  return roleMap[role] || role\n}\n\n// Get initials from display name\nconst getInitials = (name: string): string => {\n  return name\n    .split(' ')\n    .map(n => n[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2)\n}\n\n// Action handlers type\ninterface UserActionHandlers {\n  onEdit: (user: UserRow) => void\n  onLock: (user: UserRow) => void\n  onResetPassword: (user: UserRow) => void\n  onDeactivate: (user: UserRow) => void\n}\n\n// Column definitions factory\nconst createColumns = (handlers: UserActionHandlers): ColumnDef<UserRow>[] => [\n  {\n    id: 'select',\n    header: ({ table }) => (\n      <Checkbox\n        checked={\n          table.getIsAllPageRowsSelected() ||\n          (table.getIsSomePageRowsSelected() && 'indeterminate')\n        }\n        onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n        aria-label=\"Select all\"\n      />\n    ),\n    cell: ({ row }) => (\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={(value) => row.toggleSelected(!!value)}\n        aria-label=\"Select row\"\n      />\n    ),\n    enableSorting: false,\n    enableHiding: false,\n  },\n  {\n    accessorKey: 'displayName',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        User\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const user = row.original\n      return (\n        <div className=\"flex items-center gap-3\">\n          <Avatar className=\"h-8 w-8\">\n            <AvatarImage src={user.avatarUrl || undefined} alt={user.displayName} />\n            <AvatarFallback className=\"text-xs\">\n              {getInitials(user.displayName)}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"flex flex-col\">\n            <Link\n              href={`/versotech_admin/users/${user.id}`}\n              className=\"font-medium hover:underline\"\n            >\n              {user.displayName}\n            </Link>\n            {user.isSuperAdmin && (\n              <span className=\"text-xs text-muted-foreground\">Super Admin</span>\n            )}\n          </div>\n        </div>\n      )\n    },\n  },\n  {\n    accessorKey: 'email',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        Email\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => (\n      <span className=\"text-muted-foreground\">{row.original.email}</span>\n    ),\n  },\n  {\n    accessorKey: 'entityCount',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        <Building2 className=\"mr-1 h-4 w-4\" />\n        Entities\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const count = row.original.entityCount\n      return (\n        <Badge variant={count > 0 ? 'secondary' : 'outline'}>\n          {count}\n        </Badge>\n      )\n    },\n  },\n  {\n    accessorKey: 'systemRole',\n    header: 'Role',\n    cell: ({ row }) => {\n      const role = row.original.systemRole\n      return (\n        <Badge variant={roleBadgeVariant(role)}>\n          {formatRole(role)}\n        </Badge>\n      )\n    },\n  },\n  {\n    id: 'status',\n    header: 'Status',\n    cell: ({ row }) => {\n      const user = row.original\n      const { variant, className } = statusBadgeVariant(user)\n      return (\n        <Badge variant={variant} className={className}>\n          {getStatusLabel(user)}\n        </Badge>\n      )\n    },\n  },\n  {\n    accessorKey: 'lastLoginAt',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        Last Active\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const lastLogin = row.original.lastLoginAt\n      if (!lastLogin) {\n        return <span className=\"text-muted-foreground\">Never</span>\n      }\n      return (\n        <span className=\"text-muted-foreground\">\n          {formatDistanceToNow(new Date(lastLogin), { addSuffix: true })}\n        </span>\n      )\n    },\n  },\n  {\n    accessorKey: 'createdAt',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        Created\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      return (\n        <span className=\"text-muted-foreground\">\n          {format(new Date(row.original.createdAt), 'MMM d, yyyy')}\n        </span>\n      )\n    },\n  },\n  {\n    id: 'actions',\n    header: '',\n    cell: ({ row }) => {\n      const user = row.original\n      return (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\n              <span className=\"sr-only\">Open menu</span>\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem asChild>\n              <Link href={`/versotech_admin/users/${user.id}`}>\n                <Eye className=\"mr-2 h-4 w-4\" />\n                View Details\n              </Link>\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handlers.onEdit(user)}>\n              <User className=\"mr-2 h-4 w-4\" />\n              Edit Profile\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              onClick={() => handlers.onLock(user)}\n              className=\"text-yellow-600 dark:text-yellow-500\"\n            >\n              <Lock className=\"mr-2 h-4 w-4\" />\n              Lock Account\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handlers.onResetPassword(user)}>\n              <KeyRound className=\"mr-2 h-4 w-4\" />\n              Reset Password\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem\n              onClick={() => handlers.onDeactivate(user)}\n              className=\"text-destructive\"\n            >\n              <UserX className=\"mr-2 h-4 w-4\" />\n              Deactivate\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      )\n    },\n  },\n]\n\n// Loading skeleton\nfunction UsersTableSkeleton() {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-md border\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead className=\"w-12\"><Skeleton className=\"h-4 w-4\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-24\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-32\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-16\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-16\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-24\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-24\" /></TableHead>\n              <TableHead className=\"w-12\"></TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {Array.from({ length: 10 }).map((_, i) => (\n              <TableRow key={i}>\n                <TableCell><Skeleton className=\"h-4 w-4\" /></TableCell>\n                <TableCell>\n                  <div className=\"flex items-center gap-3\">\n                    <Skeleton className=\"h-8 w-8 rounded-full\" />\n                    <Skeleton className=\"h-4 w-32\" />\n                  </div>\n                </TableCell>\n                <TableCell><Skeleton className=\"h-4 w-40\" /></TableCell>\n                <TableCell><Skeleton className=\"h-5 w-16 rounded-full\" /></TableCell>\n                <TableCell><Skeleton className=\"h-5 w-16 rounded-full\" /></TableCell>\n                <TableCell><Skeleton className=\"h-4 w-24\" /></TableCell>\n                <TableCell><Skeleton className=\"h-4 w-24\" /></TableCell>\n                <TableCell><Skeleton className=\"h-8 w-8\" /></TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  )\n}\n\n// Empty state\nfunction EmptyState() {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 px-4\">\n      <div className=\"rounded-full bg-muted p-4 mb-4\">\n        <UsersIcon className=\"h-8 w-8 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-medium mb-1\">No users found</h3>\n      <p className=\"text-sm text-muted-foreground text-center max-w-sm\">\n        No users match the current filters. Try adjusting your search or filter criteria.\n      </p>\n    </div>\n  )\n}\n\n// Debounce hook\nfunction useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\nexport default function UsersPage() {\n  const router = useRouter()\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n\n  // Initialize state from URL params\n  const [searchInput, setSearchInput] = useState(searchParams.get('search') || '')\n  const [roleFilters, setRoleFilters] = useState<string[]>(\n    searchParams.get('role')?.split(',').filter(Boolean) || []\n  )\n  const [statusFilters, setStatusFilters] = useState<string[]>(\n    searchParams.get('status')?.split(',').filter(Boolean) || []\n  )\n  const [entityTypeFilters, setEntityTypeFilters] = useState<string[]>(\n    searchParams.get('entityType')?.split(',').filter(Boolean) || []\n  )\n  // New filters (PRD 3.2.3)\n  const [kycStatusFilters, setKycStatusFilters] = useState<string[]>(\n    searchParams.get('kycStatus')?.split(',').filter(Boolean) || []\n  )\n  const [hasEntitiesFilter, setHasEntitiesFilter] = useState<string[]>(\n    searchParams.get('hasEntities')?.split(',').filter(Boolean) || []\n  )\n\n  const [users, setUsers] = useState<UserRow[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [pagination, setPagination] = useState({\n    page: 1,\n    pageSize: 50,\n    totalPages: 1,\n    totalCount: 0,\n  })\n  const [sorting, setSorting] = useState<SortingState>([\n    { id: 'createdAt', desc: true }\n  ])\n  const [rowSelection, setRowSelection] = useState<RowSelectionState>({})\n  const [deactivateDialogOpen, setDeactivateDialogOpen] = useState(false)\n  const [isDeactivating, setIsDeactivating] = useState(false)\n\n  // Invite dialog state (uses BatchInviteDialog component)\n  const [inviteDialogOpen, setInviteDialogOpen] = useState(false)\n\n  // Single user action states\n  const [userToAction, setUserToAction] = useState<UserRow | null>(null)\n  const [lockDialogOpen, setLockDialogOpen] = useState(false)\n  const [resetPasswordDialogOpen, setResetPasswordDialogOpen] = useState(false)\n  const [singleDeactivateDialogOpen, setSingleDeactivateDialogOpen] = useState(false)\n  const [isPerformingAction, setIsPerformingAction] = useState(false)\n\n  // Get selected users\n  const selectedUsers = useMemo(() => {\n    const selectedIds = Object.keys(rowSelection)\n    return users.filter(user => selectedIds.includes(user.id))\n  }, [rowSelection, users])\n\n  // Export selected users as CSV\n  const handleExportCSV = useCallback(() => {\n    if (selectedUsers.length === 0) return\n\n    const headers = ['ID', 'Name', 'Email', 'Role', 'Status']\n    const rows = selectedUsers.map(user => [\n      user.id,\n      user.displayName,\n      user.email,\n      formatRole(user.systemRole),\n      getStatusLabel(user),\n    ])\n\n    const csvContent = [\n      headers.join(','),\n      ...rows.map(row => row.map(cell => `\"${cell}\"`).join(',')),\n    ].join('\\n')\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n    link.setAttribute('href', url)\n    link.setAttribute('download', `users-export-${format(new Date(), 'yyyy-MM-dd')}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    URL.revokeObjectURL(url)\n  }, [selectedUsers])\n\n  // Debounce search input\n  const debouncedSearch = useDebounce(searchInput, 300)\n\n  // Check if any filters are active\n  const hasActiveFilters = useMemo(() => {\n    return (\n      debouncedSearch.length > 0 ||\n      roleFilters.length > 0 ||\n      statusFilters.length > 0 ||\n      entityTypeFilters.length > 0 ||\n      kycStatusFilters.length > 0 ||\n      hasEntitiesFilter.length > 0\n    )\n  }, [debouncedSearch, roleFilters, statusFilters, entityTypeFilters, kycStatusFilters, hasEntitiesFilter])\n\n  // Update URL params when filters change\n  const updateUrlParams = useCallback((params: {\n    search?: string\n    role?: string[]\n    status?: string[]\n    entityType?: string[]\n    page?: number\n  }) => {\n    const newParams = new URLSearchParams(searchParams.toString())\n\n    // Handle search\n    if (params.search !== undefined) {\n      if (params.search) {\n        newParams.set('search', params.search)\n      } else {\n        newParams.delete('search')\n      }\n    }\n\n    // Handle role filter\n    if (params.role !== undefined) {\n      if (params.role.length > 0) {\n        newParams.set('role', params.role.join(','))\n      } else {\n        newParams.delete('role')\n      }\n    }\n\n    // Handle status filter\n    if (params.status !== undefined) {\n      if (params.status.length > 0) {\n        newParams.set('status', params.status.join(','))\n      } else {\n        newParams.delete('status')\n      }\n    }\n\n    // Handle entity type filter\n    if (params.entityType !== undefined) {\n      if (params.entityType.length > 0) {\n        newParams.set('entityType', params.entityType.join(','))\n      } else {\n        newParams.delete('entityType')\n      }\n    }\n\n    // Handle page\n    if (params.page !== undefined) {\n      if (params.page > 1) {\n        newParams.set('page', params.page.toString())\n      } else {\n        newParams.delete('page')\n      }\n    }\n\n    const queryString = newParams.toString()\n    router.push(`${pathname}${queryString ? `?${queryString}` : ''}`)\n  }, [pathname, router, searchParams])\n\n  // Fetch users with filters\n  const fetchUsers = useCallback(async (page: number = 1) => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      const params = new URLSearchParams({\n        page: page.toString(),\n        pageSize: pagination.pageSize.toString(),\n        sortBy: 'createdAt',\n        sortOrder: 'desc',\n      })\n\n      // Add filters to API request\n      if (debouncedSearch) {\n        params.set('search', debouncedSearch)\n      }\n      if (roleFilters.length > 0) {\n        params.set('role', roleFilters.join(','))\n      }\n      if (statusFilters.length > 0) {\n        params.set('status', statusFilters.join(','))\n      }\n      if (entityTypeFilters.length > 0) {\n        params.set('entityType', entityTypeFilters.join(','))\n      }\n\n      const response = await fetch(`/api/admin/users?${params}`)\n      const data: UsersResponse = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error || 'Failed to fetch users')\n      }\n\n      setUsers(data.data || [])\n      if (data.pagination) {\n        setPagination(data.pagination)\n      }\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }, [pagination.pageSize, debouncedSearch, roleFilters, statusFilters, entityTypeFilters])\n\n  // Deactivate selected users (calls actual API)\n  const handleDeactivateUsers = useCallback(async () => {\n    if (selectedUsers.length === 0) return\n\n    setIsDeactivating(true)\n    try {\n      const response = await fetch('/api/admin/users/batch-deactivate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ userIds: selectedUsers.map(u => u.id) }),\n      })\n      const data = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error || 'Failed to deactivate users')\n      }\n\n      toast.success('Users deactivated', {\n        description: `${selectedUsers.length} user${selectedUsers.length > 1 ? 's' : ''} deactivated successfully.`,\n      })\n\n      // Clear selection after successful deactivation\n      setRowSelection({})\n      setDeactivateDialogOpen(false)\n\n      // Refresh the users list\n      fetchUsers(pagination.page)\n    } catch (error) {\n      toast.error('Failed to deactivate users', {\n        description: error instanceof Error ? error.message : 'An error occurred',\n      })\n    } finally {\n      setIsDeactivating(false)\n    }\n  }, [selectedUsers, fetchUsers, pagination.page])\n\n  // Handle invite dialog success\n  const handleInviteSuccess = useCallback(() => {\n    fetchUsers(pagination.page)\n  }, [fetchUsers, pagination.page])\n\n  // Single user action handlers (wired to dropdown menu)\n  const handleEditUser = useCallback((user: UserRow) => {\n    // Navigate to user detail page for editing\n    router.push(`/versotech_admin/users/${user.id}`)\n  }, [router])\n\n  const handleLockUser = useCallback((user: UserRow) => {\n    setUserToAction(user)\n    setLockDialogOpen(true)\n  }, [])\n\n  const handleResetPassword = useCallback((user: UserRow) => {\n    setUserToAction(user)\n    setResetPasswordDialogOpen(true)\n  }, [])\n\n  const handleDeactivateUser = useCallback((user: UserRow) => {\n    setUserToAction(user)\n    setSingleDeactivateDialogOpen(true)\n  }, [])\n\n  // Execute lock user\n  const executeLockUser = useCallback(async () => {\n    if (!userToAction) return\n    setIsPerformingAction(true)\n    try {\n      const response = await fetch(`/api/admin/users/${userToAction.id}/toggle-lock`, {\n        method: 'PATCH',\n      })\n      const data = await response.json()\n      if (!data.success) throw new Error(data.error || 'Failed to lock user')\n      toast.success('Account locked', {\n        description: `${userToAction.displayName}'s account has been locked.`,\n      })\n      setLockDialogOpen(false)\n      setUserToAction(null)\n      fetchUsers(pagination.page)\n    } catch (error) {\n      toast.error('Failed to lock account', {\n        description: error instanceof Error ? error.message : 'An error occurred',\n      })\n    } finally {\n      setIsPerformingAction(false)\n    }\n  }, [userToAction, fetchUsers, pagination.page])\n\n  // Execute reset password\n  const executeResetPassword = useCallback(async () => {\n    if (!userToAction) return\n    setIsPerformingAction(true)\n    try {\n      const response = await fetch(`/api/admin/users/${userToAction.id}/reset-password`, {\n        method: 'POST',\n      })\n      const data = await response.json()\n      if (!data.success) throw new Error(data.error || 'Failed to send password reset')\n      toast.success('Password reset email sent', {\n        description: `A password reset link has been sent to ${userToAction.email}.`,\n      })\n      setResetPasswordDialogOpen(false)\n      setUserToAction(null)\n    } catch (error) {\n      toast.error('Failed to send password reset', {\n        description: error instanceof Error ? error.message : 'An error occurred',\n      })\n    } finally {\n      setIsPerformingAction(false)\n    }\n  }, [userToAction])\n\n  // Execute single user deactivate\n  const executeSingleDeactivate = useCallback(async () => {\n    if (!userToAction) return\n    setIsPerformingAction(true)\n    try {\n      const response = await fetch(`/api/admin/users/${userToAction.id}/deactivate`, {\n        method: 'PATCH',\n      })\n      const data = await response.json()\n      if (!data.success) throw new Error(data.error || 'Failed to deactivate user')\n      toast.success('User deactivated', {\n        description: `${userToAction.displayName} has been deactivated.`,\n      })\n      setSingleDeactivateDialogOpen(false)\n      setUserToAction(null)\n      fetchUsers(pagination.page)\n    } catch (error) {\n      toast.error('Failed to deactivate user', {\n        description: error instanceof Error ? error.message : 'An error occurred',\n      })\n    } finally {\n      setIsPerformingAction(false)\n    }\n  }, [userToAction, fetchUsers, pagination.page])\n\n  // Create columns with action handlers\n  const columns = useMemo(() => createColumns({\n    onEdit: handleEditUser,\n    onLock: handleLockUser,\n    onResetPassword: handleResetPassword,\n    onDeactivate: handleDeactivateUser,\n  }), [handleEditUser, handleLockUser, handleResetPassword, handleDeactivateUser])\n\n  // Fetch when filters change\n  useEffect(() => {\n    fetchUsers(1)\n    // Reset to page 1 when filters change\n    updateUrlParams({\n      search: debouncedSearch,\n      role: roleFilters,\n      status: statusFilters,\n      entityType: entityTypeFilters,\n      page: 1\n    })\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debouncedSearch, roleFilters, statusFilters, entityTypeFilters])\n\n  // Clear all filters\n  const clearAllFilters = () => {\n    setSearchInput('')\n    setRoleFilters([])\n    setStatusFilters([])\n    setEntityTypeFilters([])\n    setKycStatusFilters([])\n    setHasEntitiesFilter([])\n  }\n\n  const table = useReactTable({\n    data: users,\n    columns,\n    onSortingChange: setSorting,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    onRowSelectionChange: setRowSelection,\n    state: {\n      sorting,\n      rowSelection,\n    },\n    getRowId: (row) => row.id,\n  })\n\n  const handlePreviousPage = () => {\n    if (pagination.page > 1) {\n      const newPage = pagination.page - 1\n      fetchUsers(newPage)\n      updateUrlParams({ page: newPage })\n    }\n  }\n\n  const handleNextPage = () => {\n    if (pagination.page < pagination.totalPages) {\n      const newPage = pagination.page + 1\n      fetchUsers(newPage)\n      updateUrlParams({ page: newPage })\n    }\n  }\n\n  // Calculate display range\n  const startIndex = (pagination.page - 1) * pagination.pageSize + 1\n  const endIndex = Math.min(pagination.page * pagination.pageSize, pagination.totalCount)\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"rounded-lg border border-destructive/50 bg-destructive/10 p-4\">\n          <h3 className=\"font-medium text-destructive\">Error loading users</h3>\n          <p className=\"text-sm text-destructive/80 mt-1\">{error}</p>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"mt-3\"\n            onClick={() => fetchUsers()}\n          >\n            Try Again\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold\">All Users</h1>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            Manage platform users and their access\n          </p>\n        </div>\n        <Button onClick={() => setInviteDialogOpen(true)}>\n          <UserPlus className=\"h-4 w-4 mr-2\" />\n          Invite\n        </Button>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div className=\"flex flex-1 items-center gap-2\">\n          {/* Search Input */}\n          <div className=\"relative flex-1 max-w-sm\">\n            <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search by name or email...\"\n              value={searchInput}\n              onChange={(e) => setSearchInput(e.target.value)}\n              className=\"pl-9 h-9\"\n            />\n            {searchInput && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 p-0\"\n                onClick={() => setSearchInput('')}\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            )}\n          </div>\n\n          {/* Filter Dropdowns */}\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            <MultiSelectFilter\n              title=\"Role\"\n              options={roleOptions}\n              selected={roleFilters}\n              onSelect={setRoleFilters}\n            />\n            <MultiSelectFilter\n              title=\"Status\"\n              options={statusOptions}\n              selected={statusFilters}\n              onSelect={setStatusFilters}\n            />\n            <MultiSelectFilter\n              title=\"KYC Status\"\n              options={kycStatusOptions}\n              selected={kycStatusFilters}\n              onSelect={setKycStatusFilters}\n            />\n            <MultiSelectFilter\n              title=\"Entities\"\n              options={hasEntitiesOptions}\n              selected={hasEntitiesFilter}\n              onSelect={setHasEntitiesFilter}\n            />\n            <MultiSelectFilter\n              title=\"Entity Type\"\n              options={entityTypeOptions}\n              selected={entityTypeFilters}\n              onSelect={setEntityTypeFilters}\n            />\n          </div>\n        </div>\n\n        {/* Clear All Filters */}\n        {hasActiveFilters && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={clearAllFilters}\n            className=\"h-9\"\n          >\n            <X className=\"mr-2 h-4 w-4\" />\n            Clear filters\n          </Button>\n        )}\n      </div>\n\n      {/* Active Filters Display */}\n      {hasActiveFilters && (\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <span className=\"text-sm text-muted-foreground\">Active filters:</span>\n          {debouncedSearch && (\n            <Badge variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              Search: &quot;{debouncedSearch}&quot;\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setSearchInput('')}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          )}\n          {roleFilters.map((role) => (\n            <Badge key={role} variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              Role: {roleOptions.find(o => o.value === role)?.label || role}\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setRoleFilters(roleFilters.filter(r => r !== role))}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {statusFilters.map((status) => (\n            <Badge key={status} variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              Status: {statusOptions.find(o => o.value === status)?.label || status}\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setStatusFilters(statusFilters.filter(s => s !== status))}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {entityTypeFilters.map((entityType) => (\n            <Badge key={entityType} variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              Entity: {entityTypeOptions.find(o => o.value === entityType)?.label || entityType}\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setEntityTypeFilters(entityTypeFilters.filter(e => e !== entityType))}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {kycStatusFilters.map((status) => (\n            <Badge key={status} variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              KYC: {kycStatusOptions.find(o => o.value === status)?.label || status}\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setKycStatusFilters(kycStatusFilters.filter(s => s !== status))}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n          {hasEntitiesFilter.map((value) => (\n            <Badge key={value} variant=\"secondary\" className=\"rounded-sm px-2 py-1\">\n              {hasEntitiesOptions.find(o => o.value === value)?.label || value}\n              <button\n                className=\"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20\"\n                onClick={() => setHasEntitiesFilter(hasEntitiesFilter.filter(v => v !== value))}\n              >\n                <X className=\"h-3 w-3\" />\n              </button>\n            </Badge>\n          ))}\n        </div>\n      )}\n\n      {/* Table Content */}\n      {loading ? (\n        <UsersTableSkeleton />\n      ) : users.length === 0 ? (\n        <EmptyState />\n      ) : (\n        <div className={cn(\"space-y-4\", selectedUsers.length > 0 && \"pb-20\")}>\n          {/* Table */}\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => (\n                      <TableHead key={header.id}>\n                        {header.isPlaceholder\n                          ? null\n                          : flexRender(\n                              header.column.columnDef.header,\n                              header.getContext()\n                            )}\n                      </TableHead>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableHeader>\n              <TableBody>\n                {table.getRowModel().rows.length ? (\n                  table.getRowModel().rows.map((row) => (\n                    <TableRow\n                      key={row.id}\n                      data-state={row.getIsSelected() && 'selected'}\n                      className=\"hover:bg-muted/50\"\n                    >\n                      {row.getVisibleCells().map((cell) => (\n                        <TableCell key={cell.id}>\n                          {flexRender(\n                            cell.column.columnDef.cell,\n                            cell.getContext()\n                          )}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell\n                      colSpan={columns.length}\n                      className=\"h-24 text-center\"\n                    >\n                      No users found.\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n\n          {/* Pagination */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-muted-foreground\">\n              {pagination.totalCount > 0 ? (\n                <>Showing {startIndex}-{endIndex} of {pagination.totalCount} users</>\n              ) : (\n                <>No users found</>\n              )}\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handlePreviousPage}\n                disabled={pagination.page <= 1}\n              >\n                <ChevronLeft className=\"h-4 w-4 mr-1\" />\n                Previous\n              </Button>\n              <div className=\"text-sm text-muted-foreground px-2\">\n                Page {pagination.page} of {pagination.totalPages}\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleNextPage}\n                disabled={pagination.page >= pagination.totalPages}\n              >\n                Next\n                <ChevronRight className=\"h-4 w-4 ml-1\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Fixed Batch Action Bar */}\n      {selectedUsers.length > 0 && (\n        <div className=\"fixed bottom-0 left-0 right-0 z-50 bg-background border-t shadow-lg\">\n          <div className=\"flex items-center justify-between px-6 py-3 max-w-[calc(100%-var(--sidebar-width,16rem))] ml-auto\">\n            <div className=\"flex items-center gap-3\">\n              <span className=\"text-sm font-medium\">\n                {selectedUsers.length} user{selectedUsers.length > 1 ? 's' : ''} selected\n              </span>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setRowSelection({})}\n              >\n                Clear\n              </Button>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleExportCSV}\n              >\n                <Download className=\"h-4 w-4 mr-2\" />\n                Export CSV\n              </Button>\n              <Button\n                variant=\"destructive\"\n                size=\"sm\"\n                onClick={() => setDeactivateDialogOpen(true)}\n              >\n                <UserX className=\"h-4 w-4 mr-2\" />\n                Deactivate\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Deactivate Confirmation Dialog */}\n      <AlertDialog open={deactivateDialogOpen} onOpenChange={setDeactivateDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-destructive\" />\n              Deactivate Users\n            </AlertDialogTitle>\n            <AlertDialogDescription asChild>\n              <div className=\"space-y-3\">\n                <p>\n                  Are you sure you want to deactivate {selectedUsers.length} user{selectedUsers.length > 1 ? 's' : ''}?\n                  They will no longer be able to access the platform.\n                </p>\n                <div className=\"rounded-md bg-muted p-3 max-h-32 overflow-y-auto\">\n                  <ul className=\"text-sm space-y-1\">\n                    {selectedUsers.slice(0, 10).map(user => (\n                      <li key={user.id} className=\"flex items-center gap-2\">\n                        <span className=\"font-medium\">{user.displayName}</span>\n                        <span className=\"text-muted-foreground\">({user.email})</span>\n                      </li>\n                    ))}\n                    {selectedUsers.length > 10 && (\n                      <li className=\"text-muted-foreground\">\n                        ...and {selectedUsers.length - 10} more\n                      </li>\n                    )}\n                  </ul>\n                </div>\n              </div>\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={isDeactivating}>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDeactivateUsers}\n              disabled={isDeactivating}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {isDeactivating ? 'Deactivating...' : 'Deactivate'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Batch Invite Dialog (uses production-ready component) */}\n      <BatchInviteDialog\n        open={inviteDialogOpen}\n        onOpenChange={setInviteDialogOpen}\n        onSuccess={handleInviteSuccess}\n      />\n\n      {/* Lock User Dialog */}\n      <AlertDialog open={lockDialogOpen} onOpenChange={setLockDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n              <Lock className=\"h-5 w-5 text-yellow-600 dark:text-yellow-500\" />\n              Lock Account\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to lock <strong>{userToAction?.displayName}</strong>&apos;s account?\n              They will be temporarily unable to access the platform.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={isPerformingAction}>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={executeLockUser}\n              disabled={isPerformingAction}\n              className=\"bg-yellow-600 text-white hover:bg-yellow-600/90\"\n            >\n              {isPerformingAction ? 'Locking...' : 'Lock Account'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Reset Password Dialog */}\n      <AlertDialog open={resetPasswordDialogOpen} onOpenChange={setResetPasswordDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n              <KeyRound className=\"h-5 w-5\" />\n              Reset Password\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              This will send a password reset email to <strong>{userToAction?.email}</strong>.\n              The user will need to click the link in the email to set a new password.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={isPerformingAction}>Cancel</AlertDialogCancel>\n            <AlertDialogAction onClick={executeResetPassword} disabled={isPerformingAction}>\n              {isPerformingAction ? 'Sending...' : 'Send Reset Email'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {/* Single User Deactivate Dialog */}\n      <AlertDialog open={singleDeactivateDialogOpen} onOpenChange={setSingleDeactivateDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-destructive\" />\n              Deactivate User\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to deactivate <strong>{userToAction?.displayName}</strong>?\n              They will no longer be able to access the platform.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={isPerformingAction}>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={executeSingleDeactivate}\n              disabled={isPerformingAction}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {isPerformingAction ? 'Deactivating...' : 'Deactivate'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n","'use client'\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { useForm, useFieldArray } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { ScrollArea } from '@/components/ui/scroll-area'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  Loader2,\r\n  Mail,\r\n  User,\r\n  Plus,\r\n  Trash2,\r\n  Upload,\r\n  CheckCircle2,\r\n  XCircle,\r\n  AlertCircle,\r\n  Users\r\n} from 'lucide-react'\r\nimport { toast } from 'sonner'\r\n\r\nexport type EntityType = 'investor' | 'arranger' | 'lawyer' | 'introducer' | 'partner' | 'commercial_partner'\r\n\r\nconst inviteSchema = z.object({\r\n  email: z.string().email('Invalid email'),\r\n  display_name: z.string().min(2, 'Name required'),\r\n  title: z.string().optional(),\r\n  role: z.string().optional(),\r\n  is_primary: z.boolean().optional().default(false),\r\n})\r\n\r\nconst batchInviteFormSchema = z.object({\r\n  entity_type: z.enum(['investor', 'arranger', 'lawyer', 'introducer', 'partner', 'commercial_partner']),\r\n  entity_id: z.string().optional(),\r\n  create_entities: z.boolean().optional().default(true),\r\n  invites: z.array(inviteSchema).min(1, 'At least one invite required'),\r\n})\r\n\r\ntype BatchInviteFormData = {\r\n  entity_type: 'investor' | 'arranger' | 'lawyer' | 'introducer' | 'partner' | 'commercial_partner'\r\n  entity_id?: string\r\n  create_entities: boolean\r\n  invites: {\r\n    email: string\r\n    display_name: string\r\n    title?: string\r\n    role?: string\r\n    is_primary: boolean\r\n  }[]\r\n}\r\n\r\ninterface InviteResult {\r\n  email: string\r\n  success: boolean\r\n  user_id?: string\r\n  entity_id?: string\r\n  is_new_user?: boolean\r\n  error?: string\r\n}\r\n\r\ninterface BatchInviteDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  onSuccess?: () => void\r\n  defaultEntityType?: EntityType\r\n  existingEntityId?: string\r\n  existingEntityName?: string\r\n}\r\n\r\nconst ENTITY_TYPE_LABELS: Record<EntityType, string> = {\r\n  investor: 'Investors',\r\n  arranger: 'Arrangers',\r\n  lawyer: 'Law Firms',\r\n  introducer: 'Introducers',\r\n  partner: 'Partners',\r\n  commercial_partner: 'Commercial Partners',\r\n}\r\n\r\nconst ROLE_OPTIONS_BY_ENTITY: Record<EntityType, { value: string; label: string }[]> = {\r\n  investor: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'member', label: 'Member' },\r\n  ],\r\n  arranger: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'member', label: 'Member' },\r\n  ],\r\n  lawyer: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'member', label: 'Member' },\r\n  ],\r\n  partner: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'member', label: 'Member' },\r\n  ],\r\n  introducer: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'contact', label: 'Contact' },\r\n  ],\r\n  commercial_partner: [\r\n    { value: 'admin', label: 'Admin' },\r\n    { value: 'contact', label: 'Contact' },\r\n  ],\r\n}\r\n\r\nexport function BatchInviteDialog({\r\n  open,\r\n  onOpenChange,\r\n  onSuccess,\r\n  defaultEntityType = 'investor',\r\n  existingEntityId,\r\n  existingEntityName,\r\n}: BatchInviteDialogProps) {\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [results, setResults] = useState<InviteResult[] | null>(null)\r\n  const [csvInput, setCsvInput] = useState('')\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    control,\r\n    watch,\r\n    setValue,\r\n    reset,\r\n    formState: { errors },\r\n  } = useForm<BatchInviteFormData>({\r\n    resolver: zodResolver(batchInviteFormSchema) as any,\r\n    defaultValues: {\r\n      entity_type: defaultEntityType,\r\n      entity_id: existingEntityId,\r\n      create_entities: !existingEntityId,\r\n      invites: [{ email: '', display_name: '', title: '', is_primary: true }],\r\n    },\r\n  })\r\n\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: 'invites',\r\n  })\r\n\r\n  const entityType = watch('entity_type') as EntityType\r\n  const createEntities = watch('create_entities')\r\n\r\n  const parseCsvInput = useCallback(() => {\r\n    const lines = csvInput.trim().split('\\n').filter(line => line.trim())\r\n    const newInvites: { email: string; display_name: string; title?: string; is_primary: boolean }[] = []\r\n\r\n    for (const line of lines) {\r\n      const parts = line.split(',').map(p => p.trim())\r\n      if (parts.length >= 2) {\r\n        const email = parts[0]\r\n        const display_name = parts[1]\r\n        const title = parts[2] || undefined\r\n\r\n        // Basic email validation\r\n        if (email.includes('@') && display_name.length >= 2) {\r\n          newInvites.push({\r\n            email,\r\n            display_name,\r\n            title,\r\n            is_primary: newInvites.length === 0,\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    if (newInvites.length > 0) {\r\n      setValue('invites', newInvites)\r\n      toast.success(`Parsed ${newInvites.length} invites from CSV`)\r\n    } else {\r\n      toast.error('No valid invites found. Format: email, name, title (optional)')\r\n    }\r\n  }, [csvInput, setValue])\r\n\r\n  const onSubmit = async (data: BatchInviteFormData) => {\r\n    setIsSubmitting(true)\r\n    setResults(null)\r\n\r\n    try {\r\n      const response = await fetch('/api/admin/batch-invite', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data),\r\n      })\r\n\r\n      const result = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(result.error || 'Batch invite failed')\r\n      }\r\n\r\n      setResults(result.results)\r\n\r\n      if (result.failed === 0) {\r\n        toast.success(`Successfully invited ${result.successful} users`)\r\n      } else {\r\n        toast.warning(`Invited ${result.successful} users, ${result.failed} failed`)\r\n      }\r\n\r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error('Batch invite error:', error)\r\n      toast.error(error instanceof Error ? error.message : 'Batch invite failed')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleClose = () => {\r\n    reset()\r\n    setResults(null)\r\n    setCsvInput('')\r\n    onOpenChange(false)\r\n  }\r\n\r\n  const addInvite = () => {\r\n    append({ email: '', display_name: '', title: '', is_primary: false })\r\n  }\r\n\r\n  // Show results view if we have results\r\n  if (results) {\r\n    const successCount = results.filter(r => r.success).length\r\n    const failCount = results.filter(r => !r.success).length\r\n\r\n    return (\r\n      <Dialog open={open} onOpenChange={handleClose}>\r\n        <DialogContent className=\"sm:max-w-[600px]\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              Batch Invite Results\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {successCount} successful, {failCount} failed\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"flex-1 bg-green-50 dark:bg-green-900/20 rounded-lg p-4 text-center\">\r\n                <CheckCircle2 className=\"h-8 w-8 mx-auto text-green-600 mb-2\" />\r\n                <div className=\"text-2xl font-bold text-green-600\">{successCount}</div>\r\n                <div className=\"text-sm text-green-700 dark:text-green-400\">Successful</div>\r\n              </div>\r\n              <div className=\"flex-1 bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center\">\r\n                <XCircle className=\"h-8 w-8 mx-auto text-red-600 mb-2\" />\r\n                <div className=\"text-2xl font-bold text-red-600\">{failCount}</div>\r\n                <div className=\"text-sm text-red-700 dark:text-red-400\">Failed</div>\r\n              </div>\r\n            </div>\r\n\r\n            <ScrollArea className=\"h-[300px] border rounded-lg\">\r\n              <div className=\"p-4 space-y-2\">\r\n                {results.map((result, index) => (\r\n                  <div\r\n                    key={index}\r\n                    className={`flex items-center justify-between p-3 rounded-lg ${\r\n                      result.success\r\n                        ? 'bg-green-50 dark:bg-green-900/10'\r\n                        : 'bg-red-50 dark:bg-red-900/10'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {result.success ? (\r\n                        <CheckCircle2 className=\"h-5 w-5 text-green-600\" />\r\n                      ) : (\r\n                        <XCircle className=\"h-5 w-5 text-red-600\" />\r\n                      )}\r\n                      <div>\r\n                        <div className=\"font-medium\">{result.email}</div>\r\n                        {result.error && (\r\n                          <div className=\"text-sm text-red-600\">{result.error}</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    {result.success && (\r\n                      <Badge variant={result.is_new_user ? 'default' : 'secondary'}>\r\n                        {result.is_new_user ? 'New User' : 'Linked'}\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </ScrollArea>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button onClick={handleClose}>Close</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleClose}>\r\n      <DialogContent className=\"sm:max-w-[700px] max-h-[90vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Users className=\"h-5 w-5\" />\r\n            Batch Invite Users\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {existingEntityName\r\n              ? `Invite multiple users to ${existingEntityName}`\r\n              : 'Invite multiple users and create new entities for each'\r\n            }\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Tabs defaultValue=\"manual\" className=\"w-full\" id=\"batch-invite-tabs\">\r\n          <TabsList className=\"grid w-full grid-cols-2\">\r\n            <TabsTrigger value=\"manual\">Manual Entry</TabsTrigger>\r\n            <TabsTrigger value=\"csv\">CSV Import</TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"csv\" className=\"space-y-4 mt-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Paste CSV Data</Label>\r\n              <Textarea\r\n                placeholder=\"email@example.com, John Smith, Managing Director&#10;another@example.com, Jane Doe, Partner&#10;...\"\r\n                value={csvInput}\r\n                onChange={(e) => setCsvInput(e.target.value)}\r\n                rows={6}\r\n                className=\"font-mono text-sm\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Format: email, display_name, title (optional) - one per line\r\n              </p>\r\n            </div>\r\n            <Button type=\"button\" onClick={parseCsvInput} variant=\"secondary\">\r\n              <Upload className=\"mr-2 h-4 w-4\" />\r\n              Parse CSV\r\n            </Button>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"manual\" className=\"mt-4\">\r\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\r\n              {/* Entity Type Selection */}\r\n              {!existingEntityId && (\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Entity Type</Label>\r\n                    <Select\r\n                      value={entityType}\r\n                      onValueChange={(value) => setValue('entity_type', value as EntityType)}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select type\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {Object.entries(ENTITY_TYPE_LABELS).map(([value, label]) => (\r\n                          <SelectItem key={value} value={value}>\r\n                            {label}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between rounded-lg border p-3\">\r\n                    <div className=\"space-y-0.5\">\r\n                      <Label className=\"text-sm font-medium\">Create New Entities</Label>\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        Create a new {entityType} for each invite\r\n                      </p>\r\n                    </div>\r\n                    <Switch\r\n                      checked={createEntities}\r\n                      onCheckedChange={(checked) => setValue('create_entities', checked)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Invites List */}\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <Label>Invites ({fields.length})</Label>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={addInvite}\r\n                    disabled={fields.length >= 100}\r\n                  >\r\n                    <Plus className=\"mr-1 h-4 w-4\" />\r\n                    Add\r\n                  </Button>\r\n                </div>\r\n\r\n                <ScrollArea className=\"h-[300px] border rounded-lg p-4\">\r\n                  <div className=\"space-y-4\">\r\n                    {fields.map((field, index) => (\r\n                      <div\r\n                        key={field.id}\r\n                        className=\"grid grid-cols-[1fr,1fr,auto,auto] gap-2 items-start\"\r\n                        role=\"group\"\r\n                        aria-label={`Invite ${index + 1}`}\r\n                      >\r\n                        <div>\r\n                          <label htmlFor={`invite-email-${index}`} className=\"sr-only\">\r\n                            Email address for invite {index + 1}\r\n                          </label>\r\n                          <Input\r\n                            id={`invite-email-${index}`}\r\n                            placeholder=\"email@example.com\"\r\n                            {...register(`invites.${index}.email`)}\r\n                            className={errors.invites?.[index]?.email ? 'border-red-500' : ''}\r\n                            aria-invalid={!!errors.invites?.[index]?.email}\r\n                            aria-describedby={errors.invites?.[index]?.email ? `email-error-${index}` : undefined}\r\n                          />\r\n                          {errors.invites?.[index]?.email && (\r\n                            <p id={`email-error-${index}`} className=\"text-xs text-red-500 mt-1\" role=\"alert\">\r\n                              {errors.invites[index]?.email?.message}\r\n                            </p>\r\n                          )}\r\n                        </div>\r\n                        <div>\r\n                          <label htmlFor={`invite-name-${index}`} className=\"sr-only\">\r\n                            Display name for invite {index + 1}\r\n                          </label>\r\n                          <Input\r\n                            id={`invite-name-${index}`}\r\n                            placeholder=\"Display Name\"\r\n                            {...register(`invites.${index}.display_name`)}\r\n                            className={errors.invites?.[index]?.display_name ? 'border-red-500' : ''}\r\n                            aria-invalid={!!errors.invites?.[index]?.display_name}\r\n                          />\r\n                        </div>\r\n                        <Select\r\n                          value={watch(`invites.${index}.role`) || 'member'}\r\n                          onValueChange={(value) => setValue(`invites.${index}.role`, value)}\r\n                        >\r\n                          <SelectTrigger className=\"w-[100px]\" aria-label={`Role for invite ${index + 1}`}>\r\n                            <SelectValue />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            {ROLE_OPTIONS_BY_ENTITY[entityType].map((option) => (\r\n                              <SelectItem key={option.value} value={option.value}>\r\n                                {option.label}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"icon\"\r\n                          onClick={() => remove(index)}\r\n                          disabled={fields.length === 1}\r\n                          aria-label={`Remove invite ${index + 1}`}\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                        </Button>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </div>\r\n\r\n              <DialogFooter className=\"gap-2 sm:gap-0\">\r\n                <Button type=\"button\" variant=\"outline\" onClick={handleClose}>\r\n                  Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={isSubmitting}>\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                      Sending {fields.length} Invites...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Mail className=\"mr-2 h-4 w-4\" />\r\n                      Send {fields.length} Invites\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </DialogFooter>\r\n            </form>\r\n          </TabsContent>\r\n        </Tabs>\r\n\r\n        {/* Show parsed invites even when on CSV tab */}\r\n        {fields.length > 1 && (\r\n          <div className=\"mt-4 p-3 bg-muted rounded-lg flex items-center gap-2\">\r\n            <AlertCircle className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-sm text-muted-foreground\">\r\n              {fields.length} invites ready to send\r\n            </span>\r\n          </div>\r\n        )}\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}