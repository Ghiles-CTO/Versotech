module.exports=[451856,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(3321),f=a.i(405708),g=a.i(799373),h=a.i(278541),i=a.i(325866),j=a.i(899750),k=a.i(470305),l=a.i(421908),m=a.i(663475),n=a.i(249464),o=a.i(951870),p=a.i(772998);function q(){(0,d.useRouter)();let[a,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)({email:"",display_name:"",title:""}),[z,A]=(0,c.useState)({type:"individual",email:"",phone:"",country:"",tax_residency:"",primary_rm:"",first_name:"",middle_name:"",last_name:"",legal_name:"",display_name:"",country_of_incorporation:"",representative_name:"",representative_title:""});(0,c.useEffect)(()=>{a&&B()},[a]);let B=async()=>{try{let a=await fetch("/api/staff/available");if(a.ok){let b=await a.json();u(b.staff||[])}}catch(a){console.error("Failed to fetch staff members:",a)}},C=async a=>{if(a.preventDefault(),"individual"===z.type){if(!z.first_name.trim())return void j.toast.error("First name is required for individuals")}else if(!z.legal_name.trim())return void j.toast.error("Legal name is required");let b=x.email.trim().toLowerCase(),c=x.display_name.trim(),d=x.title.trim();if(v){if(!b||!b.includes("@"))return void j.toast.error("Valid invite email is required");if(c.length<2)return void j.toast.error("Invite display name is required")}s(!0);try{let a,e={...z};a=z.type,"individual"===a&&(e.legal_name=[z.first_name.trim(),z.middle_name.trim(),z.last_name.trim()].filter(Boolean).join(" "),e.display_name.trim()||(e.display_name=e.legal_name)),console.log("[AddInvestor] Submitting:",e);let f=await fetch("/api/staff/investors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log("[AddInvestor] Response status:",f.status);let g=await f.json();if(console.log("[AddInvestor] Response data:",g),!f.ok)throw Error(g.error||"Failed to create investor");let h=g?.investor?.id||g?.id;if(v&&h){let a=await fetch("/api/admin/entity-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity_type:"investor",entity_id:h,email:b,display_name:c,title:d||null,is_primary:!0})});if(a.ok){let b=await a.json().catch(()=>({}));!1===b.email_sent?j.toast.warning("Investor created, but invitation email failed to send"):j.toast.success(b.message||"Investor created and invitation sent")}else{let c=await a.json().catch(()=>({}));if(401===a.status||403===a.status){let a=await fetch(`/api/staff/investors/${h}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b})});if(a.ok)j.toast.success("Investor created and invitation sent");else{let b=await a.json().catch(()=>({}));j.toast.warning(b.error||c.error||"Investor created, but invitation failed to send")}}else j.toast.warning(c.error||"Investor created, but invitation failed to send")}}else j.toast.success("Investor created successfully");A({type:"individual",email:"",phone:"",country:"",tax_residency:"",primary_rm:"",first_name:"",middle_name:"",last_name:"",legal_name:"",display_name:"",country_of_incorporation:"",representative_name:"",representative_title:""}),w(!1),y({email:"",display_name:"",title:""}),q(!1),window.location.href="/versotech_main/investors"}catch(a){console.error("[AddInvestor] Error:",a),j.toast.error(a.message||"Failed to create investor")}finally{s(!1)}};return(0,b.jsxs)(k.Dialog,{open:a,onOpenChange:q,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(l.Button,{children:[(0,b.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Add Investor"]})}),(0,b.jsxs)(k.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{className:"text-white",children:"Add New Investor"}),(0,b.jsx)(k.DialogDescription,{className:"text-gray-300",children:"Create a new investor profile. Onboarding tasks will be created automatically."})]}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(n.Label,{htmlFor:"type",className:"text-white",children:["Investor Type ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsxs)(o.Select,{value:z.type,onValueChange:a=>A({...z,type:a}),children:[(0,b.jsx)(o.SelectTrigger,{children:(0,b.jsx)(o.SelectValue,{})}),(0,b.jsxs)(o.SelectContent,{children:[(0,b.jsx)(o.SelectItem,{value:"individual",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.User,{className:"h-4 w-4"}),"Individual"]})}),(0,b.jsx)(o.SelectItem,{value:"entity",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Building2,{className:"h-4 w-4"}),"Entity"]})}),(0,b.jsx)(o.SelectItem,{value:"institutional",children:"Institutional"}),(0,b.jsx)(o.SelectItem,{value:"family_office",children:"Family Office"}),(0,b.jsx)(o.SelectItem,{value:"fund",children:"Fund"})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"individual"===z.type?"A natural person investing in their own name":"A company, fund, or institutional entity"})]}),"individual"===z.type&&(0,b.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[(0,b.jsx)(i.User,{className:"h-4 w-4"}),"Personal Information"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(n.Label,{htmlFor:"first_name",className:"text-white",children:["First Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(m.Input,{id:"first_name",value:z.first_name,onChange:a=>A({...z,first_name:a.target.value}),placeholder:"John",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"middle_name",className:"text-white",children:"Middle Name"}),(0,b.jsx)(m.Input,{id:"middle_name",value:z.middle_name,onChange:a=>A({...z,middle_name:a.target.value}),placeholder:"Michael",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"last_name",className:"text-white",children:"Last Name"}),(0,b.jsx)(m.Input,{id:"last_name",value:z.last_name,onChange:a=>A({...z,last_name:a.target.value}),placeholder:"Smith",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(z.first_name||z.last_name)&&(0,b.jsxs)("div",{className:"text-xs text-gray-400 bg-zinc-800/50 px-3 py-2 rounded",children:["Legal name will be: ",(0,b.jsx)("span",{className:"text-white font-medium",children:[z.first_name,z.middle_name,z.last_name].filter(Boolean).join(" ")})]})]}),["entity","institutional","family_office","fund"].includes(z.type)&&(0,b.jsxs)("div",{className:"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[(0,b.jsx)(h.Building2,{className:"h-4 w-4"}),"Entity Information"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(n.Label,{htmlFor:"legal_name",className:"text-white",children:["Legal Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(m.Input,{id:"legal_name",value:z.legal_name,onChange:a=>A({...z,legal_name:a.target.value}),placeholder:"Acme Investment Holdings LP",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"display_name",className:"text-white",children:"Display Name"}),(0,b.jsx)(m.Input,{id:"display_name",value:z.display_name,onChange:a=>A({...z,display_name:a.target.value}),placeholder:"Acme Holdings (optional short name)",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"country_of_incorporation",className:"text-white",children:"Country of Incorporation"}),(0,b.jsx)(m.Input,{id:"country_of_incorporation",value:z.country_of_incorporation,onChange:a=>A({...z,country_of_incorporation:a.target.value}),placeholder:"Cayman Islands",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"representative_name",className:"text-white",children:"Representative Name"}),(0,b.jsx)(m.Input,{id:"representative_name",value:z.representative_name,onChange:a=>A({...z,representative_name:a.target.value}),placeholder:"Jane Doe",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"representative_title",className:"text-white",children:"Representative Title"}),(0,b.jsx)(m.Input,{id:"representative_title",value:z.representative_title,onChange:a=>A({...z,representative_title:a.target.value}),placeholder:"Managing Director",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-300",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"email",className:"text-white",children:"Email"}),(0,b.jsx)(m.Input,{id:"email",type:"email",value:z.email,onChange:a=>A({...z,email:a.target.value}),placeholder:"investor@email.com",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"phone",className:"text-white",children:"Phone"}),(0,b.jsx)(m.Input,{id:"phone",type:"tel",value:z.phone,onChange:a=>A({...z,phone:a.target.value}),placeholder:"+1 (555) 123-4567",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"country",className:"text-white",children:"individual"===z.type?"Country of Residence":"Country"}),(0,b.jsx)(m.Input,{id:"country",value:z.country,onChange:a=>A({...z,country:a.target.value}),placeholder:"United States",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"tax_residency",className:"text-white",children:"Tax Residency"}),(0,b.jsx)(m.Input,{id:"tax_residency",value:z.tax_residency,onChange:a=>A({...z,tax_residency:a.target.value}),placeholder:"United States",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"primary_rm",className:"text-white",children:"Relationship Manager"}),(0,b.jsxs)(o.Select,{value:z.primary_rm||void 0,onValueChange:a=>A({...z,primary_rm:a||""}),children:[(0,b.jsx)(o.SelectTrigger,{children:(0,b.jsx)(o.SelectValue,{placeholder:"Select a relationship manager (optional)"})}),(0,b.jsx)(o.SelectContent,{children:t.length>0?t.map(a=>(0,b.jsxs)(o.SelectItem,{value:a.id,children:[a.display_name," (",a.role,")"]},a.id)):(0,b.jsx)(o.SelectItem,{value:"loading",disabled:!0,children:"Loading staff..."})})]}),z.primary_rm&&(0,b.jsx)(l.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>A({...z,primary_rm:""}),className:"text-xs",children:"Clear selection"})]}),(0,b.jsxs)("div",{className:"space-y-4 border-t border-zinc-800 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.UserPlus,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)(n.Label,{className:"text-sm text-white",children:"Invite Portal User"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Send an invitation to join this investor's portal"})]}),(0,b.jsx)(p.Switch,{checked:v,onCheckedChange:w})]}),v&&(0,b.jsxs)("div",{className:"space-y-3 pl-4 border-l border-zinc-800",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(n.Label,{htmlFor:"invite_email",className:"text-white",children:["Email Address ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(m.Input,{id:"invite_email",type:"email",value:x.email,onChange:a=>y({...x,email:a.target.value}),placeholder:"user@email.com",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(n.Label,{htmlFor:"invite_display_name",className:"text-white",children:["Display Name ",(0,b.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,b.jsx)(m.Input,{id:"invite_display_name",value:x.display_name,onChange:a=>y({...x,display_name:a.target.value}),placeholder:"John Smith",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(n.Label,{htmlFor:"invite_title",className:"text-white",children:"Title (Optional)"}),(0,b.jsx)(m.Input,{id:"invite_title",value:x.title,onChange:a=>y({...x,title:a.target.value}),placeholder:"Managing Director",className:"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500"})]})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>q(!1),disabled:r,children:"Cancel"}),(0,b.jsxs)(l.Button,{type:"submit",disabled:r,children:[r&&(0,b.jsx)(e.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),v?"Create Investor & Send Invite":"Create Investor"]})]})]})]})]})}a.s(["AddInvestorModal",()=>q])},208747,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(216316),f=a.i(421908),g=a.i(166457),h=a.i(823879),i=a.i(3321),j=a.i(15788);function k(){let a=(0,d.useRouter)(),k=(0,d.useSearchParams)(),[l,m]=(0,c.useState)(!1),n=k.get("status"),o=k.get("type"),p=n||o,q=(b,c)=>{m(!0);let d=new URLSearchParams(k.toString());d.get(b)===c?d.delete(b):d.set(b,c),d.set("page","1"),a.push(`/versotech_main/investors?${d.toString()}`),setTimeout(()=>m(!1),500)};return(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsxs)(e.DropdownMenu,{children:[(0,b.jsx)(e.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",disabled:l,children:[l?(0,b.jsx)(i.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(g.Filter,{className:"h-4 w-4 mr-2"}),"Filter",p&&!l&&(0,b.jsx)(j.Badge,{variant:"secondary",className:"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:+!!n+ +!!o})]})}),(0,b.jsxs)(e.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,b.jsx)(e.DropdownMenuLabel,{children:"KYC Status"}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("status","pending"),children:["pending"===n&&"✓ ","Pending"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("status","review"),children:["review"===n&&"✓ ","In Review"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("status","approved"),children:["approved"===n&&"✓ ","Approved"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("status","completed"),children:["completed"===n&&"✓ ","Completed"]}),(0,b.jsx)(e.DropdownMenuSeparator,{}),(0,b.jsx)(e.DropdownMenuLabel,{children:"Investor Type"}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("type","individual"),children:["individual"===o&&"✓ ","Individual"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("type","entity"),children:["entity"===o&&"✓ ","Entity"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("type","institutional"),children:["institutional"===o&&"✓ ","Institutional"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("type","family_office"),children:["family_office"===o&&"✓ ","Family Office"]}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>q("type","fund"),children:["fund"===o&&"✓ ","Fund"]}),p&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DropdownMenuSeparator,{}),(0,b.jsxs)(e.DropdownMenuItem,{onClick:()=>{m(!0);let b=new URLSearchParams(k.toString());b.delete("status"),b.delete("type"),b.set("page","1"),a.push(`/versotech_main/investors?${b.toString()}`),setTimeout(()=>m(!1),500)},className:"text-red-500",children:[(0,b.jsx)(h.X,{className:"h-4 w-4 mr-2"}),"Clear All Filters"]})]})]})]})})}a.s(["InvestorFilters",()=>k])},235140,a=>{"use strict";var b=a.i(352584),c=a.i(421908),d=a.i(425622),e=a.i(899750);function f({investors:a}){return(0,b.jsxs)(c.Button,{variant:"outline",size:"sm",onClick:()=>{try{let b=a.map(a=>[a.id,a.name,a.type,a.email,a.kycStatus,a.onboardingStatus,!1===a.metricsAvailable?"Pending":a.totalCommitment,!1===a.metricsAvailable?"Pending":a.totalContributed,!1===a.metricsAvailable?"Pending":a.vehicleCount,a.relationshipManager,a.country,new Date(a.lastActivity).toLocaleDateString()]),c=["ID,Name,Type,Email,KYC Status,Onboarding Status,Total Commitment,Total Contributed,Vehicles,Relationship Manager,Country,Last Activity",...b.map(a=>a.map(a=>`"${a}"`).join(","))].join("\n"),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),g=URL.createObjectURL(d);f.setAttribute("href",g),f.setAttribute("download",`investors_export_${new Date().toISOString().split("T")[0]}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),e.toast.success(`Exported ${a.length} investors to CSV`)}catch(a){console.error("Export error:",a),e.toast.error("Failed to export investors")}},children:[(0,b.jsx)(d.Download,{className:"h-4 w-4 mr-2"}),"Export"]})}a.s(["ExportInvestorsButton",()=>f])},16691,a=>{"use strict";var b=a.i(352584),c=a.i(289633),d=a.i(611038),e=a.i(663475),f=a.i(487068),g=a.i(823879),h=a.i(421908);function i(){let a=(0,c.useRouter)(),i=(0,c.usePathname)(),j=(0,c.useSearchParams)(),k=j.get("q")||"",[l,m]=(0,d.useState)(k),[n,o]=(0,d.useState)(!1),p=(0,d.useRef)(!0),q=(0,d.useCallback)(b=>{let c=new URLSearchParams(j.toString());b.trim()?c.set("q",b.trim()):c.delete("q"),c.set("page","1"),a.push(`${i}?${c.toString()}`)},[a,i,j]);return(0,d.useEffect)(()=>{if(p.current){p.current=!1;return}if(l===k)return;o(!0);let a=setTimeout(()=>{q(l),o(!1)},300);return()=>{clearTimeout(a),o(!1)}},[l]),(0,d.useEffect)(()=>{k===l||n||m(k)},[k]),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(e.Input,{value:l,onChange:a=>m(a.target.value),placeholder:"Search investors by name, email, or ID...",className:"pl-10 pr-10"}),l&&(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{m("")},className:"absolute right-1 top-1 h-7 w-7 p-0",children:(0,b.jsx)(g.X,{className:"h-4 w-4"})}),n&&(0,b.jsx)("div",{className:"absolute right-10 top-3",children:(0,b.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})})]})}a.s(["InvestorSearch",()=>i])},618391,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(784021),e=a.i(391686),f=a.i(771088),g=a.i(421908),h=a.i(577955),i=a.i(672606);function j({columns:a,data:j}){let[k,l]=c.useState([]),[m,n]=c.useState([]),[o,p]=c.useState({}),[q,r]=c.useState({}),s=(0,d.useReactTable)({data:j,columns:a,onSortingChange:l,onColumnFiltersChange:n,getCoreRowModel:(0,e.getCoreRowModel)(),getPaginationRowModel:(0,e.getPaginationRowModel)(),getSortedRowModel:(0,e.getSortedRowModel)(),getFilteredRowModel:(0,e.getFilteredRowModel)(),onColumnVisibilityChange:p,onRowSelectionChange:r,state:{sorting:k,columnFilters:m,columnVisibility:o,rowSelection:q},initialState:{pagination:{pageSize:50}}}),t=s.getFilteredSelectedRowModel().rows.length,u=s.getFilteredRowModel().rows.length;return(0,b.jsxs)("div",{className:"space-y-4",children:[t>0&&(0,b.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:[t," of ",u," row(s) selected"]}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>s.toggleAllPageRowsSelected(!1),className:"ml-auto",children:"Clear Selection"})]}),(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(f.Table,{children:[(0,b.jsx)(f.TableHeader,{children:s.getHeaderGroups().map(a=>(0,b.jsx)(f.TableRow,{children:a.headers.map(a=>(0,b.jsx)(f.TableHead,{children:a.isPlaceholder?null:(0,d.flexRender)(a.column.columnDef.header,a.getContext())},a.id))},a.id))}),(0,b.jsx)(f.TableBody,{children:s.getRowModel().rows?.length?s.getRowModel().rows.map(a=>(0,b.jsx)(f.TableRow,{"data-state":a.getIsSelected()&&"selected",className:"hover:bg-muted/50",children:a.getVisibleCells().map(a=>(0,b.jsx)(f.TableCell,{children:(0,d.flexRender)(a.column.columnDef.cell,a.getContext())},a.id))},a.id)):(0,b.jsx)(f.TableRow,{children:(0,b.jsx)(f.TableCell,{colSpan:a.length,className:"h-24 text-center",children:"No investors found."})})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()," (",u," total investors)"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:[(0,b.jsx)(h.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:["Next",(0,b.jsx)(i.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})}a.s(["InvestorsDataTable",()=>j])},735821,a=>{"use strict";var b=a.i(352584),c=a.i(15788),d=a.i(266828),e=a.i(421908),f=a.i(294565),g=a.i(264890),h=a.i(703606),i=a.i(799373),j=a.i(478870),k=a.i(105874),l=a.i(497412),m=a.i(216316);let n=a=>{window.dispatchEvent(new CustomEvent("investor-invite",{detail:a}))},o=[{id:"select",header:({table:a})=>(0,b.jsx)(d.Checkbox,{checked:a.getIsAllPageRowsSelected(),onCheckedChange:b=>a.toggleAllPageRowsSelected(!!b),"aria-label":"Select all",className:"translate-y-[2px]"}),cell:({row:a})=>(0,b.jsx)(d.Checkbox,{checked:a.getIsSelected(),onCheckedChange:b=>a.toggleSelected(!!b),"aria-label":"Select row",className:"translate-y-[2px]"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:a})=>(0,b.jsxs)(e.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Investor",(0,b.jsx)(f.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let c=a.original,d=(c.name||"U").split(" ").map(a=>a[0]).filter(Boolean).join("").substring(0,2).toUpperCase()||"U";return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.Avatar,{className:"h-8 w-8",children:(0,b.jsx)(k.AvatarFallback,{className:"bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300",children:d})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-semibold",children:c.name||"Unnamed Investor"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:c.email})]})]})}},{accessorKey:"type",header:"Type",cell:({row:a})=>(0,b.jsx)(c.Badge,{variant:"outline",className:"capitalize",children:a.getValue("type")}),filterFn:(a,b,c)=>c.includes(a.getValue(b))},{accessorKey:"kycStatus",header:({column:a})=>(0,b.jsxs)(e.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["KYC",(0,b.jsx)(f.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let d=a.getValue("kycStatus");return(0,b.jsx)(c.Badge,{className:{completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",review:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",approved:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}[d]||"bg-gray-100 text-gray-800",children:d})},filterFn:(a,b,c)=>c.includes(a.getValue(b))},{accessorKey:"totalCommitment",header:({column:a})=>(0,b.jsxs)(e.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Commitment",(0,b.jsx)(f.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let{metricsAvailable:c,totalCommitment:d,totalContributed:e}=a.original;if(!c)return(0,b.jsx)("div",{className:"text-right text-xs text-muted-foreground",children:"Pending"});let f=d>0?Math.round(e/d*100):0;return(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"font-semibold",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(d)}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[f,"% funded"]})]})},sortingFn:"basic"},{accessorKey:"vehicleCount",header:({column:a})=>(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)(e.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Vehicles",(0,b.jsx)(f.ArrowUpDown,{className:"ml-2 h-4 w-4"})]})}),cell:({row:a})=>(0,b.jsx)("div",{className:"text-center font-medium",children:a.original.metricsAvailable?a.getValue("vehicleCount"):"—"})},{accessorKey:"relationshipManager",header:"RM",cell:({row:a})=>(0,b.jsx)("div",{className:"text-sm",children:a.getValue("relationshipManager")})},{accessorKey:"riskRating",header:"Risk",cell:({row:a})=>{let d=a.getValue("riskRating");return(0,b.jsx)(c.Badge,{className:{low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}[d]||"bg-gray-100 text-gray-800",variant:"outline",children:d})},filterFn:(a,b,c)=>c.includes(a.getValue(b))},{accessorKey:"country",header:"Country",cell:({row:a})=>(0,b.jsx)("div",{className:"text-sm",children:a.getValue("country")})},{id:"users",header:"Users",cell:({row:a})=>{let c=a.original;return(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(j.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:c.users?.length||0})]})}},{id:"actions",header:()=>(0,b.jsx)("div",{className:"text-right",children:"Actions"}),cell:({row:a})=>{let c=a.original;return(0,b.jsx)("div",{className:"text-right",children:(0,b.jsxs)(m.DropdownMenu,{children:[(0,b.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,b.jsx)(h.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(m.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(m.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(m.DropdownMenuSeparator,{}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>n(c),children:[(0,b.jsx)(i.UserPlus,{className:"mr-2 h-4 w-4"}),"Invite User"]}),(0,b.jsx)(m.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(l.default,{href:`/versotech_main/investors/${c.id}`,children:[(0,b.jsx)(g.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]})})]})]})})}}];a.s(["dispatchInvestorInvite",0,n,"investorColumns",0,o])}];

//# sourceMappingURL=versotech-portal_src_components_investors_42929638._.js.map