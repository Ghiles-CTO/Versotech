{"version":3,"sources":["../../../../../versotech-portal/src/components/deals/create-deal-form.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/deals/new/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CreateDealForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreateDealForm() from the server but CreateDealForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/deals/create-deal-form.tsx\",\n    \"CreateDealForm\",\n);\n","import { createServiceClient } from '@/lib/supabase/server'\nimport { requireStaffAuth } from '@/lib/auth'\nimport { CreateDealForm } from '@/components/deals/create-deal-form'\n\nexport const dynamic = 'force-dynamic'\n\nexport default async function CreateDealPage() {\n  await requireStaffAuth()\n\n  // Use service client to bypass RLS for staff users\n  const supabase = createServiceClient()\n\n  // Fetch entities for dropdown (include arranger_entity_id for auto-population)\n  const { data: entities } = await supabase\n    .from('vehicles')\n    .select('id, name, type, currency, legal_jurisdiction, formation_date, logo_url, website_url, arranger_entity_id')\n    .order('name')\n\n  // Fetch active arranger entities for assignment\n  const { data: arrangerEntities } = await supabase\n    .from('arranger_entities')\n    .select('id, legal_name')\n    .eq('status', 'active')\n    .order('legal_name')\n\n  return (\n    <div className=\"p-6 max-w-5xl mx-auto\">\n        <CreateDealForm\n          entities={entities || []}\n          arrangerEntities={arrangerEntities || []}\n          basePath=\"/versotech/staff\"\n        />\n      </div>\n    )\n}\n"],"names":[],"mappings":"qaAEO,IAAM,EAAiB,CAAA,EAAA,AAD9B,EAAA,CAAA,CAAA,QAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,2FACA,yEAHG,IAAM,EAAiB,CAAA,EAD9B,AAC8B,EAD9B,CAAA,CAAA,QAC8B,uBAAA,AAAuB,EACjD,WAAa,MAAM,AAAI,MAAM,0OAA4O,EACzQ,uEACA,2HCLJ,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAIe,eAAe,IAC5B,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAGtB,IAAM,EAAW,CAAA,EAAA,EAAA,mBAAA,AAAmB,IAG9B,CAAE,KAAM,CAAQ,CAAE,CAAG,MAAM,EAC9B,IAAI,CAAC,YACL,MAAM,CAAC,2GACP,KAAK,CAAC,QAGH,CAAE,KAAM,CAAgB,CAAE,CAAG,MAAM,EACtC,IAAI,CAAC,qBACL,MAAM,CAAC,kBACP,EAAE,CAAC,SAAU,UACb,KAAK,CAAC,cAET,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CACb,SAAU,GAAY,EAAE,CACxB,iBAAkB,GAAoB,EAAE,CACxC,SAAS,sBAInB,kCA9BuB","ignoreList":[0]}