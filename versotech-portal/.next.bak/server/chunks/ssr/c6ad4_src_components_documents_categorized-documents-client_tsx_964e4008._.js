module.exports=[546549,a=>{"use strict";var b,c=a.i(352584),d=a.i(611038),e=a.i(714814),f=a.i(883668),g=((b={}).NDA="NDA",b.SUBSCRIPTION="Subscription",b.AGREEMENT="Agreement",b.REPORT="Report",b.STATEMENT="Statement",b.KYC="KYC",b.TAX="Tax",b.TERM_SHEET="Term Sheet",b.LEGAL="Legal",b.OTHER="Other",b),h=a.i(284169),i=a.i(663475),j=a.i(421908),k=a.i(15788),l=a.i(487068),m=a.i(166457),n=a.i(823879),o=a.i(190120),p=a.i(288387),q=a.i(947208),r=a.i(504839),s=a.i(686331),t=a.i(752907),u=a.i(675167),v=a.i(540316),w=a.i(92881),x=a.i(905219),y=a.i(951870);function z({vehicles:a,deals:b,typeCounts:e,appliedFilters:f,onChange:z}){let A="__all_vehicles__",B="__all_deals__",[C,D]=(0,d.useState)(f.search||""),[E,F]=(0,d.useState)(f.type||""),[G,H]=(0,d.useState)(f.vehicle_id??A),[I,J]=(0,d.useState)(f.deal_id??B),K=()=>{z({search:C||void 0,type:E||void 0,vehicle_id:G===A?void 0:G,deal_id:I===B?void 0:I})},L=!!(C&&C.trim()||E||G!==A||I!==B),M=[{value:g.STATEMENT,label:"Statements",icon:o.BarChart3},{value:g.REPORT,label:"Reports",icon:p.FileBarChart},{value:g.TAX,label:"Tax",icon:q.Receipt},{value:g.LEGAL,label:"Legal",icon:r.Scale},{value:g.NDA,label:"NDAs",icon:s.Lock},{value:g.SUBSCRIPTION,label:"Subscriptions",icon:t.PenTool},{value:g.AGREEMENT,label:"Agreements",icon:u.FileCheck},{value:g.TERM_SHEET,label:"Term Sheets",icon:v.ClipboardList},{value:g.KYC,label:"KYC",icon:w.UserCheck},{value:g.OTHER,label:"Other",icon:x.Folder}];return(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:M.map(a=>{let b=e[a.value]||0,d=E===a.value;return(0,c.jsxs)(k.Badge,{variant:d?"default":"outline",className:`
                cursor-pointer px-4 py-2 text-sm font-medium transition-all duration-200
                ${d?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md":"border-2 hover:border-blue-300 hover:bg-blue-50"}
              `,onClick:()=>{F(d?"":a.value),z({...f,type:d?void 0:a.value})},children:[(0,c.jsx)(a.icon,{className:"h-4 w-4 mr-1.5"}),a.label,b>0&&(0,c.jsxs)("span",{className:"ml-2 text-xs opacity-75",children:["(",b,")"]})]},a.value)})}),(0,c.jsx)(h.Card,{children:(0,c.jsxs)(h.CardContent,{className:"p-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,c.jsx)("div",{className:"lg:col-span-2",children:(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)(l.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,c.jsx)(i.Input,{placeholder:"Search documents...",value:C,onChange:a=>D(a.target.value),onKeyDown:a=>{"Enter"===a.key&&K()},className:"pl-10"})]})}),a.length>0&&(0,c.jsx)("div",{children:(0,c.jsxs)(y.Select,{value:G,onValueChange:H,children:[(0,c.jsx)(y.SelectTrigger,{children:(0,c.jsx)(y.SelectValue,{placeholder:"All vehicles"})}),(0,c.jsxs)(y.SelectContent,{children:[(0,c.jsx)(y.SelectItem,{value:A,children:"All vehicles"}),a.map(a=>(0,c.jsx)(y.SelectItem,{value:a.id,children:a.name},a.id))]})]})}),b.length>0&&(0,c.jsx)("div",{children:(0,c.jsxs)(y.Select,{value:I,onValueChange:J,children:[(0,c.jsx)(y.SelectTrigger,{children:(0,c.jsx)(y.SelectValue,{placeholder:"All deals"})}),(0,c.jsxs)(y.SelectContent,{children:[(0,c.jsx)(y.SelectItem,{value:B,children:"All deals"}),b.map(a=>(0,c.jsx)(y.SelectItem,{value:a.id,children:a.name},a.id))]})]})}),(0,c.jsxs)("div",{className:"flex gap-2 lg:col-span-4 md:col-span-2",children:[(0,c.jsxs)(j.Button,{onClick:K,className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:[(0,c.jsx)(m.Filter,{className:"h-4 w-4 mr-2"}),"Apply Filters"]}),L&&(0,c.jsxs)(j.Button,{variant:"outline",onClick:()=>{D(""),F(""),H(A),J(B),z({})},className:"border-2 hover:bg-red-50 hover:border-red-300",children:[(0,c.jsx)(n.X,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}),L&&(0,c.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t",children:[(0,c.jsx)("span",{className:"text-sm text-gray-600 font-medium",children:"Active filters:"}),E&&(0,c.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Type: ",E,(0,c.jsx)(n.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{F(""),K()}})]}),G!==A&&(0,c.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Vehicle: ",a.find(a=>a.id===G)?.name||"Unknown",(0,c.jsx)(n.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{H(A),K()}})]}),I!==B&&(0,c.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Deal: ",b.find(a=>a.id===I)?.name||"Unknown",(0,c.jsx)(n.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{J(B),K()}})]}),C&&(0,c.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Search: ",C,(0,c.jsx)(n.X,{className:"h-3 w-3 cursor-pointer hover:text-red-600",onClick:()=>{D(""),K()}})]})]})]})})]})}var A=a.i(160409),B=a.i(518173),C=a.i(975965),D=a.i(278541),E=a.i(168118),F=a.i(672606),G=a.i(816854),H=a.i(941766),I=a.i(416986),J=a.i(496392),K=a.i(871057);let L={agreements:{id:"agreements",name:"Agreements",icon:u.FileCheck,color:"blue",description:"Subscription agreements, LPAs, side letters",types:["Subscription","Agreement","subscription","agreement","subscription_pack","subscription_draft"]},statements:{id:"statements",name:"Statements",icon:o.BarChart3,color:"purple",description:"Position statements, capital calls, distributions",types:["Statement","statement","capital_call"]},ndas:{id:"ndas",name:"NDAs",icon:s.Lock,color:"amber",description:"Non-disclosure agreements",types:["NDA","nda"]},reports:{id:"reports",name:"Reports & Tax",icon:G.FileText,color:"indigo",description:"Performance reports, tax packs, investor letters",types:["Report","report","Tax","tax","memo"]}};function M(a){let b={blue:"bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700",purple:"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-700",amber:"bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-700",indigo:"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-700"};return b[a]||b.blue}function N(a){let b={blue:"text-blue-600 dark:text-blue-400",purple:"text-purple-600 dark:text-purple-400",amber:"text-amber-600 dark:text-amber-400",indigo:"text-indigo-600 dark:text-indigo-400"};return b[a]||b.blue}function O({initialDocuments:a,vehicles:b}){let[g,i]=(0,d.useState)(null),[l,m]=(0,d.useState)(new Set),[n,o]=(0,d.useState)({}),p=(0,A.useDocumentViewer)(),q=(0,d.useMemo)(()=>{let b=a.filter(a=>"kyc"!==a.type.toLowerCase()&&(!a.scope.deal||"nda"===a.type||"subscription_pack"===a.type||"subscription"===a.type));if(n.vehicle_id&&(b=b.filter(a=>a.scope.vehicle?.id===n.vehicle_id)),n.type&&(b=b.filter(a=>a.type.toLowerCase()===n.type?.toLowerCase())),n.search){let a=n.search.toLowerCase();b=b.filter(b=>b.file_name?.toLowerCase().includes(a)||b.name?.toLowerCase().includes(a))}return b},[a,n]),r=(0,d.useMemo)(()=>{let a={};return q.forEach(b=>{a[b.type]=(a[b.type]||0)+1}),a},[q]),s=(0,d.useMemo)(()=>{let a=new Map;return q.forEach(b=>{let c=b.scope.vehicle,d=c?.id??"general",e=c?.investment_name||c?.name||"General Documents",f=c?.type??null;a.has(d)||a.set(d,{id:d,name:e,type:f,vehicle:c,categories:{agreements:[],statements:[],ndas:[],reports:[]},totalDocuments:0});let g=a.get(d),h=function(a){for(let[b,c]of Object.entries(L))if(c.types.includes(a))return b;return"reports"}(b.type)??"reports";g.categories[h].push(b),g.totalDocuments++}),Array.from(a.values()).sort((a,b)=>"general"===a.id?1:"general"===b.id?-1:a.name.localeCompare(b.name))},[q]),t=q.length;if(!g)return(0,c.jsxs)("div",{className:"p-6 space-y-8",children:[(0,c.jsxs)("div",{className:"relative border-b border-border pb-8 mb-2",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900/50 dark:via-blue-900/30 dark:to-indigo-900/30 opacity-60 rounded-t-2xl"}),(0,c.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,c.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl flex items-center justify-center shadow-lg",children:(0,c.jsx)(K.Briefcase,{className:"h-6 w-6 text-white"})}),(0,c.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-gray-100 dark:to-gray-300 bg-clip-text text-transparent",children:"Investment Documents"})]}),(0,c.jsx)("p",{className:"text-lg text-muted-foreground ml-15",children:"Access documents organized by your investments"})]}),(0,c.jsxs)("div",{className:"text-right bg-background/80 backdrop-blur-sm rounded-xl px-6 py-4 shadow-sm border border-border",children:[(0,c.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Documents"}),(0,c.jsx)("p",{className:"text-3xl font-bold text-foreground mt-1",children:t})]})]})]}),(0,c.jsx)(z,{vehicles:b,deals:[],typeCounts:r,appliedFilters:n,onChange:o}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Your Investments"}),0===s.length?(0,c.jsx)(h.Card,{className:"border-2 border-border",children:(0,c.jsxs)(h.CardContent,{className:"p-12 text-center",children:[(0,c.jsx)(x.Folder,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),(0,c.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-3",children:"No documents available"}),(0,c.jsx)("p",{className:"text-muted-foreground",children:"Documents will appear here once they are uploaded by the VERSO team."})]})}):(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(a=>(0,c.jsx)(h.Card,{className:"border-2 border-border hover:border-blue-400 dark:hover:border-blue-600 hover:shadow-xl transition-all duration-300 cursor-pointer group bg-card overflow-hidden",onClick:()=>i(a.id),children:(0,c.jsxs)(h.CardContent,{className:"p-0",children:[(0,c.jsx)("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-900/50 dark:to-blue-900/30 border-b border-border",children:(0,c.jsxs)("div",{className:"flex items-start justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg group-hover:scale-105 transition-transform overflow-hidden",children:a.vehicle?.logo_url?(0,c.jsx)(e.default,{src:a.vehicle.logo_url,alt:a.name,width:56,height:56,className:"object-cover w-full h-full"}):(0,c.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center",children:(0,c.jsx)(D.Building2,{className:"h-7 w-7 text-white"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-foreground group-hover:text-blue-700 dark:group-hover:text-blue-400 transition-colors",children:a.name}),a.type&&(0,c.jsx)("p",{className:"text-sm text-muted-foreground uppercase tracking-wide mt-0.5",children:a.type})]})]}),(0,c.jsx)(F.ChevronRight,{className:"h-6 w-6 text-muted-foreground group-hover:text-blue-600 dark:group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})}),(0,c.jsxs)("div",{className:"p-6 space-y-3",children:[(0,c.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(L).map(([b,d])=>{let e=a.categories[b];if(0===e.length)return null;let f=d.icon;return(0,c.jsxs)("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg border ${M(d.color)}`,children:[(0,c.jsx)(f,{className:`h-4 w-4 ${N(d.color)}`}),(0,c.jsx)("span",{className:"text-sm font-medium",children:d.name}),(0,c.jsx)(k.Badge,{variant:"secondary",className:"ml-auto text-xs",children:e.length})]},b)})}),(0,c.jsxs)("div",{className:"pt-3 border-t border-border flex items-center justify-between",children:[(0,c.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total documents"}),(0,c.jsx)(k.Badge,{variant:"outline",className:"font-semibold border-2",children:a.totalDocuments})]})]})]})},a.id))})]}),(0,c.jsx)(h.Card,{className:"border-blue-200 dark:border-blue-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/50 dark:to-indigo-950/50 border-2",children:(0,c.jsx)(h.CardContent,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:(0,c.jsx)(J.Shield,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-bold text-blue-900 dark:text-blue-100 text-lg mb-1",children:"Document Security & Compliance"}),(0,c.jsx)("div",{className:"text-blue-700 dark:text-blue-300 leading-relaxed",children:"All documents are watermarked with your name and download timestamp. Access is logged for compliance and security purposes as required by BVI FSC and GDPR regulations. Download links expire after 15 minutes for security."})]})]})})})]});let u=s.find(a=>a.id===g);return u?(0,c.jsxs)("div",{className:"p-6 space-y-8",children:[(0,c.jsxs)("div",{className:"relative border-b border-border pb-8 mb-2",children:[(0,c.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900/50 dark:via-blue-900/30 dark:to-indigo-900/30 opacity-60 rounded-t-2xl"}),(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,c.jsxs)(j.Button,{variant:"ghost",size:"sm",onClick:()=>i(null),className:"text-muted-foreground hover:text-foreground",children:[(0,c.jsx)(I.Home,{className:"h-4 w-4 mr-2"}),"Investments"]}),(0,c.jsx)(F.ChevronRight,{className:"h-4 w-4 text-muted-foreground"}),(0,c.jsx)("span",{className:"text-sm font-medium text-foreground",children:u.name})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsxs)(j.Button,{variant:"outline",size:"lg",onClick:()=>i(null),className:"border-2",children:[(0,c.jsx)(C.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg overflow-hidden",children:u.vehicle?.logo_url?(0,c.jsx)(e.default,{src:u.vehicle.logo_url,alt:u.name,width:56,height:56,className:"object-cover w-full h-full"}):(0,c.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center",children:(0,c.jsx)(D.Building2,{className:"h-7 w-7 text-white"})})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:u.name}),u.type&&(0,c.jsx)("p",{className:"text-sm text-muted-foreground uppercase tracking-wide mt-0.5",children:u.type})]})]})]}),(0,c.jsxs)(k.Badge,{variant:"outline",className:"text-lg px-4 py-2 bg-background/80 backdrop-blur-sm border-2",children:[u.totalDocuments," document",1!==u.totalDocuments?"s":""]})]})]})]}),(0,c.jsx)("div",{className:"space-y-4",children:Object.entries(L).map(([a,b])=>{let d=u.categories[a];if(0===d.length)return null;let e=b.icon,g=l.has(a);return(0,c.jsxs)("div",{className:"border-2 border-border rounded-xl bg-card overflow-hidden shadow-sm",children:[(0,c.jsxs)("button",{onClick:()=>{let b;(b=new Set(l)).has(a)?b.delete(a):b.add(a),m(b)},className:"w-full px-6 py-4 flex items-center justify-between hover:bg-muted/50 transition-colors",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[g?(0,c.jsx)(E.ChevronDown,{className:"h-5 w-5 text-muted-foreground"}):(0,c.jsx)(F.ChevronRight,{className:"h-5 w-5 text-muted-foreground"}),(0,c.jsx)("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${M(b.color)} border`,children:g?(0,c.jsx)(H.FolderOpen,{className:`h-5 w-5 ${N(b.color)}`}):(0,c.jsx)(e,{className:`h-5 w-5 ${N(b.color)}`})}),(0,c.jsxs)("div",{className:"text-left",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:b.name}),(0,c.jsx)("p",{className:"text-sm text-muted-foreground",children:b.description})]})]}),(0,c.jsxs)(k.Badge,{variant:"outline",className:"text-sm font-semibold border-2",children:[d.length," document",1!==d.length?"s":""]})]}),g&&(0,c.jsx)("div",{className:"border-t border-border bg-muted/30",children:(0,c.jsx)("div",{className:"p-4 space-y-3",children:d.map(a=>(0,c.jsx)(f.DocumentCard,{document:a,onPreview:p.openPreview},a.id))})})]},a)})}),(0,c.jsx)(h.Card,{className:"border-blue-200 dark:border-blue-800 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/50 dark:to-indigo-950/50 border-2",children:(0,c.jsx)(h.CardContent,{className:"p-6",children:(0,c.jsxs)("div",{className:"flex items-start gap-4",children:[(0,c.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/50 rounded-xl",children:(0,c.jsx)(J.Shield,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-bold text-blue-900 dark:text-blue-100 text-lg mb-1",children:"Document Security"}),(0,c.jsx)("div",{className:"text-blue-700 dark:text-blue-300 leading-relaxed",children:"All documents are watermarked and tracked. Download links expire after 15 minutes."})]})]})})}),(0,c.jsx)(B.DocumentViewerFullscreen,{isOpen:p.isOpen,document:p.document,previewUrl:p.previewUrl,isLoading:p.isLoading,error:p.error,onClose:p.closePreview,onDownload:p.downloadDocument})]}):null}a.s(["CategorizedDocumentsClient",()=>O],546549)}];

//# sourceMappingURL=c6ad4_src_components_documents_categorized-documents-client_tsx_964e4008._.js.map