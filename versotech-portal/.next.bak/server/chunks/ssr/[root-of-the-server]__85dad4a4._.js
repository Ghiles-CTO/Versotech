module.exports=[274929,(a,b,c)=>{"use strict";b.exports=a.r(275099).vendored.contexts.HooksClientContext},530136,(a,b,c)=>{"use strict";b.exports=a.r(275099).vendored.contexts.ServerInsertedHtml},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},571370,(a,b,c)=>{"use strict";b.exports=a.r(275099).vendored.contexts.AppRouterContext},257264,(a,b,c)=>{"use strict";b.exports=a.r(275099).vendored["react-ssr"].ReactServerDOMTurbopackClient},491433,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},441664,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},NOT_FOUND_SEGMENT_KEY:function(){return m},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__",m="/_not-found"},990472,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(611038);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},964064,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},264890,a=>{"use strict";let b=(0,a.i(95799).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],264890)},835858,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(345711),g=a.r(105931),h=a.r(149883),i=f._(a.r(996444));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},714814,(a,b,c)=>{b.exports=a.r(835858)},976839,a=>{"use strict";var b=a.i(58834);let c=["supabase","sb-","auth","supabase.auth.token"];class d{static instance;isInitialized=!1;static getInstance(){return d.instance||(d.instance=new d),d.instance}init(){this.isInitialized}clearAuthCookies(){if("undefined"==typeof document)return;let a=document.cookie.split(";"),b=[];a.forEach(a=>{let d=a.split("=")[0].trim();c.some(a=>d.includes(a))&&b.push(d)}),b.forEach(a=>{let b=[window.location.hostname,`.${window.location.hostname}`,""];["/","/versoholdings","/versotech","/versotech_main"].forEach(c=>{b.forEach(b=>{let d=b?`domain=${b};`:"";document.cookie=`${a}=; ${d}path=${c}; expires=Thu, 01 Jan 1970 00:00:00 GMT; max-age=0`})})}),console.info("[auth-session] Cleared auth cookies:",b)}clearAllAuthData(){}forceSignOut(){}handleStorageChange=a=>{a.key&&c.some(b=>a.key?.includes(b))&&null===a.newValue&&(console.info("[auth-session] Auth state cleared in another tab, redirecting to login"),window.location.href="/versotech_main/login?error=signed_out")};markAuthenticated(){}getDebugInfo(){return{error:"Not in browser"}}}let e=d.getInstance(),f=async a=>{if(console.log("[auth] syncBrowserSession called, session provided:",!!a),!a)return console.log("[auth] No session to sync, returning true"),!0;let c=(0,b.createClient)();console.log("[auth] Calling supabase.auth.setSession...");let{data:d,error:e}=await c.auth.setSession({access_token:a.access_token,refresh_token:a.refresh_token});return e?(console.error("[auth] Client session sync failed:",e),!1):(console.log("[auth] Session synced successfully, user:",d?.user?.email),!0)};class g extends Error{code;constructor(a,b){super(a),this.code=b,this.name="AuthError"}}let h=async(a,c,d="investor")=>{try{console.log("[auth-client] Clearing all auth data before sign-in..."),e.clearAllAuthData(),(0,b.resetClient)(),await new Promise(a=>setTimeout(a,100));let h=await fetch("/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:c,portal:d})}),i=await h.json().catch(()=>({}));if(!h.ok||!i.success){let a="string"==typeof i.error&&i.error.trim()?i.error:"Authentication failed. Please check your credentials.";throw new g(a)}if(!await f(i.session?{access_token:i.session.access_token,refresh_token:i.session.refresh_token}:void 0))throw new g("Unable to establish session. Please try again.");return e.markAuthenticated(),i}catch(a){if(a instanceof g)throw a;throw console.error("Sign in failed:",a),new g("Sign in failed. Please check your credentials.")}},i=async()=>{let a=(0,b.createClient)(),c=null;try{let{error:b}=await a.auth.signOut();b&&(console.error("[auth] Supabase signOut error:",b),c=b)}catch(a){console.error("[auth] Sign out error:",a),c=a}finally{}if(c)throw new g("Sign out failed. Please try again.")},j=async a=>{try{let b=await fetch("/api/auth/request-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),c=await b.json();if(!b.ok){let a=c.detail?`${c.error} (${c.detail})`:c.error||"Password reset failed. Please try again.";throw new g(a)}return{success:!0,message:c.message}}catch(a){if(a instanceof g)throw a;throw new g("Password reset failed. Please try again.")}},k=async a=>{let c=(0,b.createClient)();try{let{error:b}=await c.auth.updateUser({password:a});if(b)throw new g(b.message,b.message)}catch(a){if(a instanceof g)throw a;throw new g("Password update failed. Please try again.")}};a.s(["AuthError",()=>g,"resetPassword",0,j,"signIn",0,h,"signOut",0,i,"updatePassword",0,k],976839)},686331,a=>{"use strict";let b=(0,a.i(95799).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],686331)},575661,a=>{"use strict";let b=(0,a.i(95799).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],575661)},398487,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(284169),f=a.i(421908),g=a.i(663475),h=a.i(249464),i=a.i(976839),j=a.i(3321),k=a.i(264890),l=a.i(575661),m=a.i(686331),n=a.i(497412),o=a.i(714814);function p(){(0,d.useRouter)();let a=(0,d.useSearchParams)(),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=a.get("error"),c=a.get("message");if(b){let a="Authentication error occurred";switch(b){case"session_expired":a="Your session has expired. Please sign in again.";break;case"profile_not_found":a="User profile not found. Please contact support.";break;case"auth_failed":a="Authentication failed. Please try again.";break;case"auth_required":a="Please sign in to continue.";break;case"session_not_found":a="Session not found. Please try your invitation link again or contact support.";break;case"no_personas":a="No access configured. Please contact your administrator.";break;case"link_expired":a="This link has expired. Please request a new password reset.";break;case"access_denied":a="Access denied. The link may be invalid or already used.";break;default:a="An error occurred. Please try again."}y({type:"error",text:a})}else"password_set"===c?y({type:"success",text:"Password set successfully! Please sign in with your new credentials."}):"password_reset"===c?y({type:"success",text:"Password reset successfully! Please sign in with your new password."}):"signed_out"===c&&y({type:"info",text:"You have been signed out."})},[a]);let z=async b=>{b.preventDefault(),w(!0),y(null);try{console.log("[login] Attempting sign in for:",p);let b=await (0,i.signIn)(p,r,"investor");if(console.log("[login] SignIn result:",JSON.stringify(b,null,2)),b?.success){let b=a.get("redirect"),c=b&&b.startsWith("/")?decodeURIComponent(b):"/versotech_main/dashboard";console.log("[login] Redirecting to:",c),window.location.href=c;return}console.error("[login] SignIn returned without success:",b),y({type:"error",text:b?.error||"Sign in failed. Please try again."})}catch(a){console.error("[login] SignIn error:",a),a instanceof i.AuthError?y({type:"error",text:a.message}):y({type:"error",text:"Authentication failed. Please try again."})}finally{w(!1)}};return(0,b.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#050505] p-4 font-sans text-zinc-100",children:(0,b.jsxs)("div",{className:"w-full max-w-md space-y-8 animate-in fade-in zoom-in-95 duration-700",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsx)("div",{className:"relative w-48 h-16",children:(0,b.jsx)(o.default,{src:"/versotech-logo.jpg",alt:"VERSO",fill:!0,className:"object-contain invert",priority:!0})})}),(0,b.jsx)("h1",{className:"text-3xl font-light tracking-tight text-white sr-only",children:"VERSO"})]}),(0,b.jsx)(e.Card,{className:"bg-zinc-900/50 border-white/5 backdrop-blur-sm shadow-2xl shadow-black",children:(0,b.jsxs)(e.CardContent,{className:"p-8 space-y-6",children:[x&&(0,b.jsx)("div",{className:`p-3 rounded-md text-sm font-medium border ${"error"===x.type?"bg-red-900/20 border-red-900/50 text-red-400":"success"===x.type?"bg-emerald-900/20 border-emerald-900/50 text-emerald-400":"bg-blue-900/20 border-blue-900/50 text-blue-400"}`,children:x.text}),(0,b.jsxs)("form",{onSubmit:z,className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(h.Label,{className:"text-xs font-semibold text-zinc-500 uppercase",children:"Email Address"}),(0,b.jsx)(g.Input,{type:"email",placeholder:"name@example.com",className:"h-11 bg-black/50 border-white/10 text-white placeholder:text-zinc-700 focus:border-white/30 focus:ring-0 transition-all",value:p,onChange:a=>q(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(h.Label,{className:"text-xs font-semibold text-zinc-500 uppercase",children:"Password"}),(0,b.jsx)(n.default,{href:"/versotech_main/reset-password",className:"text-xs text-zinc-500 hover:text-white transition-colors",children:"Forgot Password?"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Input,{type:t?"text":"password",placeholder:"••••••••",className:"h-11 bg-black/50 border-white/10 text-white placeholder:text-zinc-700 focus:border-white/30 focus:ring-0 transition-all pr-10",value:r,onChange:a=>s(a.target.value),required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>u(!t),className:"absolute right-3 top-3 text-zinc-600 hover:text-white transition-colors",children:t?(0,b.jsx)(l.EyeOff,{className:"h-5 w-5"}):(0,b.jsx)(k.Eye,{className:"h-5 w-5"})})]})]}),(0,b.jsx)(f.Button,{type:"submit",disabled:v,className:"w-full h-12 bg-white hover:bg-zinc-200 text-black font-medium tracking-wide transition-all mt-4",children:v?(0,b.jsx)(j.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Lock,{className:"w-4 h-4"})," SIGN IN"]})})]}),(0,b.jsx)("div",{className:"text-center pt-2",children:(0,b.jsxs)("p",{className:"text-sm text-zinc-400",children:["Request Access: Please contact us at"," ",(0,b.jsx)("a",{href:"mailto:contact@versotech.com",className:"text-white hover:text-zinc-300 underline underline-offset-2 transition-colors",children:"contact@versotech.com"})]})})]})})]})})}function q(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center",children:(0,b.jsx)(j.Loader2,{className:"h-8 w-8 animate-spin text-white"})}),children:(0,b.jsx)(p,{})})}a.s(["default",()=>q])},142368,a=>{a.v(a=>Promise.resolve().then(()=>a(648232)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__85dad4a4._.js.map