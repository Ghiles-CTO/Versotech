module.exports=[982291,a=>{"use strict";var b=a.i(352584),c=a.i(284169),d=a.i(421908),e=a.i(15788),f=a.i(181608),g=a.i(497412),h=a.i(975965),i=a.i(439467),j=a.i(231276),k=a.i(806640),l=a.i(278541),m=a.i(724070),n=a.i(816854),o=a.i(90516),p=a.i(478870),q=a.i(787957),r=a.i(496392),s=a.i(871057),t=a.i(155508),u=a.i(405398),v=a.i(799373),w=a.i(318525),x=a.i(618287),y=a.i(675167),z=a.i(325866),A=a.i(611038),B=a.i(289633),C=a.i(872287),D=a.i(326486),E=a.i(162477);a.i(73475);var F=a.i(493469),G=a.i(108284),H=a.i(108868),I=a.i(470305),J=a.i(663475),K=a.i(249464),L=a.i(191675),M=a.i(951870),N=a.i(899750);let O=[{label:"Entity",value:"entity"},{label:"Individual",value:"individual"}],P=[{label:"Co-Investor",value:"co-investor"},{label:"Syndicate Lead",value:"syndicate-lead"},{label:"Family Office",value:"family-office"},{label:"Other",value:"other"}],Q=[{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Inactive",value:"inactive"}],R=[{label:"Draft",value:"draft"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Expired",value:"expired"},{label:"Rejected",value:"rejected"}],S=["Technology","Healthcare","Real Estate","Energy","Finance","Consumer","Industrial","Infrastructure"];function T({open:a,onOpenChange:c,partner:e}){let f=(0,B.useRouter)(),[g,h]=(0,A.useTransition)(),[i,j]=(0,A.useState)(e.name),[k,l]=(0,A.useState)(e.legal_name||""),[m,n]=(0,A.useState)(e.type),[o,p]=(0,A.useState)(e.partner_type),[q,r]=(0,A.useState)(e.status),[s,t]=(0,A.useState)(e.contact_name||""),[u,v]=(0,A.useState)(e.contact_email||""),[w,x]=(0,A.useState)(e.contact_phone||""),[y,z]=(0,A.useState)(e.website||""),[C,D]=(0,A.useState)(e.address_line_1||""),[E,F]=(0,A.useState)(e.address_line_2||""),[G,H]=(0,A.useState)(e.city||""),[T,U]=(0,A.useState)(e.postal_code||""),[V,W]=(0,A.useState)(e.country||""),[X,Y]=(0,A.useState)(e.typical_investment_min||""),[Z,$]=(0,A.useState)(e.typical_investment_max||""),[_,aa]=(0,A.useState)(e.preferred_sectors||[]),[ab,ac]=(0,A.useState)(e.notes||""),[ad,ae]=(0,A.useState)(e.kyc_status||"draft"),[af,ag]=(0,A.useState)(e.kyc_notes||"");return(0,A.useEffect)(()=>{a&&(j(e.name),l(e.legal_name||""),n(e.type),p(e.partner_type),r(e.status),t(e.contact_name||""),v(e.contact_email||""),x(e.contact_phone||""),z(e.website||""),D(e.address_line_1||""),F(e.address_line_2||""),H(e.city||""),U(e.postal_code||""),W(e.country||""),Y(e.typical_investment_min||""),$(e.typical_investment_max||""),aa(e.preferred_sectors||[]),ac(e.notes||""),ae(e.kyc_status||"draft"),ag(e.kyc_notes||""))},[a,e]),(0,b.jsx)(I.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(I.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(I.DialogHeader,{children:[(0,b.jsx)(I.DialogTitle,{children:"Edit Partner"}),(0,b.jsxs)(I.DialogDescription,{children:["Update information for ",e.name]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(J.Input,{id:"name",value:i,onChange:a=>j(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(J.Input,{id:"legalName",value:k,onChange:a=>l(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{children:"Entity Type"}),(0,b.jsxs)(M.Select,{value:m,onValueChange:n,children:[(0,b.jsx)(M.SelectTrigger,{children:(0,b.jsx)(M.SelectValue,{})}),(0,b.jsx)(M.SelectContent,{children:O.map(a=>(0,b.jsx)(M.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{children:"Partner Type"}),(0,b.jsxs)(M.Select,{value:o,onValueChange:p,children:[(0,b.jsx)(M.SelectTrigger,{children:(0,b.jsx)(M.SelectValue,{})}),(0,b.jsx)(M.SelectContent,{children:P.map(a=>(0,b.jsx)(M.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{children:"Status"}),(0,b.jsxs)(M.Select,{value:q,onValueChange:r,children:[(0,b.jsx)(M.SelectTrigger,{children:(0,b.jsx)(M.SelectValue,{})}),(0,b.jsx)(M.SelectContent,{children:Q.map(a=>(0,b.jsx)(M.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"contactName",children:"Contact Name"}),(0,b.jsx)(J.Input,{id:"contactName",value:s,onChange:a=>t(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"contactEmail",children:"Email"}),(0,b.jsx)(J.Input,{id:"contactEmail",type:"email",value:u,onChange:a=>v(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"contactPhone",children:"Phone"}),(0,b.jsx)(J.Input,{id:"contactPhone",value:w,onChange:a=>x(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"website",children:"Website"}),(0,b.jsx)(J.Input,{id:"website",value:y,onChange:a=>z(a.target.value),placeholder:"https://"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Address"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"addressLine1",children:"Address Line 1"}),(0,b.jsx)(J.Input,{id:"addressLine1",value:C,onChange:a=>D(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"addressLine2",children:"Address Line 2"}),(0,b.jsx)(J.Input,{id:"addressLine2",value:E,onChange:a=>F(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(J.Input,{id:"city",value:G,onChange:a=>H(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"postalCode",children:"Postal Code"}),(0,b.jsx)(J.Input,{id:"postalCode",value:T,onChange:a=>U(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"country",children:"Country"}),(0,b.jsx)(J.Input,{id:"country",value:V,onChange:a=>W(a.target.value)})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Investment Profile"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"investmentMin",children:"Min Investment ($)"}),(0,b.jsx)(J.Input,{id:"investmentMin",type:"number",min:0,value:X,onChange:a=>Y(""===a.target.value?"":Number(a.target.value))})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"investmentMax",children:"Max Investment ($)"}),(0,b.jsx)(J.Input,{id:"investmentMax",type:"number",min:0,value:Z,onChange:a=>$(""===a.target.value?"":Number(a.target.value))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(K.Label,{className:"mb-3 block",children:"Preferred Sectors"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{aa(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:`px-3 py-1 text-xs rounded-full border transition-colors ${_.includes(a)?"bg-primary text-primary-foreground border-primary":"bg-transparent text-muted-foreground border-white/20 hover:border-white/40"}`,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"KYC Status"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{children:"KYC Status"}),(0,b.jsxs)(M.Select,{value:ad,onValueChange:ae,children:[(0,b.jsx)(M.SelectTrigger,{children:(0,b.jsx)(M.SelectValue,{})}),(0,b.jsx)(M.SelectContent,{children:R.map(a=>(0,b.jsx)(M.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"kycNotes",children:"KYC Notes"}),(0,b.jsx)(L.Textarea,{id:"kycNotes",value:af,onChange:a=>ag(a.target.value),rows:2})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(K.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(L.Textarea,{id:"notes",value:ab,onChange:a=>ac(a.target.value),rows:3})]})]}),(0,b.jsxs)(I.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>c(!1),disabled:g,children:"Cancel"}),(0,b.jsx)(d.Button,{onClick:()=>{h(async()=>{if(!i.trim())return void N.toast.error("Partner name is required");try{let a=await fetch(`/api/admin/partners/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.trim(),legal_name:k.trim()||null,type:m,partner_type:o,status:q,contact_name:s.trim()||null,contact_email:u.trim()||null,contact_phone:w.trim()||null,website:y.trim()||null,address_line_1:C.trim()||null,address_line_2:E.trim()||null,city:G.trim()||null,postal_code:T.trim()||null,country:V.trim()||null,typical_investment_min:""===X?null:Number(X),typical_investment_max:""===Z?null:Number(Z),preferred_sectors:_.length>0?_:null,notes:ab.trim()||null,kyc_status:ad,kyc_notes:af.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);console.error("[EditPartnerDialog] Failed to update partner:",b),N.toast.error(b?.error??"Failed to update partner");return}N.toast.success("Partner updated successfully"),c(!1),f.refresh()}catch(a){console.error("[EditPartnerDialog] Error:",a),N.toast.error("Failed to update partner")}})},disabled:g,children:g?"Saving...":"Save Changes"})]})]})})}var U=a.i(3321),V=a.i(877918),W=a.i(399580),X=a.i(50828),Y=a.i(888987);function Z({open:a,onOpenChange:c,partnerId:f,partnerName:g,feePlans:h}){let i=(0,B.useRouter)(),[j,k]=(0,A.useState)(!1),[l,m]=(0,A.useState)(null),[n,o]=(0,A.useState)(""),[q,r]=(0,A.useState)(""),[t,u]=(0,A.useState)(null),[v,w]=(0,A.useState)([]),[x,z]=(0,A.useState)(!1),[C,D]=(0,A.useState)(""),E=(0,A.useMemo)(()=>h.filter(a=>"accepted"===a.status&&a.is_active&&null!==a.deal),[h]),F=(0,A.useMemo)(()=>E.reduce((a,b)=>(b.deal&&!a.find(a=>a.id===b.deal.id)&&a.push(b.deal),a),[]),[E]),G=(0,A.useMemo)(()=>n?E.filter(a=>a.deal?.id===n):[],[n,E]);(0,A.useEffect)(()=>{a||(o(""),r(""),u(null),w([]),D(""),m(null))},[a]),(0,A.useEffect)(()=>{r(""),u(null),w([]),D(""),1===G.length&&(r(G[0].id),u(G[0]))},[n]),(0,A.useEffect)(()=>{if(!q){u(null),w([]),D("");return}u(E.find(a=>a.id===q)||null)},[q,E]),(0,A.useEffect)(()=>{let a=t?.deal?.id,b=t?.term_sheet?.id;if(!a||!b){w([]),D("");return}let c=new AbortController;return(async()=>{z(!0),w([]),D("");try{let d=await fetch(`/api/deals/${a}/linkable-investors?term_sheet_id=${b}`,{signal:c.signal});if(d.ok){let a=await d.json();w(a.investors||[])}else console.error("Failed to fetch linkable investors:",d.status,d.statusText),w([])}catch(a){a instanceof Error&&"AbortError"!==a.name&&console.error("Failed to fetch linkable investors:",a)}finally{c.signal.aborted||z(!1)}})(),()=>c.abort()},[t]);let H=async()=>{if(!t||!C)return void m("Please complete all selections");if(!t.deal?.id)return void m("Invalid fee plan selected - missing deal information");k(!0),m(null);try{let a=await fetch(`/api/deals/${t.deal.id}/members/${C}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({referred_by_entity_id:f,referred_by_entity_type:"partner",assigned_fee_plan_id:q,role:"partner_investor"})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to link investor to partner")}N.toast.success("Investor successfully linked to partner"),c(!1),i.refresh()}catch(a){a instanceof Error?m(a.message):m("An unexpected error occurred")}finally{k(!1)}},J=n&&q&&C;return(0,b.jsx)(I.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(I.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(I.DialogHeader,{children:[(0,b.jsxs)(I.DialogTitle,{children:["Dispatch Investor for ",g]}),(0,b.jsx)(I.DialogDescription,{children:"Link an investor to this partner using an accepted fee plan"})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[0===E.length?(0,b.jsx)("div",{className:"p-4 rounded-lg border border-amber-500/30 bg-amber-500/5",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(V.AlertCircle,{className:"h-5 w-5 text-amber-400 mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-amber-300",children:"No accepted fee plans"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[g," has no accepted fee plans. Create and send a fee plan from a deal first, then have the partner accept it."]})]})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(K.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium",children:"1"}),"Select Deal"]}),(0,b.jsxs)(M.Select,{value:n,onValueChange:o,children:[(0,b.jsx)(M.SelectTrigger,{className:(0,Y.cn)(n&&"border-primary/50"),children:(0,b.jsx)(M.SelectValue,{placeholder:"Select a deal"})}),(0,b.jsx)(M.SelectContent,{children:F.map(a=>(0,b.jsx)(M.SelectItem,{value:a.id,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(s.Briefcase,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.name})]})},a.id))})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Only deals with accepted fee plans are shown"})]}),n&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(K.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium",children:"2"}),"Select Fee Plan"]}),1===G.length?(0,b.jsx)("div",{className:"p-3 rounded-lg bg-muted/50 border border-primary/30",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(y.FileCheck,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:G[0].name}),G[0].term_sheet&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Term Sheet v",G[0].term_sheet.version]})]}),(0,b.jsx)(e.Badge,{className:"ml-auto bg-green-500/20 text-green-400",children:"Accepted"})]})}):(0,b.jsxs)(M.Select,{value:q,onValueChange:r,children:[(0,b.jsx)(M.SelectTrigger,{className:(0,Y.cn)(q&&"border-primary/50"),children:(0,b.jsx)(M.SelectValue,{placeholder:"Select a fee plan"})}),(0,b.jsx)(M.SelectContent,{children:G.map(a=>(0,b.jsx)(M.SelectItem,{value:a.id,children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"font-medium",children:a.name}),a.term_sheet&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Term Sheet v",a.term_sheet.version]})]})},a.id))})]})]}),t&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(K.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium",children:"3"}),"Select Investor"]}),x?(0,b.jsxs)("div",{className:"flex items-center gap-2 py-3",children:[(0,b.jsx)(U.Loader2,{className:"h-4 w-4 animate-spin text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading eligible investors..."})]}):0===v.length?(0,b.jsx)("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(V.AlertCircle,{className:"h-4 w-4 text-blue-400 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-300",children:"No eligible investors"}),(0,b.jsx)("p",{className:"text-xs text-blue-300/80 mt-1",children:"No investors on this term sheet are available. They may already be linked to a partner or introducer."})]})]})}):(0,b.jsxs)(M.Select,{value:C,onValueChange:D,children:[(0,b.jsx)(M.SelectTrigger,{className:(0,Y.cn)(C&&"border-primary/50"),children:(0,b.jsx)(M.SelectValue,{placeholder:"Select an investor"})}),(0,b.jsx)(M.SelectContent,{children:v.map(a=>(0,b.jsx)(M.SelectItem,{value:a.user_id,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{children:a.display_name}),a.email&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.email})]})]})},a.user_id))})]})]}),J&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(W.CheckCircle2,{className:"h-5 w-5 text-emerald-400 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-emerald-300 font-medium",children:"Ready to dispatch"}),(0,b.jsxs)("p",{className:"text-emerald-300/80 text-xs mt-1",children:["The selected investor will be linked to ",(0,b.jsx)("strong",{children:g})," using the ",(0,b.jsx)("strong",{children:t?.name})," fee plan."]})]})]})})]}),l&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-destructive/10 text-destructive text-sm",children:l}),(0,b.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>c(!1),disabled:j,children:"Cancel"}),(0,b.jsx)(d.Button,{onClick:H,disabled:j||!J||0===E.length,className:"gap-2",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(U.Loader2,{className:"h-4 w-4 animate-spin"}),"Linking..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(X.ArrowRight,{className:"h-4 w-4"}),"Dispatch Investor"]})})]})]})]})})}var $=a.i(698004),_=a.i(201986),aa=a.i(310702);function ab({partner:a,metrics:I}){let J=(0,B.useRouter)(),[K,L]=(0,A.useState)(!1),[M,N]=(0,A.useState)(!1),[O,P]=(0,A.useState)(!1),[Q,R]=(0,A.useState)(!1),[S,U]=(0,A.useState)([]),[V,W]=(0,A.useState)(!1),[X,Y]=(0,A.useState)([]),[ab,ac]=(0,A.useState)(!1),ad=(0,A.useCallback)(async()=>{W(!0);try{let b=await fetch(`/api/partners/${a.id}/fee-plans`);if(b.ok){let a=await b.json();U(a.fee_plans||[])}}catch(a){console.error("Error fetching fee plans:",a)}finally{W(!1)}},[a.id]),ae=(0,A.useCallback)(async()=>{ac(!0);try{let b=await fetch(`/api/partners/${a.id}/referred-investors`);if(b.ok){let a=await b.json();Y(a.referred_investors||[])}}catch(a){console.error("Error fetching referred investors:",a)}finally{ac(!1)}},[a.id]);(0,A.useEffect)(()=>{ad(),ae()},[ad,ae]);let af={draft:"bg-slate-500/20 text-slate-400",sent:"bg-blue-500/20 text-blue-400",pending_signature:"bg-purple-500/20 text-purple-400",accepted:"bg-green-500/20 text-green-400",rejected:"bg-red-500/20 text-red-400"},ag={"co-investor":"Co-Investor","syndicate-lead":"Syndicate Lead","family-office":"Family Office",other:"Other"},ah=()=>[a.address_line_1,a.address_line_2,a.city,a.postal_code,a.country].filter(Boolean).join(", ");return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.default,{href:"/versotech_main/users",children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"sm",className:"bg-gray-800 text-white hover:bg-gray-700",children:[(0,b.jsx)(h.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Users"]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"h-10 w-10 rounded-full object-cover"}):(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:(0,b.jsx)(s.Briefcase,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[ag[a.partner_type]||a.partner_type,a.country&&` • ${a.country}`]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[(0,b.jsx)(v.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite User"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[(0,b.jsx)(u.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(d.Button,{variant:"default",size:"sm",onClick:()=>R(!0),children:[(0,b.jsx)(v.UserPlus,{className:"h-4 w-4 mr-2"}),"Dispatch Investor"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(e.Badge,{className:(0,aa.getStatusStyle)(a.status,aa.statusStyles),children:a.status}),(0,b.jsxs)(e.Badge,{className:(0,aa.getStatusStyle)(a.kyc_status,aa.kycStyles),children:["KYC: ",a.kyc_status||"draft"]}),(0,b.jsx)(e.Badge,{variant:"outline",children:"entity"===a.type?"Entity":"Individual"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{className:"pb-3",children:(0,b.jsxs)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(t.DollarSign,{className:"h-4 w-4"}),"Investment Range"]})}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-foreground",children:a.typical_investment_min&&a.typical_investment_max?(0,b.jsxs)(b.Fragment,{children:[(0,_.formatCurrency)(a.typical_investment_min)," - ",(0,_.formatCurrency)(a.typical_investment_max)]}):"-"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Typical investment"})]})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{className:"pb-3",children:(0,b.jsxs)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(n.FileText,{className:"h-4 w-4"}),"Documents"]})}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-foreground",children:I.documentCount}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Uploaded"})]})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{className:"pb-3",children:(0,b.jsxs)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(m.Calendar,{className:"h-4 w-4"}),"Created"]})}),(0,b.jsxs)(c.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-foreground",children:a.created_at?(0,_.formatDate)(a.created_at):"-"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Registration date"})]})]})]}),(0,b.jsxs)(f.Tabs,{defaultValue:"overview",className:"space-y-6",id:`partner-tabs-${a.id}`,children:[(0,b.jsxs)(f.TabsList,{className:"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 lg:w-auto lg:inline-grid",children:[(0,b.jsxs)(f.TabsTrigger,{value:"overview",className:"gap-2",children:[(0,b.jsx)(s.Briefcase,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Overview"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"members",className:"gap-2",children:[(0,b.jsx)(z.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Members"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"fee-plans",className:"gap-2",children:[(0,b.jsx)(y.FileCheck,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Fee Plans"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"referred-investors",className:"gap-2",children:[(0,b.jsx)(p.Users,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Investors"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"kyc",className:"gap-2",children:[(0,b.jsx)(r.Shield,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"KYC"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"bank",className:"gap-2",children:[(0,b.jsx)(o.Banknote,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Bank"})]}),(0,b.jsxs)(f.TabsTrigger,{value:"activity",className:"gap-2",children:[(0,b.jsx)(q.Activity,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Activity"})]})]}),(0,b.jsxs)(f.TabsContent,{value:"overview",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{children:"Contact Information"})}),(0,b.jsxs)(c.CardContent,{className:"space-y-4",children:[a.contact_name&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Primary Contact"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.contact_name})]})]}),a.contact_email&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Email"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.contact_email})]})]}),a.contact_phone&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.contact_phone})]})]}),a.website&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(w.Globe,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Website"}),(0,b.jsxs)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline flex items-center gap-1",children:[a.website,(0,b.jsx)(x.ExternalLink,{className:"h-3 w-3"})]})]})]}),ah()&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.MapPin,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Address"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:ah()})]})]}),!a.contact_name&&!a.contact_email&&!ah()&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No contact information available"})]})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{children:"Partner Details"})}),(0,b.jsxs)(c.CardContent,{className:"space-y-4",children:[a.legal_name&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Legal Name"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.legal_name})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Briefcase,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Partner Type"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:ag[a.partner_type]||a.partner_type})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Building2,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Entity Type"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:"entity"===a.type?"Entity":"Individual"})]})]}),a.accreditation_status&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(r.Shield,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Accreditation"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.accreditation_status})]})]})]})]})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{children:"Investment Preferences"})}),(0,b.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Investment Range"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:a.typical_investment_min&&a.typical_investment_max?(0,b.jsxs)(b.Fragment,{children:[(0,_.formatCurrency)(a.typical_investment_min)," - ",(0,_.formatCurrency)(a.typical_investment_max)]}):"Not specified"})]})}),a.preferred_sectors&&a.preferred_sectors.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Preferred Sectors"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.preferred_sectors.map(a=>(0,b.jsx)(e.Badge,{variant:"outline",children:a},a))})]}),a.preferred_geographies&&a.preferred_geographies.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Preferred Geographies"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.preferred_geographies.map(a=>(0,b.jsx)(e.Badge,{variant:"outline",children:a},a))})]}),a.notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Notes"}),(0,b.jsx)("div",{className:"text-sm bg-white/5 rounded-lg p-3",children:a.notes})]})]})]}),(0,b.jsxs)(c.Card,{children:[(0,b.jsx)(c.CardHeader,{children:(0,b.jsx)(c.CardTitle,{children:"KYC Status"})}),(0,b.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Status"}),(0,b.jsx)(e.Badge,{className:(0,aa.getStatusStyle)(a.kyc_status,aa.kycStyles),children:a.kyc_status||"draft"})]}),a.kyc_approved_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Approved At"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:(0,_.formatDate)(a.kyc_approved_at)})]}),a.kyc_expires_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:"Expires At"}),(0,b.jsx)("div",{className:"text-sm font-medium",children:(0,_.formatDate)(a.kyc_expires_at)})]})]}),a.kyc_notes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Notes"}),(0,b.jsx)("div",{className:"text-sm bg-white/5 rounded-lg p-3",children:a.kyc_notes})]})]})]}),"individual"===a.type&&(0,b.jsx)(F.IndividualKycDisplay,{data:{first_name:a.first_name,middle_name:a.middle_name,last_name:a.last_name,name_suffix:a.name_suffix,date_of_birth:a.date_of_birth,country_of_birth:a.country_of_birth,nationality:a.nationality,email:a.contact_email,phone_mobile:a.phone_mobile,phone_office:a.phone_office,residential_street:a.residential_street,residential_line_2:a.residential_line_2,residential_city:a.residential_city,residential_state:a.residential_state,residential_postal_code:a.residential_postal_code,residential_country:a.residential_country,is_us_citizen:a.is_us_citizen,is_us_taxpayer:a.is_us_taxpayer,us_taxpayer_id:a.us_taxpayer_id,country_of_tax_residency:a.country_of_tax_residency,id_type:a.id_type,id_number:a.id_number,id_issue_date:a.id_issue_date,id_expiry_date:a.id_expiry_date,id_issuing_country:a.id_issuing_country,middle_initial:a.middle_initial,proof_of_address_date:a.proof_of_address_date,proof_of_address_expiry:a.proof_of_address_expiry,tax_id_number:a.tax_id_number},showEditButton:!0,onEdit:()=>P(!0),title:"Personal KYC Information"})]}),(0,b.jsx)(f.TabsContent,{value:"members",children:(0,b.jsx)(H.StaffEntityMembersTab,{entityType:"partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(f.TabsContent,{value:"fee-plans",children:(0,b.jsxs)(c.Card,{children:[(0,b.jsxs)(c.CardHeader,{children:[(0,b.jsx)(c.CardTitle,{children:"Fee Plans"}),(0,b.jsxs)(c.CardDescription,{children:["All fee plans linked to ",a.name," across deals"]})]}),(0,b.jsx)(c.CardContent,{children:V?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===S.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 mb-4",children:(0,b.jsx)(y.FileCheck,{className:"h-10 w-10 text-blue-400/60"})}),(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"No fee plans yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Fee plans will appear here when created from deals"})]}):(0,b.jsx)("div",{className:"space-y-3",children:S.map(a=>(0,b.jsxs)("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all cursor-pointer",onClick:()=>a.deal?.id&&J.push(`/versotech_main/deals/${a.deal.id}?tab=fees`),children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`p-2.5 rounded-lg ${"accepted"===a.status?"bg-green-500/20":"bg-slate-500/20"}`,children:(0,b.jsx)(y.FileCheck,{className:`h-5 w-5 ${"accepted"===a.status?"text-green-400":"text-slate-400"}`})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-foreground",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-0.5",children:[(0,b.jsx)(s.Briefcase,{className:"h-3 w-3"}),a.deal?.name||"Unknown Deal",a.term_sheet&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground/70",children:["• Term Sheet v",a.term_sheet.version]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.investor_count>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(p.Users,{className:"h-4 w-4"}),a.investor_count]}),(0,b.jsx)(e.Badge,{className:af[a.status]||"bg-gray-500/20 text-gray-400",children:a.status}),(0,b.jsx)(x.ExternalLink,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]},a.id))})})]})}),(0,b.jsx)(f.TabsContent,{value:"referred-investors",children:(0,b.jsxs)(c.Card,{children:[(0,b.jsxs)(c.CardHeader,{children:[(0,b.jsx)(c.CardTitle,{children:"Referred Investors"}),(0,b.jsxs)(c.CardDescription,{children:["Investors dispatched through ",a.name]})]}),(0,b.jsx)(c.CardContent,{children:ab?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===X.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 mb-4",children:(0,b.jsx)(p.Users,{className:"h-10 w-10 text-purple-400/60"})}),(0,b.jsx)("p",{className:"text-muted-foreground mb-1",children:"No referred investors yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Investors dispatched through this partner will appear here"})]}):(0,b.jsx)("div",{className:"space-y-3",children:X.map(a=>(0,b.jsxs)("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all cursor-pointer",onClick:()=>{a.deal?.id?J.push(`/versotech_main/deals/${a.deal.id}?tab=members`):a.investor?.id&&J.push(`/versotech_main/investors/${a.investor.id}`)},children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-2.5 rounded-lg bg-purple-500/20",children:(0,b.jsx)(z.User,{className:"h-5 w-5 text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-foreground",children:a.investor?.legal_name||a.profile?.display_name||a.profile?.email||"Unknown"}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2 mt-0.5",children:[(0,b.jsx)(s.Briefcase,{className:"h-3 w-3"}),a.deal?.name||"Unknown Deal",a.fee_plan&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground/70",children:["• ",a.fee_plan.name]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.subscription?.amount&&(0,b.jsx)("div",{className:"text-sm font-medium text-foreground",children:(0,_.formatCurrency)(a.subscription.amount)}),(0,b.jsx)(e.Badge,{className:a.subscription?.status==="funded"?"bg-green-500/20 text-green-400":a.subscription?.status?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400",children:a.subscription?.status||"Invited"}),(0,b.jsx)(x.ExternalLink,{className:"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"})]})]},a.id))})})]})}),(0,b.jsx)(f.TabsContent,{value:"kyc",children:(0,b.jsx)(C.KYCDocumentsTab,{entityType:"partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(f.TabsContent,{value:"bank",children:(0,b.jsx)(D.BankDetailsTab,{entityType:"partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(f.TabsContent,{value:"activity",children:(0,b.jsx)(E.ActivityTimelineTab,{entityType:"partner",entityId:a.id,entityName:a.name})})]}),(0,b.jsx)(T,{open:K,onOpenChange:L,partner:a}),(0,b.jsx)($.InviteUserDialog,{open:M,onOpenChange:N,entityType:"partner",entityId:a.id,entityName:a.name}),"individual"===a.type&&(0,b.jsx)(G.EntityKYCEditDialog,{open:O,onOpenChange:P,entityType:"partner",entityId:a.id,entityName:a.name,apiEndpoint:`/api/admin/partners/${a.id}`,initialData:{first_name:a.first_name??void 0,middle_name:a.middle_name??void 0,last_name:a.last_name??void 0,name_suffix:a.name_suffix??void 0,date_of_birth:a.date_of_birth??void 0,country_of_birth:a.country_of_birth??void 0,nationality:a.nationality??void 0,email:a.contact_email??void 0,phone_mobile:a.phone_mobile??void 0,phone_office:a.phone_office??void 0,residential_street:a.residential_street??void 0,residential_line_2:a.residential_line_2??void 0,residential_city:a.residential_city??void 0,residential_state:a.residential_state??void 0,residential_postal_code:a.residential_postal_code??void 0,residential_country:a.residential_country??void 0,is_us_citizen:a.is_us_citizen??void 0,is_us_taxpayer:a.is_us_taxpayer??void 0,us_taxpayer_id:a.us_taxpayer_id??void 0,country_of_tax_residency:a.country_of_tax_residency??void 0,id_type:a.id_type??void 0,id_number:a.id_number??void 0,id_issue_date:a.id_issue_date??void 0,id_expiry_date:a.id_expiry_date??void 0,id_issuing_country:a.id_issuing_country??void 0,middle_initial:a.middle_initial??void 0,proof_of_address_date:a.proof_of_address_date??void 0,proof_of_address_expiry:a.proof_of_address_expiry??void 0,tax_id_number:a.tax_id_number??void 0},onSuccess:()=>J.refresh()}),(0,b.jsx)(Z,{open:Q,onOpenChange:R,partnerId:a.id,partnerName:a.name,feePlans:S})]})}a.s(["PartnerDetailClient",()=>ab],982291)}];

//# sourceMappingURL=c6ad4_src_components_staff_partners_partner-detail-client_tsx_979c30f1._.js.map