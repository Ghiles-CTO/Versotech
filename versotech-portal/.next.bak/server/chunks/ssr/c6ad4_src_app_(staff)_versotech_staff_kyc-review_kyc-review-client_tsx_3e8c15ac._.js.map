{"version":3,"sources":["../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/kyc-review/kyc-review-client.tsx","../../../../../versotech-portal/src/components/kyc/questionnaire-viewer.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { CheckCircle, XCircle, Clock, AlertCircle, FileText, Download, Eye, ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight, ExternalLink, User, ClipboardList, Calendar, MessageSquare } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from '@/components/ui/tooltip'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport { toast } from 'sonner'\r\nimport { DocumentViewerFullscreen } from '@/components/documents/DocumentViewerFullscreen'\r\nimport { useDocumentViewer } from '@/hooks/useDocumentViewer'\r\nimport { QuestionnaireViewer } from '@/components/kyc/questionnaire-viewer'\r\nimport { getDocumentTypeLabel } from '@/constants/kyc-document-types'\r\nimport { formatFileSize } from '@/lib/utils'\r\n\r\ninterface KYCSubmission {\r\n  id: string\r\n  investor_id: string\r\n  counterparty_entity_id?: string | null\r\n  investor_member_id?: string | null\r\n  document_type: string\r\n  custom_label?: string | null\r\n  status: 'draft' | 'pending' | 'under_review' | 'approved' | 'rejected' | 'expired'\r\n  submitted_at: string\r\n  reviewed_at?: string\r\n  rejection_reason?: string\r\n  version?: number\r\n  previous_submission_id?: string | null\r\n  metadata?: any\r\n  investor?: {\r\n    id: string\r\n    legal_name: string\r\n    display_name: string\r\n    email: string\r\n    type: string\r\n    kyc_status: string\r\n  }\r\n  counterparty_entity?: {\r\n    id: string\r\n    legal_name: string\r\n    entity_type: string\r\n  } | null\r\n  investor_member?: {\r\n    id: string\r\n    full_name: string\r\n    role: string\r\n    role_title?: string\r\n  } | null\r\n  document?: {\r\n    id: string\r\n    name: string\r\n    file_key: string\r\n    file_size_bytes: number\r\n    mime_type: string\r\n  }\r\n  reviewer?: {\r\n    display_name: string\r\n    email: string\r\n  }\r\n}\r\n\r\ninterface Statistics {\r\n  total: number\r\n  draft: number\r\n  pending: number\r\n  under_review: number\r\n  approved: number\r\n  rejected: number\r\n  expired: number\r\n}\r\n\r\ninterface Pagination {\r\n  page: number\r\n  pageSize: number\r\n  totalCount: number\r\n  totalPages: number\r\n  hasNextPage: boolean\r\n  hasPrevPage: boolean\r\n}\r\n\r\nexport function KYCReviewClient() {\r\n  const [submissions, setSubmissions] = useState<KYCSubmission[]>([])\r\n  const [statistics, setStatistics] = useState<Statistics | null>(null)\r\n  const [pagination, setPagination] = useState<Pagination | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [statusFilter, setStatusFilter] = useState<string>('all')\r\n  const [documentTypeFilter, setDocumentTypeFilter] = useState<string>('all')\r\n  const [investorFilter, setInvestorFilter] = useState<string>('all')\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [page, setPage] = useState(1)\r\n  const [pageSize, setPageSize] = useState(25)\r\n\r\n  // Review dialog state\r\n  const [reviewDialogOpen, setReviewDialogOpen] = useState(false)\r\n  const [selectedSubmission, setSelectedSubmission] = useState<KYCSubmission | null>(null)\r\n  const [reviewAction, setReviewAction] = useState<'approve' | 'reject' | 'request_info'>('approve')\r\n  const [rejectionReason, setRejectionReason] = useState('')\r\n  const [reviewNotes, setReviewNotes] = useState('')\r\n  const [reviewing, setReviewing] = useState(false)\r\n\r\n  // Bulk selection state\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\r\n  const [bulkRejectOpen, setBulkRejectOpen] = useState(false)\r\n  const [bulkRejectionReason, setBulkRejectionReason] = useState('')\r\n\r\n  // Get reviewable submissions (pending or under_review)\r\n  const reviewableSubmissions = submissions.filter(s => ['pending', 'under_review'].includes(s.status))\r\n\r\n  const toggleSelect = (id: string) => {\r\n    setSelectedIds(prev => {\r\n      const next = new Set(prev)\r\n      if (next.has(id)) {\r\n        next.delete(id)\r\n      } else {\r\n        next.add(id)\r\n      }\r\n      return next\r\n    })\r\n  }\r\n\r\n  const selectAllReviewable = () => {\r\n    const ids = reviewableSubmissions.map(s => s.id)\r\n    setSelectedIds(new Set(ids))\r\n  }\r\n\r\n  const clearSelection = () => setSelectedIds(new Set())\r\n\r\n  const handleBulkAction = async (action: 'approve' | 'reject', reason?: string) => {\r\n    if (selectedIds.size === 0) return\r\n\r\n    setReviewing(true)\r\n    try {\r\n      const promises = Array.from(selectedIds).map(id =>\r\n        fetch(`/api/staff/kyc-submissions/${id}/review`, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            action,\r\n            rejection_reason: action === 'reject' ? reason : undefined\r\n          })\r\n        })\r\n      )\r\n\r\n      const results = await Promise.all(promises)\r\n      const successCount = results.filter(r => r.ok).length\r\n\r\n      toast.success(`${successCount} document${successCount !== 1 ? 's' : ''} ${action === 'approve' ? 'approved' : 'rejected'}`)\r\n\r\n      clearSelection()\r\n      setBulkRejectOpen(false)\r\n      setBulkRejectionReason('')\r\n      await loadSubmissions()\r\n    } catch (error: any) {\r\n      console.error('Bulk action error:', error)\r\n      toast.error('Failed to process some documents')\r\n    } finally {\r\n      setReviewing(false)\r\n    }\r\n  }\r\n\r\n  // Document viewer hook (fullscreen)\r\n  const {\r\n    isOpen: previewOpen,\r\n    document: previewDocument,\r\n    previewUrl,\r\n    isLoading: isLoadingPreview,\r\n    error: previewError,\r\n    openPreview,\r\n    closePreview,\r\n    downloadDocument: downloadFromPreview\r\n  } = useDocumentViewer()\r\n\r\n  // Questionnaire viewer state\r\n  const [viewingQuestionnaire, setViewingQuestionnaire] = useState<KYCSubmission | null>(null)\r\n\r\n  // Handle document preview\r\n  const handlePreview = (submission: KYCSubmission) => {\r\n    if (!submission.document) return\r\n\r\n    // Open fullscreen preview\r\n    openPreview({\r\n      id: submission.document.id,\r\n      file_name: submission.document.name,\r\n      name: submission.document.name,\r\n      mime_type: submission.document.mime_type,\r\n      file_size_bytes: submission.document.file_size_bytes,\r\n    })\r\n  }\r\n\r\n  const loadSubmissions = useCallback(async () => {\r\n    try {\r\n      const params = new URLSearchParams()\r\n      if (statusFilter !== 'all') params.append('status', statusFilter)\r\n      if (documentTypeFilter !== 'all') params.append('document_type', documentTypeFilter)\r\n      if (investorFilter !== 'all') params.append('investor_id', investorFilter)\r\n      params.append('page', String(page))\r\n      params.append('pageSize', String(pageSize))\r\n\r\n      const response = await fetch(`/api/staff/kyc-submissions?${params.toString()}`)\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        console.error('API error response:', errorData)\r\n        throw new Error(errorData.error || 'Failed to load submissions')\r\n      }\r\n\r\n      const data = await response.json()\r\n      setSubmissions(data.submissions || [])\r\n      setStatistics(data.statistics || null)\r\n      setPagination(data.pagination || null)\r\n    } catch (error: any) {\r\n      console.error('Error loading submissions:', error)\r\n      toast.error('Failed to load KYC submissions', {\r\n        description: error.message\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }, [statusFilter, documentTypeFilter, investorFilter, page, pageSize])\r\n\r\n  // Reset to page 1 when filters change\r\n  useEffect(() => {\r\n    setPage(1)\r\n  }, [statusFilter, documentTypeFilter, investorFilter])\r\n\r\n  useEffect(() => {\r\n    loadSubmissions()\r\n  }, [loadSubmissions])\r\n\r\n  const openReviewDialog = (submission: KYCSubmission, action: 'approve' | 'reject' | 'request_info') => {\r\n    setSelectedSubmission(submission)\r\n    setReviewAction(action)\r\n    setRejectionReason('')\r\n    setReviewNotes('')\r\n    setReviewDialogOpen(true)\r\n  }\r\n\r\n  const handleReview = async () => {\r\n    if (!selectedSubmission) return\r\n\r\n    if ((reviewAction === 'reject' || reviewAction === 'request_info') && !rejectionReason.trim()) {\r\n      toast.error(reviewAction === 'request_info'\r\n        ? 'Please specify what additional information is needed'\r\n        : 'Please provide a rejection reason')\r\n      return\r\n    }\r\n\r\n    setReviewing(true)\r\n\r\n    try {\r\n      const response = await fetch(`/api/staff/kyc-submissions/${selectedSubmission.id}/review`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          action: reviewAction,\r\n          rejection_reason: (reviewAction === 'reject' || reviewAction === 'request_info') ? rejectionReason : undefined,\r\n          notes: reviewNotes || undefined\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json()\r\n        throw new Error(error.error || 'Review failed')\r\n      }\r\n\r\n      const successMessages = {\r\n        approve: 'Document approved successfully',\r\n        reject: 'Document rejected successfully',\r\n        request_info: 'Information request sent to investor'\r\n      }\r\n      toast.success(successMessages[reviewAction])\r\n\r\n      setReviewDialogOpen(false)\r\n      await loadSubmissions()\r\n    } catch (error: any) {\r\n      console.error('Review error:', error)\r\n      toast.error(error.message || 'Failed to review document')\r\n    } finally {\r\n      setReviewing(false)\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'approved':\r\n        return <Badge className=\"bg-green-500\"><CheckCircle className=\"w-3 h-3 mr-1\" />Approved</Badge>\r\n      case 'rejected':\r\n        return <Badge variant=\"destructive\"><XCircle className=\"w-3 h-3 mr-1\" />Rejected</Badge>\r\n      case 'under_review':\r\n        return <Badge variant=\"secondary\"><Clock className=\"w-3 h-3 mr-1\" />Under Review</Badge>\r\n      case 'pending':\r\n        return <Badge className=\"bg-amber-500\"><Clock className=\"w-3 h-3 mr-1\" />Pending</Badge>\r\n      case 'draft':\r\n        return <Badge variant=\"outline\" className=\"border-slate-400 text-slate-400\"><Clock className=\"w-3 h-3 mr-1\" />Draft</Badge>\r\n      case 'expired':\r\n        return <Badge variant=\"outline\"><AlertCircle className=\"w-3 h-3 mr-1\" />Expired</Badge>\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  // Get unique document types from submissions\r\n  const uniqueDocumentTypes = Array.from(\r\n    new Set(submissions.map(sub => sub.document_type))\r\n  ).sort()\r\n\r\n  // Get unique investors from submissions\r\n  const uniqueInvestors = Array.from(\r\n    new Map(\r\n      submissions\r\n        .filter(sub => sub.investor)\r\n        .map(sub => [sub.investor!.id, sub.investor!])\r\n    ).values()\r\n  ).sort((a, b) => (a.display_name || a.legal_name).localeCompare(b.display_name || b.legal_name))\r\n\r\n  const filteredSubmissions = submissions.filter(sub => {\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase()\r\n      const documentTypeLabel = getDocumentTypeLabel(sub.document_type, sub.custom_label).toLowerCase()\r\n      return (\r\n        sub.investor?.display_name.toLowerCase().includes(query) ||\r\n        sub.investor?.legal_name.toLowerCase().includes(query) ||\r\n        sub.investor?.email.toLowerCase().includes(query) ||\r\n        documentTypeLabel.includes(query) ||\r\n        (sub.counterparty_entity?.legal_name.toLowerCase().includes(query))\r\n      )\r\n    }\r\n    return true\r\n  })\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-foreground\">KYC Document Review</h1>\r\n        <p className=\"text-muted-foreground mt-1\">\r\n          Review and approve investor KYC documents\r\n        </p>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      {statistics && (\r\n        <div className=\"grid gap-4 md:grid-cols-4 lg:grid-cols-7\">\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-foreground\">{statistics.total}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Draft</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-slate-500\">{statistics.draft}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pending</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-amber-500\">{statistics.pending}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Under Review</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-blue-400\">{statistics.under_review}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Approved</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-emerald-500\">{statistics.approved}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Rejected</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-rose-500\">{statistics.rejected}</div>\r\n            </CardContent>\r\n          </Card>\r\n          <Card>\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">Expired</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-slate-400\">{statistics.expired}</div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Filters</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n            <div>\r\n              <Label htmlFor=\"status-filter\">Status</Label>\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger id=\"status-filter\">\r\n                  <SelectValue placeholder=\"All statuses\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\r\n                  <SelectItem value=\"draft\">Draft</SelectItem>\r\n                  <SelectItem value=\"pending\">Pending</SelectItem>\r\n                  <SelectItem value=\"under_review\">Under Review</SelectItem>\r\n                  <SelectItem value=\"approved\">Approved</SelectItem>\r\n                  <SelectItem value=\"rejected\">Rejected</SelectItem>\r\n                  <SelectItem value=\"expired\">Expired</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"type-filter\">Document Type</Label>\r\n              <Select value={documentTypeFilter} onValueChange={setDocumentTypeFilter}>\r\n                <SelectTrigger id=\"type-filter\">\r\n                  <SelectValue placeholder=\"All types\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Types</SelectItem>\r\n                  {uniqueDocumentTypes.map(type => (\r\n                    <SelectItem key={type} value={type}>\r\n                      {getDocumentTypeLabel(type)}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"investor-filter\">Investor</Label>\r\n              <Select value={investorFilter} onValueChange={setInvestorFilter}>\r\n                <SelectTrigger id=\"investor-filter\">\r\n                  <SelectValue placeholder=\"All investors\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Investors</SelectItem>\r\n                  {uniqueInvestors.map(investor => (\r\n                    <SelectItem key={investor.id} value={investor.id}>\r\n                      {investor.display_name || investor.legal_name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"search\">Search</Label>\r\n              <Input\r\n                id=\"search\"\r\n                placeholder=\"Search investor name or email...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Submissions Table */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Submissions ({filteredSubmissions.length})</CardTitle>\r\n          <CardDescription>\r\n            Review pending KYC documents and approve or reject them\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead className=\"w-10\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={selectedIds.size > 0 && selectedIds.size === reviewableSubmissions.length}\r\n                    onChange={(e) => e.target.checked ? selectAllReviewable() : clearSelection()}\r\n                    className=\"h-4 w-4 rounded border-gray-300\"\r\n                  />\r\n                </TableHead>\r\n                <TableHead>Investor</TableHead>\r\n                <TableHead>Document Type</TableHead>\r\n                <TableHead>Content</TableHead>\r\n                <TableHead>Submitted</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Reviewer</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {filteredSubmissions.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={8} className=\"text-center text-muted-foreground py-8\">\r\n                    No submissions found\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredSubmissions.map((submission) => (\r\n                  <TableRow key={submission.id}>\r\n                    <TableCell>\r\n                      {['pending', 'under_review'].includes(submission.status) && (\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedIds.has(submission.id)}\r\n                          onChange={() => toggleSelect(submission.id)}\r\n                          className=\"h-4 w-4 rounded border-gray-300\"\r\n                        />\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div>\r\n                        <div className=\"font-medium flex items-center gap-1\">\r\n                          {submission.counterparty_entity ? (\r\n                            <>\r\n                              {submission.counterparty_entity.legal_name}\r\n                              <Badge variant=\"outline\" className=\"ml-2 text-xs\">Entity</Badge>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              {submission.investor?.display_name || submission.investor?.legal_name || 'Unknown'}\r\n                              {submission.investor?.id && (\r\n                                <a\r\n                                  href={`/versotech/staff/investors/${submission.investor.id}`}\r\n                                  target=\"_blank\"\r\n                                  rel=\"noopener noreferrer\"\r\n                                  className=\"ml-1 text-muted-foreground hover:text-foreground transition-colors\"\r\n                                  title=\"View investor profile\"\r\n                                >\r\n                                  <ExternalLink className=\"w-3 h-3\" />\r\n                                </a>\r\n                              )}\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"text-sm text-muted-foreground flex items-center gap-1 flex-wrap\">\r\n                          {submission.investor?.email || ''}\r\n                          {submission.investor?.type && ['entity', 'corporate', 'institution'].includes(submission.investor.type) && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">{submission.investor.type}</Badge>\r\n                          )}\r\n                          {submission.investor?.kyc_status && (\r\n                            <Badge\r\n                              variant=\"outline\"\r\n                              className={`text-xs ${\r\n                                submission.investor.kyc_status === 'approved'\r\n                                  ? 'border-emerald-500 text-emerald-500'\r\n                                  : submission.investor.kyc_status === 'pending'\r\n                                    ? 'border-amber-500 text-amber-500'\r\n                                    : submission.investor.kyc_status === 'rejected'\r\n                                      ? 'border-rose-500 text-rose-500'\r\n                                      : 'border-muted-foreground text-muted-foreground'\r\n                              }`}\r\n                            >\r\n                              KYC: {submission.investor.kyc_status}\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div>\r\n                        <div className=\"font-medium\">\r\n                          {getDocumentTypeLabel(submission.document_type, submission.custom_label)}\r\n                        </div>\r\n                        {submission.investor_member && (\r\n                          <div className=\"text-xs text-muted-foreground mt-0.5\">\r\n                            <Badge variant=\"outline\" className=\"text-xs font-normal\">\r\n                              {submission.investor_member.full_name}\r\n                              {submission.investor_member.role_title && ` (${submission.investor_member.role_title})`}\r\n                            </Badge>\r\n                          </div>\r\n                        )}\r\n                        {submission.version && submission.version > 1 && (\r\n                          <div className=\"text-xs text-amber-500 mt-0.5\">\r\n                            v{submission.version}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {submission.document ? (\r\n                        <div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <FileText className=\"w-4 h-4 text-muted-foreground flex-shrink-0\" />\r\n                            <span className=\"text-sm truncate max-w-[200px]\">{submission.document.name}</span>\r\n                          </div>\r\n                          <div className=\"text-xs text-muted-foreground ml-6\">\r\n                            {formatFileSize(submission.document.file_size_bytes)}\r\n                          </div>\r\n                        </div>\r\n                      ) : submission.metadata && submission.document_type === 'questionnaire' ? (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <ClipboardList className=\"w-4 h-4 text-blue-500\" />\r\n                          <span className=\"text-sm text-blue-500 font-medium\">Questionnaire Responses</span>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-sm text-muted-foreground\">No content</span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"text-sm\">\r\n                        {new Date(submission.submitted_at).toLocaleDateString()}\r\n                      </div>\r\n                      <div className=\"text-xs text-muted-foreground\">\r\n                        {new Date(submission.submitted_at).toLocaleTimeString()}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div>\r\n                        {getStatusBadge(submission.status)}\r\n                        {submission.status === 'rejected' && submission.rejection_reason && (\r\n                          <TooltipProvider>\r\n                            <Tooltip>\r\n                              <TooltipTrigger asChild>\r\n                                <div className=\"text-xs text-rose-400 mt-1 max-w-[200px] truncate cursor-help\">\r\n                                  {submission.rejection_reason}\r\n                                </div>\r\n                              </TooltipTrigger>\r\n                              <TooltipContent className=\"max-w-[300px]\">\r\n                                <p className=\"text-sm\">{submission.rejection_reason}</p>\r\n                              </TooltipContent>\r\n                            </Tooltip>\r\n                          </TooltipProvider>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {submission.reviewer ? (\r\n                        <div className=\"text-sm\">\r\n                          <div>{submission.reviewer.display_name}</div>\r\n                          <div className=\"text-xs text-muted-foreground\">\r\n                            {new Date(submission.reviewed_at!).toLocaleDateString()}\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-sm text-muted-foreground\">-</span>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right\">\r\n                      <div className=\"flex items-center justify-end gap-2\">\r\n                        {submission.document && (\r\n                          <TooltipProvider>\r\n                            <Tooltip>\r\n                              <TooltipTrigger asChild>\r\n                                <Button\r\n                                  variant=\"ghost\"\r\n                                  size=\"sm\"\r\n                                  onClick={() => handlePreview(submission)}\r\n                                >\r\n                                  <FileText className=\"w-4 h-4\" />\r\n                                </Button>\r\n                              </TooltipTrigger>\r\n                              <TooltipContent>\r\n                                <p>View Document</p>\r\n                              </TooltipContent>\r\n                            </Tooltip>\r\n                          </TooltipProvider>\r\n                        )}\r\n                        {submission.metadata && submission.document_type === 'questionnaire' && (\r\n                          <TooltipProvider>\r\n                            <Tooltip>\r\n                              <TooltipTrigger asChild>\r\n                                <Button\r\n                                  variant=\"ghost\"\r\n                                  size=\"sm\"\r\n                                  onClick={() => setViewingQuestionnaire(submission)}\r\n                                >\r\n                                  <ClipboardList className=\"w-4 h-4\" />\r\n                                </Button>\r\n                              </TooltipTrigger>\r\n                              <TooltipContent>\r\n                                <p>View Questionnaire Answers</p>\r\n                              </TooltipContent>\r\n                            </Tooltip>\r\n                          </TooltipProvider>\r\n                        )}\r\n                        {['pending', 'under_review'].includes(submission.status) && (\r\n                          <>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"text-emerald-500 border-emerald-500 hover:bg-emerald-950 hover:text-emerald-400\"\r\n                              onClick={() => openReviewDialog(submission, 'approve')}\r\n                            >\r\n                              <CheckCircle className=\"w-4 h-4 mr-1\" />\r\n                              Approve\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"text-amber-500 border-amber-500 hover:bg-amber-950 hover:text-amber-400\"\r\n                              onClick={() => openReviewDialog(submission, 'request_info')}\r\n                            >\r\n                              <MessageSquare className=\"w-4 h-4 mr-1\" />\r\n                              Request Info\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outline\"\r\n                              size=\"sm\"\r\n                              className=\"text-rose-500 border-rose-500 hover:bg-rose-950 hover:text-rose-400\"\r\n                              onClick={() => openReviewDialog(submission, 'reject')}\r\n                            >\r\n                              <XCircle className=\"w-4 h-4 mr-1\" />\r\n                              Reject\r\n                            </Button>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n\r\n          {/* Pagination Controls */}\r\n          {pagination && pagination.totalPages > 1 && (\r\n            <div className=\"flex items-center justify-between px-2 py-4 border-t\">\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <span>\r\n                  Showing {((pagination.page - 1) * pagination.pageSize) + 1} to{' '}\r\n                  {Math.min(pagination.page * pagination.pageSize, pagination.totalCount)} of{' '}\r\n                  {pagination.totalCount} submissions\r\n                </span>\r\n                <Select\r\n                  value={String(pageSize)}\r\n                  onValueChange={(value) => {\r\n                    setPageSize(Number(value))\r\n                    setPage(1)\r\n                  }}\r\n                >\r\n                  <SelectTrigger className=\"h-8 w-[70px]\">\r\n                    <SelectValue placeholder={pageSize} />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"10\">10</SelectItem>\r\n                    <SelectItem value=\"25\">25</SelectItem>\r\n                    <SelectItem value=\"50\">50</SelectItem>\r\n                    <SelectItem value=\"100\">100</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                <span>per page</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-1\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={() => setPage(1)}\r\n                  disabled={!pagination.hasPrevPage}\r\n                >\r\n                  <ChevronsLeft className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={() => setPage(page - 1)}\r\n                  disabled={!pagination.hasPrevPage}\r\n                >\r\n                  <ChevronLeft className=\"h-4 w-4\" />\r\n                </Button>\r\n                <span className=\"flex items-center gap-1 px-2 text-sm\">\r\n                  Page {pagination.page} of {pagination.totalPages}\r\n                </span>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={() => setPage(page + 1)}\r\n                  disabled={!pagination.hasNextPage}\r\n                >\r\n                  <ChevronRight className=\"h-4 w-4\" />\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"icon\"\r\n                  className=\"h-8 w-8\"\r\n                  onClick={() => setPage(pagination.totalPages)}\r\n                  disabled={!pagination.hasNextPage}\r\n                >\r\n                  <ChevronsRight className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Review Dialog */}\r\n      <Dialog open={reviewDialogOpen} onOpenChange={setReviewDialogOpen}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {reviewAction === 'approve' && 'Approve Document'}\r\n              {reviewAction === 'reject' && 'Reject Document'}\r\n              {reviewAction === 'request_info' && 'Request Additional Information'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {selectedSubmission && (\r\n                <>\r\n                  {getDocumentTypeLabel(selectedSubmission.document_type, selectedSubmission.custom_label)} for{' '}\r\n                  {selectedSubmission.counterparty_entity\r\n                    ? `${selectedSubmission.counterparty_entity.legal_name} (Entity of ${selectedSubmission.investor?.display_name || selectedSubmission.investor?.legal_name || 'Unknown'})`\r\n                    : selectedSubmission.investor?.display_name || selectedSubmission.investor?.legal_name || 'Unknown'\r\n                  }\r\n                </>\r\n              )}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-4\">\r\n            {(reviewAction === 'reject' || reviewAction === 'request_info') && (\r\n              <div>\r\n                <Label htmlFor=\"rejection-reason\">\r\n                  {reviewAction === 'request_info'\r\n                    ? 'What information is needed?'\r\n                    : 'Rejection Reason'\r\n                  } <span className=\"text-red-500\">*</span>\r\n                </Label>\r\n                <Textarea\r\n                  id=\"rejection-reason\"\r\n                  placeholder={reviewAction === 'request_info'\r\n                    ? 'Please specify what additional information or documents the investor needs to provide...'\r\n                    : 'Please explain why this document is being rejected...'\r\n                  }\r\n                  value={rejectionReason}\r\n                  onChange={(e) => setRejectionReason(e.target.value)}\r\n                  rows={4}\r\n                  className=\"mt-1\"\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div>\r\n              <Label htmlFor=\"review-notes\">Notes (Optional)</Label>\r\n              <Textarea\r\n                id=\"review-notes\"\r\n                placeholder=\"Any additional notes...\"\r\n                value={reviewNotes}\r\n                onChange={(e) => setReviewNotes(e.target.value)}\r\n                rows={3}\r\n                className=\"mt-1\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setReviewDialogOpen(false)}\r\n              disabled={reviewing}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleReview}\r\n              disabled={reviewing}\r\n              className={\r\n                reviewAction === 'approve'\r\n                  ? 'bg-emerald-600 hover:bg-emerald-700'\r\n                  : reviewAction === 'request_info'\r\n                    ? 'bg-amber-600 hover:bg-amber-700'\r\n                    : ''\r\n              }\r\n            >\r\n              {reviewing\r\n                ? 'Processing...'\r\n                : reviewAction === 'approve'\r\n                  ? 'Approve'\r\n                  : reviewAction === 'request_info'\r\n                    ? 'Send Request'\r\n                    : 'Reject'\r\n              }\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Fullscreen Document Viewer */}\r\n      <DocumentViewerFullscreen\r\n        isOpen={previewOpen}\r\n        document={previewDocument}\r\n        previewUrl={previewUrl}\r\n        isLoading={isLoadingPreview}\r\n        error={previewError}\r\n        onClose={closePreview}\r\n        onDownload={downloadFromPreview}\r\n      />\r\n\r\n      {/* Questionnaire Viewer */}\r\n      {viewingQuestionnaire && (\r\n        <QuestionnaireViewer\r\n          open={!!viewingQuestionnaire}\r\n          onClose={() => setViewingQuestionnaire(null)}\r\n          investorName={viewingQuestionnaire.investor?.display_name || viewingQuestionnaire.investor?.legal_name || 'Unknown'}\r\n          submittedAt={viewingQuestionnaire.submitted_at}\r\n          metadata={viewingQuestionnaire.metadata || {}}\r\n        />\r\n      )}\r\n\r\n      {/* Bulk Action Bar */}\r\n      {selectedIds.size > 0 && (\r\n        <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 bg-background border border-border rounded-lg shadow-lg p-4 flex items-center gap-4 z-50\">\r\n          <span className=\"text-sm text-muted-foreground font-medium\">\r\n            {selectedIds.size} selected\r\n          </span>\r\n          <Button\r\n            size=\"sm\"\r\n            className=\"bg-emerald-600 hover:bg-emerald-700\"\r\n            onClick={() => handleBulkAction('approve')}\r\n            disabled={reviewing}\r\n          >\r\n            <CheckCircle className=\"h-4 w-4 mr-1\" />\r\n            Approve All\r\n          </Button>\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"destructive\"\r\n            onClick={() => setBulkRejectOpen(true)}\r\n            disabled={reviewing}\r\n          >\r\n            <XCircle className=\"h-4 w-4 mr-1\" />\r\n            Reject All\r\n          </Button>\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"ghost\"\r\n            onClick={clearSelection}\r\n            disabled={reviewing}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Bulk Reject Dialog */}\r\n      <Dialog open={bulkRejectOpen} onOpenChange={setBulkRejectOpen}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Reject {selectedIds.size} Documents</DialogTitle>\r\n            <DialogDescription>\r\n              This will reject all selected documents with the same reason.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"py-4\">\r\n            <Label htmlFor=\"bulk-rejection-reason\">\r\n              Rejection Reason <span className=\"text-red-500\">*</span>\r\n            </Label>\r\n            <Textarea\r\n              id=\"bulk-rejection-reason\"\r\n              placeholder=\"Please explain why these documents are being rejected...\"\r\n              value={bulkRejectionReason}\r\n              onChange={(e) => setBulkRejectionReason(e.target.value)}\r\n              rows={4}\r\n              className=\"mt-1\"\r\n            />\r\n          </div>\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setBulkRejectOpen(false)}\r\n              disabled={reviewing}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"destructive\"\r\n              onClick={() => handleBulkAction('reject', bulkRejectionReason)}\r\n              disabled={reviewing || !bulkRejectionReason.trim()}\r\n            >\r\n              {reviewing ? 'Processing...' : 'Reject All'}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  User,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Shield,\r\n  Flag,\r\n  FileText,\r\n  FileCheck,\r\n  TrendingUp,\r\n  AlertTriangle,\r\n  PenTool,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n} from 'lucide-react'\r\nimport { STEP_CONFIG, shouldShowUSPersonSteps } from './schemas/kyc-questionnaire-schema'\r\n\r\n// Field labels for human-readable display\r\nconst FIELD_LABELS: Record<string, string> = {\r\n  // Step 1: About You\r\n  fullName: 'Full Legal Name',\r\n  dateOfBirth: 'Date of Birth',\r\n  nationality: 'Nationality',\r\n  countryOfResidence: 'Country of Residence',\r\n  residentialAddress: 'Residential Address',\r\n  city: 'City',\r\n  postalCode: 'Postal Code',\r\n  email: 'Email Address',\r\n  phone: 'Phone Number',\r\n  taxIdNumber: 'Tax ID Number',\r\n  taxResidencyCountry: 'Tax Residency Country',\r\n\r\n  // Step 2: Investment Type\r\n  investmentType: 'Investment Type',\r\n  investmentTypeOther: 'Other Investment Type',\r\n\r\n  // Step 3: Well-Informed Status\r\n  isWellInformed: 'Well-Informed Investor?',\r\n  wellInformedBasis: 'Basis for Well-Informed Status',\r\n  wellInformedEvidence: 'Supporting Evidence',\r\n\r\n  // Step 4: Compliance (HIGH RISK)\r\n  isPEP: 'Politically Exposed Person (PEP)?',\r\n  pepDetails: 'PEP Details',\r\n  isRelatedToPEP: 'Related to a PEP?',\r\n  relatedPEPDetails: 'Related PEP Details',\r\n  isSanctioned: 'Subject to Sanctions?',\r\n  sanctionedDetails: 'Sanctions Details',\r\n  hasCriminalRecord: 'Criminal Record?',\r\n  criminalDetails: 'Criminal Record Details',\r\n  isUnderInvestigation: 'Under Investigation?',\r\n  investigationDetails: 'Investigation Details',\r\n  hasBankruptcy: 'Bankruptcy History?',\r\n  bankruptcyDetails: 'Bankruptcy Details',\r\n  isUSPerson: 'US Person?',\r\n  sourceOfFunds: 'Source of Funds',\r\n  sourceOfWealth: 'Source of Wealth',\r\n\r\n  // Step 5: US Person Status\r\n  isUSCitizen: 'US Citizen?',\r\n  isUSResident: 'US Resident?',\r\n  hasUSGreenCard: 'US Green Card Holder?',\r\n  hasSubstantialUSPresence: 'Substantial US Presence?',\r\n  hasUSMailingAddress: 'US Mailing Address?',\r\n  hasUSPhoneNumber: 'US Phone Number?',\r\n  hasUSBankAccount: 'US Bank Account?',\r\n  hasUSPowerOfAttorney: 'US Power of Attorney?',\r\n  usConnectionDetails: 'US Connection Details',\r\n\r\n  // Step 6: Offer Details\r\n  isAccreditedInvestor: 'Accredited Investor?',\r\n  accreditationBasis: 'Accreditation Basis',\r\n  hasReceivedOfferingMaterials: 'Received Offering Materials?',\r\n  understandsRestrictions: 'Understands Restrictions?',\r\n\r\n  // Step 7: US Tax Compliance\r\n  acknowledgesFATCA: 'FATCA Acknowledgment',\r\n  willProvideW9: 'Will Provide W-9?',\r\n  understandsWithholding: 'Understands Withholding?',\r\n  certifiesTaxCompliance: 'Certifies Tax Compliance?',\r\n  acknowledgesReportingObligations: 'Reporting Obligations Acknowledged?',\r\n\r\n  // Step 8: Investment Suitability\r\n  educationLevel: 'Education Level',\r\n  employmentStatus: 'Employment Status',\r\n  occupation: 'Occupation',\r\n  employer: 'Employer',\r\n  yearsInvestingExperience: 'Years of Investment Experience',\r\n  annualIncome: 'Annual Income',\r\n  netWorth: 'Net Worth',\r\n  liquidNetWorth: 'Liquid Net Worth',\r\n  investmentObjective: 'Investment Objective',\r\n  riskTolerance: 'Risk Tolerance',\r\n  investmentHorizon: 'Investment Time Horizon',\r\n  percentageOfNetWorthToInvest: '% of Net Worth to Invest',\r\n  hasAlternativeInvestmentExperience: 'Alternative Investment Experience?',\r\n  alternativeInvestmentTypes: 'Types of Alternative Investments',\r\n\r\n  // Step 9: Risk Awareness\r\n  acknowledgesIlliquidity: 'Acknowledges Illiquidity Risk',\r\n  acknowledgesLossRisk: 'Acknowledges Loss Risk',\r\n  acknowledgesNoGuarantees: 'Acknowledges No Guarantees',\r\n  acknowledgesLimitedInfo: 'Acknowledges Limited Information',\r\n  acknowledgesNoRegulation: 'Acknowledges Limited Regulation',\r\n  acknowledgesConflicts: 'Acknowledges Conflicts of Interest',\r\n  acknowledgesTaxImplications: 'Acknowledges Tax Implications',\r\n  acknowledgesFees: 'Acknowledges Fees',\r\n  hasReadOfferingDocs: 'Has Read Offering Documents',\r\n  hasSoughtIndependentAdvice: 'Has Sought Independent Advice',\r\n\r\n  // Step 10: Signature\r\n  certifiesAccuracy: 'Certifies Accuracy',\r\n  certifiesNoOmissions: 'Certifies No Omissions',\r\n  agreesToUpdates: 'Agrees to Provide Updates',\r\n  consentToProcessing: 'Consents to Data Processing',\r\n  signatureName: 'Signature Name',\r\n  signatureDate: 'Signature Date',\r\n\r\n  // Metadata\r\n  lastCompletedStep: 'Last Completed Step',\r\n  wizardVersion: 'Form Version',\r\n}\r\n\r\n// High-risk fields that should be highlighted\r\nconst HIGH_RISK_FIELDS = [\r\n  'isPEP',\r\n  'isRelatedToPEP',\r\n  'isSanctioned',\r\n  'hasCriminalRecord',\r\n  'isUnderInvestigation',\r\n  'hasBankruptcy',\r\n]\r\n\r\n// Fields organized by step\r\nconst STEP_FIELDS: Record<string, string[]> = {\r\n  step1: ['fullName', 'dateOfBirth', 'nationality', 'countryOfResidence', 'residentialAddress', 'city', 'postalCode', 'email', 'phone', 'taxIdNumber', 'taxResidencyCountry'],\r\n  step2: ['investmentType', 'investmentTypeOther'],\r\n  step3: ['isWellInformed', 'wellInformedBasis', 'wellInformedEvidence'],\r\n  step4: ['isPEP', 'pepDetails', 'isRelatedToPEP', 'relatedPEPDetails', 'isSanctioned', 'sanctionedDetails', 'hasCriminalRecord', 'criminalDetails', 'isUnderInvestigation', 'investigationDetails', 'hasBankruptcy', 'bankruptcyDetails', 'isUSPerson', 'sourceOfFunds', 'sourceOfWealth'],\r\n  step5: ['isUSCitizen', 'isUSResident', 'hasUSGreenCard', 'hasSubstantialUSPresence', 'hasUSMailingAddress', 'hasUSPhoneNumber', 'hasUSBankAccount', 'hasUSPowerOfAttorney', 'usConnectionDetails'],\r\n  step6: ['isAccreditedInvestor', 'accreditationBasis', 'hasReceivedOfferingMaterials', 'understandsRestrictions'],\r\n  step7: ['acknowledgesFATCA', 'willProvideW9', 'understandsWithholding', 'certifiesTaxCompliance', 'acknowledgesReportingObligations'],\r\n  step8: ['educationLevel', 'employmentStatus', 'occupation', 'employer', 'yearsInvestingExperience', 'annualIncome', 'netWorth', 'liquidNetWorth', 'investmentObjective', 'riskTolerance', 'investmentHorizon', 'percentageOfNetWorthToInvest', 'hasAlternativeInvestmentExperience', 'alternativeInvestmentTypes'],\r\n  step9: ['acknowledgesIlliquidity', 'acknowledgesLossRisk', 'acknowledgesNoGuarantees', 'acknowledgesLimitedInfo', 'acknowledgesNoRegulation', 'acknowledgesConflicts', 'acknowledgesTaxImplications', 'acknowledgesFees', 'hasReadOfferingDocs', 'hasSoughtIndependentAdvice'],\r\n  step10: ['certifiesAccuracy', 'certifiesNoOmissions', 'agreesToUpdates', 'consentToProcessing', 'signatureName', 'signatureDate'],\r\n}\r\n\r\n// Icon mapping for steps\r\nconst STEP_ICONS: Record<string, typeof User> = {\r\n  step1: User,\r\n  step2: Briefcase,\r\n  step3: GraduationCap,\r\n  step4: Shield,\r\n  step5: Flag,\r\n  step6: FileText,\r\n  step7: FileCheck,\r\n  step8: TrendingUp,\r\n  step9: AlertTriangle,\r\n  step10: PenTool,\r\n}\r\n\r\n// Format value for display\r\nfunction formatValue(key: string, value: unknown): string {\r\n  if (value === null || value === undefined || value === '') {\r\n    return ''\r\n  }\r\n\r\n  // Boolean values\r\n  if (typeof value === 'boolean') {\r\n    return value ? 'Yes' : 'No'\r\n  }\r\n\r\n  // Yes/No string values\r\n  if (value === 'yes' || value === 'no') {\r\n    return value === 'yes' ? 'Yes' : 'No'\r\n  }\r\n\r\n  // Arrays\r\n  if (Array.isArray(value)) {\r\n    if (value.length === 0) return ''\r\n    return value.map(v => formatEnumValue(String(v))).join(', ')\r\n  }\r\n\r\n  // Enum-like values (snake_case or camelCase)\r\n  if (typeof value === 'string' && (value.includes('_') || /^[a-z]+[A-Z]/.test(value))) {\r\n    return formatEnumValue(value)\r\n  }\r\n\r\n  return String(value)\r\n}\r\n\r\n// Format enum values to readable text\r\nfunction formatEnumValue(value: string): string {\r\n  return value\r\n    .replace(/_/g, ' ')\r\n    .replace(/([A-Z])/g, ' $1')\r\n    .replace(/\\b\\w/g, l => l.toUpperCase())\r\n    .trim()\r\n}\r\n\r\n// Check if a field has a high-risk value\r\nfunction isHighRiskValue(key: string, value: unknown): boolean {\r\n  if (!HIGH_RISK_FIELDS.includes(key)) return false\r\n  return value === 'yes' || value === true\r\n}\r\n\r\ninterface QuestionnaireViewerProps {\r\n  open: boolean\r\n  onClose: () => void\r\n  investorName: string\r\n  submittedAt: string\r\n  metadata: Record<string, unknown>\r\n}\r\n\r\nexport function QuestionnaireViewer({\r\n  open,\r\n  onClose,\r\n  investorName,\r\n  submittedAt,\r\n  metadata,\r\n}: QuestionnaireViewerProps) {\r\n  if (!metadata) return null\r\n\r\n  // Flatten nested step data (e.g., { step1: {...}, step2: {...} })\r\n  const flattenedData: Record<string, unknown> = {}\r\n\r\n  for (const [key, value] of Object.entries(metadata)) {\r\n    if (key.startsWith('step') && typeof value === 'object' && value !== null) {\r\n      // It's a step object, flatten its contents\r\n      Object.assign(flattenedData, value)\r\n    } else {\r\n      // It's a top-level field\r\n      flattenedData[key] = value\r\n    }\r\n  }\r\n\r\n  // Check if US Person steps should be shown\r\n  const showUSSteps = flattenedData.isUSPerson === 'yes'\r\n\r\n  // Determine which steps to show\r\n  const visibleSteps = showUSSteps\r\n    ? ['step1', 'step2', 'step3', 'step4', 'step5', 'step6', 'step7', 'step8', 'step9', 'step10']\r\n    : ['step1', 'step2', 'step3', 'step4', 'step8', 'step9', 'step10']\r\n\r\n  // Get step config info\r\n  const getStepInfo = (stepKey: string) => {\r\n    const index = parseInt(stepKey.replace('step', '')) - 1\r\n    return STEP_CONFIG[index]\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={(isOpen) => !isOpen && onClose()}>\r\n      <DialogContent className=\"max-w-3xl max-h-[85vh] flex flex-col overflow-hidden\">\r\n        <DialogHeader className=\"flex-shrink-0\">\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-5 w-5\" />\r\n            KYC Questionnaire Responses\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Submitted by <span className=\"font-medium text-foreground\">{investorName}</span> on{' '}\r\n            {new Date(submittedAt).toLocaleDateString('en-US', {\r\n              year: 'numeric',\r\n              month: 'long',\r\n              day: 'numeric',\r\n            })}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {/* Scrollable content area with explicit height and overflow */}\r\n        <div className=\"flex-1 min-h-0 -mx-6 px-6 overflow-y-auto\">\r\n          <div className=\"space-y-6 py-4\">\r\n            {visibleSteps.map((stepKey) => {\r\n              const stepInfo = getStepInfo(stepKey)\r\n              const StepIcon = STEP_ICONS[stepKey] || FileText\r\n              const fields = STEP_FIELDS[stepKey] || []\r\n\r\n              // Filter to fields that have values\r\n              const fieldsWithValues = fields.filter(\r\n                field => flattenedData[field] !== undefined && flattenedData[field] !== ''\r\n              )\r\n\r\n              if (fieldsWithValues.length === 0) return null\r\n\r\n              return (\r\n                <Card key={stepKey} className=\"border-border/50\">\r\n                  <CardHeader className=\"pb-3\">\r\n                    <CardTitle className=\"text-base font-semibold flex items-center gap-2\">\r\n                      <StepIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                      {stepInfo?.title || `Step ${stepKey.replace('step', '')}`}\r\n                      {stepKey === 'step4' && (\r\n                        <Badge variant=\"outline\" className=\"ml-2 text-xs font-normal\">\r\n                          Compliance\r\n                        </Badge>\r\n                      )}\r\n                    </CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"pt-0\">\r\n                    <div className=\"grid gap-3\">\r\n                      {fieldsWithValues.map((field) => {\r\n                        const value = flattenedData[field]\r\n                        const isHighRisk = isHighRiskValue(field, value)\r\n                        const label = FIELD_LABELS[field] || formatEnumValue(field)\r\n                        const formattedValue = formatValue(field, value)\r\n\r\n                        return (\r\n                          <div\r\n                            key={field}\r\n                            className={`flex flex-col gap-1 p-3 rounded-lg ${\r\n                              isHighRisk\r\n                                ? 'bg-destructive/10 border border-destructive/30'\r\n                                : 'bg-muted/50'\r\n                            }`}\r\n                          >\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <span className=\"text-sm font-medium text-muted-foreground\">\r\n                                {label}\r\n                              </span>\r\n                              {isHighRisk && (\r\n                                <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                  <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n                                  Requires Review\r\n                                </Badge>\r\n                              )}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {typeof value === 'boolean' || value === 'yes' || value === 'no' ? (\r\n                                <>\r\n                                  {value === true || value === 'yes' ? (\r\n                                    <CheckCircle className={`h-4 w-4 ${isHighRisk ? 'text-destructive' : 'text-emerald-500'}`} />\r\n                                  ) : (\r\n                                    <XCircle className=\"h-4 w-4 text-muted-foreground\" />\r\n                                  )}\r\n                                  <span className={`text-sm ${isHighRisk ? 'font-semibold text-destructive' : 'text-foreground'}`}>\r\n                                    {formattedValue}\r\n                                  </span>\r\n                                </>\r\n                              ) : (\r\n                                <span className=\"text-sm text-foreground\">\r\n                                  {formattedValue}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        )\r\n                      })}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        <Separator className=\"flex-shrink-0\" />\r\n\r\n        <DialogFooter className=\"pt-4 flex-shrink-0\">\r\n          <Button onClick={onClose}>Close</Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAOA,EAAA,EAAA,CAAA,CAAA,QAQA,EAAA,EAAA,CAAA,CAAA,QAMA,EAAA,EAAA,CAAA,CAAA,QAQA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QCrCA,EAAA,EAAA,CAAA,CAAA,QAUA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAeA,EAAA,EAAA,CAAA,CAAA,OAGA,IAAM,EAAuC,CAE3C,SAAU,kBACV,YAAa,gBACb,YAAa,cACb,mBAAoB,uBACpB,mBAAoB,sBACpB,KAAM,OACN,WAAY,cACZ,MAAO,gBACP,MAAO,eACP,YAAa,gBACb,oBAAqB,wBAGrB,eAAgB,kBAChB,oBAAqB,wBAGrB,eAAgB,0BAChB,kBAAmB,iCACnB,qBAAsB,sBAGtB,MAAO,oCACP,WAAY,cACZ,eAAgB,oBAChB,kBAAmB,sBACnB,aAAc,wBACd,kBAAmB,oBACnB,kBAAmB,mBACnB,gBAAiB,0BACjB,qBAAsB,uBACtB,qBAAsB,wBACtB,cAAe,sBACf,kBAAmB,qBACnB,WAAY,aACZ,cAAe,kBACf,eAAgB,mBAGhB,YAAa,cACb,aAAc,eACd,eAAgB,wBAChB,yBAA0B,2BAC1B,oBAAqB,sBACrB,iBAAkB,mBAClB,iBAAkB,mBAClB,qBAAsB,wBACtB,oBAAqB,wBAGrB,qBAAsB,uBACtB,mBAAoB,sBACpB,6BAA8B,+BAC9B,wBAAyB,4BAGzB,kBAAmB,uBACnB,cAAe,oBACf,uBAAwB,2BACxB,uBAAwB,4BACxB,iCAAkC,sCAGlC,eAAgB,kBAChB,iBAAkB,oBAClB,WAAY,aACZ,SAAU,WACV,yBAA0B,iCAC1B,aAAc,gBACd,SAAU,YACV,eAAgB,mBAChB,oBAAqB,uBACrB,cAAe,iBACf,kBAAmB,0BACnB,6BAA8B,2BAC9B,mCAAoC,qCACpC,2BAA4B,mCAG5B,wBAAyB,gCACzB,qBAAsB,yBACtB,yBAA0B,6BAC1B,wBAAyB,mCACzB,yBAA0B,kCAC1B,sBAAuB,qCACvB,4BAA6B,gCAC7B,iBAAkB,oBAClB,oBAAqB,8BACrB,2BAA4B,gCAG5B,kBAAmB,qBACnB,qBAAsB,yBACtB,gBAAiB,4BACjB,oBAAqB,8BACrB,cAAe,iBACf,cAAe,iBAGf,kBAAmB,sBACnB,cAAe,cACjB,EAGM,EAAmB,CACvB,QACA,iBACA,eACA,oBACA,uBACA,gBACD,CAGK,EAAwC,CAC5C,MAAO,CAAC,WAAY,cAAe,cAAe,qBAAsB,qBAAsB,OAAQ,aAAc,QAAS,QAAS,cAAe,sBAAsB,CAC3K,MAAO,CAAC,iBAAkB,sBAAsB,CAChD,MAAO,CAAC,iBAAkB,oBAAqB,uBAAuB,CACtE,MAAO,CAAC,QAAS,aAAc,iBAAkB,oBAAqB,eAAgB,oBAAqB,oBAAqB,kBAAmB,uBAAwB,uBAAwB,gBAAiB,oBAAqB,aAAc,gBAAiB,iBAAiB,CACzR,MAAO,CAAC,cAAe,eAAgB,iBAAkB,2BAA4B,sBAAuB,mBAAoB,mBAAoB,uBAAwB,sBAAsB,CAClM,MAAO,CAAC,uBAAwB,qBAAsB,+BAAgC,0BAA0B,CAChH,MAAO,CAAC,oBAAqB,gBAAiB,yBAA0B,yBAA0B,mCAAmC,CACrI,MAAO,CAAC,iBAAkB,mBAAoB,aAAc,WAAY,2BAA4B,eAAgB,WAAY,iBAAkB,sBAAuB,gBAAiB,oBAAqB,+BAAgC,qCAAsC,6BAA6B,CAClT,MAAO,CAAC,0BAA2B,uBAAwB,2BAA4B,0BAA2B,2BAA4B,wBAAyB,8BAA+B,mBAAoB,sBAAuB,6BAA6B,CAC9Q,OAAQ,CAAC,oBAAqB,uBAAwB,kBAAmB,sBAAuB,gBAAiB,gBAAgB,AACnI,EAGM,EAA0C,CAC9C,MAAO,EAAA,IAAI,CACX,MAAO,EAAA,SAAS,CAChB,MAAO,EAAA,aAAa,CACpB,MAAO,EAAA,MAAM,CACb,MAAO,EAAA,IAAI,CACX,MAAO,EAAA,QAAQ,CACf,MAAO,EAAA,SAAS,CAChB,MAAO,EAAA,UAAU,CACjB,MAAO,EAAA,aAAa,CACpB,OAAQ,EAAA,OAAO,AACjB,EAiCA,SAAS,EAAgB,CAAa,EACpC,OAAO,EACJ,OAAO,CAAC,KAAM,KACd,OAAO,CAAC,WAAY,OACpB,OAAO,CAAC,QAAS,GAAK,EAAE,WAAW,IACnC,IAAI,EACT,CAgBO,SAAS,EAAoB,MAClC,CAAI,SACJ,CAAO,cACP,CAAY,CACZ,aAAW,UACX,CAAQ,CACiB,EACzB,GAAI,CAAC,EAAU,OAAO,KAGtB,IAAM,EAAyC,CAAC,EAEhD,IAAK,GAAM,CAAC,EAAK,EAAM,GAAI,OAAO,OAAO,CAAC,GACpC,EAAI,KAD2C,KACjC,CAAC,SAA4B,UAAjB,OAAO,GAAsB,AAAU,MAAM,GAEzE,OAAO,MAAM,CAAC,EAAe,GAG7B,CAAa,CAAC,EAAI,CAAG,EAKzB,IAAM,EAA2C,QAA7B,EAAc,UAAU,CAa5C,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAM,aAAc,AAAC,GAAW,CAAC,GAAU,aACvD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,iEACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,0BACtB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,oCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,iCAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WAAC,gBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAA+B,IAAoB,MAAI,IACnF,IAAI,KAAK,GAAa,kBAAkB,CAAC,QAAS,CACjD,KAAM,UACN,MAAO,OACP,IAAK,SACP,SAKJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACZ,CA/BU,EACjB,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAAS,CAC3F,CAAC,QAAS,QAAS,QAAS,QAAS,QAAS,QAAS,SAAS,EA6B5C,GAAG,CAAC,AAAC,IACjB,MAAM,GA1BV,EAAQ,MA0Ba,GA1BJ,AA0BgB,EA1BR,OAAO,CAAC,OAAQ,KAAO,EAC/C,EAAA,WAAW,CAAC,EAAM,EA0BT,EAAW,CAAU,CAAC,EAAQ,EAAI,EAAA,QAAQ,CAI1C,EAAmB,CAHV,CAAW,CAAC,EAAQ,EAAI,EAAA,AAAE,EAGT,MAAM,CACpC,QAAkC,IAAzB,CAAa,CAAC,EAAM,EAA2C,KAAzB,CAAa,CAAC,EAAM,SAGrC,AAAhC,GAAmC,CAA/B,EAAiB,MAAM,CAAe,KAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAe,UAAU,6BAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,4DACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,kCACnB,GAAU,OAAS,CAAC,KAAK,EAAE,EAAQ,OAAO,CAAC,OAAQ,IAAA,CAAK,CAC5C,UAAZ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,oCAA2B,oBAMpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAiB,GAAG,CAAC,AAAC,QAxIX,EAyIV,GAzIwB,CAyIlB,EAAQ,CAAa,CAAC,EAAM,CAC5B,EAlG5B,CAAI,CAAC,EAAiB,OAkGmB,CAlGX,CAAC,AAkG0B,KAjGlD,AAAU,CADoB,OAAO,GAClB,CAAU,IAiG4B,CAjG5B,EAkGR,EAAQ,CAAY,CAAC,EAAM,EAAI,EAAgB,GAC/C,EA3I5B,AAAI,SA2I4D,CA3IlD,GAAyC,EA2IV,EA3Ic,CAArC,AAAuB,EACpC,IAIY,GAsIoC,CA3IzB,OAKA,AAA5B,OAAO,EACF,EAAQ,MAAQ,KAIX,QAAV,GAA6B,MAAM,CAAhB,EACJ,AAAV,UAAkB,MAAQ,KAI/B,MAAM,OAAO,CAAC,GAChB,AAAqB,GAAG,CAApB,CADoB,CACd,MAAM,CAAe,IACxB,EAAM,GAAG,CAAC,GAAK,EAAgB,OAAO,KAAK,IAAI,CAAC,MAIzD,AAAqB,UAAjB,EAA6B,KAAtB,IAAuB,EAAM,QAAQ,CAAC,MAAQ,eAAe,IAAI,CAAC,EAAA,CAAM,CAC1E,EAAgB,AAD6D,GAI/E,OAAO,GAoHQ,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAW,CAAC,mCAAmC,EAC7C,EACI,iDACA,cAAA,CACJ,WAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qDACb,IAEF,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,cAAc,UAAU,oBACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,wBAK9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACK,WAAjB,OAAO,GAAuB,AAAU,WAAmB,OAAV,EAChD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,YACa,IAAV,GAAkB,AAAU,UAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAW,CAAC,QAAQ,EAAE,EAAa,mBAAqB,mBAAA,CAAoB,GAEzF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,kCAErB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,QAAQ,EAAE,EAAa,iCAAmC,kBAAA,CAAmB,UAC5F,OAIL,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCACb,QAhCF,EAsCX,SA5DK,EAiEf,OAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,kBAErB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,8BACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,WAAS,gBAKpC,CD5UA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAmEO,SAAS,IACd,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,EAAE,EAC5D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,MAC1D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,MAC1D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OACnD,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OAC/D,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,OACvD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC3B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGnC,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,MAC7E,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwC,WAClF,CAAC,GAAiB,GAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,GAAW,GAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGrC,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,IAAI,KAC1D,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAGzD,GAAwB,EAAY,MAAM,CAAC,GAAK,CAAC,UAAW,eAAe,CAAC,QAAQ,CAAC,EAAE,MAAM,GAmB7F,GAAiB,IAAM,GAAe,IAAI,KAE1C,GAAmB,MAAO,EAA8B,KAC5D,GAAyB,GAAG,CAAxB,GAAY,IAAI,EAEpB,IAAa,GACb,GAAI,CACF,IAAM,EAAW,MAAM,IAAI,CAAC,IAAa,GAAG,CAAC,GAC3C,MAAM,CAAC,2BAA2B,EAAE,EAAG,OAAO,CAAC,CAAE,CAC/C,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,QACnB,EACA,iBAA6B,WAAX,EAAsB,OAAS,CACnD,EACF,IAII,EAAe,CADL,MAAM,QAAQ,GAAG,CAAC,EAAA,EACL,MAAM,CAAC,GAAK,EAAE,EAAE,EAAE,MAAM,CAErD,EAAA,KAAK,CAAC,OAAO,CAAC,CAAA,EAAG,EAAa,SAAS,EAAE,AAAiB,MAAI,IAAM,GAAG,CAAC,EAAa,YAAX,EAAuB,WAAa,WAAA,CAAY,EAE1H,KACA,IAAkB,GAClB,GAAuB,IACvB,MAAM,IACR,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,qBAAsB,GACpC,EAAA,KAAK,CAAC,KAAK,CAAC,mCACd,QAAU,CACR,GAAa,GACf,EACF,EAGM,CACJ,OAAQ,EAAW,CACnB,SAAU,EAAe,YACzB,EAAU,CACV,UAAW,EAAgB,CAC3B,MAAO,EAAY,aACnB,EAAW,cACX,EAAY,CACZ,iBAAkB,EAAmB,CACtC,CAAG,CAAA,EAAA,EAAA,iBAAA,AAAiB,IAGf,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA+B,MAgBjF,GAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UAClC,GAAI,CACF,IAAM,EAAS,IAAI,gBACE,QAAjB,GAAwB,EAAO,MAAM,CAAC,SAAU,GACzB,QAAvB,GAA8B,EAAO,MAAM,CAAC,gBAAiB,GAC1C,QAAnB,GAA0B,EAAO,MAAM,CAAC,cAAe,GAC3D,EAAO,MAAM,CAAC,OAAQ,OAAO,IAC7B,EAAO,MAAM,CAAC,WAAY,OAAO,IAEjC,IAAM,EAAW,MAAM,MAAM,CAAC,2BAA2B,EAAE,EAAO,QAAQ,GAAA,CAAI,EAE9E,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,EAErC,OADA,QAAQ,KAAK,CAAC,sBAAuB,GAC/B,AAAI,MAAM,EAAU,KAAK,EAAI,6BACrC,CAEA,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAe,EAAK,WAAW,EAAI,EAAE,EACrC,EAAc,EAAK,UAAU,EAAI,MACjC,EAAc,EAAK,UAAU,EAAI,KACnC,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,EAAA,KAAK,CAAC,KAAK,CAAC,iCAAkC,CAC5C,YAAa,EAAM,OAAO,AAC5B,EACF,QAAU,CACR,GAAW,EACb,CACF,EAAG,CAAC,EAAc,EAAoB,EAAgB,EAAM,EAAS,EAGrE,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAQ,EACV,EAAG,CAAC,EAAc,EAAoB,EAAe,EAErD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IACF,EAAG,CAAC,GAAgB,EAEpB,IAAM,GAAmB,CAAC,EAA2B,KACnD,EAAsB,GACtB,GAAgB,GAChB,GAAmB,IACnB,GAAe,IACf,GAAoB,EACtB,EAEM,GAAe,UACnB,GAAK,CAAD,EAEJ,GAAI,CAAkB,WAAjB,EAFoB,EAES,AAAiB,mBAAA,CAAc,EAAK,CAAC,GAAgB,IAAI,GAAI,YAC7F,EAAA,KAAK,CAAC,KAAK,CAAkB,iBAAjB,GACR,uDACA,qCAIN,IAAa,GAEb,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAC,2BAA2B,EAAE,EAAmB,EAAE,CAAC,OAAO,CAAC,CAAE,CACzF,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,OAAQ,GACR,iBAAoC,WAAjB,IAA8C,iBAAjB,GAAmC,GAAkB,OACrG,MAAO,SAAe,CACxB,EACF,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAQ,MAAM,EAAS,IAAI,EACjC,OAAM,AAAI,MAAM,EAAM,KAAK,EAAI,gBACjC,CAOA,EAAA,KAAK,CAAC,OAAO,CAAC,AALU,CACtB,QAAS,iCACT,OAAQ,iCACR,aAAc,sCAChB,CAC6B,CAAC,GAAa,EAE3C,GAAoB,GACpB,MAAM,IACR,CAAE,MAAO,EAAY,CACnB,QAAQ,KAAK,CAAC,gBAAiB,GAC/B,EAAA,KAAK,CAAC,KAAK,CAAC,EAAM,OAAO,EAAI,4BAC/B,QAAU,CACR,IAAa,EACf,EACF,EAsBM,GAAsB,MAAM,IAAI,CACpC,IAAI,IAAI,EAAY,GAAG,CAAC,GAAO,EAAI,aAAa,IAChD,IAAI,GAGA,GAAkB,MAAM,IAAI,CAChC,IAAI,IACF,EACG,MAAM,CAAC,GAAO,EAAI,QAAQ,EAC1B,GAAG,CAAC,GAAO,CAAC,EAAI,QAAQ,CAAE,EAAE,CAAE,EAAI,QAAQ,CAAE,GAC/C,MAAM,IACR,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,EAAE,YAAY,EAAI,EAAE,UAAA,AAAU,EAAE,aAAa,CAAC,EAAE,YAAY,EAAI,EAAE,UAAU,GAExF,GAAsB,EAAY,MAAM,CAAC,IAC7C,GAAI,EAAa,CACf,IAAM,EAAQ,EAAY,WAAW,GAC/B,EAAoB,CAAA,EAAA,EAAA,oBAAoB,AAApB,EAAqB,EAAI,aAAa,CAAE,EAAI,YAAY,EAAE,WAAW,GAC/F,OACE,EAAI,QAAQ,EAAE,aAAa,cAAc,SAAS,IAClD,EAAI,QAAQ,EAAE,WAAW,cAAc,SAAS,IAChD,EAAI,QAAQ,EAAE,MAAM,cAAc,SAAS,IAC3C,EAAkB,QAAQ,CAAC,IAC1B,EAAI,mBAAmB,EAAE,WAAW,cAAc,SAAS,EAEhE,CACA,OAAO,CACT,UAEA,AAAI,EAEA,CAAA,EAAA,EAAA,EAFS,CAET,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEAMnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,wBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,iDAM3C,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,YAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAAsC,EAAW,KAAK,QAGzE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,YAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CAAqC,EAAW,KAAK,QAGxE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,cAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CAAqC,EAAW,OAAO,QAG1E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,mBAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CAAoC,EAAW,YAAY,QAG9E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,eAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CAAuC,EAAW,QAAQ,QAG7E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,eAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CAAoC,EAAW,QAAQ,QAG1E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,qDAA4C,cAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CAAqC,EAAW,OAAO,WAO9E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,cAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,yBAAgB,WAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAc,cAAe,YAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,yBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,mBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,iBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,mBAAU,YAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,wBAAe,iBACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBAAW,aAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBAAW,aAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,mBAAU,qBAIlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,kBAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAoB,cAAe,YAChD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,uBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,gBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,cACvB,GAAoB,GAAG,CAAC,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAY,MAAO,WAC3B,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,IADP,aAOzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,2BAAkB,aACjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAgB,cAAe,YAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,2BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,oBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,kBACvB,GAAgB,GAAG,CAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAmB,MAAO,EAAS,EAAE,UAC7C,EAAS,YAAY,EAAI,EAAS,UAAU,EAD9B,EAAS,EAAE,YAOpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,kBAAS,WACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,SACH,YAAY,mCACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,eAQxD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,WAAC,gBAAc,GAAoB,MAAM,CAAC,OACpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,+DAInB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,gBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,GAAY,IAAI,CAAG,GAAK,GAAY,IAAI,GAAK,GAAsB,MAAM,CAClF,SAAU,AAAC,GAAM,EAAE,MAAM,CAAC,OAAO,GAAG,GArXpD,GAAe,IAAI,IAAI,AADX,GAAsB,GAAG,CAAC,GAAK,EAAE,EAAE,IAsX6B,KAC5D,UAAU,sCAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,kBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,YACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,cACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sBAAa,iBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACwB,IAA/B,GAAoB,MAAM,CACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,kDAAyC,2BAK5E,GAAoB,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,CAAC,UAAW,eAAe,CAAC,QAAQ,CAAC,EAAW,MAAM,GACrD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,QAAS,GAAY,GAAG,CAAC,EAAW,EAAE,EACtC,SAAU,IAAM,cA/ZlB,EA+Z+B,EAAW,EAAE,MA9ZhE,GAAe,IACb,IAAM,EAAO,IAAI,IAAI,GAMrB,OALI,EAAK,GAAG,CAAC,GACX,EADgB,AACX,MAAM,CAAC,GAEZ,EAAK,GAAG,CAAC,GAEJ,CACT,IAuZsB,UAAU,sCAIhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CACZ,EAAW,mBAAmB,CAC7B,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACG,EAAW,mBAAmB,CAAC,UAAU,CAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,wBAAe,cAGpD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACG,EAAW,QAAQ,EAAE,cAAgB,EAAW,QAAQ,EAAE,YAAc,UACxE,EAAW,QAAQ,EAAE,IACpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,KAAM,CAAC,2BAA2B,EAAE,EAAW,QAAQ,CAAC,EAAE,CAAA,CAAE,CAC5D,OAAO,SACP,IAAI,sBACJ,UAAU,qEACV,MAAM,iCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,mBAMlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4EACZ,EAAW,QAAQ,EAAE,OAAS,GAC9B,EAAW,QAAQ,EAAE,MAAQ,CAAC,SAAU,YAAa,cAAc,CAAC,QAAQ,CAAC,EAAW,QAAQ,CAAC,IAAI,GACpG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,mBAAW,EAAW,QAAQ,CAAC,IAAI,GAEzE,EAAW,QAAQ,EAAE,YACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAQ,UACR,UAAW,CAAC,QAAQ,EACiB,aAAnC,EAAW,QAAQ,CAAC,UAAU,CAC1B,sCACmC,YAAnC,EAAW,QAAQ,CAAC,UAAU,CAC5B,kCACmC,aAAnC,EAAW,QAAQ,CAAC,UAAU,CAC5B,gCACA,gDAAA,CACR,WACH,QACO,EAAW,QAAQ,CAAC,UAAU,YAM9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAW,aAAa,CAAE,EAAW,YAAY,IAExE,EAAW,eAAe,EACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,gCAChC,EAAW,eAAe,CAAC,SAAS,CACpC,EAAW,eAAe,CAAC,UAAU,EAAI,CAAC,EAAE,EAAE,EAAW,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,MAI5F,EAAW,OAAO,EAAI,EAAW,OAAO,CAAG,GAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAgC,IAC3C,EAAW,OAAO,SAK5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAW,QAAQ,CAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gDACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0CAAkC,EAAW,QAAQ,CAAC,IAAI,MAE5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAW,QAAQ,CAAC,eAAe,OAGrD,EAAW,QAAQ,EAAI,AAA6B,oBAAlB,aAAa,CACjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,0BACzB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAoC,+BAGtD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,iBAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,WACR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mBACZ,IAAI,KAAK,EAAW,YAAY,EAAE,kBAAkB,KAEvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,IAAI,KAAK,EAAW,YAAY,EAAE,kBAAkB,QAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,CAzVA,AAAC,IACtB,OAAQ,GACN,IAAK,WACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,yBAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,aACjF,KAAK,WACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAc,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,iBAAiB,aAC1E,KAAK,eACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,sBAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,iBACtE,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,yBAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,YAC3E,KAAK,QACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,4CAAkC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,iBAAiB,UAChH,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,YAC1E,SACE,OAAO,IACX,CACF,GAwUsC,EAAW,MAAM,EACV,aAAtB,EAAW,MAAM,EAAmB,EAAW,gBAAgB,EAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACZ,EAAW,gBAAgB,KAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,yBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,EAAW,gBAAgB,eAO/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAW,QAAQ,CAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAW,QAAQ,CAAC,YAAY,GACtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,IAAI,KAAK,EAAW,WAAW,EAAG,kBAAkB,QAIzD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,QAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,sBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACZ,EAAW,QAAQ,EAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,CAxexC,EAAW,QAAQ,EAAE,AAG1B,GAAY,CACV,GAAI,AAoeqD,EApe1C,QAAQ,CAAC,EAAE,CAC1B,UAAW,EAAW,QAAQ,CAAC,IAAI,CACnC,KAAM,EAAW,QAAQ,CAAC,IAAI,CAC9B,UAAW,EAAW,QAAQ,CAAC,SAAS,CACxC,gBAAiB,EAAW,QAAQ,CAAC,eAAe,AACtD,aAie8B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,yBAKV,EAAW,QAAQ,EAAiC,kBAA7B,EAAW,aAAa,EAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,GAAwB,YAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,gBAG7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,sCAKV,CAAC,UAAW,eAAe,CAAC,QAAQ,CAAC,EAAW,MAAM,GACrD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,UAAU,kFACV,QAAS,IAAM,GAAiB,EAAY,qBAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,aAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,UAAU,0EACV,QAAS,IAAM,GAAiB,EAAY,0BAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,iBAAiB,kBAG5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,UAAU,sEACV,QAAS,IAAM,GAAiB,EAAY,oBAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,iBAAiB,sBA3MjC,EAAW,EAAE,QAyNnC,GAAc,EAAW,UAAU,CAAG,GACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,WACM,AAAC,GAAW,IAAI,EAAG,CAAC,CAAI,EAAW,QAAQ,CAAI,EAAE,MAAI,IAC9D,KAAK,GAAG,CAAC,EAAW,IAAI,CAAG,EAAW,QAAQ,CAAE,EAAW,UAAU,EAAE,MAAI,IAC3E,EAAW,UAAU,CAAC,kBAEzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,OAAO,GACd,cAAe,AAAC,IACd,EAAY,OAAO,IACnB,EAAQ,EACV,YAEA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,wBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAa,MAE5B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,cAAK,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,cAG5B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,gBAGR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,UAAU,UACV,QAAS,IAAM,EAAQ,GACvB,SAAU,CAAC,EAAW,WAAW,UAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,cAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,UAAU,UACV,QAAS,IAAM,EAAQ,EAAO,GAC9B,SAAU,CAAC,EAAW,WAAW,UAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAEzB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iDAAuC,QAC/C,EAAW,IAAI,CAAC,OAAK,EAAW,UAAU,IAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,UAAU,UACV,QAAS,IAAM,EAAQ,EAAO,GAC9B,SAAU,CAAC,EAAW,WAAW,UAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,cAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,UAAU,UACV,QAAS,IAAM,EAAQ,EAAW,UAAU,EAC5C,SAAU,CAAC,EAAW,WAAW,UAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,0BASrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAkB,aAAc,WAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WACQ,YAAjB,IAA8B,mBACb,WAAjB,IAA6B,kBACZ,iBAAjB,IAAmC,oCAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UACf,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACG,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,EAAmB,aAAa,CAAE,EAAmB,YAAY,EAAE,OAAK,IAC7F,EAAmB,mBAAmB,CACnC,CAAA,EAAG,EAAmB,mBAAmB,CAAC,UAAU,CAAC,YAAY,EAAE,EAAmB,QAAQ,EAAE,cAAgB,EAAmB,QAAQ,EAAE,YAAc,UAAU,CAAC,CAAC,CACvK,EAAmB,QAAQ,EAAE,cAAgB,EAAmB,QAAQ,EAAE,YAAc,kBAOpG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,CAAC,AAAiB,eAA6B,iBAAjB,EAAiB,CAAc,EAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,6BACK,iBAAjB,GACG,8BACA,mBACH,IAAC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,mBACH,YAAa,AAAiB,oBAC1B,2FACA,wDAEJ,MAAO,GACP,SAAU,AAAC,GAAM,GAAmB,EAAE,MAAM,CAAC,KAAK,EAClD,KAAM,EACN,UAAU,YAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,qBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,eACH,YAAY,0BACZ,MAAO,GACP,SAAU,AAAC,GAAM,GAAe,EAAE,MAAM,CAAC,KAAK,EAC9C,KAAM,EACN,UAAU,eAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,QAAS,IAAM,GAAoB,GACnC,SAAU,YACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,GACT,SAAU,GACV,UACmB,YAAjB,GACI,sCACiB,iBAAjB,GACE,kCACA,YAGP,GACG,gBACiB,YAAjB,GACE,UACiB,iBAAjB,GACE,eACA,mBAQhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,wBAAwB,CAAA,CACvB,OAAQ,GACR,SAAU,GACV,WAAY,GACZ,UAAW,GACX,MAAO,GACP,QAAS,GACT,WAAY,KAIb,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,CAAC,CAAC,GACR,QAAS,IAAM,GAAwB,MACvC,aAAc,GAAqB,QAAQ,EAAE,cAAgB,GAAqB,QAAQ,EAAE,YAAc,UAC1G,YAAa,GAAqB,YAAY,CAC9C,SAAU,GAAqB,QAAQ,EAAI,CAAC,IAK/C,GAAY,IAAI,CAAG,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8IACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,sDACb,GAAY,IAAI,CAAC,eAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,sCACV,QAAS,IAAM,GAAiB,WAChC,SAAU,aAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,iBAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,cACR,QAAS,IAAM,IAAkB,GACjC,SAAU,aAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,iBAAiB,gBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,QACR,QAAS,GACT,SAAU,YACX,cAOL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,GAAgB,aAAc,YAC1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WAAC,UAAQ,GAAY,IAAI,CAAC,gBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,qEAIrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,kCAAwB,oBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,SAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,wBACH,YAAY,2DACZ,MAAO,GACP,SAAU,AAAC,GAAM,GAAuB,EAAE,MAAM,CAAC,KAAK,EACtD,KAAM,EACN,UAAU,YAGd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,QAAS,IAAM,IAAkB,GACjC,SAAU,YACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,cACR,QAAS,IAAM,GAAiB,SAAU,IAC1C,SAAU,IAAa,CAAC,GAAoB,IAAI,YAE/C,GAAY,gBAAkB,yBAO7C"}