{"version":3,"sources":["../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/subscriptions/components/styled-subscriptions-page.tsx","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/subscriptions/components/subscriptions-data-table-paginated.tsx","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/subscriptions/components/subscription-columns.tsx","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/subscriptions/components/filter-popup.tsx","../../../../../versotech-portal/src/components/subscriptions/new-subscription-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useMemo, useCallback } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Input } from '@/components/ui/input'\r\nimport {\r\n  Download,\r\n  Plus,\r\n  Filter,\r\n  RefreshCw,\r\n  Search,\r\n  TrendingUp,\r\n} from 'lucide-react'\r\nimport { SubscriptionsDataTablePaginated } from './subscriptions-data-table-paginated'\r\nimport { subscriptionColumns } from './subscription-columns'\r\nimport { FilterPopup, SimpleFilters } from './filter-popup'\r\nimport { NewSubscriptionDialog } from '@/components/subscriptions/new-subscription-dialog'\r\nimport { toast } from 'sonner'\r\n\r\ninterface StyledSubscriptionsPageProps {\r\n  basePath?: string\r\n}\r\n\r\nexport function StyledSubscriptionsPage({ basePath = '/versotech/staff' }: StyledSubscriptionsPageProps) {\r\n  const router = useRouter()\r\n\r\n  // Core data\r\n  const [rawData, setRawData] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [refreshing, setRefreshing] = useState(false)\r\n  const [confirmedInterestTotal, setConfirmedInterestTotal] = useState(0)\r\n\r\n  // UI state\r\n  const [quickSearch, setQuickSearch] = useState('')\r\n  const [filters, setFilters] = useState<SimpleFilters>({})\r\n  const [showFilterPopup, setShowFilterPopup] = useState(false)\r\n  const [selectedIds, setSelectedIds] = useState<string[]>([])\r\n\r\n  // Reference data\r\n  const [vehicles, setVehicles] = useState<Array<{ id: string; name: string }>>([])\r\n  const [investors, setInvestors] = useState<Array<{ id: string; legal_name: string }>>([])\r\n\r\n  // Dialogs\r\n  const [showNewDialog, setShowNewDialog] = useState(false)\r\n\r\n  // Load data\r\n  useEffect(() => {\r\n    loadAllData()\r\n  }, [])\r\n\r\n  const loadAllData = async () => {\r\n    try {\r\n      setLoading(true)\r\n\r\n      const [subsResponse, vehiclesResponse, investorsResponse, interestsResponse] = await Promise.all([\r\n        fetch('/api/subscriptions'),\r\n        fetch('/api/vehicles'),\r\n        fetch('/api/investors'),\r\n        fetch('/api/subscription-submissions/summary')\r\n      ])\r\n\r\n      if (!subsResponse.ok) throw new Error('Failed to load subscriptions')\r\n\r\n      const subsData = await subsResponse.json()\r\n      setRawData(subsData.subscriptions || [])\r\n\r\n      if (vehiclesResponse.ok) {\r\n        const vehiclesData = await vehiclesResponse.json()\r\n        setVehicles(vehiclesData.vehicles || [])\r\n      }\r\n\r\n      if (investorsResponse.ok) {\r\n        const investorsData = await investorsResponse.json()\r\n        setInvestors(investorsData.investors || [])\r\n      }\r\n\r\n      if (interestsResponse.ok) {\r\n        const interestsData = await interestsResponse.json()\r\n        setConfirmedInterestTotal(interestsData.totalAmount || 0)\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error('Load error:', err)\r\n      toast.error('Failed to load subscriptions')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleRefresh = async () => {\r\n    setRefreshing(true)\r\n    try {\r\n      const response = await fetch('/api/subscriptions')\r\n      if (!response.ok) throw new Error('Failed to refresh')\r\n      const data = await response.json()\r\n      setRawData(data.subscriptions || [])\r\n      setSelectedIds([])\r\n      toast.success('Data refreshed')\r\n    } catch (err) {\r\n      toast.error('Failed to refresh data')\r\n    } finally {\r\n      setRefreshing(false)\r\n    }\r\n  }\r\n\r\n  // Apply filters\r\n  const filteredSubscriptions = useMemo(() => {\r\n    if (!rawData || rawData.length === 0) return []\r\n\r\n    let result = rawData\r\n\r\n    // Quick search\r\n    if (quickSearch) {\r\n      const search = quickSearch.toLowerCase()\r\n      result = result.filter(sub => {\r\n        const searchable = [\r\n          sub.subscription_number?.toString(),\r\n          sub.investor?.legal_name,\r\n          sub.vehicle?.name,\r\n        ].filter(Boolean).join(' ').toLowerCase()\r\n        return searchable.includes(search)\r\n      })\r\n    }\r\n\r\n    // Apply popup filters\r\n    if (filters.search) {\r\n      const search = filters.search.toLowerCase()\r\n      result = result.filter(sub => {\r\n        const searchable = [\r\n          sub.subscription_number?.toString(),\r\n          sub.investor?.legal_name,\r\n          sub.vehicle?.name,\r\n          sub.opportunity_name,\r\n        ].filter(Boolean).join(' ').toLowerCase()\r\n        return searchable.includes(search)\r\n      })\r\n    }\r\n\r\n    if (filters.statuses?.length) {\r\n      result = result.filter(sub => filters.statuses!.includes(sub.status))\r\n    }\r\n\r\n    if (filters.commitmentMin) {\r\n      result = result.filter(sub => sub.commitment >= filters.commitmentMin!)\r\n    }\r\n\r\n    if (filters.commitmentMax) {\r\n      result = result.filter(sub => sub.commitment <= filters.commitmentMax!)\r\n    }\r\n\r\n    return result\r\n  }, [rawData, quickSearch, filters])\r\n\r\n  // Calculate stats\r\n  const stats = useMemo(() => {\r\n    const total = filteredSubscriptions.length\r\n    const totalCommitment = filteredSubscriptions.reduce((sum, sub) => sum + (sub.commitment || 0), 0)\r\n    const totalFunded = filteredSubscriptions.reduce((sum, sub) => sum + (sub.funded_amount || 0), 0)\r\n    const activeCount = filteredSubscriptions.filter(s => s.status === 'active').length\r\n\r\n    return { total, totalCommitment, totalFunded, activeCount }\r\n  }, [filteredSubscriptions])\r\n\r\n  const handleExport = async () => {\r\n    try {\r\n      const ids = selectedIds.length > 0 ? selectedIds : filteredSubscriptions.map(s => s.id)\r\n      toast.info(`Exporting ${ids.length} subscriptions...`)\r\n    } catch (error) {\r\n      toast.error('Failed to export')\r\n    }\r\n  }\r\n\r\n  const activeFilterCount = [\r\n    filters.search,\r\n    filters.statuses?.length,\r\n    filters.commitmentMin,\r\n    filters.commitmentMax,\r\n  ].filter(Boolean).length\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6 space-y-6\">\r\n        <div className=\"animate-pulse space-y-4\">\r\n          <div className=\"h-10 bg-gray-200 dark:bg-zinc-700 rounded w-64\" />\r\n          <div className=\"grid grid-cols-4 gap-6\">\r\n            {[...Array(4)].map((_, i) => (\r\n              <div key={i} className=\"h-32 bg-gray-200 dark:bg-zinc-700 rounded\" />\r\n            ))}\r\n          </div>\r\n          <div className=\"h-96 bg-gray-200 dark:bg-zinc-700 rounded\" />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header - Matches Investors Page Exactly */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">Subscription Management</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Manage and track all investment subscriptions\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={handleRefresh}\r\n            disabled={refreshing}\r\n          >\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\r\n            Refresh\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => router.push(`${basePath}/subscriptions/vehicle-summary`)}\r\n          >\r\n            <TrendingUp className=\"h-4 w-4 mr-2\" />\r\n            Summary\r\n          </Button>\r\n          <Button onClick={() => setShowNewDialog(true)} size=\"sm\">\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            New Subscription\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards - Exact Same Layout as Investors */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Subscriptions</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">{stats.total.toLocaleString()}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">All subscriptions</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Confirmed Interest</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">${(confirmedInterestTotal / 1e6).toFixed(1)}M</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Interests confirmed</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Commitment</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">${(stats.totalCommitment / 1e6).toFixed(1)}M</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Committed capital</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Funded</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">${(stats.totalFunded / 1e6).toFixed(1)}M</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Capital deployed</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search and Filter Bar - Same Style as Investors */}\r\n      <Card>\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"flex-1 relative\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder=\"Search by number, investor, or vehicle...\"\r\n                value={quickSearch}\r\n                onChange={(e) => setQuickSearch(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setShowFilterPopup(true)}\r\n              >\r\n                <Filter className=\"h-4 w-4 mr-2\" />\r\n                Filters\r\n                {activeFilterCount > 0 && (\r\n                  <Badge variant=\"secondary\" className=\"ml-2\">\r\n                    {activeFilterCount}\r\n                  </Badge>\r\n                )}\r\n              </Button>\r\n              {selectedIds.length > 0 && (\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={handleExport}\r\n                >\r\n                  <Download className=\"h-4 w-4 mr-2\" />\r\n                  Export ({selectedIds.length})\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Main Table - Same Card Style as Investors */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>All Subscriptions ({filteredSubscriptions.length})</CardTitle>\r\n          <CardDescription>\r\n            Comprehensive subscription list with sortable columns and bulk actions\r\n            {selectedIds.length > 0 && (\r\n              <span className=\"text-muted-foreground text-sm ml-2\">\r\n                ({selectedIds.length} selected)\r\n              </span>\r\n            )}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <SubscriptionsDataTablePaginated\r\n            data={filteredSubscriptions}\r\n            columns={subscriptionColumns}\r\n            selectedIds={selectedIds}\r\n            onSelectionChange={setSelectedIds}\r\n            pageSize={50}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Filter Popup */}\r\n      <FilterPopup\r\n        open={showFilterPopup}\r\n        onOpenChange={setShowFilterPopup}\r\n        filters={filters}\r\n        onApply={setFilters}\r\n        vehicles={vehicles}\r\n      />\r\n\r\n      {/* New Subscription Dialog */}\r\n      <NewSubscriptionDialog\r\n        open={showNewDialog}\r\n        onOpenChange={setShowNewDialog}\r\n        investors={investors}\r\n        vehicles={vehicles}\r\n        onSuccess={handleRefresh}\r\n      />\r\n    </div>\r\n  )\r\n}","'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  ColumnDef,\r\n  ColumnFiltersState,\r\n  SortingState,\r\n  VisibilityState,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getSortedRowModel,\r\n  getPaginationRowModel,\r\n  useReactTable,\r\n} from '@tanstack/react-table'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react'\r\nimport { useTheme } from '@/components/theme-provider'\r\n\r\ninterface DataTableProps<TData, TValue> {\r\n  columns: ColumnDef<TData, TValue>[]\r\n  data: TData[]\r\n  selectedIds?: string[]\r\n  onSelectionChange?: (ids: string[]) => void\r\n  pageSize?: number\r\n}\r\n\r\nexport function SubscriptionsDataTablePaginated<TData, TValue>({\r\n  columns,\r\n  data,\r\n  selectedIds,\r\n  onSelectionChange,\r\n  pageSize = 50, // DEFAULT TO 50 ROWS\r\n}: DataTableProps<TData, TValue>) {\r\n  const { theme } = useTheme()\r\n  const isDark = theme === 'staff-dark'\r\n\r\n  const [sorting, setSorting] = React.useState<SortingState>([])\r\n  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>([])\r\n  const [columnVisibility, setColumnVisibility] = React.useState<VisibilityState>({})\r\n  const [rowSelection, setRowSelection] = React.useState({})\r\n  const [pagination, setPagination] = React.useState({\r\n    pageIndex: 0,\r\n    pageSize,\r\n  })\r\n\r\n  console.log('[PAGINATED TABLE] Rendering with', data.length, 'total rows, showing', pagination.pageSize, 'per page')\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    pageCount: Math.ceil(data.length / pagination.pageSize),\r\n    onSortingChange: setSorting,\r\n    onColumnFiltersChange: setColumnFilters,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(), // ADD PAGINATION\r\n    onColumnVisibilityChange: setColumnVisibility,\r\n    onRowSelectionChange: setRowSelection,\r\n    onPaginationChange: setPagination,\r\n    state: {\r\n      sorting,\r\n      columnFilters,\r\n      columnVisibility,\r\n      rowSelection,\r\n      pagination,\r\n    },\r\n  })\r\n\r\n  // Notify parent of selection changes (only for current page)\r\n  React.useEffect(() => {\r\n    if (onSelectionChange) {\r\n      const selectedRowIds = table\r\n        .getFilteredSelectedRowModel()\r\n        .rows.map((row) => (row.original as any).id)\r\n      onSelectionChange(selectedRowIds)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [rowSelection])\r\n\r\n  const currentPageRows = table.getRowModel().rows\r\n  const totalRows = table.getFilteredRowModel().rows.length\r\n  const pageCount = table.getPageCount()\r\n  const currentPage = pagination.pageIndex + 1\r\n\r\n  console.log('[PAGINATED TABLE] Current page:', currentPage, 'of', pageCount, ', showing', currentPageRows.length, 'rows')\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Pagination Controls TOP */}\r\n      <div className={`flex items-center justify-between px-4 py-3 border-b ${isDark ? 'bg-gray-900/30 border-gray-800' : 'bg-gray-50 border-gray-200'}`}>\r\n        <div className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>\r\n          Showing <span className={`font-medium ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>{pagination.pageIndex * pagination.pageSize + 1}</span> to{' '}\r\n          <span className={`font-medium ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>{Math.min((pagination.pageIndex + 1) * pagination.pageSize, totalRows)}</span> of{' '}\r\n          <span className={`font-medium ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>{totalRows}</span> results\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <Select\r\n            value={`${pagination.pageSize}`}\r\n            onValueChange={(value) => {\r\n              setPagination(prev => ({ ...prev, pageSize: Number(value), pageIndex: 0 }))\r\n            }}\r\n          >\r\n            <SelectTrigger className={`h-8 w-[100px] ${isDark ? 'bg-gray-800/50 border-gray-700 text-gray-200' : 'bg-white border-gray-300 text-gray-900'}`}>\r\n              <SelectValue placeholder={`${pagination.pageSize}`} />\r\n            </SelectTrigger>\r\n            <SelectContent className={isDark ? 'bg-gray-900 border-gray-700' : 'bg-white border-gray-200'}>\r\n              <SelectItem value=\"10\" className={isDark ? 'text-gray-200' : 'text-gray-900'}>10 rows</SelectItem>\r\n              <SelectItem value=\"25\" className={isDark ? 'text-gray-200' : 'text-gray-900'}>25 rows</SelectItem>\r\n              <SelectItem value=\"50\" className={isDark ? 'text-gray-200' : 'text-gray-900'}>50 rows</SelectItem>\r\n              <SelectItem value=\"100\" className={isDark ? 'text-gray-200' : 'text-gray-900'}>100 rows</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className={`h-8 w-8 disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\r\n              onClick={() => table.setPageIndex(0)}\r\n              disabled={!table.getCanPreviousPage()}\r\n            >\r\n              <ChevronsLeft className={`h-4 w-4 ${isDark ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className={`h-8 w-8 disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\r\n              onClick={() => table.previousPage()}\r\n              disabled={!table.getCanPreviousPage()}\r\n            >\r\n              <ChevronLeft className={`h-4 w-4 ${isDark ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </Button>\r\n            <div className=\"flex items-center gap-1 px-3\">\r\n              <span className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                Page <span className={`font-medium ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>{currentPage}</span> of <span className={`font-medium ${isDark ? 'text-gray-200' : 'text-gray-900'}`}>{pageCount}</span>\r\n              </span>\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className={`h-8 w-8 disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\r\n              onClick={() => table.nextPage()}\r\n              disabled={!table.getCanNextPage()}\r\n            >\r\n              <ChevronRight className={`h-4 w-4 ${isDark ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className={`h-8 w-8 disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800' : 'hover:bg-gray-100'}`}\r\n              onClick={() => table.setPageIndex(pageCount - 1)}\r\n              disabled={!table.getCanNextPage()}\r\n            >\r\n              <ChevronsRight className={`h-4 w-4 ${isDark ? 'text-gray-400' : 'text-gray-500'}`} />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table - NOW ONLY RENDERS CURRENT PAGE ROWS */}\r\n      <div className={`rounded-lg overflow-x-auto overflow-y-hidden border ${isDark ? 'border-gray-800' : 'border-gray-200'}`}>\r\n        <Table>\r\n          <TableHeader>\r\n            {table.getHeaderGroups().map((headerGroup) => (\r\n              <TableRow key={headerGroup.id} className={`${isDark ? 'border-gray-800' : 'border-gray-200'} hover:bg-transparent`}>\r\n                {headerGroup.headers.map((header) => (\r\n                  <TableHead key={header.id} className={`font-medium text-xs uppercase tracking-wider ${isDark ? 'text-gray-300 bg-gray-900/80' : 'text-gray-700 bg-gray-50'}`}>\r\n                    {header.isPlaceholder\r\n                      ? null\r\n                      : flexRender(\r\n                          header.column.columnDef.header,\r\n                          header.getContext()\r\n                        )}\r\n                  </TableHead>\r\n                ))}\r\n              </TableRow>\r\n            ))}\r\n          </TableHeader>\r\n          <TableBody>\r\n            {currentPageRows?.length ? (\r\n              currentPageRows.map((row, index) => (\r\n                <TableRow\r\n                  key={row.id}\r\n                  data-state={row.getIsSelected() && 'selected'}\r\n                  className={`\r\n                    ${isDark ? 'border-gray-800' : 'border-gray-200'} transition-all duration-150\r\n                    ${isDark ? 'hover:bg-gray-800/30' : 'hover:bg-gray-50'} hover:shadow-sm\r\n                    ${row.getIsSelected() ? (isDark ? 'bg-blue-900/10' : 'bg-blue-50') : ''}\r\n                    ${index % 2 === 0 ? (isDark ? 'bg-gray-900/20' : 'bg-gray-50/50') : 'bg-transparent'}\r\n                  `}\r\n                >\r\n                  {row.getVisibleCells().map((cell) => (\r\n                    <TableCell key={cell.id} className={`py-3 ${isDark ? 'text-gray-100' : 'text-gray-900'}`}>\r\n                      {flexRender(\r\n                        cell.column.columnDef.cell,\r\n                        cell.getContext()\r\n                      )}\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={columns.length}\r\n                  className={`h-32 text-center ${isDark ? 'text-gray-500' : 'text-gray-500'}`}\r\n                >\r\n                  <div className=\"flex flex-col items-center justify-center space-y-2\">\r\n                    <svg className={`w-12 h-12 ${isDark ? 'text-gray-600' : 'text-gray-400'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4\" />\r\n                    </svg>\r\n                    <p className=\"text-sm\">No subscriptions found</p>\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination Controls BOTTOM */}\r\n      <div className={`flex items-center justify-between px-4 py-3 border-t ${isDark ? 'bg-gray-900/30 border-gray-800' : 'bg-gray-50 border-gray-200'}`}>\r\n        <div className={`text-sm ${isDark ? 'text-gray-400' : 'text-gray-600'}`}>\r\n          {table.getFilteredSelectedRowModel().rows.length > 0 && (\r\n            <span className=\"text-blue-500 font-medium\">\r\n              {table.getFilteredSelectedRowModel().rows.length} selected\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => table.previousPage()}\r\n            disabled={!table.getCanPreviousPage()}\r\n            className={`disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800 text-gray-300' : 'hover:bg-gray-100 text-gray-700'}`}\r\n          >\r\n            Previous\r\n          </Button>\r\n          <div className=\"flex items-center gap-1 px-2\">\r\n            {Array.from({ length: Math.min(5, pageCount) }, (_, i) => {\r\n              const pageNumber = i + 1\r\n              const isCurrentPage = pageNumber === currentPage\r\n              return (\r\n                <button\r\n                  key={i}\r\n                  onClick={() => table.setPageIndex(i)}\r\n                  className={`\r\n                    w-8 h-8 rounded text-sm font-medium transition-all\r\n                    ${isCurrentPage\r\n                      ? 'bg-blue-600 text-white'\r\n                      : isDark ? 'text-gray-400 hover:bg-gray-800 hover:text-gray-200' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'}\r\n                  `}\r\n                >\r\n                  {pageNumber}\r\n                </button>\r\n              )\r\n            })}\r\n            {pageCount > 5 && <span className={`px-2 ${isDark ? 'text-gray-500' : 'text-gray-400'}`}>...</span>}\r\n          </div>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => table.nextPage()}\r\n            disabled={!table.getCanNextPage()}\r\n            className={`disabled:opacity-30 transition-all ${isDark ? 'hover:bg-gray-800 text-gray-300' : 'hover:bg-gray-100 text-gray-700'}`}\r\n          >\r\n            Next\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","'use client'\r\n\r\nimport { ColumnDef } from '@tanstack/react-table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowUpDown, Eye, CheckCircle2, Clock, Loader2, XCircle, Archive } from 'lucide-react'\r\nimport Link from 'next/link'\r\n\r\nexport type SubscriptionRow = {\r\n  id: string\r\n  subscription_number: number\r\n  investor_id: string\r\n  vehicle_id: string\r\n  commitment: number\r\n  currency: string\r\n  status: string\r\n  committed_at: string | null\r\n  created_at: string\r\n\r\n  // Share/Unit fields\r\n  price_per_share: number | null\r\n  cost_per_share: number | null\r\n  num_shares: number | null\r\n  spread_per_share: number | null\r\n  units: number | null\r\n\r\n  // Fee fields\r\n  subscription_fee_percent: number | null\r\n  subscription_fee_amount: number | null\r\n  bd_fee_percent: number | null\r\n  bd_fee_amount: number | null\r\n  finra_fee_amount: number | null\r\n  spread_fee_amount: number | null\r\n  performance_fee_tier1_percent: number | null\r\n  performance_fee_tier1_threshold: number | null\r\n  performance_fee_tier2_percent: number | null\r\n  performance_fee_tier2_threshold: number | null\r\n\r\n  // Financial tracking\r\n  funded_amount: number\r\n  outstanding_amount: number | null\r\n  capital_calls_total: number\r\n  distributions_total: number\r\n  current_nav: number | null\r\n\r\n  // Business context\r\n  opportunity_name: string | null\r\n  contract_date: string | null\r\n  sourcing_contract_ref: string | null\r\n  introducer_id: string | null\r\n  introduction_id: string | null\r\n  acknowledgement_notes: string | null\r\n\r\n  investor?: {\r\n    id: string\r\n    legal_name: string\r\n    type: string\r\n    country: string\r\n    kyc_status: string\r\n  }\r\n  vehicle?: {\r\n    id: string\r\n    name: string\r\n    type: string\r\n    currency: string\r\n    status: string\r\n    entity_code: string | null\r\n  }\r\n  introducer?: {\r\n    id: string\r\n    legal_name: string\r\n  } | null\r\n  deal?: {\r\n    id: string\r\n    name: string\r\n  } | null\r\n}\r\n\r\nfunction getStatusColor(status: string) {\r\n  const colors = {\r\n    active: 'bg-green-900/30 text-green-300 border-green-700',\r\n    committed: 'bg-blue-900/30 text-blue-300 border-blue-700',\r\n    pending: 'bg-yellow-900/30 text-yellow-300 border-yellow-700',\r\n    closed: 'bg-gray-800/50 text-gray-300 border-gray-700',\r\n    cancelled: 'bg-red-900/30 text-red-300 border-red-700',\r\n  }\r\n  return colors[status as keyof typeof colors] || 'bg-gray-800/50 text-gray-300 border-gray-700'\r\n}\r\n\r\nfunction getStatusIcon(status: string) {\r\n  const icons = {\r\n    active: CheckCircle2,\r\n    committed: Loader2,\r\n    pending: Clock,\r\n    closed: Archive,\r\n    cancelled: XCircle,\r\n  }\r\n  return icons[status as keyof typeof icons] || Clock\r\n}\r\n\r\nfunction formatCurrency(amount: number, currency: string) {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: currency || 'USD',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n  }).format(amount)\r\n}\r\n\r\nfunction formatCurrencyPrecise(amount: number, currency: string) {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: currency || 'USD',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount)\r\n}\r\n\r\nfunction formatDate(date: string | null) {\r\n  if (!date) return '-'\r\n  return new Date(date).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n  })\r\n}\r\n\r\nexport const subscriptionColumns: ColumnDef<SubscriptionRow>[] = [\r\n  {\r\n    id: 'select',\r\n    header: ({ table }) => (\r\n      <Checkbox\r\n        checked={\r\n          table.getIsAllPageRowsSelected() ||\r\n          (table.getIsSomePageRowsSelected() && 'indeterminate')\r\n        }\r\n        onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\r\n        aria-label=\"Select all\"\r\n        className=\"translate-y-[2px]\"\r\n      />\r\n    ),\r\n    cell: ({ row }) => (\r\n      <Checkbox\r\n        checked={row.getIsSelected()}\r\n        onCheckedChange={(value) => row.toggleSelected(!!value)}\r\n        aria-label=\"Select row\"\r\n        className=\"translate-y-[2px]\"\r\n      />\r\n    ),\r\n    enableSorting: false,\r\n    enableHiding: false,\r\n  },\r\n  {\r\n    accessorKey: 'subscription_number',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Sub #\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const number = row.getValue('subscription_number') as number\r\n      return (\r\n        <div className=\"font-mono font-semibold\">\r\n          #{number}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'investor.legal_name',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Investor\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const investor = row.original.investor\r\n      if (!investor) return <span className=\"text-muted-foreground\">-</span>\r\n\r\n      return (\r\n        <div className=\"flex flex-col\">\r\n          <Link\r\n            href={`/versotech_main/investors/${investor.id}`}\r\n            className=\"font-semibold hover:underline\"\r\n          >\r\n            {investor.legal_name}\r\n          </Link>\r\n          <div className=\"flex items-center gap-2 mt-1\">\r\n            <Badge variant=\"outline\" className=\"text-xs capitalize\">\r\n              {investor.type}\r\n            </Badge>\r\n            <span className=\"text-xs text-muted-foreground\">{investor.country}</span>\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'vehicle.name',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Vehicle\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const vehicle = row.original.vehicle\r\n      if (!vehicle) return <span className=\"text-muted-foreground\">-</span>\r\n\r\n      return (\r\n        <div className=\"flex flex-col\">\r\n          <span className=\"font-semibold\">{vehicle.name}</span>\r\n          {vehicle.type && (\r\n            <span className=\"text-xs text-muted-foreground capitalize\">\r\n              {vehicle.type}\r\n            </span>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'commitment',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Commitment\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const amount = parseFloat(row.getValue('commitment'))\r\n      const currency = row.original.currency\r\n\r\n      return (\r\n        <div className=\"text-right font-semibold\">\r\n          {formatCurrency(amount, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'status',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Status\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const status = row.getValue('status') as string\r\n      const StatusIcon = getStatusIcon(status)\r\n      return (\r\n        <Badge className={`${getStatusColor(status)} flex items-center gap-1.5 w-fit`} variant=\"outline\">\r\n          <StatusIcon className=\"h-3.5 w-3.5\" />\r\n          <span className=\"capitalize\">{status}</span>\r\n        </Badge>\r\n      )\r\n    },\r\n    filterFn: (row, id, value) => {\r\n      return value.includes(row.getValue(id))\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'committed_at',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Committed Date\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const date = row.getValue('committed_at') as string | null\r\n      return <div className=\"text-sm\">{formatDate(date)}</div>\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'created_at',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Created Date\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const date = row.getValue('created_at') as string | null\r\n      return <div className=\"text-sm\">{formatDate(date)}</div>\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'num_shares',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Num Shares\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const shares = row.original.num_shares\r\n      if (shares == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {shares.toLocaleString()}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'price_per_share',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Price/Share\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const price = row.original.price_per_share\r\n      const currency = row.original.currency\r\n      if (price == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrencyPrecise(price, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'cost_per_share',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Cost/Share\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const cost = row.original.cost_per_share\r\n      const currency = row.original.currency\r\n      if (cost == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrencyPrecise(cost, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'spread_per_share',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Spread/Share\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const spread = row.original.spread_per_share\r\n      const currency = row.original.currency\r\n      if (spread == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm text-green-400\">\r\n          {formatCurrencyPrecise(spread, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'spread_fee_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Spread Fee\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const fee = row.original.spread_fee_amount\r\n      const currency = row.original.currency\r\n      if (fee == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(fee, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'subscription_fee_percent',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Sub Fee %\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const percent = row.original.subscription_fee_percent\r\n      if (percent == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {percent.toFixed(2)}%\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'subscription_fee_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Sub Fee $\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const amount = row.original.subscription_fee_amount\r\n      const currency = row.original.currency\r\n      if (amount == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(amount, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'bd_fee_percent',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          BD Fee %\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const percent = row.original.bd_fee_percent\r\n      if (percent == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {percent.toFixed(2)}%\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'bd_fee_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          BD Fee $\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const amount = row.original.bd_fee_amount\r\n      const currency = row.original.currency\r\n      if (amount == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(amount, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'finra_fee_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          FINRA Fee\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const amount = row.original.finra_fee_amount\r\n      const currency = row.original.currency\r\n      if (amount == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(amount, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'funded_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Funded Amount\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const funded = parseFloat(row.getValue('funded_amount'))\r\n      const currency = row.original.currency\r\n\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(funded, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'outstanding_amount',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Outstanding\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const outstanding = row.original.outstanding_amount\r\n      const currency = row.original.currency\r\n\r\n      if (outstanding == null || outstanding === 0) {\r\n        return (\r\n          <div className=\"text-right text-muted-foreground text-sm\">\r\n            Fully funded\r\n          </div>\r\n        )\r\n      }\r\n\r\n      return (\r\n        <div className=\"text-right\">\r\n          <div className=\"font-semibold text-sm text-yellow-600\">\r\n            {formatCurrency(outstanding, currency)}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'current_nav',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Current NAV\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const nav = row.original.current_nav\r\n      const currency = row.original.currency\r\n\r\n      if (nav == null) {\r\n        return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      }\r\n\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(nav, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'opportunity_name',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Opportunity\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      // Investment name from vehicle (always populated)\r\n      const investmentName = (row.original.vehicle as any)?.investment_name\r\n      if (!investmentName) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n\r\n      return (\r\n        <div className=\"max-w-[200px]\">\r\n          <div className=\"text-sm font-medium truncate\" title={investmentName}>\r\n            {investmentName}\r\n          </div>\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'contract_date',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Contract Date\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const date = row.original.contract_date\r\n      return <div className=\"text-sm\">{formatDate(date)}</div>\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'sourcing_contract_ref',\r\n    header: ({ column }) => (\r\n      <Button\r\n        variant=\"ghost\"\r\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n        className=\"-ml-4\"\r\n      >\r\n        Sourcing Ref\r\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n      </Button>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const ref = row.original.sourcing_contract_ref\r\n      if (!ref) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-sm font-mono max-w-[150px] truncate\" title={ref}>\r\n          {ref}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'introducer',\r\n    header: () => <div>Introducer</div>,\r\n    cell: ({ row }) => {\r\n      const introducer = row.original.introducer\r\n      if (!introducer) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-sm font-medium max-w-[150px] truncate\" title={introducer.legal_name}>\r\n          {introducer.legal_name}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'introduction',\r\n    header: () => <div>Introduction</div>,\r\n    cell: ({ row }) => {\r\n      const introductionId = row.original.introduction_id\r\n      if (!introductionId) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-xs font-mono text-muted-foreground max-w-[100px] truncate\" title={introductionId}>\r\n          {introductionId.substring(0, 8)}...\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'notes',\r\n    header: () => <div>Notes</div>,\r\n    cell: ({ row }) => {\r\n      const notes = row.original.acknowledgement_notes\r\n      if (!notes) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-sm max-w-[200px] truncate\" title={notes}>\r\n          {notes}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'performance_fee_tier1_percent',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Perf Tier 1 %\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const percent = row.original.performance_fee_tier1_percent\r\n      if (percent == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm text-purple-400\">\r\n          {percent}%\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'performance_fee_tier1_threshold',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Perf Tier 1 Threshold\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const threshold = row.original.performance_fee_tier1_threshold\r\n      const currency = row.original.currency\r\n      if (threshold == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(threshold, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'performance_fee_tier2_percent',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Perf Tier 2 %\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const percent = row.original.performance_fee_tier2_percent\r\n      if (percent == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm text-purple-300\">\r\n          {percent}%\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    accessorKey: 'performance_fee_tier2_threshold',\r\n    header: ({ column }) => (\r\n      <div className=\"text-right\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"-mr-4\"\r\n        >\r\n          Perf Tier 2 Threshold\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    ),\r\n    cell: ({ row }) => {\r\n      const threshold = row.original.performance_fee_tier2_threshold\r\n      const currency = row.original.currency\r\n      if (threshold == null) return <span className=\"text-muted-foreground text-sm\">-</span>\r\n      return (\r\n        <div className=\"text-right font-semibold text-sm\">\r\n          {formatCurrency(threshold, currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'actions',\r\n    header: () => <div className=\"text-center\">Actions</div>,\r\n    cell: ({ row }) => {\r\n      const subscription = row.original\r\n\r\n      return (\r\n        <div className=\"flex justify-center\">\r\n          <Link href={`/versotech_main/subscriptions/${subscription.id}`}>\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              className=\"h-8 w-8 rounded-full bg-white text-black border-white hover:bg-gray-200\"\r\n              title=\"View Details\"\r\n            >\r\n              <Eye className=\"h-4 w-4\" />\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n]\r\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { X, Search, DollarSign } from 'lucide-react'\r\nimport { useTheme } from '@/components/theme-provider'\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport type SimpleFilters = {\r\n  search?: string\r\n  statuses?: string[]\r\n  commitmentMin?: number\r\n  commitmentMax?: number\r\n}\r\n\r\ninterface FilterPopupProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  filters: SimpleFilters\r\n  onApply: (filters: SimpleFilters) => void\r\n  vehicles?: Array<{ id: string; name: string }>\r\n}\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: 'pending', label: 'Pending', darkColor: 'bg-yellow-500/20 text-yellow-300 border-yellow-500/50', lightColor: 'bg-yellow-100 text-yellow-700 border-yellow-300' },\r\n  { value: 'committed', label: 'Committed', darkColor: 'bg-blue-500/20 text-blue-300 border-blue-500/50', lightColor: 'bg-blue-100 text-blue-700 border-blue-300' },\r\n  { value: 'active', label: 'Active', darkColor: 'bg-green-500/20 text-green-300 border-green-500/50', lightColor: 'bg-green-100 text-green-700 border-green-300' },\r\n  { value: 'closed', label: 'Closed', darkColor: 'bg-gray-500/20 text-gray-300 border-gray-500/50', lightColor: 'bg-gray-100 text-gray-700 border-gray-300' },\r\n  { value: 'cancelled', label: 'Cancelled', darkColor: 'bg-red-500/20 text-red-300 border-red-500/50', lightColor: 'bg-red-100 text-red-700 border-red-300' },\r\n]\r\n\r\nexport function FilterPopup({ open, onOpenChange, filters, onApply }: FilterPopupProps) {\r\n  const { theme } = useTheme()\r\n  const isDark = theme === 'staff-dark'\r\n\r\n  const [localFilters, setLocalFilters] = useState<SimpleFilters>(filters)\r\n\r\n  const handleApply = () => {\r\n    onApply(localFilters)\r\n    onOpenChange(false)\r\n  }\r\n\r\n  const handleReset = () => {\r\n    setLocalFilters({})\r\n    onApply({})\r\n    onOpenChange(false)\r\n  }\r\n\r\n  const toggleStatus = (status: string) => {\r\n    const current = localFilters.statuses || []\r\n    const updated = current.includes(status)\r\n      ? current.filter(s => s !== status)\r\n      : [...current, status]\r\n\r\n    setLocalFilters(prev => ({\r\n      ...prev,\r\n      statuses: updated.length > 0 ? updated : undefined\r\n    }))\r\n  }\r\n\r\n  const activeFilterCount = [\r\n    localFilters.search,\r\n    localFilters.statuses?.length,\r\n    localFilters.commitmentMin,\r\n    localFilters.commitmentMax,\r\n  ].filter(Boolean).length\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className={cn(\r\n        \"sm:max-w-[500px]\",\r\n        isDark ? \"bg-gray-900 border-gray-700 text-white\" : \"bg-white border-gray-200 text-gray-900\"\r\n      )}>\r\n        <DialogHeader>\r\n          <DialogTitle className={cn(\r\n            \"flex items-center justify-between text-xl\",\r\n            isDark ? \"text-white\" : \"text-gray-900\"\r\n          )}>\r\n            <span>Filter Subscriptions</span>\r\n            {activeFilterCount > 0 && (\r\n              <Badge variant=\"secondary\" className=\"ml-2\">\r\n                {activeFilterCount} active\r\n              </Badge>\r\n            )}\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6 py-4\">\r\n          {/* Search */}\r\n          <div className=\"space-y-2\">\r\n            <Label className={cn(\"text-sm font-medium\", isDark ? \"text-gray-200\" : \"text-gray-700\")}>Search</Label>\r\n            <div className=\"relative\">\r\n              <Search className={cn(\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4\", isDark ? \"text-gray-400\" : \"text-gray-500\")} />\r\n              <Input\r\n                placeholder=\"Search by number, investor, or vehicle...\"\r\n                value={localFilters.search || ''}\r\n                onChange={(e) => setLocalFilters(prev => ({ ...prev, search: e.target.value }))}\r\n                className={cn(\r\n                  \"pl-10\",\r\n                  isDark\r\n                    ? \"bg-gray-800 border-gray-600 text-white placeholder:text-gray-500\"\r\n                    : \"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400\"\r\n                )}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Status */}\r\n          <div className=\"space-y-2\">\r\n            <Label className={cn(\"text-sm font-medium\", isDark ? \"text-gray-200\" : \"text-gray-700\")}>Status</Label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {STATUS_OPTIONS.map(status => (\r\n                <Badge\r\n                  key={status.value}\r\n                  variant=\"outline\"\r\n                  className={cn(\r\n                    \"cursor-pointer transition-all\",\r\n                    localFilters.statuses?.includes(status.value)\r\n                      ? (isDark ? status.darkColor : status.lightColor)\r\n                      : (isDark ? 'bg-gray-800 text-gray-400 border-gray-600 hover:border-gray-500' : 'bg-gray-50 text-gray-600 border-gray-300 hover:border-gray-400')\r\n                  )}\r\n                  onClick={() => toggleStatus(status.value)}\r\n                >\r\n                  {localFilters.statuses?.includes(status.value) && (\r\n                    <span className=\"mr-1\"></span>\r\n                  )}\r\n                  {status.label}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Commitment Range */}\r\n          <div className=\"space-y-2\">\r\n            <Label className={cn(\"text-sm font-medium\", isDark ? \"text-gray-200\" : \"text-gray-700\")}>Commitment Amount</Label>\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className=\"relative flex-1\">\r\n                <DollarSign className={cn(\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4\", isDark ? \"text-gray-400\" : \"text-gray-500\")} />\r\n                <Input\r\n                  type=\"number\"\r\n                  placeholder=\"Min\"\r\n                  value={localFilters.commitmentMin || ''}\r\n                  onChange={(e) => setLocalFilters(prev => ({\r\n                    ...prev,\r\n                    commitmentMin: e.target.value ? Number(e.target.value) : undefined\r\n                  }))}\r\n                  className={cn(\r\n                    \"pl-10\",\r\n                    isDark\r\n                      ? \"bg-gray-800 border-gray-600 text-white placeholder:text-gray-500\"\r\n                      : \"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400\"\r\n                  )}\r\n                />\r\n              </div>\r\n              <span className={isDark ? \"text-gray-400\" : \"text-gray-500\"}>to</span>\r\n              <div className=\"relative flex-1\">\r\n                <DollarSign className={cn(\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4\", isDark ? \"text-gray-400\" : \"text-gray-500\")} />\r\n                <Input\r\n                  type=\"number\"\r\n                  placeholder=\"Max\"\r\n                  value={localFilters.commitmentMax || ''}\r\n                  onChange={(e) => setLocalFilters(prev => ({\r\n                    ...prev,\r\n                    commitmentMax: e.target.value ? Number(e.target.value) : undefined\r\n                  }))}\r\n                  className={cn(\r\n                    \"pl-10\",\r\n                    isDark\r\n                      ? \"bg-gray-800 border-gray-600 text-white placeholder:text-gray-500\"\r\n                      : \"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400\"\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex items-center justify-between\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={handleReset}\r\n            className={isDark ? \"text-gray-400 hover:text-white\" : \"text-gray-600 hover:text-gray-900\"}\r\n          >\r\n            Clear All\r\n          </Button>\r\n          <div className=\"flex gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              className={isDark\r\n                ? \"bg-transparent border-gray-600 text-gray-300 hover:bg-gray-800\"\r\n                : \"bg-transparent border-gray-300 text-gray-600 hover:bg-gray-100\"\r\n              }\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              onClick={handleApply}\r\n              className=\"bg-blue-600 text-white hover:bg-blue-700\"\r\n            >\r\n              Apply Filters\r\n            </Button>\r\n          </div>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}","'use client'\n\nimport { useState } from 'react'\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport { Textarea } from '@/components/ui/textarea'\nimport { toast } from 'sonner'\nimport { Loader2, Plus } from 'lucide-react'\n\ninterface NewSubscriptionDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onSuccess: () => void\n  vehicles: Array<{ id: string; name: string }>\n  investors: Array<{ id: string; legal_name: string }>\n}\n\nexport function NewSubscriptionDialog({\n  open,\n  onOpenChange,\n  onSuccess,\n  vehicles,\n  investors,\n}: NewSubscriptionDialogProps) {\n  const [loading, setLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    investor_id: '',\n    vehicle_id: '',\n    commitment: '',\n    currency: 'USD',\n    status: 'pending',\n    effective_date: '',\n    funding_due_at: '',\n    units: '',\n    acknowledgement_notes: '',\n  })\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!formData.investor_id || !formData.vehicle_id || !formData.commitment) {\n      toast.error('Please fill in all required fields')\n      return\n    }\n\n    setLoading(true)\n    try {\n      const response = await fetch('/api/subscriptions/create', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...formData,\n          commitment: parseFloat(formData.commitment),\n          units: formData.units ? parseFloat(formData.units) : null,\n        }),\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.error || 'Failed to create subscription')\n      }\n\n      toast.success('Subscription created successfully')\n      onOpenChange(false)\n      onSuccess()\n\n      // Reset form\n      setFormData({\n        investor_id: '',\n        vehicle_id: '',\n        commitment: '',\n        currency: 'USD',\n        status: 'pending',\n        effective_date: '',\n        funding_due_at: '',\n        units: '',\n        acknowledgement_notes: '',\n      })\n    } catch (error) {\n      console.error('Create subscription error:', error)\n      toast.error(error instanceof Error ? error.message : 'Failed to create subscription')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"bg-background border-border text-foreground max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader className=\"border-b border-border pb-4\">\n          <DialogTitle className=\"text-2xl font-bold text-foreground flex items-center gap-2\">\n            <Plus className=\"h-6 w-6 text-blue-400\" />\n            New Subscription\n          </DialogTitle>\n          <DialogDescription className=\"text-muted-foreground\">\n            Create a new subscription for an investor in a vehicle\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6 pt-4\">\n          {/* Investor Selection */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"investor_id\" className=\"text-foreground text-sm font-medium\">\n              Investor <span className=\"text-red-400\">*</span>\n            </Label>\n            <Select\n              value={formData.investor_id}\n              onValueChange={(value) => setFormData({ ...formData, investor_id: value })}\n              required\n            >\n              <SelectTrigger id=\"investor_id\" className=\"bg-muted border-border text-foreground\">\n                <SelectValue placeholder=\"Select an investor\" />\n              </SelectTrigger>\n              <SelectContent className=\"bg-muted border-border max-h-[200px]\">\n                {investors.map((investor) => (\n                  <SelectItem key={investor.id} value={investor.id} className=\"text-foreground\">\n                    {investor.legal_name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Vehicle Selection */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"vehicle_id\" className=\"text-foreground text-sm font-medium\">\n              Vehicle <span className=\"text-red-400\">*</span>\n            </Label>\n            <Select\n              value={formData.vehicle_id}\n              onValueChange={(value) => setFormData({ ...formData, vehicle_id: value })}\n              required\n            >\n              <SelectTrigger id=\"vehicle_id\" className=\"bg-muted border-border text-foreground\">\n                <SelectValue placeholder=\"Select a vehicle\" />\n              </SelectTrigger>\n              <SelectContent className=\"bg-muted border-border max-h-[200px]\">\n                {vehicles.map((vehicle) => (\n                  <SelectItem key={vehicle.id} value={vehicle.id} className=\"text-foreground\">\n                    {vehicle.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Commitment & Currency */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"commitment\" className=\"text-foreground text-sm font-medium\">\n                Commitment Amount <span className=\"text-red-400\">*</span>\n              </Label>\n              <Input\n                id=\"commitment\"\n                type=\"number\"\n                step=\"0.01\"\n                placeholder=\"0.00\"\n                value={formData.commitment}\n                onChange={(e) => setFormData({ ...formData, commitment: e.target.value })}\n                className=\"bg-muted border-border text-foreground\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"currency\" className=\"text-foreground text-sm font-medium\">\n                Currency\n              </Label>\n              <Select\n                value={formData.currency}\n                onValueChange={(value) => setFormData({ ...formData, currency: value })}\n              >\n                <SelectTrigger id=\"currency\" className=\"bg-muted border-border text-foreground\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent className=\"bg-muted border-border\">\n                  <SelectItem value=\"USD\" className=\"text-foreground\">USD</SelectItem>\n                  <SelectItem value=\"EUR\" className=\"text-foreground\">EUR</SelectItem>\n                  <SelectItem value=\"GBP\" className=\"text-foreground\">GBP</SelectItem>\n                  <SelectItem value=\"CHF\" className=\"text-foreground\">CHF</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Status */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"status\" className=\"text-foreground text-sm font-medium\">\n              Status\n            </Label>\n            <Select\n              value={formData.status}\n              onValueChange={(value) => setFormData({ ...formData, status: value })}\n            >\n              <SelectTrigger id=\"status\" className=\"bg-muted border-border text-foreground\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent className=\"bg-muted border-border\">\n                <SelectItem value=\"pending\" className=\"text-foreground\">Pending</SelectItem>\n                <SelectItem value=\"committed\" className=\"text-foreground\">Committed</SelectItem>\n                <SelectItem value=\"active\" className=\"text-foreground\">Active</SelectItem>\n                <SelectItem value=\"closed\" className=\"text-foreground\">Closed</SelectItem>\n                <SelectItem value=\"cancelled\" className=\"text-foreground\">Cancelled</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Dates */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"effective_date\" className=\"text-foreground text-sm font-medium\">\n                Effective Date\n              </Label>\n              <Input\n                id=\"effective_date\"\n                type=\"date\"\n                value={formData.effective_date}\n                onChange={(e) => setFormData({ ...formData, effective_date: e.target.value })}\n                className=\"bg-muted border-border text-foreground\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"funding_due_at\" className=\"text-foreground text-sm font-medium\">\n                Funding Due Date\n              </Label>\n              <Input\n                id=\"funding_due_at\"\n                type=\"date\"\n                value={formData.funding_due_at}\n                onChange={(e) => setFormData({ ...formData, funding_due_at: e.target.value })}\n                className=\"bg-muted border-border text-foreground\"\n              />\n            </div>\n          </div>\n\n          {/* Units */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"units\" className=\"text-foreground text-sm font-medium\">\n              Number of Units\n            </Label>\n            <Input\n              id=\"units\"\n              type=\"number\"\n              step=\"0.01\"\n              placeholder=\"Optional\"\n              value={formData.units}\n              onChange={(e) => setFormData({ ...formData, units: e.target.value })}\n              className=\"bg-muted border-border text-foreground\"\n            />\n          </div>\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"acknowledgement_notes\" className=\"text-foreground text-sm font-medium\">\n              Notes\n            </Label>\n            <Textarea\n              id=\"acknowledgement_notes\"\n              placeholder=\"Add any additional notes...\"\n              value={formData.acknowledgement_notes}\n              onChange={(e) => setFormData({ ...formData, acknowledgement_notes: e.target.value })}\n              className=\"bg-muted border-border text-foreground min-h-[100px]\"\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-end gap-3 pt-4 border-t border-border\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              className=\"bg-muted text-foreground border-border hover:bg-muted/80\"\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-primary text-primary-foreground hover:bg-primary/90\"\n              disabled={loading}\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Creating...\n                </>\n              ) : (\n                <>\n                  <Plus className=\"mr-2 h-4 w-4\" />\n                  Create Subscription\n                </>\n              )}\n            </Button>\n          </div>\n        </form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}