{"version":3,"sources":["../../../../../versotech-portal/src/components/calendar/calendar-split-view.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/calendar/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CalendarSplitView = registerClientReference(\n    function() { throw new Error(\"Attempted to call CalendarSplitView() from the server but CalendarSplitView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/calendar/calendar-split-view.tsx\",\n    \"CalendarSplitView\",\n);\n","import { redirect } from 'next/navigation'\n\nimport { CalendarSplitView } from '@/components/calendar/calendar-split-view'\nimport type { CalendarEvent } from '@/components/calendar/calendar-view'\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\n\nexport const dynamic = 'force-dynamic'\n\n// Color palettes for different event types\nconst TASK_PALETTE: Record<string, { id: string; name: string; color: string }> = {\n  high: { id: 'task-high', name: 'Task • High priority', color: '#dc2626' },\n  medium: { id: 'task-medium', name: 'Task • Medium priority', color: '#f97316' },\n  low: { id: 'task-low', name: 'Task • Standard priority', color: '#2563eb' }\n}\n\nconst REQUEST_PALETTE: Record<string, { id: string; name: string; color: string }> = {\n  urgent: { id: 'request-urgent', name: 'Investor request • Urgent', color: '#be123c' },\n  high: { id: 'request-high', name: 'Investor request • High', color: '#b45309' },\n  normal: { id: 'request-normal', name: 'Investor request • Standard', color: '#0ea5e9' },\n  low: { id: 'request-low', name: 'Investor request • Low', color: '#64748b' }\n}\n\nconst DEAL_PALETTE: Record<string, { id: string; name: string; color: string }> = {\n  open: { id: 'deal-open', name: 'Deal close • Open', color: '#7c3aed' },\n  allocation_pending: { id: 'deal-allocation', name: 'Deal close • Allocation pending', color: '#a855f7' },\n  due_diligence: { id: 'deal-dd', name: 'Deal close • Due diligence', color: '#9333ea' },\n  closed: { id: 'deal-closed', name: 'Deal close • Closed', color: '#64748b' }\n}\n\nconst CAPITAL_CALL_PALETTE = {\n  pending: { id: 'call-pending', name: 'Capital call due', color: '#dc2626' },\n  draft: { id: 'call-draft', name: 'Capital call • Draft', color: '#f97316' }\n}\n\nconst DISTRIBUTION_PALETTE = {\n  scheduled: { id: 'dist-scheduled', name: 'Distribution', color: '#16a34a' }\n}\n\nconst KYC_PALETTE = {\n  expiring_soon: { id: 'kyc-expiring', name: 'KYC expiring', color: '#f59e0b' },\n  expired: { id: 'kyc-expired', name: 'KYC expired', color: '#dc2626' },\n  accred_expiring: { id: 'accred-expiring', name: 'Accreditation expiring', color: '#ea580c' }\n}\n\nconst APPROVAL_PALETTE = {\n  sla_breach: { id: 'approval-breach', name: 'Approval • SLA breach', color: '#dc2626' },\n  pending: { id: 'approval-pending', name: 'Approval pending', color: '#f59e0b' }\n}\n\nconst FEE_PALETTE = {\n  accrued: { id: 'fee-accrued', name: 'Fee event', color: '#14b8a6' }\n}\n\nconst DATA_ROOM_PALETTE = {\n  expiring: { id: 'data-room-expiring', name: 'Data room access expiring', color: '#8b5cf6' }\n}\n\nconst SUBSCRIPTION_PALETTE = {\n  funding: { id: 'sub-funding', name: 'Subscription funding due', color: '#10b981' }\n}\n\nexport default async function StaffCalendarPage() {\n  const supabase = await createClient()\n  const { data: { user } } = await supabase.auth.getUser()\n\n  if (!user) {\n    redirect('/versotech/login')\n  }\n\n  // Check staff role\n  const { data: profile } = await supabase\n    .from('profiles')\n    .select('role')\n    .eq('id', user.id)\n    .single()\n\n  if (!profile || !['staff_admin', 'staff_ops', 'staff_rm', 'ceo'].includes(profile.role)) {\n    redirect('/versotech')\n  }\n\n  const serviceSupabase = createServiceClient()\n  const calendarEvents: CalendarEvent[] = []\n\n  // 1. TASKS - All staff tasks\n  const { data: taskRows } = await serviceSupabase\n    .from('tasks')\n    .select('id, title, status, priority, due_at, category, created_at')\n    .not('status', 'eq', 'completed')\n    .not('owner_user_id', 'is', null)\n    .order('due_at', { ascending: true, nullsFirst: false })\n    .limit(50)\n\n  for (const task of taskRows ?? []) {\n    const priorityKey = task.priority || 'medium'\n    const palette = TASK_PALETTE[priorityKey] ?? TASK_PALETTE.low\n    const endDate = task.due_at ? new Date(task.due_at) : new Date(task.created_at)\n    const startDate = task.due_at ? addDays(endDate, -1) : new Date(task.created_at)\n\n    calendarEvents.push({\n      id: `task-${task.id}`,\n      name: task.title,\n      startAt: startDate.toISOString(),\n      endAt: endDate.toISOString(),\n      status: palette,\n      description: task.category ? `Category • ${sentenceCase(task.category)}` : undefined\n    })\n  }\n\n  // 2. DEALS - Target close dates\n  const { data: dealRows } = await serviceSupabase\n    .from('deals')\n    .select('id, name, status, close_at, created_at, vehicles ( name )')\n    .in('status', ['open', 'allocation_pending', 'draft'])\n    .not('close_at', 'is', null)\n    .order('close_at', { ascending: true })\n    .limit(30)\n\n  for (const deal of dealRows ?? []) {\n    const statusKey = deal.status ?? 'open'\n    const palette = DEAL_PALETTE[statusKey] ?? DEAL_PALETTE.open\n    const closeDate = new Date(deal.close_at!)\n    const startDate = addDays(closeDate, -7) // Show week before close\n\n    calendarEvents.push({\n      id: `deal-${deal.id}`,\n      name: `Deal Close: ${deal.name}`,\n      startAt: startDate.toISOString(),\n      endAt: deal.close_at!,\n      status: palette,\n      description: deal.vehicles?.[0]?.name ? `Vehicle • ${deal.vehicles[0].name}` : undefined\n    })\n  }\n\n  // 3. CAPITAL CALLS - Due dates\n  const { data: capitalCallRows } = await serviceSupabase\n    .from('capital_calls')\n    .select('id, name, due_date, status, vehicles ( name )')\n    .in('status', ['draft', 'pending', 'active'])\n    .not('due_date', 'is', null)\n    .order('due_date', { ascending: true })\n    .limit(30)\n\n  for (const call of capitalCallRows ?? []) {\n    const palette = call.status === 'pending' ? CAPITAL_CALL_PALETTE.pending : CAPITAL_CALL_PALETTE.draft\n    const dueDate = new Date(call.due_date!)\n    const startDate = addDays(dueDate, -3)\n\n    calendarEvents.push({\n      id: `call-${call.id}`,\n      name: call.name,\n      startAt: startDate.toISOString(),\n      endAt: call.due_date!,\n      status: palette,\n      description: call.vehicles?.[0]?.name ? `Vehicle • ${call.vehicles[0].name}` : undefined\n    })\n  }\n\n  // 4. DISTRIBUTIONS - Distribution dates\n  const { data: distributionRows } = await serviceSupabase\n    .from('distributions')\n    .select('id, name, date, vehicles ( name )')\n    .gte('date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0]) // Last 30 days or future\n    .order('date', { ascending: true })\n    .limit(30)\n\n  for (const dist of distributionRows ?? []) {\n    const distDate = new Date(dist.date)\n\n    calendarEvents.push({\n      id: `dist-${dist.id}`,\n      name: dist.name,\n      startAt: distDate.toISOString(),\n      endAt: distDate.toISOString(),\n      status: DISTRIBUTION_PALETTE.scheduled,\n      description: dist.vehicles?.[0]?.name ? `Vehicle • ${dist.vehicles[0].name}` : undefined\n    })\n  }\n\n  // 5. KYC RENEWALS - KYC and accreditation expiry dates\n  const ninetyDaysFromNow = new Date(Date.now() + 90 * 86_400_000).toISOString().split('T')[0]\n\n  const { data: kycRows } = await serviceSupabase\n    .from('investors')\n    .select('id, legal_name, kyc_expiry_date, accreditation_expiry')\n    .or(`kyc_expiry_date.lte.${ninetyDaysFromNow},accreditation_expiry.lte.${ninetyDaysFromNow}`)\n    .limit(50)\n\n  for (const investor of kycRows ?? []) {\n    if (investor.kyc_expiry_date) {\n      const expiryDate = new Date(investor.kyc_expiry_date)\n      const isExpired = expiryDate < new Date()\n      const palette = isExpired ? KYC_PALETTE.expired : KYC_PALETTE.expiring_soon\n      const startDate = addDays(expiryDate, -14)\n\n      calendarEvents.push({\n        id: `kyc-${investor.id}`,\n        name: `KYC Renewal: ${investor.legal_name}`,\n        startAt: startDate.toISOString(),\n        endAt: investor.kyc_expiry_date,\n        status: palette,\n        description: isExpired ? 'Expired' : 'Expiring soon'\n      })\n    }\n\n    if (investor.accreditation_expiry) {\n      const expiryDate = new Date(investor.accreditation_expiry)\n      const startDate = addDays(expiryDate, -14)\n\n      calendarEvents.push({\n        id: `accred-${investor.id}`,\n        name: `Accreditation Renewal: ${investor.legal_name}`,\n        startAt: startDate.toISOString(),\n        endAt: investor.accreditation_expiry,\n        status: KYC_PALETTE.accred_expiring,\n        description: 'Accreditation expiring'\n      })\n    }\n  }\n\n  // 6. APPROVALS - Pending approvals with SLA tracking\n  const { data: approvalRows } = await serviceSupabase\n    .from('approvals')\n    .select('id, entity_type, action, entity_id, created_at, sla_breach_at, requested_by:profiles!requested_by ( display_name )')\n    .eq('status', 'pending')\n    .order('sla_breach_at', { ascending: true, nullsFirst: false })\n    .limit(30)\n\n  for (const approval of approvalRows ?? []) {\n    const breachDate = approval.sla_breach_at\n      ? new Date(approval.sla_breach_at)\n      : addDays(new Date(approval.created_at), 3) // Default 3-day SLA\n\n    const isBreach = breachDate < new Date()\n    const palette = isBreach ? APPROVAL_PALETTE.sla_breach : APPROVAL_PALETTE.pending\n    const startDate = new Date(approval.created_at)\n\n    const approvalType = approval.action\n      ? sentenceCase(approval.action)\n      : sentenceCase(approval.entity_type)\n\n    calendarEvents.push({\n      id: `approval-${approval.id}`,\n      name: `Approval: ${approvalType}`,\n      startAt: startDate.toISOString(),\n      endAt: breachDate.toISOString(),\n      status: palette,\n      description: Array.isArray(approval.requested_by) && approval.requested_by[0]?.display_name\n        ? `Requested by ${approval.requested_by[0].display_name}`\n        : undefined\n    })\n  }\n\n  // 7. SUBSCRIPTION FUNDING - Funding due dates\n  const { data: subscriptionRows } = await serviceSupabase\n    .from('subscriptions')\n    .select('id, subscription_number, funding_due_at, investors ( legal_name ), vehicles ( name )')\n    .in('status', ['committed', 'active'])\n    .not('funding_due_at', 'is', null)\n    .gte('funding_due_at', new Date().toISOString())\n    .order('funding_due_at', { ascending: true })\n    .limit(30)\n\n  for (const sub of subscriptionRows ?? []) {\n    const fundingDate = new Date(sub.funding_due_at!)\n    const startDate = addDays(fundingDate, -5)\n\n    calendarEvents.push({\n      id: `sub-${sub.id}`,\n      name: `Funding Due: ${(Array.isArray(sub.investors) ? sub.investors[0]?.legal_name : null) || sub.subscription_number}`,\n      startAt: startDate.toISOString(),\n      endAt: sub.funding_due_at!,\n      status: SUBSCRIPTION_PALETTE.funding,\n      description: sub.vehicles?.[0]?.name ? `Vehicle • ${sub.vehicles[0].name}` : undefined\n    })\n  }\n\n  // 8. FEE EVENTS - Fee accrual/payment dates\n  const { data: feeRows } = await serviceSupabase\n    .from('fee_events')\n    .select('id, fee_type, event_date, computed_amount, deals ( name ), investors ( legal_name, display_name )')\n    .in('status', ['accrued', 'invoiced'])\n    .gte('event_date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0])\n    .order('event_date', { ascending: true })\n    .limit(30)\n\n  for (const fee of feeRows ?? []) {\n    const feeDate = new Date(fee.event_date)\n\n    const dealName = Array.isArray(fee.deals) && fee.deals[0]?.name\n      ? fee.deals[0].name\n      : null\n\n    const investorName = Array.isArray(fee.investors) && fee.investors[0]\n      ? (fee.investors[0].display_name || fee.investors[0].legal_name)\n      : null\n\n    const description = dealName\n      ? `Deal • ${dealName}`\n      : investorName\n      ? `Investor • ${investorName}`\n      : undefined\n\n    calendarEvents.push({\n      id: `fee-${fee.id}`,\n      name: `Fee Event: ${sentenceCase(fee.fee_type)}`,\n      startAt: feeDate.toISOString(),\n      endAt: feeDate.toISOString(),\n      status: FEE_PALETTE.accrued,\n      description\n    })\n  }\n\n  // 9. REQUEST TICKETS - Custom requests with due dates\n  const { data: requestRows } = await serviceSupabase\n    .from('request_tickets')\n    .select('id, subject, status, priority, due_date, created_at, investors ( legal_name )')\n    .in('status', ['open', 'in_progress'])\n    .order('due_date', { ascending: true, nullsFirst: false })\n    .limit(30)\n\n  for (const request of requestRows ?? []) {\n    const palette = REQUEST_PALETTE[request.priority] ?? REQUEST_PALETTE.normal\n    const endDate = request.due_date ? new Date(request.due_date) : addDays(new Date(request.created_at), 5)\n    const startDate = new Date(request.created_at)\n\n    calendarEvents.push({\n      id: `request-${request.id}`,\n      name: request.subject || 'Investor Request',\n      startAt: startDate.toISOString(),\n      endAt: endDate.toISOString(),\n      status: palette,\n      description: Array.isArray(request.investors) && request.investors[0]?.legal_name\n        ? `Investor • ${request.investors[0].legal_name}`\n        : undefined\n    })\n  }\n\n  // 10. DATA ROOM ACCESS - Expiring access\n  const thirtyDaysFromNow = new Date(Date.now() + 30 * 86_400_000).toISOString()\n\n  const { data: dataRoomRows } = await serviceSupabase\n    .from('deal_data_room_access')\n    .select('id, expires_at, deals ( name ), investors ( legal_name, display_name )')\n    .is('revoked_at', null)\n    .lte('expires_at', thirtyDaysFromNow)\n    .order('expires_at', { ascending: true })\n    .limit(30)\n\n  for (const access of dataRoomRows ?? []) {\n    const expiryDate = new Date(access.expires_at)\n    const startDate = addDays(expiryDate, -3)\n\n    const investorName = Array.isArray(access.investors) && access.investors[0]\n      ? (access.investors[0].display_name || access.investors[0].legal_name)\n      : null\n\n    calendarEvents.push({\n      id: `dataroom-${access.id}`,\n      name: `Data Room Expiry: ${(Array.isArray(access.deals) ? access.deals[0]?.name : null) || 'Deal'}`,\n      startAt: startDate.toISOString(),\n      endAt: access.expires_at,\n      status: DATA_ROOM_PALETTE.expiring,\n      description: investorName ? `Investor • ${investorName}` : undefined\n    })\n  }\n\n  // Sort events by start date\n  calendarEvents.sort((a, b) => new Date(a.startAt).getTime() - new Date(b.startAt).getTime())\n\n  return (\n    <div className=\"space-y-8 px-6 py-8\">\n      <div className=\"space-y-2\">\n        <h1 className=\"text-3xl font-bold text-foreground\">Staff Calendar</h1>\n        <p className=\"text-muted-foreground\">\n          View all important deadlines, events, and tasks across the platform\n        </p>\n      </div>\n      <CalendarSplitView\n        calendarEvents={calendarEvents}\n        emptyCalendarMessage=\"No upcoming events or deadlines scheduled.\"\n        brand=\"versotech\"\n      />\n    </div>\n  )\n}\n\nfunction addDays(base: Date, days: number) {\n  return new Date(base.getTime() + days * 86_400_000)\n}\n\nfunction sentenceCase(input: string | null): string | undefined {\n  if (!input) return undefined\n  return input\n    .toLowerCase()\n    .split('_')\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\n    .join(' ')\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}