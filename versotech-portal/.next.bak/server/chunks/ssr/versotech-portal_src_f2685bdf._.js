module.exports=[576478,a=>{"use strict";a.s(["DataRoomDocumentsGrouped",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call DataRoomDocumentsGrouped() from the server but DataRoomDocumentsGrouped is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/data-room-documents-grouped.tsx <module evaluation>","DataRoomDocumentsGrouped")},202346,a=>{"use strict";a.s(["DataRoomDocumentsGrouped",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call DataRoomDocumentsGrouped() from the server but DataRoomDocumentsGrouped is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/data-room-documents-grouped.tsx","DataRoomDocumentsGrouped")},258163,a=>{"use strict";a.i(576478);var b=a.i(202346);a.n(b)},57816,a=>{"use strict";a.s(["SubmitSubscriptionForm",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call SubmitSubscriptionForm() from the server but SubmitSubscriptionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/submit-subscription-form.tsx <module evaluation>","SubmitSubscriptionForm")},614017,a=>{"use strict";a.s(["SubmitSubscriptionForm",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call SubmitSubscriptionForm() from the server but SubmitSubscriptionForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/submit-subscription-form.tsx","SubmitSubscriptionForm")},513679,a=>{"use strict";a.i(57816);var b=a.i(614017);a.n(b)},506919,a=>{"use strict";a.s(["RequestExtensionButton",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call RequestExtensionButton() from the server but RequestExtensionButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/request-extension-button.tsx <module evaluation>","RequestExtensionButton")},703202,a=>{"use strict";a.s(["RequestExtensionButton",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call RequestExtensionButton() from the server but RequestExtensionButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/deals/request-extension-button.tsx","RequestExtensionButton")},951332,a=>{"use strict";a.i(506919);var b=a.i(703202);a.n(b)},741668,a=>{"use strict";var b=a.i(714898),c=a.i(743513),d=a.i(198307);a.i(937413);var e=a.i(131360),f=a.i(644198),g=a.i(290238),h=a.i(116722),i=a.i(718829);let j=(0,i.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),k=(0,i.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var l=a.i(518947),m=a.i(862138),n=a.i(948786),o=a.i(441196),p=a.i(521135),q=a.i(639192),r=a.i(560852),s=a.i(258163),t=a.i(513679),u=a.i(951332),v=a.i(673489),w=a.i(141831);function x(a){return a?new Date(a).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"Not specified"}function y(a,b="USD"){if(!a)return"Not specified";let c="string"==typeof a?parseFloat(a):a;return new Intl.NumberFormat("en-US",{style:"currency",currency:b,minimumFractionDigits:0,maximumFractionDigits:0}).format(c)}async function z({params:a}){let{dealId:i}=await a,z=await (0,d.createClient)(),{data:{user:A},error:B}=await z.auth.getUser();if(B||!A)throw Error("Authentication required");let C=(0,d.createServiceClient)(),{data:D}=await C.from("investor_users").select("investor_id").eq("user_id",A.id);D&&0!==D.length||(0,e.notFound)();let E=D.map(a=>a.investor_id),F=E[0],G=new Date().toISOString(),{data:H}=await C.from("deal_data_room_access").select("*").eq("deal_id",i).in("investor_id",E).is("revoked_at",null).or(`expires_at.is.null,expires_at.gt.${G}`).single();H||(0,e.notFound)();let{data:I}=await C.from("deals").select(`
      id,
      name,
      company_name,
      company_logo_url,
      stage,
      sector,
      location,
      currency,
      description,
      investment_thesis,
      deal_type,
      minimum_investment,
      maximum_investment,
      target_amount,
      raised_amount,
      offer_unit_price,
      open_at,
      close_at,
      terms_schema
    `).eq("id",i).single();I||(0,e.notFound)();let{data:J}=await C.from("deal_fee_structures").select("*").eq("deal_id",i).eq("status","published").order("version",{ascending:!1}).limit(1).single(),{data:K}=await C.from("deal_data_room_documents").select("id, deal_id, folder, file_key, file_name, created_at, external_link, is_featured").eq("deal_id",i).eq("visible_to_investors",!0).order("folder",{ascending:!0}).order("file_name",{ascending:!0}),L=K??[],{data:M}=await C.from("deal_subscription_submissions").select("id, status, submitted_at, payload_json").eq("deal_id",i).eq("investor_id",F).order("submitted_at",{ascending:!1}),N=M?.[0]??null,O=function(a){if(!a)return null;let b=new Date(a),c=new Date;return Math.ceil((b.getTime()-c.getTime())/864e5)}(H.expires_at);return(0,b.jsx)(c.AppLayout,{brand:"versoholdings",children:(0,b.jsxs)("div",{className:"p-4 max-w-[1600px] mx-auto space-y-4",children:[(0,b.jsxs)(w.default,{href:"/versoholdings/data-rooms",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:[(0,b.jsx)(l.ArrowLeft,{className:"h-4 w-4"}),"Back to Data Rooms"]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border-2 border-gray-200 dark:border-zinc-700 rounded-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"p-6 space-y-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[I.company_logo_url?(0,b.jsx)(f.default,{src:I.company_logo_url,alt:`${I.company_name??I.name} logo`,width:80,height:80,className:"rounded-lg object-contain bg-white dark:bg-zinc-800 border-2 border-gray-200 dark:border-zinc-700 p-2"}):(0,b.jsx)("div",{className:"h-20 w-20 rounded-lg bg-blue-50 dark:bg-blue-950 border-2 border-blue-600 flex items-center justify-center text-blue-600 text-2xl font-semibold",children:I.name?.charAt(0)??"D"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:I.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-lg text-foreground mt-1",children:[(0,b.jsx)(j,{className:"h-4 w-4 text-muted-foreground"}),I.company_name??"Issuer pending"]}),(I.stage||I.sector||I.location)&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[I.stage&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-sm border-gray-300 dark:border-zinc-600 text-foreground bg-white dark:bg-zinc-800",children:I.stage}),I.sector&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-sm border-gray-300 dark:border-zinc-600 text-foreground bg-white dark:bg-zinc-800",children:I.sector}),I.location&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-sm border-gray-300 dark:border-zinc-600 text-foreground bg-white dark:bg-zinc-800",children:I.location})]})]}),N&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-sm border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-950 text-blue-700 dark:text-blue-300",children:N.status.replace("_"," ")})]})}),(0,b.jsx)("div",{className:"bg-gray-50 dark:bg-zinc-800 border-t-2 border-gray-200 dark:border-zinc-700 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(m.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Access granted:"}),(0,b.jsx)("span",{className:"font-medium text-foreground",children:x(H.granted_at)})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(n.Clock,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Expires:"}),(0,b.jsx)("span",{className:"font-medium text-foreground",children:H.expires_at?x(H.expires_at):"No expiry"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[null!==O&&O<=7&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(o.AlertCircle,{className:"h-4 w-4 text-amber-500"}),(0,b.jsxs)("span",{className:"text-amber-700 dark:text-amber-400 font-medium",children:[O," day",1!==O?"s":""," remaining"]})]}),(0,b.jsx)(u.RequestExtensionButton,{dealId:i,dealName:I.name,expiresAt:H.expires_at,daysRemaining:O})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border-2 border-gray-200 dark:border-zinc-700 rounded-lg p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[(0,b.jsx)(h.FileText,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Deal Documents"]}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-sm",children:[L.length," file",1!==L.length?"s":""]})]}),(0,b.jsx)(s.DataRoomDocumentsGrouped,{documents:L})]}),H.notes&&(0,b.jsx)("div",{className:"bg-amber-50 dark:bg-amber-950/50 border-2 border-amber-200 dark:border-amber-800 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(o.AlertCircle,{className:"h-5 w-5 text-amber-600 dark:text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-200 mb-1",children:"Important Notes from VERSO Team"}),(0,b.jsx)("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:H.notes})]})]})}),(I.description||I.investment_thesis)&&(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border-2 border-gray-200 dark:border-zinc-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground mb-4",children:[(0,b.jsx)(q.Info,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Investment Overview"]}),I.description&&(0,b.jsx)("p",{className:"text-sm text-foreground mb-3",children:I.description}),I.investment_thesis&&(0,b.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-950/50 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground mb-1",children:"Investment Thesis"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:I.investment_thesis})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border-2 border-gray-200 dark:border-zinc-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground mb-4",children:[(0,b.jsx)(p.DollarSign,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Investment Terms"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Minimum Investment"}),(0,b.jsx)("p",{className:"text-base font-semibold text-foreground",children:y(I.minimum_investment,I.currency||"USD")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Maximum Investment"}),(0,b.jsx)("p",{className:"text-base font-semibold text-foreground",children:y(I.maximum_investment,I.currency||"USD")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),(0,b.jsx)("p",{className:"text-base font-semibold text-foreground",children:I.offer_unit_price?y(I.offer_unit_price,I.currency||"USD")+" per share":"To be determined"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Deal Type"}),(0,b.jsx)("p",{className:"text-base font-semibold text-foreground capitalize",children:I.deal_type?.replace("_"," ")||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Target Raise"}),(0,b.jsx)("p",{className:"text-base font-semibold text-foreground",children:y(I.target_amount,I.currency||"USD")})]})]})]}),J&&(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border-2 border-gray-200 dark:border-zinc-700 rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold text-foreground mb-4",children:[(0,b.jsx)(r.BarChart3,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Fee Structure"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[J.management_fee_percent&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-zinc-800",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Management Fee"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:[J.management_fee_percent,"% annually"]})]}),J.subscription_fee_percent&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-zinc-800",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Subscription Fee"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:[J.subscription_fee_percent,"%"]})]}),J.carried_interest_percent&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 dark:border-zinc-800",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Carried Interest"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-foreground",children:[J.carried_interest_percent,"%"]})]}),J.minimum_ticket&&(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Minimum Ticket Size"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-foreground",children:J.minimum_ticket})]})]})]}),(0,b.jsx)(v.DealFaqSection,{dealId:i})]}),(0,b.jsx)("div",{className:"lg:sticky lg:top-4",children:(0,b.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-8 shadow-xl",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center bg-white rounded-full p-4 mb-4",children:(0,b.jsx)(k,{className:"h-8 w-8 text-blue-600"})}),(0,b.jsx)("h3",{className:"text-3xl font-bold text-white mb-3",children:"Submit Subscription"}),(0,b.jsx)("p",{className:"text-blue-100 text-base",children:"Ready to invest? Complete your allocation request below."})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg p-6",children:(0,b.jsx)(t.SubmitSubscriptionForm,{dealId:I.id,currency:I.currency??"USD",existingSubmission:N})})]})})]})]})})}a.s(["default",()=>z,"dynamic",0,"force-dynamic"],741668)}];

//# sourceMappingURL=versotech-portal_src_f2685bdf._.js.map