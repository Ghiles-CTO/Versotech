{"version":3,"sources":["../../../../../versotech-portal/src/app/%28investor%29/versoholdings/tasks/tasks-page-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { Card, CardContent } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport {\r\n  CheckCircle2,\r\n  Clock,\r\n  AlertCircle,\r\n  ChevronRight,\r\n  Building2,\r\n  FileText,\r\n  Calendar,\r\n  User,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  ListChecks,\r\n  TrendingUp,\r\n  X,\r\n  Play,\r\n  CheckCheck,\r\n  FileCheck,\r\n  Upload,\r\n  ExternalLink\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { toast } from 'sonner'\r\nimport type { Task, TasksByVehicle } from './page'\r\n\r\ninterface TasksPageClientProps {\r\n  userId: string\r\n  investorIds?: string[] // BUG FIX 2.4: Add investorIds to match server query\r\n  tasksByVehicle: TasksByVehicle[]\r\n  onboardingTasks: Task[]\r\n  staffCreatedTasks: Task[]\r\n  generalComplianceTasks: Task[]\r\n  signatureTasks: Task[]\r\n}\r\n\r\nexport function TasksPageClient({\r\n  userId,\r\n  investorIds = [], // BUG FIX 2.4: Add investorIds\r\n  tasksByVehicle: initialTasksByVehicle,\r\n  onboardingTasks: initialOnboardingTasks,\r\n  staffCreatedTasks: initialStaffCreatedTasks,\r\n  generalComplianceTasks: initialGeneralComplianceTasks,\r\n  signatureTasks: initialSignatureTasks\r\n}: TasksPageClientProps) {\r\n  const [tasksByVehicle, setTasksByVehicle] = useState(initialTasksByVehicle)\r\n  const [onboardingTasks, setOnboardingTasks] = useState(initialOnboardingTasks)\r\n  const [staffCreatedTasks, setStaffCreatedTasks] = useState(initialStaffCreatedTasks)\r\n  const [generalComplianceTasks, setGeneralComplianceTasks] = useState(initialGeneralComplianceTasks)\r\n  const [signatureTasks, setSignatureTasks] = useState(initialSignatureTasks)\r\n  const [selectedTask, setSelectedTask] = useState<Task | null>(null)\r\n  const [isUpdating, setIsUpdating] = useState(false)\r\n  const [uploading, setUploading] = useState(false)\r\n  const [uploadError, setUploadError] = useState<string | null>(null)\r\n  const [expandedSections, setExpandedSections] = useState<Record<string, boolean>>({\r\n    onboarding: true,\r\n    staffCreated: true,\r\n    kyc: true,\r\n    signatures: true\r\n  })\r\n  const router = useRouter()\r\n\r\n  // BUG FIX 2.4 & 2.5: Match server-side query logic with proper filters and all 3 orders\r\n  const refreshTasks = useCallback(async () => {\r\n    const supabase = createClient()\r\n\r\n    // Build query to match server-side logic (page.tsx)\r\n    let tasksQuery = supabase\r\n      .from('tasks')\r\n      .select('*')\r\n\r\n    // BUG FIX 2.4: Include owner_investor_id in OR filter (matching server)\r\n    if (investorIds.length > 0) {\r\n      tasksQuery = tasksQuery.or(\r\n        `owner_user_id.eq.${userId},owner_investor_id.in.(${investorIds.join(',')})`\r\n      )\r\n    } else {\r\n      tasksQuery = tasksQuery.eq('owner_user_id', userId)\r\n    }\r\n\r\n    // BUG FIX 2.5: Add all 3 orders to match server-side query\r\n    const { data: tasks } = await tasksQuery\r\n      .order('due_at', { ascending: true, nullsFirst: false })\r\n      .order('created_at', { ascending: true })\r\n\r\n    if (tasks) {\r\n      // Sort by priority (high → medium → low), then by due_at, then by created_at\r\n      const priorityOrder: Record<string, number> = { high: 0, medium: 1, low: 2 }\r\n      const allTasks = (tasks as Task[]).sort((a, b) => {\r\n        const pA = priorityOrder[a.priority] ?? 99\r\n        const pB = priorityOrder[b.priority] ?? 99\r\n        if (pA !== pB) return pA - pB\r\n        if (a.due_at !== b.due_at) {\r\n          if (!a.due_at) return 1\r\n          if (!b.due_at) return -1\r\n          return new Date(a.due_at).getTime() - new Date(b.due_at).getTime()\r\n        }\r\n        return new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\r\n      })\r\n\r\n      setOnboardingTasks(allTasks.filter(t =>\r\n        t.category === 'onboarding' && !t.related_entity_id\r\n      ))\r\n\r\n      setStaffCreatedTasks(allTasks.filter(t =>\r\n        !t.category && !t.related_entity_id\r\n      ))\r\n\r\n      // Filter KYC, compliance, and investment_setup tasks (NOT signatures)\r\n      setGeneralComplianceTasks(allTasks.filter(t =>\r\n        (t.category === 'kyc' || t.category === 'compliance' || t.category === 'investment_setup') && (\r\n          !t.related_entity_id ||\r\n          t.related_entity_type === 'signature_request' ||\r\n          t.related_entity_type === 'subscription'\r\n        )\r\n      ))\r\n\r\n      // Filter signature tasks separately\r\n      setSignatureTasks(allTasks.filter(t =>\r\n        t.category === 'signatures' && (\r\n          !t.related_entity_id ||\r\n          t.related_entity_type === 'signature_request'\r\n        )\r\n      ))\r\n\r\n      setTasksByVehicle(prev => prev.map(group => ({\r\n        ...group,\r\n        tasks: allTasks.filter(t =>\r\n          t.related_entity_type === 'vehicle' && t.related_entity_id === group.vehicle.id\r\n        )\r\n      })))\r\n    }\r\n  }, [userId, investorIds])\r\n\r\n  useEffect(() => {\r\n    const supabase = createClient()\r\n\r\n    const channel = supabase\r\n      .channel('tasks_updates')\r\n      .on('postgres_changes', {\r\n        event: '*',\r\n        schema: 'public',\r\n        table: 'tasks',\r\n        filter: `owner_user_id=eq.${userId}`\r\n      }, () => {\r\n        refreshTasks()\r\n      })\r\n      .subscribe()\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel)\r\n    }\r\n  }, [userId, refreshTasks])\r\n\r\n  const toggleSection = (section: string) => {\r\n    setExpandedSections(prev => ({\r\n      ...prev,\r\n      [section]: !prev[section]\r\n    }))\r\n  }\r\n\r\n  async function startTask(taskId: string, actionUrl?: string | null) {\r\n    setIsUpdating(true)\r\n    const supabase = createClient()\r\n\r\n    const { error } = await supabase\r\n      .from('tasks')\r\n      .update({\r\n        status: 'in_progress',\r\n        started_at: new Date().toISOString(),\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('id', taskId)\r\n\r\n    if (error) {\r\n      console.error('Failed to start task:', error)\r\n      toast.error('Failed to start task. Please try again.')\r\n      setIsUpdating(false)\r\n      return\r\n    }\r\n\r\n    setIsUpdating(false)\r\n    setSelectedTask(null)\r\n\r\n    // Navigate to the action URL if available\r\n    if (actionUrl) {\r\n      router.push(actionUrl)\r\n    } else {\r\n      await refreshTasks()\r\n    }\r\n  }\r\n\r\n  async function completeTask(taskId: string) {\r\n    setIsUpdating(true)\r\n    const supabase = createClient()\r\n\r\n    const { error } = await supabase\r\n      .from('tasks')\r\n      .update({\r\n        status: 'completed',\r\n        completed_at: new Date().toISOString(),\r\n        completed_by: userId,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('id', taskId)\r\n\r\n    if (error) {\r\n      console.error('Failed to complete task:', error)\r\n      toast.error('Failed to complete task. Please try again.')\r\n      setIsUpdating(false)\r\n      return\r\n    }\r\n\r\n    toast.success('Task completed successfully')\r\n    setIsUpdating(false)\r\n    setSelectedTask(null)\r\n    await refreshTasks()\r\n  }\r\n\r\n  async function cancelTask(taskId: string) {\r\n    setIsUpdating(true)\r\n    const supabase = createClient()\r\n\r\n    const { error } = await supabase\r\n      .from('tasks')\r\n      .update({\r\n        status: 'pending',\r\n        started_at: null,\r\n        updated_at: new Date().toISOString()\r\n      })\r\n      .eq('id', taskId)\r\n\r\n    if (error) {\r\n      console.error('Failed to cancel task:', error)\r\n      toast.error('Failed to cancel task. Please try again.')\r\n      setIsUpdating(false)\r\n      return\r\n    }\r\n\r\n    setIsUpdating(false)\r\n    setSelectedTask(null)\r\n    await refreshTasks()\r\n  }\r\n\r\n  async function handleFileUpload(file: File, task: Task) {\r\n    setUploading(true)\r\n    setUploadError(null)\r\n\r\n    try {\r\n      // Determine document type from task title\r\n      const documentType = getDocumentTypeFromTask(task)\r\n\r\n      if (!documentType) {\r\n        setUploadError('Unable to determine document type for this task')\r\n        setUploading(false)\r\n        return\r\n      }\r\n\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      formData.append('documentType', documentType)\r\n      formData.append('taskId', task.id)\r\n\r\n      const response = await fetch('/api/investors/me/documents/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json()\r\n        throw new Error(error.error || 'Upload failed')\r\n      }\r\n\r\n      const result = await response.json()\r\n\r\n      // Show success toast\r\n      toast.success(\r\n        result.task_completed\r\n          ? 'Document uploaded successfully and task completed'\r\n          : 'Document uploaded successfully and is pending review'\r\n      )\r\n\r\n      // Upload successful - refresh tasks (the task should be auto-completed by the API)\r\n      await refreshTasks()\r\n      setSelectedTask(null)\r\n    } catch (error: any) {\r\n      console.error('Upload error:', error)\r\n      setUploadError(error.message || 'Failed to upload document')\r\n      toast.error(error.message || 'Failed to upload document')\r\n    } finally {\r\n      setUploading(false)\r\n    }\r\n  }\r\n\r\n  function getDocumentTypeFromTask(task: Task): string | null {\r\n    const title = task.title.toLowerCase()\r\n\r\n    if (title.includes('government id') || title.includes('passport') || title.includes('driver')) {\r\n      return 'government_id'\r\n    }\r\n    if (title.includes('proof of address') || title.includes('utility bill')) {\r\n      return 'proof_of_address'\r\n    }\r\n    if (title.includes('accreditation')) {\r\n      return 'accreditation_letter'\r\n    }\r\n    if (title.includes('bank statement')) {\r\n      return 'bank_statement'\r\n    }\r\n    if (title.includes('entity formation') || title.includes('incorporation')) {\r\n      return 'entity_formation_docs'\r\n    }\r\n    if (title.includes('beneficial ownership')) {\r\n      return 'beneficial_ownership'\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  function isDocumentUploadTask(task: Task): boolean {\r\n    const title = task.title.toLowerCase()\r\n    return title.includes('upload') || getDocumentTypeFromTask(task) !== null\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    const configs = {\r\n      pending: { label: 'Pending', className: 'bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700' },\r\n      in_progress: { label: 'In Progress', className: 'bg-blue-50 dark:bg-blue-950 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800' },\r\n      completed: { label: 'Completed', className: 'bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800' },\r\n      overdue: { label: 'Overdue', className: 'bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800' },\r\n      blocked: { label: 'Blocked', className: 'bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-700' }\r\n    }\r\n    const config = configs[status as keyof typeof configs] || configs.pending\r\n    return <Badge variant=\"outline\" className={cn('text-xs font-normal', config.className)}>{config.label}</Badge>\r\n  }\r\n\r\n  const getPriorityIndicator = (priority: string) => {\r\n    if (priority === 'high') return <div className=\"w-2 h-2 rounded-full bg-red-500\" />\r\n    if (priority === 'medium') return <div className=\"w-2 h-2 rounded-full bg-yellow-500\" />\r\n    return <div className=\"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600\" />\r\n  }\r\n\r\n  const isOverdue = (task: Task) => {\r\n    return task.due_at && new Date(task.due_at) < new Date() && task.status !== 'completed'\r\n  }\r\n\r\n  const TaskItem = ({ task }: { task: Task }) => {\r\n    const overdue = isOverdue(task)\r\n    const isComplete = task.status === 'completed' || task.status === 'waived'\r\n\r\n    return (\r\n      <div\r\n        className={cn(\r\n          \"group flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors\",\r\n          isComplete && \"bg-green-50/30 dark:bg-green-950/20\"\r\n        )}\r\n      >\r\n        <div className=\"flex items-center gap-3 flex-1 min-w-0 cursor-pointer\" onClick={() => setSelectedTask(task)}>\r\n          <div className=\"flex-shrink-0\">\r\n            {isComplete ? (\r\n              <CheckCircle2 className=\"h-5 w-5 text-green-600 dark:text-green-400\" />\r\n            ) : overdue ? (\r\n              <AlertCircle className=\"h-5 w-5 text-red-600 dark:text-red-400\" />\r\n            ) : (\r\n              <Clock className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex items-center gap-2\">\r\n              {getPriorityIndicator(task.priority)}\r\n              <h3 className={cn(\r\n                \"text-sm font-medium text-gray-900 dark:text-gray-100 truncate\",\r\n                isComplete && \"text-gray-500 dark:text-gray-400\"\r\n              )}>\r\n                {task.title}\r\n              </h3>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400\">\r\n              {task.due_at && (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Calendar className=\"h-3 w-3\" />\r\n                  <span className={cn(overdue && \"text-red-600 font-medium\")}>\r\n                    {new Date(task.due_at).toLocaleDateString('en-US', { \r\n                      month: 'short', \r\n                      day: 'numeric'\r\n                    })}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              {task.estimated_minutes && (\r\n                <div className=\"flex items-center gap-1\">\r\n                  <Clock className=\"h-3 w-3\" />\r\n                  <span>{task.estimated_minutes} min</span>\r\n                </div>\r\n              )}\r\n              {task.started_at && !isComplete && (\r\n                <div className=\"flex items-center gap-1 text-blue-600\">\r\n                  <Play className=\"h-3 w-3\" />\r\n                  <span>Started {new Date(task.started_at).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            {getStatusBadge(task.status)}\r\n          </div>\r\n        </div>\r\n\r\n        {!isComplete && (\r\n          <Button \r\n            size=\"sm\" \r\n            onClick={(e) => {\r\n              e.stopPropagation()\r\n              setSelectedTask(task)\r\n            }}\r\n            className=\"ml-3 bg-blue-600 hover:bg-blue-700 text-white\"\r\n            disabled={task.status === 'blocked'}\r\n          >\r\n            {task.status === 'in_progress' ? 'Continue' : 'Start'}\r\n            <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n          </Button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const TaskSection = ({\r\n    title,\r\n    icon: Icon,\r\n    tasks,\r\n    sectionKey,\r\n    badge\r\n  }: {\r\n    title: string\r\n    icon: any\r\n    tasks: Task[]\r\n    sectionKey: string\r\n    badge?: React.ReactNode\r\n  }) => {\r\n    const pendingTasks = tasks.filter(t => t.status !== 'completed' && t.status !== 'waived')\r\n    const completedTasks = tasks.filter(t => t.status === 'completed' || t.status === 'waived')\r\n    const isExpanded = expandedSections[sectionKey] ?? true\r\n\r\n    if (tasks.length === 0) return null\r\n\r\n    return (\r\n      <Card className=\"border border-gray-200 dark:border-zinc-700\">\r\n        <div\r\n          className=\"flex items-center justify-between px-6 py-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors border-b border-gray-100 dark:border-zinc-800\"\r\n          onClick={() => toggleSection(sectionKey)}\r\n        >\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-blue-50 dark:bg-blue-950 rounded-lg flex items-center justify-center\">\r\n              <Icon className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <h2 className=\"text-base font-semibold text-gray-900 dark:text-gray-100\">{title}</h2>\r\n                {badge}\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\r\n                {pendingTasks.length} pending · {completedTasks.length} completed\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Badge variant=\"outline\" className=\"bg-white dark:bg-zinc-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-zinc-700\">\r\n              {tasks.length}\r\n            </Badge>\r\n            {isExpanded ? (\r\n              <ChevronUp className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\r\n            ) : (\r\n              <ChevronDown className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {isExpanded && (\r\n          <CardContent className=\"p-0\">\r\n            {pendingTasks.length > 0 ? (\r\n              <div>\r\n                {pendingTasks.map(task => (\r\n                  <TaskItem key={task.id} task={task} />\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"px-6 py-8 text-center text-gray-500 dark:text-gray-400 text-sm\">\r\n                All tasks completed\r\n              </div>\r\n            )}\r\n\r\n            {completedTasks.length > 0 && (\r\n              <details className=\"border-t border-gray-100 dark:border-zinc-800\">\r\n                <summary className=\"px-6 py-3 text-sm text-gray-600 dark:text-gray-400 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50 flex items-center gap-2\">\r\n                  <CheckCircle2 className=\"h-4 w-4 text-green-600 dark:text-green-400\" />\r\n                  <span>Completed ({completedTasks.length})</span>\r\n                </summary>\r\n                <div>\r\n                  {completedTasks.map(task => (\r\n                    <TaskItem key={task.id} task={task} />\r\n                  ))}\r\n                </div>\r\n              </details>\r\n            )}\r\n          </CardContent>\r\n        )}\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  const allTasks = [...onboardingTasks, ...staffCreatedTasks, ...generalComplianceTasks, ...signatureTasks, ...tasksByVehicle.flatMap(g => g.tasks)]\r\n  const totalPending = allTasks.filter(t => t.status !== 'completed' && t.status !== 'waived').length\r\n  const totalCompleted = allTasks.filter(t => t.status === 'completed' || t.status === 'waived').length\r\n  const totalInProgress = allTasks.filter(t => t.status === 'in_progress').length\r\n  const totalOverdue = allTasks.filter(isOverdue).length\r\n  const completionRate = allTasks.length > 0 ? Math.round((totalCompleted / allTasks.length) * 100) : 0\r\n\r\n  return (\r\n    <>\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6\">\r\n        {/* Header with Stats */}\r\n        <div className=\"border-b border-gray-200 dark:border-zinc-700 pb-6\">\r\n          <div className=\"flex items-start justify-between mb-6\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">Tasks & Onboarding</h1>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\r\n                Manage your investment tasks and requirements\r\n              </p>\r\n            </div>\r\n\r\n            {totalOverdue > 0 && (\r\n              <div className=\"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg\">\r\n                <AlertCircle className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\r\n                <span className=\"text-sm font-medium text-red-900 dark:text-red-200\">{totalOverdue} Overdue</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Stats Grid */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n            <Card className=\"border border-gray-200 dark:border-zinc-700\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1\">\r\n                  <ListChecks className=\"h-4 w-4\" />\r\n                  <span className=\"text-xs font-medium uppercase tracking-wide\">Total</span>\r\n                </div>\r\n                <div className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">{allTasks.length}</div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  <span className=\"text-xs font-medium uppercase tracking-wide\">Pending</span>\r\n                </div>\r\n                <div className=\"text-2xl font-semibold text-blue-900 dark:text-blue-200\">{totalPending}</div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-950\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 text-yellow-600 dark:text-yellow-400 mb-1\">\r\n                  <TrendingUp className=\"h-4 w-4\" />\r\n                  <span className=\"text-xs font-medium uppercase tracking-wide\">Active</span>\r\n                </div>\r\n                <div className=\"text-2xl font-semibold text-yellow-900 dark:text-yellow-200\">{totalInProgress}</div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 text-green-600 dark:text-green-400 mb-1\">\r\n                  <CheckCircle2 className=\"h-4 w-4\" />\r\n                  <span className=\"text-xs font-medium uppercase tracking-wide\">Done</span>\r\n                </div>\r\n                <div className=\"text-2xl font-semibold text-green-900 dark:text-green-200\">{totalCompleted}</div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border border-gray-200 dark:border-zinc-700\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1\">\r\n                  <TrendingUp className=\"h-4 w-4\" />\r\n                  <span className=\"text-xs font-medium uppercase tracking-wide\">Progress</span>\r\n                </div>\r\n                <div className=\"text-2xl font-semibold text-gray-900 dark:text-gray-100\">{completionRate}%</div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sections */}\r\n        {staffCreatedTasks.length > 0 && (\r\n          <TaskSection\r\n            title=\"Created by VERSO Holdings for you\"\r\n            icon={User}\r\n            tasks={staffCreatedTasks}\r\n            sectionKey=\"staffCreated\"\r\n            badge={<Badge className=\"bg-blue-600 text-white text-xs\">Custom</Badge>}\r\n          />\r\n        )}\r\n\r\n        <TaskSection\r\n          title=\"Account Onboarding\"\r\n          icon={FileText}\r\n          tasks={onboardingTasks}\r\n          sectionKey=\"onboarding\"\r\n        />\r\n\r\n        {generalComplianceTasks.length > 0 && (\r\n          <TaskSection\r\n            title=\"KYC & Compliance\"\r\n            icon={FileCheck}\r\n            tasks={generalComplianceTasks}\r\n            sectionKey=\"kyc\"\r\n          />\r\n        )}\r\n\r\n        {signatureTasks.length > 0 && (\r\n          <TaskSection\r\n            title=\"Signatures\"\r\n            icon={FileText}\r\n            tasks={signatureTasks}\r\n            sectionKey=\"signatures\"\r\n          />\r\n        )}\r\n\r\n        {tasksByVehicle.map((group) => (\r\n          <TaskSection\r\n            key={group.vehicle.id}\r\n            title={group.vehicle.name}\r\n            icon={Building2}\r\n            tasks={group.tasks}\r\n            sectionKey={`vehicle-${group.vehicle.id}`}\r\n            badge={\r\n              <Badge variant=\"outline\" className=\"bg-gray-50 dark:bg-zinc-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-zinc-700 text-xs\">\r\n                {group.vehicle.type.toUpperCase()}\r\n              </Badge>\r\n            }\r\n          />\r\n        ))}\r\n\r\n        {totalPending === 0 && (\r\n          <Card className=\"border-2 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950\">\r\n            <CardContent className=\"p-12 text-center\">\r\n              <CheckCircle2 className=\"h-16 w-16 text-green-600 dark:text-green-400 mx-auto mb-4\" />\r\n              <h3 className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\">All Tasks Completed</h3>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">\r\n                Excellent work! You&apos;ve completed all your pending tasks.\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Task Details Dialog */}\r\n      <Dialog open={!!selectedTask} onOpenChange={(open) => !open && setSelectedTask(null)}>\r\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <div className=\"flex items-start justify-between pr-6\">\r\n              <div className=\"flex-1\">\r\n                <DialogTitle className=\"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2\">\r\n                  {selectedTask?.title}\r\n                </DialogTitle>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {selectedTask && getStatusBadge(selectedTask.status)}\r\n                  {selectedTask?.priority && (\r\n                    <Badge variant=\"outline\" className={cn(\r\n                      \"text-xs\",\r\n                      selectedTask.priority === 'high' && \"border-red-200 text-red-700\",\r\n                      selectedTask.priority === 'medium' && \"border-yellow-200 text-yellow-700\"\r\n                    )}>\r\n                      {selectedTask.priority} priority\r\n                    </Badge>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Description */}\r\n            {selectedTask?.description && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2\">Overview</h4>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 leading-relaxed\">{selectedTask.description}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Task Breakdown */}\r\n            {selectedTask?.instructions && (\r\n              <div className=\"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2\">\r\n                  <CheckCheck className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\r\n                  Task Breakdown\r\n                </h4>\r\n\r\n                {/* Steps */}\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2\">Steps to Complete</p>\r\n                  <ol className=\"space-y-1.5 text-sm text-gray-700 dark:text-gray-300\">\r\n                    {selectedTask.instructions.steps.map((step, idx) => (\r\n                      <li key={idx} className=\"flex gap-2\">\r\n                        <span className=\"text-blue-600 dark:text-blue-400 font-medium\">{idx + 1}.</span>\r\n                        <span>{step}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                </div>\r\n\r\n                {/* Requirements */}\r\n                <div className=\"mb-4\">\r\n                  <p className=\"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2\">Requirements</p>\r\n                  <ul className=\"space-y-1 text-sm text-gray-700 dark:text-gray-300\">\r\n                    {selectedTask.instructions.requirements.map((req, idx) => (\r\n                      <li key={idx} className=\"flex gap-2\">\r\n                        <span className=\"text-blue-600 dark:text-blue-400\">•</span>\r\n                        <span>{req}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n\r\n                {/* Wire Details if applicable */}\r\n                {selectedTask.instructions.wire_details && (\r\n                  <div className=\"bg-white dark:bg-zinc-900 border border-blue-200 dark:border-blue-800 rounded p-3\">\r\n                    <p className=\"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2\">Wire Transfer Details</p>\r\n                    <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                      <div>\r\n                        <span className=\"text-gray-600 dark:text-gray-400\">Amount:</span>\r\n                        <span className=\"ml-2 font-semibold text-foreground\">{selectedTask.instructions.wire_details.amount}</span>\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"text-gray-600 dark:text-gray-400\">Bank:</span>\r\n                        <span className=\"ml-2 font-semibold text-foreground\">{selectedTask.instructions.wire_details.bank}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Assigned By */}\r\n                {selectedTask.instructions.assigned_by && (\r\n                  <div className=\"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-blue-200 dark:border-blue-800\">\r\n                    <span>Assigned by: </span>\r\n                    <span className=\"font-medium\">{selectedTask.instructions.assigned_by}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Metadata */}\r\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n              {selectedTask?.due_at && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1\">Due Date</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Calendar className=\"h-4 w-4 text-gray-400 dark:text-gray-500\" />\r\n                    <span className={cn(\r\n                      \"font-medium\",\r\n                      isOverdue(selectedTask!) ? \"text-red-600 dark:text-red-400\" : \"text-gray-900 dark:text-gray-100\"\r\n                    )}>\r\n                      {new Date(selectedTask.due_at).toLocaleDateString('en-US', {\r\n                        weekday: 'long',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                      })}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {selectedTask?.estimated_minutes && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1\">Time Required</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Clock className=\"h-4 w-4 text-gray-400 dark:text-gray-500\" />\r\n                    <span className=\"text-gray-900 dark:text-gray-100 font-medium\">{selectedTask.estimated_minutes} minutes</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {selectedTask?.started_at && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1\">Started On</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Play className=\"h-4 w-4 text-blue-400\" />\r\n                    <span className=\"text-gray-900 dark:text-gray-100 font-medium\">\r\n                      {new Date(selectedTask.started_at).toLocaleDateString('en-US', {\r\n                        month: 'short',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                      })}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {selectedTask?.completed_at && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1\">Completed On</p>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <CheckCircle2 className=\"h-4 w-4 text-green-400\" />\r\n                    <span className=\"text-gray-900 dark:text-gray-100 font-medium\">\r\n                      {new Date(selectedTask.completed_at).toLocaleDateString('en-US', {\r\n                        month: 'short',\r\n                        day: 'numeric',\r\n                        year: 'numeric'\r\n                      })}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Document Upload Section */}\r\n            {selectedTask && isDocumentUploadTask(selectedTask) && selectedTask.status !== 'completed' && selectedTask.status !== 'waived' && (\r\n              <div className=\"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2\">\r\n                  <Upload className=\"h-4 w-4 text-blue-600 dark:text-blue-400\" />\r\n                  Upload Document\r\n                </h4>\r\n                <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3\">\r\n                  Upload your {getDocumentTypeFromTask(selectedTask)?.replace(/_/g, ' ')} to complete this task automatically.\r\n                </p>\r\n\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"task-document-upload\"\r\n                  className=\"hidden\"\r\n                  accept=\".pdf,.jpg,.jpeg,.png,.heic,.webp\"\r\n                  onChange={(e) => {\r\n                    const file = e.target.files?.[0]\r\n                    if (file && selectedTask) {\r\n                      handleFileUpload(file, selectedTask)\r\n                    }\r\n                  }}\r\n                  disabled={uploading}\r\n                />\r\n                <label htmlFor=\"task-document-upload\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"w-full border-blue-300 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900\"\r\n                    disabled={uploading}\r\n                    asChild\r\n                  >\r\n                    <span>\r\n                      <Upload className=\"h-4 w-4 mr-2\" />\r\n                      {uploading ? 'Uploading...' : 'Choose File to Upload'}\r\n                    </span>\r\n                  </Button>\r\n                </label>\r\n\r\n                {uploadError && (\r\n                  <p className=\"text-xs text-red-600 dark:text-red-400 mt-2\">{uploadError}</p>\r\n                )}\r\n\r\n                <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">\r\n                  Accepted formats: PDF, JPG, PNG, HEIC, WEBP (Max 10MB)\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Signature Action Button */}\r\n            {selectedTask?.related_entity_type === 'signature_request' && selectedTask?.instructions?.action_url && (\r\n              <div className=\"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4\">\r\n                <h4 className=\"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2\">Ready to Sign</h4>\r\n                <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-3\">\r\n                  Click below to open the signature page and complete your signature.\r\n                </p>\r\n                <a\r\n                  href={selectedTask.instructions.action_url}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors\"\r\n                >\r\n                  Open Signature Page\r\n                  <ExternalLink className=\"h-4 w-4\" />\r\n                </a>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            {selectedTask && selectedTask.status !== 'completed' && selectedTask.status !== 'waived' && (\r\n              <div className=\"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-zinc-700\">\r\n                {selectedTask.status === 'pending' ? (\r\n                  <Button\r\n                    className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\"\r\n                    onClick={() => startTask(selectedTask.id, selectedTask.action_url)}\r\n                    disabled={isUpdating}\r\n                  >\r\n                    <Play className=\"h-4 w-4 mr-2\" />\r\n                    {selectedTask.action_url ? 'Go to Task' : 'Start Task'}\r\n                  </Button>\r\n                ) : (\r\n                  <>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      className=\"border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-800\"\r\n                      onClick={() => cancelTask(selectedTask.id)}\r\n                      disabled={isUpdating}\r\n                    >\r\n                      <X className=\"h-4 w-4 mr-2\" />\r\n                      Cancel\r\n                    </Button>\r\n                    {selectedTask.action_url && (\r\n                      <Button\r\n                        className=\"flex-1 bg-blue-600 hover:bg-blue-700 text-white\"\r\n                        onClick={() => router.push(selectedTask.action_url!)}\r\n                      >\r\n                        <Play className=\"h-4 w-4 mr-2\" />\r\n                        Continue Task\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      className=\"flex-1 bg-green-600 hover:bg-green-700 text-white\"\r\n                      onClick={() => completeTask(selectedTask.id)}\r\n                      disabled={isUpdating}\r\n                    >\r\n                      <CheckCircle2 className=\"h-4 w-4 mr-2\" />\r\n                      Complete\r\n                    </Button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}