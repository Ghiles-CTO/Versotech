{"version":3,"sources":["../../../../../versotech-portal/src/components/approvals/approval-action-dialog.tsx","../../../../../versotech-portal/src/components/approvals/approval-filters.tsx","../../../../../versotech-portal/src/components/approvals/approval-detail-drawer.tsx","../../../../../versotech-portal/src/components/approvals/approval-view-switcher.tsx","../../../../../versotech-portal/src/components/approvals/views/approvals-kanban-view.tsx","../../../../../versotech-portal/src/components/approvals/views/approvals-list-view.tsx","../../../../../versotech-portal/src/components/approvals/views/approvals-database-view.tsx","../../../../../versotech-portal/src/components/approvals/approvals-page-client.tsx","../../../../../versotech-portal/src/lib/export-csv.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/list-filter.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/kanban.ts"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from '@/components/ui/select'\nimport { CheckCircle2, XCircle, AlertTriangle } from 'lucide-react'\nimport { Approval } from '@/types/approvals'\nimport { toast } from 'sonner'\n\ninterface ApprovalActionDialogProps {\n  approval: Approval | null\n  action: 'approve' | 'reject' | null\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onSuccess: () => void\n}\n\nconst REJECTION_REASONS = [\n  { value: 'kyc_incomplete', label: 'KYC Documentation Incomplete' },\n  { value: 'insufficient_funds', label: 'Insufficient Funds' },\n  { value: 'deal_closed', label: 'Deal Closed/No Longer Available' },\n  { value: 'minimum_not_met', label: 'Minimum Investment Not Met' },\n  { value: 'compliance_issue', label: 'Compliance Issue' },\n  { value: 'investor_ineligible', label: 'Investor Ineligible' },\n  { value: 'documentation_error', label: 'Documentation Error' },\n  { value: 'other', label: 'Other (please specify)' }\n]\n\nexport function ApprovalActionDialog({\n  approval,\n  action,\n  open,\n  onOpenChange,\n  onSuccess\n}: ApprovalActionDialogProps) {\n  const [notes, setNotes] = useState('')\n  const [rejectionReason, setRejectionReason] = useState('')\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const handleClose = () => {\n    setNotes('')\n    setRejectionReason('')\n    onOpenChange(false)\n  }\n\n  const handleSubmit = async () => {\n    if (!approval || !action) return\n\n    // Validation\n    if (action === 'reject' && !rejectionReason) {\n      toast.error('Please select a rejection reason')\n      return\n    }\n\n    setIsSubmitting(true)\n\n    try {\n      const response = await fetch(`/api/approvals/${approval.id}/action`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          action,\n          notes: notes.trim() || undefined,\n          rejection_reason: action === 'reject' ? rejectionReason : undefined\n        })\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || `Failed to ${action} approval`)\n      }\n\n      toast.success(data.message || `Successfully ${action}d approval`)\n      handleClose()\n      onSuccess()\n    } catch (error) {\n      console.error(`Error ${action}ing approval:`, error)\n      toast.error(error instanceof Error ? error.message : `Failed to ${action} approval`)\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  if (!approval || !action) return null\n\n  const isApprove = action === 'approve'\n  const entityAmount = approval.entity_metadata?.requested_amount ||\n    approval.entity_metadata?.amount\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            {isApprove ? (\n              <>\n                <CheckCircle2 className=\"h-5 w-5 text-green-600\" />\n                Approve Request\n              </>\n            ) : (\n              <>\n                <XCircle className=\"h-5 w-5 text-red-600\" />\n                Reject Request\n              </>\n            )}\n          </DialogTitle>\n          <DialogDescription>\n            {isApprove\n              ? 'Review the details below and confirm your approval.'\n              : 'Provide a reason for rejection. The requester will be notified.'\n            }\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {/* Request Details */}\n          <div className=\"rounded-lg border border-border bg-card p-4 space-y-3\">\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-muted-foreground\">Request Type:</span>\n                <p className=\"font-medium capitalize mt-1\">\n                  {approval.entity_type.replace(/_/g, ' ')}\n                </p>\n              </div>\n              <div>\n                <span className=\"text-muted-foreground\">Requested By:</span>\n                <p className=\"font-medium mt-1\">\n                  {approval.requested_by_profile?.display_name || 'Unknown'}\n                </p>\n              </div>\n              {entityAmount && (\n                <div>\n                  <span className=\"text-muted-foreground\">Amount:</span>\n                  <p className=\"font-medium mt-1\">\n                    ${parseFloat(entityAmount).toLocaleString()}\n                  </p>\n                </div>\n              )}\n              {approval.related_investor && (\n                <div>\n                  <span className=\"text-muted-foreground\">Investor:</span>\n                  <p className=\"font-medium mt-1\">\n                    {approval.related_investor.legal_name}\n                  </p>\n                </div>\n              )}\n              {approval.related_deal && (\n                <div className=\"col-span-2\">\n                  <span className=\"text-muted-foreground\">Deal:</span>\n                  <p className=\"font-medium mt-1\">\n                    {approval.related_deal.name}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Warning for high-value approvals */}\n          {isApprove && entityAmount && parseFloat(entityAmount) > 50000 && (\n            <div className=\"flex items-start gap-2 rounded-lg border border-amber-500/20 bg-amber-500/10 p-3\">\n              <AlertTriangle className=\"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0\" />\n              <div className=\"text-sm\">\n                <p className=\"font-medium text-amber-900 dark:text-amber-200\">High-Value Approval</p>\n                <p className=\"text-amber-800 dark:text-amber-300 mt-1\">\n                  This approval involves an amount greater than $50,000. Please ensure all\n                  documentation is complete.\n                </p>\n              </div>\n            </div>\n          )}\n\n          {/* Rejection Reason Selection */}\n          {!isApprove && (\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"rejection-reason\" className=\"text-sm font-medium\">\n                Rejection Reason *\n              </Label>\n              <Select value={rejectionReason} onValueChange={setRejectionReason}>\n                <SelectTrigger id=\"rejection-reason\">\n                  <SelectValue placeholder=\"Select a reason\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {REJECTION_REASONS.map((reason) => (\n                    <SelectItem key={reason.value} value={reason.value}>\n                      {reason.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n\n          {/* Notes Field */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"notes\" className=\"text-sm font-medium\">\n              {isApprove ? 'Additional Notes (Optional)' : 'Additional Details *'}\n            </Label>\n            <Textarea\n              id=\"notes\"\n              placeholder={\n                isApprove\n                  ? 'Add any notes about this approval...'\n                  : 'Provide specific details about why this request is being rejected...'\n              }\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              rows={4}\n              className=\"resize-none\"\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              {isApprove\n                ? 'Notes will be saved in the approval history.'\n                : 'This message will be sent to the requester along with the rejection reason.'\n              }\n            </p>\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={handleClose}\n            disabled={isSubmitting}\n          >\n            Cancel\n          </Button>\n          <Button\n            variant={isApprove ? 'default' : 'destructive'}\n            onClick={handleSubmit}\n            disabled={isSubmitting || (!isApprove && !rejectionReason)}\n          >\n            {isSubmitting ? (\n              <>\n                <span className=\"mr-2\">Processing...</span>\n              </>\n            ) : (\n              <>\n                {isApprove ? (\n                  <>\n                    <CheckCircle2 className=\"mr-2 h-4 w-4\" />\n                    Confirm Approval\n                  </>\n                ) : (\n                  <>\n                    <XCircle className=\"mr-2 h-4 w-4\" />\n                    Confirm Rejection\n                  </>\n                )}\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/ui/popover'\r\nimport { Filter } from 'lucide-react'\r\nimport { ApprovalEntityType, ApprovalPriority } from '@/types/approvals'\r\n\r\nexport interface FilterState {\r\n  entity_types: ApprovalEntityType[]\r\n  priorities: ApprovalPriority[]\r\n  assigned_to_me: boolean\r\n  overdue_only: boolean\r\n}\r\n\r\ninterface ApprovalFiltersProps {\r\n  onFilterChange: (filters: FilterState) => void\r\n  currentFilters: FilterState\r\n}\r\n\r\nexport function ApprovalFilters({ onFilterChange, currentFilters }: ApprovalFiltersProps) {\r\n  const [filters, setFilters] = useState<FilterState>(currentFilters)\r\n\r\n  const entityTypes: { value: ApprovalEntityType; label: string }[] = [\n    { value: 'member_invitation', label: 'Member Invitations' },\n    { value: 'deal_interest', label: 'Deal Interests' },\n    { value: 'deal_subscription', label: 'Subscriptions' },\n    { value: 'deal_close', label: 'Deal Close' },\n    { value: 'allocation', label: 'Allocations' },\n    { value: 'kyc_change', label: 'KYC Changes' },\r\n    { value: 'withdrawal', label: 'Withdrawals' },\r\n    { value: 'profile_update', label: 'Profile Updates' },\r\n    { value: 'document_access', label: 'Document Access' },\r\n    { value: 'gdpr_deletion_request', label: 'GDPR Deletion Requests' },\r\n  ]\r\n\r\n  const priorities: { value: ApprovalPriority; label: string; color: string }[] = [\r\n    { value: 'critical', label: 'Critical', color: 'text-red-600' },\r\n    { value: 'high', label: 'High', color: 'text-orange-600' },\r\n    { value: 'medium', label: 'Medium', color: 'text-yellow-600' },\r\n    { value: 'low', label: 'Low', color: 'text-blue-600' },\r\n  ]\r\n\r\n  const updateFilter = (newFilters: Partial<FilterState>) => {\r\n    const updated = { ...filters, ...newFilters }\r\n    setFilters(updated)\r\n    onFilterChange(updated)\r\n  }\r\n\r\n  const clearFilters = () => {\r\n    const emptyFilters: FilterState = {\r\n      entity_types: [],\r\n      priorities: [],\r\n      assigned_to_me: false,\r\n      overdue_only: false\r\n    }\r\n    setFilters(emptyFilters)\r\n    onFilterChange(emptyFilters)\r\n  }\r\n\r\n  const activeFilterCount = \r\n    filters.entity_types.length + \r\n    filters.priorities.length + \r\n    (filters.assigned_to_me ? 1 : 0) + \r\n    (filters.overdue_only ? 1 : 0)\r\n\r\n  return (\r\n    <Popover>\r\n      <PopoverTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\" className=\"relative\">\r\n          <Filter className=\"mr-2 h-4 w-4\" />\r\n          Filter\r\n          {activeFilterCount > 0 && (\r\n            <span className=\"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-semibold text-white bg-blue-600 rounded-full\">\r\n              {activeFilterCount}\r\n            </span>\r\n          )}\r\n        </Button>\r\n      </PopoverTrigger>\r\n      <PopoverContent className=\"w-80 max-h-[80vh] overflow-y-auto\" align=\"end\" side=\"bottom\">\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <h4 className=\"font-medium mb-3 text-sm\">Request Type</h4>\r\n            <div className=\"space-y-2 max-h-48 overflow-y-auto\">\r\n              {entityTypes.map((type) => (\r\n                <div key={type.value} className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id={type.value}\r\n                    checked={filters.entity_types.includes(type.value)}\r\n                    onCheckedChange={(checked) => {\r\n                      updateFilter({\r\n                        entity_types: checked\r\n                          ? [...filters.entity_types, type.value]\r\n                          : filters.entity_types.filter(t => t !== type.value)\r\n                      })\r\n                    }}\r\n                  />\r\n                  <Label \r\n                    htmlFor={type.value}\r\n                    className=\"text-sm font-normal cursor-pointer\"\r\n                  >\r\n                    {type.label}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t pt-4\">\r\n            <h4 className=\"font-medium mb-3 text-sm\">Priority</h4>\r\n            <div className=\"space-y-2\">\r\n              {priorities.map((priority) => (\r\n                <div key={priority.value} className=\"flex items-center space-x-2\">\r\n                  <Checkbox\r\n                    id={`priority-${priority.value}`}\r\n                    checked={filters.priorities.includes(priority.value)}\r\n                    onCheckedChange={(checked) => {\r\n                      updateFilter({\r\n                        priorities: checked\r\n                          ? [...filters.priorities, priority.value]\r\n                          : filters.priorities.filter(p => p !== priority.value)\r\n                      })\r\n                    }}\r\n                  />\r\n                  <Label \r\n                    htmlFor={`priority-${priority.value}`}\r\n                    className={`text-sm font-normal cursor-pointer ${priority.color}`}\r\n                  >\r\n                    {priority.label}\r\n                  </Label>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"border-t pt-4 space-y-2\">\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"assigned_to_me\"\r\n                checked={filters.assigned_to_me}\r\n                onCheckedChange={(checked) =>\r\n                  updateFilter({ assigned_to_me: checked as boolean })\r\n                }\r\n              />\r\n              <Label \r\n                htmlFor=\"assigned_to_me\"\r\n                className=\"text-sm font-normal cursor-pointer\"\r\n              >\r\n                Assigned to me only\r\n              </Label>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"overdue_only\"\r\n                checked={filters.overdue_only}\r\n                onCheckedChange={(checked) =>\r\n                  updateFilter({ overdue_only: checked as boolean })\r\n                }\r\n              />\r\n              <Label \r\n                htmlFor=\"overdue_only\"\r\n                className=\"text-sm font-normal cursor-pointer\"\r\n              >\r\n                Overdue only\r\n              </Label>\r\n            </div>\r\n          </div>\r\n\r\n          {activeFilterCount > 0 && (\r\n            <div className=\"border-t pt-4\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                className=\"w-full\"\r\n                onClick={clearFilters}\r\n              >\r\n                Clear all filters\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </PopoverContent>\r\n    </Popover>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle\r\n} from '@/components/ui/sheet'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport {\r\n  CheckCircle2,\r\n  XCircle,\r\n  Clock,\r\n  AlertTriangle,\r\n  User,\r\n  Building2,\r\n  Calendar,\r\n  FileText,\r\n  ExternalLink,\r\n  TrendingUp,\r\n  Info,\r\n  MessageCircle\r\n} from 'lucide-react'\r\nimport { Approval } from '@/types/approvals'\r\nimport { format, formatDistanceToNow } from 'date-fns'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/navigation'\r\nimport { toast } from 'sonner'\r\n\r\ninterface ApprovalDetailDrawerProps {\r\n  approval: Approval | null\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  onApprove?: (approvalId: string) => Promise<void>\r\n  onReject?: (approvalId: string, reason: string) => Promise<void>\r\n}\r\n\r\nconst priorityColors = {\r\n  low: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-500/30',\r\n  medium: 'bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-300 dark:border-yellow-500/30',\r\n  high: 'bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300 border-orange-300 dark:border-orange-500/30',\r\n  critical: 'bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300 border-red-300 dark:border-red-500/30'\r\n}\r\n\r\nconst statusColors = {\r\n  pending: 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300',\r\n  approved: 'bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300',\r\n  rejected: 'bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300',\r\n  awaiting_info: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\r\n  escalated: 'bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300',\r\n  cancelled: 'bg-slate-100 dark:bg-slate-500/20 text-slate-700 dark:text-slate-300'\r\n}\r\n\r\nconst entityTypeLabels: Record<string, string> = {\r\n  deal_interest: 'Deal Interest',\r\n  deal_subscription: 'Subscription',\r\n  deal_close: 'Deal Close',\r\n  allocation: 'Allocation',\r\n  withdrawal: 'Withdrawal',\r\n  kyc_change: 'KYC Change',\r\n  profile_update: 'Profile Update',\r\n  fee_override: 'Fee Override',\r\n  document_access: 'Document Access',\r\n  permission_grant: 'Permission Grant'\r\n}\r\n\r\nexport function ApprovalDetailDrawer({\r\n  approval,\r\n  open,\r\n  onOpenChange,\r\n  onApprove,\r\n  onReject\r\n}: ApprovalDetailDrawerProps) {\r\n  const router = useRouter()\r\n  const [slaProgress, setSlaProgress] = useState(0)\r\n  const [isApproving, setIsApproving] = useState(false)\r\n  const [isRejecting, setIsRejecting] = useState(false)\r\n  const [isCreatingConversation, setIsCreatingConversation] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (approval?.sla_breach_at) {\r\n      const now = new Date().getTime()\r\n      const created = new Date(approval.created_at).getTime()\r\n      const breach = new Date(approval.sla_breach_at).getTime()\r\n      const total = breach - created\r\n      const elapsed = now - created\r\n      const progress = Math.min(100, Math.max(0, (elapsed / total) * 100))\r\n      setSlaProgress(progress)\r\n    }\r\n  }, [approval])\r\n\r\n  if (!approval) return null\r\n\r\n  const handleApprove = async () => {\r\n    if (!onApprove) return\r\n    setIsApproving(true)\r\n    try {\r\n      await onApprove(approval.id)\r\n      onOpenChange(false)\r\n    } catch (error) {\r\n      console.error('Approval failed:', error)\r\n    } finally {\r\n      setIsApproving(false)\r\n    }\r\n  }\r\n\r\n  const handleReject = async () => {\r\n    if (!onReject) return\r\n    const reason = prompt('Please provide a rejection reason:')\r\n    if (!reason) return\r\n\r\n    setIsRejecting(true)\r\n    try {\r\n      await onReject(approval.id, reason)\r\n      onOpenChange(false)\r\n    } catch (error) {\r\n      console.error('Rejection failed:', error)\r\n    } finally {\r\n      setIsRejecting(false)\r\n    }\r\n  }\r\n\r\n  const handleMessageInvestor = async () => {\r\n    if (!approval.requested_by_profile?.id) {\r\n      toast.error('Cannot message investor', {\r\n        description: 'Investor profile not found'\r\n      })\r\n      return\r\n    }\r\n\r\n    setIsCreatingConversation(true)\r\n    try {\r\n      // Create conversation with the investor about this approval\r\n      const dealName = approval.related_deal?.name || 'Deal'\r\n      const approvalType = entityTypeLabels[approval.entity_type] || approval.entity_type\r\n      const subject = `${approvalType} - ${dealName}`\r\n\r\n      const response = await fetch('/api/conversations', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          subject,\r\n          participant_ids: [approval.requested_by_profile.id],\r\n          type: 'dm',\r\n          visibility: 'investor',\r\n          initial_message: `Regarding your ${approvalType.toLowerCase()} for ${dealName}.`,\r\n          metadata: {\r\n            approval_id: approval.id,\r\n            entity_type: approval.entity_type,\r\n            deal_id: approval.related_deal?.id\r\n          }\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || 'Failed to create conversation')\r\n      }\r\n\r\n      const data = await response.json()\r\n\r\n      toast.success('Conversation created', {\r\n        description: `Opening conversation with ${approval.requested_by_profile.display_name || 'investor'}`\r\n      })\r\n\r\n      // Navigate to the conversation\r\n      router.push(`/versotech_main/messages?conversation=${data.conversation.id}`)\r\n      onOpenChange(false)\r\n    } catch (error) {\r\n      console.error('Error creating conversation:', error)\r\n      toast.error('Failed to create conversation', {\r\n        description: error instanceof Error ? error.message : 'Please try again'\r\n      })\r\n    } finally {\r\n      setIsCreatingConversation(false)\r\n    }\r\n  }\r\n\r\n  const slaBreachDate = approval.sla_breach_at ? new Date(approval.sla_breach_at) : null\r\n  const isOverdue = slaBreachDate && slaBreachDate < new Date()\r\n\r\n  return (\r\n    <Sheet open={open} onOpenChange={onOpenChange}>\r\n      <SheetContent className=\"w-full sm:max-w-2xl overflow-y-auto\">\r\n        <SheetHeader className=\"space-y-4\">\r\n          <div className=\"flex items-start justify-between\">\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Badge variant=\"outline\" className=\"text-sm text-foreground border-border\">\r\n                  {entityTypeLabels[approval.entity_type] || approval.entity_type}\r\n                </Badge>\r\n                <Badge className={priorityColors[approval.priority]}>\r\n                  {approval.priority.toUpperCase()}\r\n                </Badge>\r\n                <Badge className={statusColors[approval.status]}>\r\n                  {approval.status.replace('_', ' ').toUpperCase()}\r\n                </Badge>\r\n              </div>\r\n              <SheetTitle className=\"text-2xl text-foreground\">\r\n                {approval.related_deal?.name || approval.related_investor?.legal_name || 'Approval Details'}\r\n              </SheetTitle>\r\n              <SheetDescription className=\"text-muted-foreground\">\r\n                Requested {formatDistanceToNow(new Date(approval.created_at), { addSuffix: true })} by{' '}\r\n                {approval.requested_by_profile?.display_name || 'Unknown'}\r\n              </SheetDescription>\r\n            </div>\r\n          </div>\r\n\r\n          {/* SLA Countdown */}\r\n          {slaBreachDate && (\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"flex items-center gap-2 text-foreground\">\r\n                      <Clock className=\"h-4 w-4\" />\r\n                      SLA Deadline\r\n                    </span>\r\n                    <span className={isOverdue ? 'text-red-600 dark:text-red-400 font-semibold' : 'text-foreground'}>\r\n                      {isOverdue ? (\r\n                        <span className=\"flex items-center gap-1\">\r\n                          <AlertTriangle className=\"h-4 w-4\" />\r\n                          {formatDistanceToNow(slaBreachDate)} overdue\r\n                        </span>\r\n                      ) : (\r\n                        format(slaBreachDate, 'MMM dd, yyyy HH:mm')\r\n                      )}\r\n                    </span>\r\n                  </div>\r\n                  <Progress value={slaProgress} className=\"h-2\" />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"space-y-2\">\r\n            {approval.status === 'pending' && (onApprove || onReject) && (\r\n              <div className=\"flex gap-2\">\r\n                {onApprove && (\r\n                  <Button\r\n                    onClick={handleApprove}\r\n                    disabled={isApproving}\r\n                    className=\"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white\"\r\n                  >\r\n                    <CheckCircle2 className=\"h-4 w-4 mr-2\" />\r\n                    {isApproving ? 'Approving...' : 'Approve'}\r\n                  </Button>\r\n                )}\r\n                {onReject && (\r\n                  <Button\r\n                    onClick={handleReject}\r\n                    disabled={isRejecting}\r\n                    variant=\"destructive\"\r\n                    className=\"flex-1 text-white\"\r\n                  >\r\n                    <XCircle className=\"h-4 w-4 mr-2\" />\r\n                    {isRejecting ? 'Rejecting...' : 'Reject'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Message Investor Button */}\r\n            {approval.requested_by_profile && (\r\n              <Button\r\n                onClick={handleMessageInvestor}\r\n                disabled={isCreatingConversation}\r\n                variant=\"outline\"\r\n                className=\"w-full border-blue-300 dark:border-blue-500/30 bg-blue-50 dark:bg-blue-500/10 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-500/20 hover:text-blue-800 dark:hover:text-blue-200\"\r\n              >\r\n                <MessageCircle className=\"h-4 w-4 mr-2\" />\r\n                {isCreatingConversation\r\n                  ? 'Creating conversation...'\r\n                  : `Message ${approval.requested_by_profile.display_name || 'Investor'}`}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </SheetHeader>\r\n\r\n        <Separator className=\"my-6\" />\r\n\r\n        <Tabs defaultValue=\"overview\" className=\"w-full\" id={`approval-tabs-${approval?.id || 'new'}`}>\r\n          <TabsList className=\"grid w-full grid-cols-3\">\r\n            <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n            <TabsTrigger value=\"timeline\">Timeline</TabsTrigger>\r\n            <TabsTrigger value=\"metadata\">Data</TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"overview\" className=\"space-y-4 mt-6\">\r\n            {/* Deal Information */}\r\n            {approval.related_deal && (\r\n              <Card className=\"border-border bg-muted/50\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                    <Building2 className=\"h-5 w-5\" />\r\n                    Deal Information\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Deal Name</p>\r\n                      <Link\r\n                        href={`/versotech_main/deals/${approval.related_deal.id}`}\r\n                        className=\"font-medium text-foreground hover:underline flex items-center gap-1\"\r\n                      >\r\n                        {approval.related_deal.name}\r\n                        <ExternalLink className=\"h-3 w-3\" />\r\n                      </Link>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Status</p>\r\n                      <p className=\"font-medium text-foreground capitalize\">{approval.related_deal.status || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Deal Type</p>\r\n                      <p className=\"font-medium text-foreground capitalize\">{approval.related_deal.deal_type || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Currency</p>\r\n                      <p className=\"font-medium text-foreground\">{(approval.related_deal as any).currency || 'USD'}</p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Investor Information */}\r\n            {approval.related_investor && (\r\n              <Card className=\"border-border bg-muted/50\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                    <User className=\"h-5 w-5\" />\r\n                    Investor Information\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Legal Name</p>\r\n                      <p className=\"font-medium text-foreground\">{approval.related_investor.legal_name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">KYC Status</p>\r\n                      <Badge variant=\"outline\" className=\"text-foreground border-border\">\r\n                        {approval.related_investor.kyc_status || 'Unknown'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Type</p>\r\n                      <p className=\"font-medium text-foreground capitalize\">{(approval.related_investor as any).type || 'N/A'}</p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Counterparty Entity Information (for entity subscriptions) */}\r\n            {approval.entity_type === 'deal_subscription' &&\r\n              approval.entity_metadata?.subscription_type === 'entity' &&\r\n              approval.entity_metadata?.counterparty_entity && (\r\n              <Card className=\"border-blue-300 dark:border-blue-500/30 bg-blue-50 dark:bg-blue-500/10\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                    <Building2 className=\"h-5 w-5 text-blue-400\" />\r\n                    Subscribing Entity\r\n                  </CardTitle>\r\n                  <CardDescription className=\"text-blue-600 dark:text-blue-300\">\r\n                    This subscription is being made through a counterparty entity\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Entity Legal Name</p>\r\n                      <p className=\"font-medium text-foreground\">{approval.entity_metadata.counterparty_entity.legal_name}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Entity Type</p>\r\n                      <Badge variant=\"outline\" className=\"text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-400/30\">\r\n                        {approval.entity_metadata.counterparty_entity.entity_type.replace('_', ' ').toUpperCase()}\r\n                      </Badge>\r\n                    </div>\r\n                    {approval.entity_metadata.counterparty_entity.jurisdiction && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Jurisdiction</p>\r\n                        <p className=\"font-medium text-foreground\">{approval.entity_metadata.counterparty_entity.jurisdiction}</p>\r\n                      </div>\r\n                    )}\r\n                    {approval.entity_metadata.counterparty_entity.registration_number && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Registration Number</p>\r\n                        <p className=\"font-medium text-foreground\">{approval.entity_metadata.counterparty_entity.registration_number}</p>\r\n                      </div>\r\n                    )}\r\n                    {approval.entity_metadata.counterparty_entity.tax_id && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Tax ID</p>\r\n                        <p className=\"font-mono text-sm text-foreground\">{approval.entity_metadata.counterparty_entity.tax_id}</p>\r\n                      </div>\r\n                    )}\r\n                    {approval.entity_metadata.counterparty_entity.representative_name && (\r\n                      <div>\r\n                        <p className=\"text-sm text-muted-foreground\">Authorized Representative</p>\r\n                        <p className=\"font-medium text-foreground\">\r\n                          {approval.entity_metadata.counterparty_entity.representative_name}\r\n                          {approval.entity_metadata.counterparty_entity.representative_title && (\r\n                            <span className=\"text-muted-foreground text-sm ml-1\">\r\n                              ({approval.entity_metadata.counterparty_entity.representative_title})\r\n                            </span>\r\n                          )}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Entity KYC Status */}\r\n                  {approval.entity_metadata.counterparty_entity.kyc_status && (\r\n                    <div className=\"col-span-2 mt-2 p-3 rounded-lg bg-muted border border-border\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                          <p className=\"text-sm text-muted-foreground mb-1\">Entity KYC Status</p>\r\n                          <Badge\r\n                            variant={\r\n                              approval.entity_metadata.counterparty_entity.kyc_status === 'approved'\r\n                                ? 'default'\r\n                                : approval.entity_metadata.counterparty_entity.kyc_status === 'pending'\r\n                                ? 'secondary'\r\n                                : 'destructive'\r\n                            }\r\n                            className={\r\n                              approval.entity_metadata.counterparty_entity.kyc_status === 'approved'\r\n                                ? 'bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300 border-emerald-300 dark:border-emerald-500/30'\r\n                                : approval.entity_metadata.counterparty_entity.kyc_status === 'pending'\r\n                                ? 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300 border-amber-300 dark:border-amber-500/30'\r\n                                : 'bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300 border-rose-300 dark:border-rose-500/30'\r\n                            }\r\n                          >\r\n                            {approval.entity_metadata.counterparty_entity.kyc_status.toUpperCase()}\r\n                          </Badge>\r\n                        </div>\r\n                        {approval.entity_metadata.counterparty_entity.kyc_completed_at && (\r\n                          <div className=\"text-right\">\r\n                            <p className=\"text-xs text-muted-foreground\">Completed</p>\r\n                            <p className=\"text-sm text-foreground\">\r\n                              {new Date(approval.entity_metadata.counterparty_entity.kyc_completed_at).toLocaleDateString()}\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      {approval.entity_metadata.counterparty_entity.kyc_expiry_date && (\r\n                        <div className=\"mt-2 pt-2 border-t border-border\">\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            Expires: {new Date(approval.entity_metadata.counterparty_entity.kyc_expiry_date).toLocaleDateString()}\r\n                          </p>\r\n                        </div>\r\n                      )}\r\n                      {approval.entity_metadata.counterparty_entity.kyc_notes && (\r\n                        <div className=\"mt-2 pt-2 border-t border-border\">\r\n                          <p className=\"text-xs text-muted-foreground\">{approval.entity_metadata.counterparty_entity.kyc_notes}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n\r\n                  {approval.entity_metadata.counterparty_entity.registered_address && (\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground mb-1\">Registered Address</p>\r\n                      <div className=\"text-sm text-foreground\">\r\n                        {approval.entity_metadata.counterparty_entity.registered_address.street && (\r\n                          <p>{approval.entity_metadata.counterparty_entity.registered_address.street}</p>\r\n                        )}\r\n                        <p>\r\n                          {[\r\n                            approval.entity_metadata.counterparty_entity.registered_address.city,\r\n                            approval.entity_metadata.counterparty_entity.registered_address.state,\r\n                            approval.entity_metadata.counterparty_entity.registered_address.postal_code\r\n                          ].filter(Boolean).join(', ')}\r\n                        </p>\r\n                        {approval.entity_metadata.counterparty_entity.registered_address.country && (\r\n                          <p>{approval.entity_metadata.counterparty_entity.registered_address.country}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"mt-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-500/10 border border-blue-200 dark:border-blue-500/30\">\r\n                    <p className=\"text-xs text-blue-700 dark:text-blue-300\">\r\n                      <strong>Note:</strong> The investor ({approval.related_investor?.legal_name}) is investing on behalf of this entity. Subscription documents will be prepared in the entity's name.\r\n                    </p>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Request Details */}\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                  <FileText className=\"h-5 w-5\" />\r\n                  Request Details\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Assigned To</p>\r\n                    <p className=\"font-medium text-foreground\">\r\n                      {approval.assigned_to_profile?.display_name || 'Unassigned'}\r\n                    </p>\r\n                    {approval.assigned_to_profile?.email && (\r\n                      <p className=\"text-xs text-muted-foreground\">{approval.assigned_to_profile.email}</p>\r\n                    )}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Requested By</p>\r\n                    <p className=\"font-medium text-foreground\">\r\n                      {approval.requested_by_profile?.display_name || 'Unknown'}\r\n                    </p>\r\n                    {approval.requested_by_profile?.email && (\r\n                      <p className=\"text-xs text-muted-foreground\">{approval.requested_by_profile.email}</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Subscription Amount (only for deal_subscription approvals) */}\r\n                {approval.entity_type === 'deal_subscription' && approval.entity_metadata?.derived_amount && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Subscription Amount</p>\r\n                    <p className=\"text-2xl font-bold text-emerald-400\">\r\n                      {approval.entity_metadata.payload?.currency || 'USD'}{' '}\r\n                      {approval.entity_metadata.derived_amount.toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Fallback for other approval types with indicative_amount */}\r\n                {approval.entity_type !== 'deal_subscription' && approval.entity_metadata?.indicative_amount && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Indicative Amount</p>\r\n                    <p className=\"text-2xl font-bold text-emerald-400\">\r\n                      {approval.entity_metadata.indicative_currency || 'USD'}{' '}\r\n                      {approval.entity_metadata.indicative_amount.toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {approval.entity_metadata?.notes && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">Notes</p>\r\n                    <div className=\"p-3 rounded-lg bg-muted border border-border\">\r\n                      <p className=\"text-sm text-foreground whitespace-pre-wrap\">{approval.entity_metadata.notes}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {approval.request_reason && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">Request Reason</p>\r\n                    <div className=\"p-3 rounded-lg bg-muted border border-border\">\r\n                      <p className=\"text-sm text-foreground whitespace-pre-wrap\">{approval.request_reason}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {approval.notes && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">Staff Notes</p>\r\n                    <div className=\"p-3 rounded-lg bg-muted border border-border\">\r\n                      <p className=\"text-sm text-foreground whitespace-pre-wrap\">{approval.notes}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {approval.rejection_reason && (\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground mb-2\">Rejection Reason</p>\r\n                    <div className=\"p-3 rounded-lg bg-rose-50 dark:bg-rose-500/10 border border-rose-200 dark:border-rose-500/30\">\r\n                      <p className=\"text-sm whitespace-pre-wrap text-rose-700 dark:text-rose-300\">{approval.rejection_reason}</p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Approval Decision */}\r\n            {approval.approved_by_profile && (\r\n              <Card className=\"border-border bg-muted/50\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                    <CheckCircle2 className=\"h-5 w-5\" />\r\n                    Decision\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-3\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Decided By</p>\r\n                      <p className=\"font-medium text-foreground\">{approval.approved_by_profile.display_name}</p>\r\n                      <p className=\"text-xs text-muted-foreground\">{approval.approved_by_profile.email}</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm text-muted-foreground\">Decided At</p>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {approval.approved_at && format(new Date(approval.approved_at), 'MMM dd, yyyy HH:mm')}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Entity ID Reference */}\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                  <Info className=\"h-5 w-5\" />\r\n                  Reference Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Approval ID</p>\r\n                    <p className=\"font-mono text-xs text-foreground\">{approval.id}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Entity ID</p>\r\n                    <p className=\"font-mono text-xs text-foreground\">{approval.entity_id}</p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"timeline\" className=\"space-y-4 mt-6\">\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                  <TrendingUp className=\"h-5 w-5\" />\r\n                  Approval Timeline\r\n                </CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">\r\n                  Complete event history for this approval\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ApprovalTimeline approval={approval} />\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"metadata\" className=\"space-y-4 mt-6\">\r\n            {/* Entity Metadata */}\r\n            {approval.entity_metadata && Object.keys(approval.entity_metadata).length > 0 && (\r\n              <Card className=\"border-border bg-muted/50\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-lg text-foreground\">Entity Metadata</CardTitle>\r\n                  <CardDescription className=\"text-muted-foreground\">\r\n                    Complete data payload for this approval\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <pre className=\"p-4 rounded-lg bg-muted dark:bg-black/30 border border-border overflow-x-auto text-xs text-foreground\">\r\n                    {JSON.stringify(approval.entity_metadata, null, 2)}\r\n                  </pre>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Timestamps */}\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg flex items-center gap-2 text-foreground\">\r\n                  <Calendar className=\"h-5 w-5\" />\r\n                  Timestamps\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n                  <div>\r\n                    <p className=\"text-muted-foreground\">Created At</p>\r\n                    <p className=\"font-medium text-foreground\">\r\n                      {format(new Date(approval.created_at), 'MMM dd, yyyy HH:mm:ss')}\r\n                    </p>\r\n                  </div>\r\n                  {approval.updated_at && (\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Updated At</p>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {format(new Date(approval.updated_at), 'MMM dd, yyyy HH:mm:ss')}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {approval.approved_at && (\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Approved/Rejected At</p>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {format(new Date(approval.approved_at), 'MMM dd, yyyy HH:mm:ss')}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {approval.resolved_at && (\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">Resolved At</p>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {format(new Date(approval.resolved_at), 'MMM dd, yyyy HH:mm:ss')}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                  {approval.sla_breach_at && (\r\n                    <div>\r\n                      <p className=\"text-muted-foreground\">SLA Deadline</p>\r\n                      <p className=\"font-medium text-foreground\">\r\n                        {format(new Date(approval.sla_breach_at), 'MMM dd, yyyy HH:mm:ss')}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Full Approval Object (for debugging/admin) */}\r\n            <Card className=\"border-border bg-muted/50\">\r\n              <CardHeader>\r\n                <CardTitle className=\"text-lg text-foreground\">Complete Approval Record</CardTitle>\r\n                <CardDescription className=\"text-muted-foreground\">\r\n                  Full approval object (all fields)\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <pre className=\"p-4 rounded-lg bg-muted dark:bg-black/30 border border-border overflow-x-auto text-xs text-foreground max-h-96 overflow-y-auto\">\r\n                  {JSON.stringify(approval, null, 2)}\r\n                </pre>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </SheetContent>\r\n    </Sheet>\r\n  )\r\n}\r\n\r\n// Approval Timeline Component - Accurate for all approval stages\r\nfunction ApprovalTimeline({ approval }: { approval: Approval }) {\r\n  const events = []\r\n\r\n  // 1. Approval Created/Requested\r\n  events.push({\r\n    label: 'Approval Requested',\r\n    date: new Date(approval.created_at),\r\n    completed: true,\r\n    current: false,\r\n    icon: FileText,\r\n    description: `Requested by ${approval.requested_by_profile?.display_name || 'Unknown'}`\r\n  })\r\n\r\n  // 2. Assignment (if assigned)\r\n  if (approval.assigned_to_profile) {\r\n    events.push({\r\n      label: 'Assigned for Review',\r\n      date: new Date(approval.created_at),\r\n      completed: true,\r\n      current: false,\r\n      icon: User,\r\n      description: `Assigned to ${approval.assigned_to_profile.display_name}`\r\n    })\r\n  }\r\n\r\n  // 3. Current state based on status\r\n  const now = new Date()\r\n\r\n  if (approval.status === 'pending') {\r\n    // Still pending review\r\n    events.push({\r\n      label: 'Under Review',\r\n      date: null,\r\n      completed: false,\r\n      current: true,\r\n      icon: Clock,\r\n      description: approval.sla_breach_at\r\n        ? `SLA deadline: ${format(new Date(approval.sla_breach_at), 'MMM dd, HH:mm')}`\r\n        : 'Awaiting decision'\r\n    })\r\n  } else if (approval.status === 'approved') {\r\n    // Approved\r\n    events.push({\r\n      label: 'Approved',\r\n      date: approval.approved_at ? new Date(approval.approved_at) : null,\r\n      completed: true,\r\n      current: !approval.resolved_at,\r\n      icon: CheckCircle2,\r\n      description: approval.approved_by_profile?.display_name\r\n        ? `Approved by ${approval.approved_by_profile.display_name}`\r\n        : 'Approval granted'\r\n    })\r\n  } else if (approval.status === 'rejected') {\r\n    // Rejected\r\n    events.push({\r\n      label: 'Rejected',\r\n      date: approval.approved_at ? new Date(approval.approved_at) : null,\r\n      completed: true,\r\n      current: !approval.resolved_at,\r\n      icon: XCircle,\r\n      description: approval.approved_by_profile?.display_name\r\n        ? `Rejected by ${approval.approved_by_profile.display_name}`\r\n        : 'Approval denied'\r\n    })\r\n\r\n    // Show rejection reason if available\r\n    if (approval.rejection_reason) {\r\n      events.push({\r\n        label: 'Rejection Reason',\r\n        date: null,\r\n        completed: true,\r\n        current: false,\r\n        icon: Info,\r\n        description: approval.rejection_reason\r\n      })\r\n    }\r\n  } else if (approval.status === 'awaiting_info') {\r\n    // Awaiting additional information\r\n    events.push({\r\n      label: 'Awaiting Information',\r\n      date: approval.updated_at ? new Date(approval.updated_at) : null,\r\n      completed: false,\r\n      current: true,\r\n      icon: AlertTriangle,\r\n      description: 'Additional information requested'\r\n    })\r\n  } else if (approval.status === 'escalated') {\r\n    // Escalated\r\n    events.push({\r\n      label: 'Escalated',\r\n      date: approval.updated_at ? new Date(approval.updated_at) : null,\r\n      completed: true,\r\n      current: !approval.resolved_at,\r\n      icon: AlertTriangle,\r\n      description: 'Escalated to higher authority'\r\n    })\r\n  } else if (approval.status === 'cancelled') {\r\n    // Cancelled\r\n    events.push({\r\n      label: 'Cancelled',\r\n      date: approval.updated_at ? new Date(approval.updated_at) : null,\r\n      completed: true,\r\n      current: false,\r\n      icon: XCircle,\r\n      description: 'Approval request cancelled'\r\n    })\r\n  }\r\n\r\n  // 4. Resolution (if resolved)\r\n  if (approval.resolved_at) {\r\n    events.push({\r\n      label: 'Workflow Completed',\r\n      date: new Date(approval.resolved_at),\r\n      completed: true,\r\n      current: false,\r\n      icon: CheckCircle2,\r\n      description: 'Approval workflow finalized'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {events.map((event, index) => {\r\n        const Icon = event.icon\r\n        return (\r\n          <div key={index} className=\"flex gap-4\">\r\n            <div className=\"flex flex-col items-center\">\r\n              <div\r\n                className={`rounded-full p-2 ${\r\n                  event.completed\r\n                    ? 'bg-emerald-500/20 text-emerald-400'\r\n                    : event.current\r\n                    ? 'bg-amber-500/20 text-amber-400'\r\n                    : 'bg-muted text-muted-foreground'\r\n                }`}\r\n              >\r\n                <Icon className=\"h-4 w-4\" />\r\n              </div>\r\n              {index < events.length - 1 && (\r\n                <div\r\n                  className={`w-0.5 h-12 ${event.completed ? 'bg-emerald-500/30' : 'bg-border'}`}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"flex-1 pb-8\">\r\n              <p className={`font-medium ${event.current ? 'text-amber-600 dark:text-amber-400' : 'text-foreground'}`}>\r\n                {event.label}\r\n              </p>\r\n              {event.date && (\r\n                <p className=\"text-sm text-muted-foreground\">{format(event.date, 'MMM dd, yyyy HH:mm')}</p>\r\n              )}\r\n              <p className=\"text-sm text-muted-foreground\">{event.description}</p>\r\n            </div>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\n\nimport { LayoutGrid, Table, List, Kanban } from 'lucide-react'\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'\n\nexport type ViewType = 'table' | 'kanban' | 'list' | 'database'\n\ninterface ApprovalViewSwitcherProps {\n  currentView: ViewType\n  onViewChange: (view: ViewType) => void\n}\n\nexport function ApprovalViewSwitcher({\n  currentView,\n  onViewChange\n}: ApprovalViewSwitcherProps) {\n  const handleValueChange = (value: string) => {\n    onViewChange(value as ViewType)\n  }\n\n  return (\n    <Tabs value={currentView} onValueChange={handleValueChange}>\n      <TabsList className=\"grid w-full grid-cols-4 max-w-md\">\n        <TabsTrigger value=\"table\" className=\"flex items-center gap-2\">\n          <Table className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Table</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"kanban\" className=\"flex items-center gap-2\">\n          <Kanban className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Kanban</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"list\" className=\"flex items-center gap-2\">\n          <List className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">List</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"database\" className=\"flex items-center gap-2\">\n          <LayoutGrid className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Grid</span>\n        </TabsTrigger>\n      </TabsList>\n    </Tabs>\n  )\n}\n","'use client'\n\nimport { useState } from 'react'\nimport { Approval } from '@/types/approvals'\nimport { Card, CardContent, CardHeader } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Clock, DollarSign, LayoutGrid, ListFilter, Mail, Shield } from 'lucide-react'\nimport { format } from 'date-fns'\n\ninterface ApprovalsKanbanViewProps {\n  approvals: Approval[]\n  onApprovalClick: (approval: Approval) => void\n}\n\ntype GroupBy = 'status' | 'priority'\n\nconst statusColumns = [\n  { id: 'pending', title: 'Pending Review', color: 'border-amber-500', bgColor: 'bg-amber-500/10' },\n  { id: 'approved', title: 'Approved', color: 'border-emerald-500', bgColor: 'bg-emerald-500/10' },\n  { id: 'rejected', title: 'Rejected', color: 'border-rose-500', bgColor: 'bg-rose-500/10' }\n]\n\nconst priorityColumns = [\n  { id: 'critical', title: 'Critical Priority', color: 'border-red-500', bgColor: 'bg-red-500/10' },\n  { id: 'high', title: 'High Priority', color: 'border-orange-500', bgColor: 'bg-orange-500/10' },\n  { id: 'medium', title: 'Medium Priority', color: 'border-yellow-500', bgColor: 'bg-yellow-500/10' },\n  { id: 'low', title: 'Low Priority', color: 'border-blue-500', bgColor: 'bg-blue-500/10' }\n]\n\nconst priorityColors = {\n  low: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\n  medium: 'bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-300',\n  high: 'bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300',\n  critical: 'bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300'\n}\n\nconst statusColors: Record<string, string> = {\n  pending: 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300',\n  approved: 'bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300',\n  rejected: 'bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300',\n  cancelled: 'bg-slate-100 dark:bg-slate-500/20 text-slate-700 dark:text-slate-300'\n}\n\nexport function ApprovalsKanbanView({ approvals, onApprovalClick }: ApprovalsKanbanViewProps) {\n  const [groupBy, setGroupBy] = useState<GroupBy>('status')\n\n  const columns = groupBy === 'status' ? statusColumns : priorityColumns\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Grouping Controls */}\n      <div className=\"flex items-center justify-between bg-muted/50 p-3 rounded-lg border border-border\">\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <LayoutGrid className=\"h-4 w-4\" />\n          <span>Group by:</span>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant={groupBy === 'status' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setGroupBy('status')}\n            className={groupBy === 'status' ? 'bg-blue-600 hover:bg-blue-700' : ''}\n          >\n            <ListFilter className=\"h-4 w-4 mr-2\" />\n            Status\n          </Button>\n          <Button\n            variant={groupBy === 'priority' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setGroupBy('priority')}\n            className={groupBy === 'priority' ? 'bg-blue-600 hover:bg-blue-700' : ''}\n          >\n            <ListFilter className=\"h-4 w-4 mr-2\" />\n            Priority\n          </Button>\n        </div>\n      </div>\n\n      {/* Kanban Board */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6\">\n        {columns.map((column) => {\n          const columnApprovals = approvals.filter((a) =>\n            groupBy === 'status' ? a.status === column.id : a.priority === column.id\n          )\n\n          return (\n            <div key={column.id} className=\"space-y-4\">\n              <div className={`border-l-4 ${column.color} pl-4 ${column.bgColor} py-3 rounded-r-lg`}>\n                <h3 className=\"font-semibold text-lg text-foreground\">{column.title}</h3>\n                <p className=\"text-sm text-muted-foreground\">{columnApprovals.length} items</p>\n              </div>\n\n              <div className=\"space-y-3 min-h-[200px]\">\n                {columnApprovals.map((approval) => (\n                  <Card\n                    key={approval.id}\n                    className=\"cursor-pointer hover:bg-muted transition-all border-border hover:border-primary/30 hover:shadow-lg\"\n                    onClick={() => onApprovalClick(approval)}\n                  >\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div className=\"space-y-1.5 flex-1 min-w-0\">\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {approval.entity_type.replace(/_/g, ' ')}\n                          </Badge>\n                          <p className=\"font-semibold text-sm truncate text-foreground\">\n                            {approval.entity_type === 'member_invitation'\n                              ? approval.entity_metadata?.email || 'Unknown'\n                              : (approval.related_deal?.name || approval.related_investor?.legal_name || 'Unknown')}\n                          </p>\n                        </div>\n                        {groupBy === 'status' ? (\n                          <Badge className={priorityColors[approval.priority]}>\n                            {approval.priority}\n                          </Badge>\n                        ) : (\n                          <Badge className={statusColors[approval.status]}>\n                            {approval.status}\n                          </Badge>\n                        )}\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2.5\">\n                      {approval.sla_breach_at && (\n                        <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                          <Clock className=\"h-3 w-3\" />\n                          <span>Due {format(new Date(approval.sla_breach_at), 'MMM dd, HH:mm')}</span>\n                        </div>\n                      )}\n                      {approval.entity_metadata?.indicative_amount && (\n                        <div className=\"flex items-center gap-2 text-xs font-semibold text-emerald-400\">\n                          <DollarSign className=\"h-3 w-3\" />\n                          {approval.entity_metadata.indicative_currency || 'USD'}{' '}\n                          {approval.entity_metadata.indicative_amount.toLocaleString()}\n                        </div>\n                      )}\n                      {approval.assigned_to_profile && (\n                        <p className=\"text-xs text-muted-foreground truncate\">\n                          Assigned: {approval.assigned_to_profile.display_name}\n                        </p>\n                      )}\n                      {approval.entity_type === 'member_invitation' && approval.entity_metadata && (\n                        <>\n                          <p className=\"text-xs text-muted-foreground truncate\">\n                            {approval.entity_metadata.entity_name}\n                          </p>\n                          <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                            <span className=\"capitalize\">{approval.entity_metadata.role || 'Member'}</span>\n                            {approval.entity_metadata.is_signatory && (\n                              <Badge className=\"text-[10px] bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300 px-1 py-0\">\n                                <Shield className=\"h-2.5 w-2.5 mr-0.5\" />\n                                Signatory\n                              </Badge>\n                            )}\n                          </div>\n                        </>\n                      )}\n                      {approval.entity_type !== 'member_invitation' && approval.related_investor && (\n                        <p className=\"text-xs text-muted-foreground truncate\">\n                          {approval.related_investor.legal_name}\n                        </p>\n                      )}\n                      <p className=\"text-xs text-muted-foreground\">\n                        {format(new Date(approval.created_at), 'MMM dd, HH:mm')}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ))}\n\n                {columnApprovals.length === 0 && (\n                  <div className=\"text-center py-12 text-muted-foreground text-sm border-2 border-dashed border-border rounded-lg\">\n                    No {column.title.toLowerCase()}\n                  </div>\n                )}\n              </div>\n            </div>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","'use client'\n\nimport { Approval } from '@/types/approvals'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport {\n  Clock,\n  DollarSign,\n  User,\n  Building2,\n  CheckCircle2,\n  XCircle,\n  Mail,\n  UserPlus,\n  Shield\n} from 'lucide-react'\nimport { format } from 'date-fns'\n\ninterface ApprovalsListViewProps {\n  approvals: Approval[]\n  onApprovalClick: (approval: Approval) => void\n  onApprove?: (approvalId: string) => Promise<void>\n  onReject?: (approvalId: string, reason: string) => Promise<void>\n}\n\nconst priorityColors = {\n  low: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\n  medium: 'bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-300',\n  high: 'bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300',\n  critical: 'bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300'\n}\n\nconst statusColors = {\n  pending: 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300',\n  approved: 'bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300',\n  rejected: 'bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300',\n  awaiting_info: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\n  escalated: 'bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300',\n  cancelled: 'bg-slate-100 dark:bg-slate-500/20 text-slate-700 dark:text-slate-300'\n}\n\nexport function ApprovalsListView({\n  approvals,\n  onApprovalClick,\n  onApprove,\n  onReject\n}: ApprovalsListViewProps) {\n  return (\n    <div className=\"space-y-4\">\n      {approvals.map((approval) => (\n        <Card\n          key={approval.id}\n          className=\"cursor-pointer hover:bg-muted transition-all border-border hover:border-primary/30\"\n          onClick={() => onApprovalClick(approval)}\n        >\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-start justify-between gap-6\">\n              {/* Left side - Main info */}\n              <div className=\"flex-1 space-y-4\">\n                <div className=\"flex items-center gap-2 flex-wrap\">\n                  <Badge variant=\"outline\">\n                    {approval.entity_type.replace(/_/g, ' ').toUpperCase()}\n                  </Badge>\n                  <Badge className={priorityColors[approval.priority]}>\n                    {approval.priority.toUpperCase()}\n                  </Badge>\n                  <Badge className={statusColors[approval.status]}>\n                    {approval.status.replace(/_/g, ' ').toUpperCase()}\n                  </Badge>\n                </div>\n\n                <h3 className=\"font-semibold text-lg text-foreground\">\n                  {approval.entity_type === 'member_invitation'\n                    ? `Member Invitation: ${approval.entity_metadata?.email || 'Unknown'}`\n                    : (approval.related_deal?.name || approval.related_investor?.legal_name || 'Approval Request')}\n                </h3>\n\n                {/* Member Invitation specific info */}\n                {approval.entity_type === 'member_invitation' && approval.entity_metadata && (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\n                      <Mail className=\"h-4 w-4 flex-shrink-0\" />\n                      <span className=\"truncate\">{approval.entity_metadata.email}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\n                      <Building2 className=\"h-4 w-4 flex-shrink-0\" />\n                      <span className=\"truncate\">{approval.entity_metadata.entity_name}</span>\n                    </div>\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\n                      <UserPlus className=\"h-4 w-4 flex-shrink-0\" />\n                      <span className=\"truncate capitalize\">{approval.entity_metadata.role || 'Member'}</span>\n                    </div>\n                    {approval.entity_metadata.is_signatory && (\n                      <div className=\"flex items-center gap-2 text-amber-400 font-medium\">\n                        <Shield className=\"h-4 w-4 flex-shrink-0\" />\n                        <span>Signatory</span>\n                      </div>\n                    )}\n                    {approval.sla_breach_at && (\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <Clock className=\"h-4 w-4 flex-shrink-0\" />\n                        <span>Due {format(new Date(approval.sla_breach_at), 'MMM dd, HH:mm')}</span>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {/* Standard approval info */}\n                {approval.entity_type !== 'member_invitation' && (\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\n                    {approval.related_investor && (\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <User className=\"h-4 w-4 flex-shrink-0\" />\n                        <span className=\"truncate\">{approval.related_investor.legal_name}</span>\n                      </div>\n                    )}\n\n                    {approval.related_deal && (\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <Building2 className=\"h-4 w-4 flex-shrink-0\" />\n                        <span className=\"truncate capitalize\">{approval.related_deal.deal_type || 'Deal'}</span>\n                      </div>\n                    )}\n\n                    {approval.sla_breach_at && (\n                      <div className=\"flex items-center gap-2 text-muted-foreground\">\n                        <Clock className=\"h-4 w-4 flex-shrink-0\" />\n                        <span>Due {format(new Date(approval.sla_breach_at), 'MMM dd, HH:mm')}</span>\n                      </div>\n                    )}\n\n                    {approval.entity_metadata?.indicative_amount && (\n                      <div className=\"flex items-center gap-2 font-semibold text-emerald-400\">\n                        <DollarSign className=\"h-4 w-4 flex-shrink-0\" />\n                        <span>\n                          {approval.entity_metadata.indicative_currency || 'USD'}{' '}\n                          {approval.entity_metadata.indicative_amount.toLocaleString()}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                  <span>\n                    Requested by {approval.requested_by_profile?.display_name || 'Unknown'}\n                  </span>\n                  <span></span>\n                  <span>\n                    Assigned to {approval.assigned_to_profile?.display_name || 'Unassigned'}\n                  </span>\n                  <span></span>\n                  <span>{format(new Date(approval.created_at), 'MMM dd, yyyy')}</span>\n                </div>\n              </div>\n\n              {/* Right side - Actions */}\n              {approval.status === 'pending' && (onApprove || onReject) && (\n                <div className=\"flex flex-col gap-2\" onClick={(e) => e.stopPropagation()}>\n                  {onApprove && (\n                    <Button\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        onApprove(approval.id)\n                      }}\n                      className=\"bg-emerald-600 hover:bg-emerald-700 min-w-[100px]\"\n                    >\n                      <CheckCircle2 className=\"h-4 w-4 mr-2\" />\n                      Approve\n                    </Button>\n                  )}\n                  {onReject && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"destructive\"\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        const reason = prompt('Please provide a rejection reason:')\n                        if (reason) {\n                          onReject(approval.id, reason)\n                        }\n                      }}\n                      className=\"min-w-[100px]\"\n                    >\n                      <XCircle className=\"h-4 w-4 mr-2\" />\n                      Reject\n                    </Button>\n                  )}\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      ))}\n\n      {approvals.length === 0 && (\n        <div className=\"text-center py-12 text-muted-foreground\">\n          No approvals found\n        </div>\n      )}\n    </div>\n  )\n}\n","'use client'\n\nimport { useState, useMemo } from 'react'\nimport { Approval } from '@/types/approvals'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from '@/components/ui/select'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from '@/components/ui/table'\nimport {\n  Search,\n  SlidersHorizontal,\n  X,\n  ArrowUpDown,\n  ArrowUp,\n  ArrowDown,\n  Filter\n} from 'lucide-react'\nimport { format } from 'date-fns'\n\ninterface ApprovalsDatabaseViewProps {\n  approvals: Approval[]\n  onApprovalClick: (approval: Approval) => void\n}\n\ntype SortField = 'created_at' | 'priority' | 'sla_breach_at' | 'entity_type' | 'status'\ntype SortDirection = 'asc' | 'desc'\n\nconst priorityColors = {\n  low: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\n  medium: 'bg-yellow-100 dark:bg-yellow-500/20 text-yellow-700 dark:text-yellow-300',\n  high: 'bg-orange-100 dark:bg-orange-500/20 text-orange-700 dark:text-orange-300',\n  critical: 'bg-red-100 dark:bg-red-500/20 text-red-700 dark:text-red-300'\n}\n\nconst statusColors = {\n  pending: 'bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-300',\n  approved: 'bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-300',\n  rejected: 'bg-rose-100 dark:bg-rose-500/20 text-rose-700 dark:text-rose-300',\n  awaiting_info: 'bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-300',\n  escalated: 'bg-purple-100 dark:bg-purple-500/20 text-purple-700 dark:text-purple-300',\n  cancelled: 'bg-slate-100 dark:bg-slate-500/20 text-slate-700 dark:text-slate-300'\n}\n\nconst priorityOrder = { critical: 0, high: 1, medium: 2, low: 3 }\n\nexport function ApprovalsDatabaseView({ approvals, onApprovalClick }: ApprovalsDatabaseViewProps) {\n  // Search and filter state\n  const [searchQuery, setSearchQuery] = useState('')\n  const [statusFilter, setStatusFilter] = useState<string>('all')\n  const [priorityFilter, setPriorityFilter] = useState<string>('all')\n  const [entityTypeFilter, setEntityTypeFilter] = useState<string>('all')\n  const [slaFilter, setSlaFilter] = useState<string>('all')\n\n  // Sorting state\n  const [sortField, setSortField] = useState<SortField>('created_at')\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc')\n\n  // Column visibility\n  const [visibleColumns, setVisibleColumns] = useState({\n    entity_type: true,\n    deal_investor: true,\n    amount: true,\n    priority: true,\n    status: true,\n    sla: true,\n    assigned_to: true,\n    requested_by: true,\n    created_at: true\n  })\n\n  // Filter and search logic\n  const filteredAndSortedApprovals = useMemo(() => {\n    let filtered = approvals\n\n    // Text search\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        (a) =>\n          a.entity_type.toLowerCase().includes(query) ||\n          a.related_deal?.name?.toLowerCase().includes(query) ||\n          a.related_investor?.legal_name?.toLowerCase().includes(query) ||\n          a.requested_by_profile?.display_name?.toLowerCase().includes(query) ||\n          a.assigned_to_profile?.display_name?.toLowerCase().includes(query) ||\n          a.id.toLowerCase().includes(query) ||\n          // Member invitation specific search\n          (a.entity_type === 'member_invitation' && (\n            a.entity_metadata?.email?.toLowerCase().includes(query) ||\n            a.entity_metadata?.entity_name?.toLowerCase().includes(query) ||\n            a.entity_metadata?.role?.toLowerCase().includes(query)\n          ))\n      )\n    }\n\n    // Status filter\n    if (statusFilter !== 'all') {\n      filtered = filtered.filter((a) => a.status === statusFilter)\n    }\n\n    // Priority filter\n    if (priorityFilter !== 'all') {\n      filtered = filtered.filter((a) => a.priority === priorityFilter)\n    }\n\n    // Entity type filter\n    if (entityTypeFilter !== 'all') {\n      filtered = filtered.filter((a) => a.entity_type === entityTypeFilter)\n    }\n\n    // SLA filter\n    if (slaFilter !== 'all') {\n      const now = new Date()\n      filtered = filtered.filter((a) => {\n        if (!a.sla_breach_at) return slaFilter === 'no_sla'\n        const breachDate = new Date(a.sla_breach_at)\n        if (slaFilter === 'overdue') return breachDate < now\n        if (slaFilter === 'due_soon') {\n          const hoursRemaining = (breachDate.getTime() - now.getTime()) / (1000 * 60 * 60)\n          return hoursRemaining > 0 && hoursRemaining < 4\n        }\n        if (slaFilter === 'on_track') {\n          const hoursRemaining = (breachDate.getTime() - now.getTime()) / (1000 * 60 * 60)\n          return hoursRemaining >= 4\n        }\n        return true\n      })\n    }\n\n    // Sorting\n    filtered.sort((a, b) => {\n      let aVal: any\n      let bVal: any\n\n      switch (sortField) {\n        case 'created_at':\n          aVal = new Date(a.created_at).getTime()\n          bVal = new Date(b.created_at).getTime()\n          break\n        case 'priority':\n          aVal = priorityOrder[a.priority]\n          bVal = priorityOrder[b.priority]\n          break\n        case 'sla_breach_at':\n          aVal = a.sla_breach_at ? new Date(a.sla_breach_at).getTime() : Infinity\n          bVal = b.sla_breach_at ? new Date(b.sla_breach_at).getTime() : Infinity\n          break\n        case 'entity_type':\n          aVal = a.entity_type\n          bVal = b.entity_type\n          break\n        case 'status':\n          aVal = a.status\n          bVal = b.status\n          break\n        default:\n          return 0\n      }\n\n      if (aVal < bVal) return sortDirection === 'asc' ? -1 : 1\n      if (aVal > bVal) return sortDirection === 'asc' ? 1 : -1\n      return 0\n    })\n\n    return filtered\n  }, [approvals, searchQuery, statusFilter, priorityFilter, entityTypeFilter, slaFilter, sortField, sortDirection])\n\n  // Unique values for filters\n  const uniqueEntityTypes = useMemo(\n    () => Array.from(new Set(approvals.map((a) => a.entity_type))),\n    [approvals]\n  )\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc')\n    } else {\n      setSortField(field)\n      setSortDirection('asc')\n    }\n  }\n\n  const clearFilters = () => {\n    setSearchQuery('')\n    setStatusFilter('all')\n    setPriorityFilter('all')\n    setEntityTypeFilter('all')\n    setSlaFilter('all')\n  }\n\n  const hasActiveFilters =\n    searchQuery || statusFilter !== 'all' || priorityFilter !== 'all' || entityTypeFilter !== 'all' || slaFilter !== 'all'\n\n  const SortIcon = ({ field }: { field: SortField }) => {\n    if (sortField !== field) return <ArrowUpDown className=\"h-3 w-3 ml-1 opacity-50\" />\n    return sortDirection === 'asc' ? (\n      <ArrowUp className=\"h-3 w-3 ml-1\" />\n    ) : (\n      <ArrowDown className=\"h-3 w-3 ml-1\" />\n    )\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Advanced Filters Bar */}\n      <Card className=\"border-border bg-muted/50\">\n        <CardContent className=\"p-4\">\n          <div className=\"space-y-4\">\n            {/* Search Bar */}\n            <div className=\"flex items-center gap-2\">\n              <div className=\"relative flex-1\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search by deal name, investor, ID, assigned to...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-10 bg-background border-input text-foreground placeholder:text-muted-foreground\"\n                />\n              </div>\n              {hasActiveFilters && (\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={clearFilters}\n                  className=\"shrink-0\"\n                >\n                  <X className=\"h-4 w-4 mr-2\" />\n                  Clear Filters\n                </Button>\n              )}\n            </div>\n\n            {/* Filter Controls */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3\">\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Filter className=\"h-3 w-3\" />\n                  Status\n                </label>\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Statuses</SelectItem>\n                    <SelectItem value=\"pending\">Pending</SelectItem>\n                    <SelectItem value=\"approved\">Approved</SelectItem>\n                    <SelectItem value=\"rejected\">Rejected</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Filter className=\"h-3 w-3\" />\n                  Priority\n                </label>\n                <Select value={priorityFilter} onValueChange={setPriorityFilter}>\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Priorities</SelectItem>\n                    <SelectItem value=\"critical\">Critical</SelectItem>\n                    <SelectItem value=\"high\">High</SelectItem>\n                    <SelectItem value=\"medium\">Medium</SelectItem>\n                    <SelectItem value=\"low\">Low</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Filter className=\"h-3 w-3\" />\n                  Entity Type\n                </label>\n                <Select value={entityTypeFilter} onValueChange={setEntityTypeFilter}>\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Types</SelectItem>\n                    {uniqueEntityTypes.map((type) => (\n                      <SelectItem key={type} value={type}>\n                        {type.replace(/_/g, ' ')}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Filter className=\"h-3 w-3\" />\n                  SLA Status\n                </label>\n                <Select value={slaFilter} onValueChange={setSlaFilter}>\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All SLA</SelectItem>\n                    <SelectItem value=\"overdue\">Overdue</SelectItem>\n                    <SelectItem value=\"due_soon\">Due Soon (&lt;4h)</SelectItem>\n                    <SelectItem value=\"on_track\">On Track</SelectItem>\n                    <SelectItem value=\"no_sla\">No SLA</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-1.5\">\n                <label className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <SlidersHorizontal className=\"h-3 w-3\" />\n                  Sort By\n                </label>\n                <Select value={sortField} onValueChange={(v) => setSortField(v as SortField)}>\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"created_at\">Created Date</SelectItem>\n                    <SelectItem value=\"priority\">Priority</SelectItem>\n                    <SelectItem value=\"sla_breach_at\">SLA Deadline</SelectItem>\n                    <SelectItem value=\"entity_type\">Entity Type</SelectItem>\n                    <SelectItem value=\"status\">Status</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* Results Counter */}\n            <div className=\"flex items-center justify-between pt-2 border-t border-border\">\n              <p className=\"text-sm text-muted-foreground\">\n                Showing <span className=\"font-semibold text-foreground\">{filteredAndSortedApprovals.length}</span> of{' '}\n                <span className=\"font-semibold text-foreground\">{approvals.length}</span> approvals\n              </p>\n              {hasActiveFilters && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  Filters Active\n                </Badge>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Database Grid Table */}\n      <Card className=\"border-border bg-muted/50\">\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow className=\"border-border hover:bg-white/5\">\n                {visibleColumns.entity_type && (\n                  <TableHead>\n                    <button\n                      onClick={() => handleSort('entity_type')}\n                      className=\"flex items-center text-muted-foreground hover:text-foreground font-semibold\"\n                    >\n                      Type\n                      <SortIcon field=\"entity_type\" />\n                    </button>\n                  </TableHead>\n                )}\n                {visibleColumns.deal_investor && (\n                  <TableHead className=\"text-muted-foreground font-semibold\">Deal / Investor</TableHead>\n                )}\n                {visibleColumns.amount && (\n                  <TableHead className=\"text-muted-foreground font-semibold\">Amount</TableHead>\n                )}\n                {visibleColumns.priority && (\n                  <TableHead>\n                    <button\n                      onClick={() => handleSort('priority')}\n                      className=\"flex items-center text-muted-foreground hover:text-foreground font-semibold\"\n                    >\n                      Priority\n                      <SortIcon field=\"priority\" />\n                    </button>\n                  </TableHead>\n                )}\n                {visibleColumns.status && (\n                  <TableHead>\n                    <button\n                      onClick={() => handleSort('status')}\n                      className=\"flex items-center text-muted-foreground hover:text-foreground font-semibold\"\n                    >\n                      Status\n                      <SortIcon field=\"status\" />\n                    </button>\n                  </TableHead>\n                )}\n                {visibleColumns.sla && (\n                  <TableHead>\n                    <button\n                      onClick={() => handleSort('sla_breach_at')}\n                      className=\"flex items-center text-muted-foreground hover:text-foreground font-semibold\"\n                    >\n                      SLA Deadline\n                      <SortIcon field=\"sla_breach_at\" />\n                    </button>\n                  </TableHead>\n                )}\n                {visibleColumns.assigned_to && (\n                  <TableHead className=\"text-muted-foreground font-semibold\">Assigned To</TableHead>\n                )}\n                {visibleColumns.requested_by && (\n                  <TableHead className=\"text-muted-foreground font-semibold\">Requested By</TableHead>\n                )}\n                {visibleColumns.created_at && (\n                  <TableHead>\n                    <button\n                      onClick={() => handleSort('created_at')}\n                      className=\"flex items-center text-muted-foreground hover:text-foreground font-semibold\"\n                    >\n                      Created\n                      <SortIcon field=\"created_at\" />\n                    </button>\n                  </TableHead>\n                )}\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {filteredAndSortedApprovals.length > 0 ? (\n                filteredAndSortedApprovals.map((approval) => {\n                  const slaBreachDate = approval.sla_breach_at ? new Date(approval.sla_breach_at) : null\n                  const isOverdue = slaBreachDate && slaBreachDate < new Date()\n\n                  return (\n                    <TableRow\n                      key={approval.id}\n                      className=\"border-border cursor-pointer hover:bg-muted transition-colors\"\n                      onClick={() => onApprovalClick(approval)}\n                    >\n                      {visibleColumns.entity_type && (\n                        <TableCell>\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {approval.entity_type.replace(/_/g, ' ')}\n                          </Badge>\n                        </TableCell>\n                      )}\n                      {visibleColumns.deal_investor && (\n                        <TableCell>\n                          <div className=\"space-y-1\">\n                            {approval.entity_type === 'member_invitation' && approval.entity_metadata ? (\n                              <>\n                                <p className=\"font-medium text-foreground text-sm\">\n                                  {approval.entity_metadata.email}\n                                </p>\n                                <p className=\"text-xs text-muted-foreground\">\n                                  {approval.entity_metadata.entity_name}  {approval.entity_metadata.role || 'Member'}\n                                  {approval.entity_metadata.is_signatory && '  Signatory'}\n                                </p>\n                              </>\n                            ) : (\n                              <>\n                                {approval.related_deal && (\n                                  <p className=\"font-medium text-foreground text-sm\">\n                                    {approval.related_deal.name}\n                                  </p>\n                                )}\n                                {approval.related_investor && (\n                                  <p className=\"text-xs text-muted-foreground\">\n                                    {approval.related_investor.legal_name}\n                                  </p>\n                                )}\n                                {!approval.related_deal && !approval.related_investor && (\n                                  <p className=\"text-xs text-muted-foreground font-mono\">\n                                    {approval.entity_id.substring(0, 12)}...\n                                  </p>\n                                )}\n                              </>\n                            )}\n                          </div>\n                        </TableCell>\n                      )}\n                      {visibleColumns.amount && (\n                        <TableCell>\n                          {approval.entity_metadata?.indicative_amount ? (\n                            <p className=\"text-sm font-semibold text-emerald-400\">\n                              {approval.entity_metadata.indicative_currency || 'USD'}{' '}\n                              {approval.entity_metadata.indicative_amount.toLocaleString()}\n                            </p>\n                          ) : (\n                            <span className=\"text-muted-foreground text-xs\"></span>\n                          )}\n                        </TableCell>\n                      )}\n                      {visibleColumns.priority && (\n                        <TableCell>\n                          <Badge className={priorityColors[approval.priority]}>\n                            {approval.priority.toUpperCase()}\n                          </Badge>\n                        </TableCell>\n                      )}\n                      {visibleColumns.status && (\n                        <TableCell>\n                          <Badge className={statusColors[approval.status]}>\n                            {approval.status.replace('_', ' ').toUpperCase()}\n                          </Badge>\n                        </TableCell>\n                      )}\n                      {visibleColumns.sla && (\n                        <TableCell>\n                          {slaBreachDate ? (\n                            <div className={isOverdue ? 'text-red-400 font-semibold' : 'text-muted-foreground'}>\n                              <p className=\"text-xs\">\n                                {format(slaBreachDate, 'MMM dd, HH:mm')}\n                              </p>\n                              {isOverdue && (\n                                <p className=\"text-xs text-red-400\">Overdue</p>\n                              )}\n                            </div>\n                          ) : (\n                            <span className=\"text-muted-foreground text-xs\">No SLA</span>\n                          )}\n                        </TableCell>\n                      )}\n                      {visibleColumns.assigned_to && (\n                        <TableCell>\n                          <p className=\"text-sm text-foreground\">\n                            {approval.assigned_to_profile?.display_name || (\n                              <span className=\"text-muted-foreground\">Unassigned</span>\n                            )}\n                          </p>\n                        </TableCell>\n                      )}\n                      {visibleColumns.requested_by && (\n                        <TableCell>\n                          <p className=\"text-sm text-foreground\">\n                            {approval.requested_by_profile?.display_name || 'Unknown'}\n                          </p>\n                        </TableCell>\n                      )}\n                      {visibleColumns.created_at && (\n                        <TableCell>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {format(new Date(approval.created_at), 'MMM dd, yyyy')}\n                          </p>\n                          <p className=\"text-xs text-muted-foreground\">\n                            {format(new Date(approval.created_at), 'HH:mm')}\n                          </p>\n                        </TableCell>\n                      )}\n                    </TableRow>\n                  )\n                })\n              ) : (\n                <TableRow>\n                  <TableCell colSpan={9} className=\"text-center py-12\">\n                    <div className=\"space-y-2\">\n                      <p className=\"text-muted-foreground\">No approvals match your filters</p>\n                      {hasActiveFilters && (\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={clearFilters}\n                        >\n                          Clear all filters\n                        </Button>\n                      )}\n                    </div>\n                  </TableCell>\n                </TableRow>\n              )}\n            </TableBody>\n          </Table>\n        </div>\n      </Card>\n    </div>\n  )\n}\n","'use client'\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport {\r\n  CheckCircle2,\r\n  XCircle,\r\n  Clock,\r\n  AlertTriangle,\r\n  RefreshCw,\r\n  Download,\r\n  HandCoins,\r\n  Package\r\n} from 'lucide-react'\r\nimport { Approval, ApprovalStats, SLAStatus } from '@/types/approvals'\r\nimport { ApprovalActionDialog } from './approval-action-dialog'\r\nimport { ApprovalFilters, FilterState } from './approval-filters'\r\nimport { ApprovalDetailDrawer } from './approval-detail-drawer'\r\nimport { ApprovalViewSwitcher, ViewType } from './approval-view-switcher'\r\nimport { ApprovalsKanbanView } from './views/approvals-kanban-view'\r\nimport { ApprovalsListView } from './views/approvals-list-view'\r\nimport { ApprovalsDatabaseView } from './views/approvals-database-view'\r\nimport { exportApprovalsToCSV } from '@/lib/export-csv'\r\nimport { toast } from 'sonner'\r\n\r\ninterface ApprovalsPageClientProps {\r\n  initialApprovals: Approval[]\r\n  initialStats: ApprovalStats\r\n  initialCounts: {\r\n    pending: number\r\n    approved: number\r\n    rejected: number\r\n  }\r\n}\r\n\r\n// Calculate SLA status from deadline\r\nfunction calculateSLAStatus(slaBreachAt: string | null | undefined): SLAStatus {\r\n  if (!slaBreachAt) {\r\n    return { text: 'No SLA', isOverdue: false, urgency: 'low' }\r\n  }\r\n\r\n  const now = new Date()\r\n  const sla = new Date(slaBreachAt)\r\n  const diffMs = sla.getTime() - now.getTime()\r\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\r\n\r\n  if (diffHours < 0) {\r\n    return {\r\n      text: `${Math.abs(diffHours)}h overdue`,\r\n      isOverdue: true,\r\n      urgency: 'high',\r\n      hoursRemaining: diffHours\r\n    }\r\n  } else if (diffHours < 4) {\r\n    return {\r\n      text: `${diffHours}h remaining`,\r\n      isOverdue: false,\r\n      urgency: 'high',\r\n      hoursRemaining: diffHours\r\n    }\r\n  } else if (diffHours < 12) {\r\n    return {\r\n      text: `${diffHours}h remaining`,\r\n      isOverdue: false,\r\n      urgency: 'medium',\r\n      hoursRemaining: diffHours\r\n    }\r\n  } else {\r\n    return {\r\n      text: `${diffHours}h remaining`,\r\n      isOverdue: false,\r\n      urgency: 'low',\r\n      hoursRemaining: diffHours\r\n    }\r\n  }\r\n}\r\n\r\nexport function ApprovalsPageClient({\r\n  initialApprovals,\r\n  initialStats,\r\n  initialCounts\r\n}: ApprovalsPageClientProps) {\r\n  const [approvals, setApprovals] = useState<Approval[]>(initialApprovals)\r\n  const [stats, setStats] = useState<ApprovalStats>(initialStats)\r\n  const [counts, setCounts] = useState(initialCounts)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  // Track initial mount to prevent API call from overwriting server data\r\n  // The server passes initialApprovals with correct data for the preferred view,\r\n  // but the useEffect below fires before localStorage view is loaded, causing\r\n  // a race condition where pending-only data overwrites the complete dataset\r\n  const [isInitialMount, setIsInitialMount] = useState(true)\r\n\r\n  // Filter state\r\n  const [filters, setFilters] = useState<FilterState>({\r\n    entity_types: [],\r\n    priorities: [],\r\n    assigned_to_me: false,\r\n    overdue_only: false\r\n  })\r\n\r\n  // Pagination state - initialize total from initial data\r\n  const [pagination, setPagination] = useState({\r\n    page: 1,\r\n    limit: 50,\r\n    total: initialApprovals?.length || 0\r\n  })\r\n\r\n  // Bulk selection state\r\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set())\r\n  const [isBulkProcessing, setIsBulkProcessing] = useState(false)\r\n\r\n  // Dialog state\r\n  const [dialogOpen, setDialogOpen] = useState(false)\r\n  const [selectedApproval, setSelectedApproval] = useState<Approval | null>(null)\r\n  const [dialogAction, setDialogAction] = useState<'approve' | 'reject' | null>(null)\r\n\r\n  // Detail drawer state\r\n  const [detailDrawerOpen, setDetailDrawerOpen] = useState(false)\r\n  const [detailDrawerApproval, setDetailDrawerApproval] = useState<Approval | null>(null)\r\n\r\n  // View state\r\n  const [currentView, setCurrentView] = useState<ViewType>('table')\r\n\r\n  // Filter approvals based on current view\r\n  // Kanban shows all statuses, other views show only pending\r\n  const visibleApprovals = useMemo(() => {\r\n    if (currentView === 'kanban') {\r\n      return approvals\r\n    }\r\n    // Table, List, Database views only show pending items\r\n    return approvals.filter(a => a.status === 'pending')\r\n  }, [approvals, currentView])\r\n\r\n  // Load view preference from localStorage\r\n  useEffect(() => {\r\n    const savedView = localStorage.getItem('approvals-view-preference')\r\n    if (savedView && ['table', 'kanban', 'list', 'database'].includes(savedView)) {\r\n      setCurrentView(savedView as ViewType)\r\n    }\r\n  }, [])\r\n\r\n  // Save view preference to localStorage\r\n  useEffect(() => {\r\n    localStorage.setItem('approvals-view-preference', currentView)\r\n  }, [currentView])\r\n\r\n  // Reset pagination when view changes to avoid offset issues\r\n  // (e.g., switching from table view page 3 to Kanban which may have fewer items)\r\n  useEffect(() => {\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }, [currentView])\r\n\r\n  // Refresh data\r\n  const refreshData = useCallback(async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      // Build query params from filters\r\n      const params = new URLSearchParams()\r\n\r\n      // ALWAYS fetch all statuses to ensure data consistency across views\r\n      // The visibleApprovals memo handles filtering for non-kanban views\r\n      // This prevents data loss when user applies filter in table then switches to kanban\r\n      params.append('status', 'pending,approved,rejected')\r\n      const thirtyDaysAgo = new Date()\r\n      thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30)\r\n      params.append('decided_after', thirtyDaysAgo.toISOString())\r\n\r\n      // Kanban view needs ALL items without pagination to show complete board\r\n      // Other views (table, list, database) use standard pagination\r\n      const effectiveLimit = currentView === 'kanban' ? 500 : pagination.limit\r\n      params.append('limit', effectiveLimit.toString())\r\n      if (currentView !== 'kanban') {\r\n        params.append('offset', ((pagination.page - 1) * pagination.limit).toString())\r\n      }\r\n\r\n      if (filters.entity_types.length > 0) {\r\n        params.append('entity_types', filters.entity_types.join(','))\r\n      }\r\n      if (filters.priorities.length > 0) {\r\n        params.append('priorities', filters.priorities.join(','))\r\n      }\r\n      if (filters.assigned_to_me) {\r\n        params.append('assigned_to', 'me')\r\n      }\r\n      if (filters.overdue_only) {\r\n        params.append('overdue_only', 'true')\r\n      }\r\n\r\n      const response = await fetch(`/api/approvals?${params.toString()}`, {\r\n        credentials: 'include'\r\n      })\r\n      if (!response.ok) throw new Error('Failed to fetch approvals')\r\n\r\n      const data = await response.json()\r\n      setApprovals(data.approvals || [])\r\n      setStats(data.stats || initialStats)\r\n      setCounts(data.counts || initialCounts)\r\n      setPagination(prev => ({ ...prev, total: data.total || 0 }))\r\n    } catch (error) {\r\n      console.error('Error refreshing approvals:', error)\r\n      toast.error('Failed to refresh approvals data')\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [filters, pagination.page, pagination.limit, initialStats, initialCounts, currentView])\r\n\r\n  // Handle approve button click\r\n  const handleApproveClick = (approval: Approval) => {\r\n    setSelectedApproval(approval)\r\n    setDialogAction('approve')\r\n    setDialogOpen(true)\r\n  }\r\n\r\n  // Handle reject button click\r\n  const handleRejectClick = (approval: Approval) => {\r\n    setSelectedApproval(approval)\r\n    setDialogAction('reject')\r\n    setDialogOpen(true)\r\n  }\r\n\r\n  // Handle successful action\r\n  const handleActionSuccess = () => {\r\n    setSelectedIds(new Set()) // Clear selection after action\r\n    refreshData()\r\n  }\r\n\r\n  // Detail drawer handlers\r\n  const handleApprovalClick = (approval: Approval) => {\r\n    setDetailDrawerApproval(approval)\r\n    setDetailDrawerOpen(true)\r\n  }\r\n\r\n  const handleDrawerApprove = async (approvalId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/approvals/${approvalId}/action`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ action: 'approve' })\r\n      })\r\n\r\n      if (!response.ok) throw new Error('Approval failed')\r\n\r\n      toast.success('Approval approved successfully')\r\n      await refreshData()\r\n    } catch (error) {\r\n      console.error('Error approving:', error)\r\n      toast.error('Failed to approve')\r\n      throw error\r\n    }\r\n  }\r\n\r\n  const handleDrawerReject = async (approvalId: string, reason: string) => {\r\n    try {\r\n      const response = await fetch(`/api/approvals/${approvalId}/action`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ action: 'reject', rejection_reason: reason })\r\n      })\r\n\r\n      if (!response.ok) throw new Error('Rejection failed')\r\n\r\n      toast.success('Approval rejected')\r\n      await refreshData()\r\n    } catch (error) {\r\n      console.error('Error rejecting:', error)\r\n      toast.error('Failed to reject')\r\n      throw error\r\n    }\r\n  }\r\n\r\n  // Refresh when filters or pagination change\r\n  // Note: currentView is intentionally NOT included - server provides complete data\r\n  // for all views, so we don't need to refetch when switching views. User can\r\n  // manually refresh if needed via the Refresh button.\r\n  useEffect(() => {\r\n    // Skip initial mount - we already have correct server data from initialApprovals\r\n    if (isInitialMount) {\r\n      setIsInitialMount(false)\r\n      return\r\n    }\r\n    refreshData()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [filters.entity_types, filters.priorities, filters.assigned_to_me, filters.overdue_only, pagination.page])\r\n\r\n  // Bulk selection handlers\r\n  const toggleSelection = (id: string) => {\r\n    setSelectedIds(prev => {\r\n      const next = new Set(prev)\r\n      if (next.has(id)) {\r\n        next.delete(id)\r\n      } else {\r\n        next.add(id)\r\n      }\r\n      return next\r\n    })\r\n  }\r\n\r\n  const toggleSelectAll = () => {\r\n    if (selectedIds.size === visibleApprovals.length && visibleApprovals.length > 0) {\r\n      setSelectedIds(new Set())\r\n    } else {\r\n      setSelectedIds(new Set(visibleApprovals.map(a => a.id)))\r\n    }\r\n  }\r\n\r\n  // Bulk action handler\r\n  const handleBulkAction = async (action: 'approve' | 'reject') => {\r\n    if (selectedIds.size === 0) {\r\n      toast.error('No approvals selected')\r\n      return\r\n    }\r\n\r\n    setIsBulkProcessing(true)\r\n    try {\r\n      const response = await fetch('/api/approvals/bulk-action', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        credentials: 'include',\r\n        body: JSON.stringify({\r\n          approval_ids: Array.from(selectedIds),\r\n          action,\r\n          rejection_reason: action === 'reject' ? 'Bulk rejection' : undefined\r\n        })\r\n      })\r\n\r\n      if (!response.ok) throw new Error(`Bulk ${action} failed`)\r\n\r\n      const data = await response.json()\r\n\r\n      if (data.successful_count > 0) {\r\n        toast.success(`${data.successful_count} approval${data.successful_count > 1 ? 's' : ''} ${action}d successfully`)\r\n      }\r\n      if (data.failed_count > 0) {\r\n        toast.error(`${data.failed_count} approval${data.failed_count > 1 ? 's' : ''} failed`)\r\n      }\r\n\r\n      setSelectedIds(new Set())\r\n      refreshData()\r\n    } catch (error) {\r\n      console.error(`Bulk ${action} error:`, error)\r\n      toast.error(`Failed to ${action} selected approvals`)\r\n    } finally {\r\n      setIsBulkProcessing(false)\r\n    }\r\n  }\r\n\r\n  // Export to CSV handler\r\n  const handleExport = () => {\r\n    try {\r\n      if (!visibleApprovals || visibleApprovals.length === 0) {\r\n        toast.error('No data to export')\r\n        return\r\n      }\r\n\r\n      const timestamp = new Date().toISOString().split('T')[0]\r\n      const filename = `approvals-export-${timestamp}.csv`\r\n      exportApprovalsToCSV(visibleApprovals, filename)\r\n      toast.success(`Exported ${visibleApprovals.length} approvals to CSV`)\r\n    } catch (error) {\r\n      console.error('Export error:', error)\r\n      toast.error('Failed to export data')\r\n    }\r\n  }\r\n\r\n  // Quick action: Review overdue items\r\n  const handleReviewOverdue = async () => {\r\n    if (stats.overdue_count === 0) {\r\n      toast.info('No overdue items')\r\n      return\r\n    }\r\n    const newFilters = { \r\n      entity_types: [], \r\n      priorities: [], \r\n      assigned_to_me: false, \r\n      overdue_only: true \r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }\r\n\r\n  // Quick action: Show low priority\r\n  const handleProcessLowValue = async () => {\r\n    const newFilters = {\r\n      entity_types: [] as any[],\r\n      priorities: ['low'] as any[],\r\n      assigned_to_me: false,\r\n      overdue_only: false\r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }\r\n\r\n  // Quick action: Review high priority\r\n  const handleReviewHighPriority = async () => {\r\n    const newFilters = { \r\n      entity_types: [], \r\n      priorities: ['critical', 'high'] as any[], \r\n      assigned_to_me: false, \r\n      overdue_only: false \r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }\r\n\r\n  const handleReviewInterests = async () => {\r\n    const newFilters = {\r\n      entity_types: ['deal_interest'] as any[],\r\n      priorities: [],\r\n      assigned_to_me: false,\r\n      overdue_only: false\r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }\r\n\r\n  const handleReviewSubscriptions = async () => {\r\n    const newFilters = {\r\n      entity_types: ['deal_subscription'] as any[],\r\n      priorities: [],\r\n      assigned_to_me: false,\r\n      overdue_only: false\r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n  }\r\n\r\n  // Quick action: Clear all filters\r\n  const handleClearFilters = async () => {\r\n    const newFilters = { \r\n      entity_types: [], \r\n      priorities: [], \r\n      assigned_to_me: false, \r\n      overdue_only: false \r\n    }\r\n    setFilters(newFilters)\r\n    setPagination(prev => ({ ...prev, page: 1 }))\r\n    setSelectedIds(new Set())\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-8\">\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Pending Approvals</CardTitle>\r\n              <Clock className=\"h-4 w-4 text-blue-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-blue-600\">{stats.total_pending}</div>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">Requiring review</p>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">SLA Breaches</CardTitle>\r\n              <AlertTriangle className=\"h-4 w-4 text-red-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-red-600\">{stats.overdue_count}</div>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">Past deadline</p>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\r\n              <CardTitle className=\"text-sm font-medium\">Avg Processing Time</CardTitle>\r\n              <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-2xl font-bold text-green-600\">\r\n                {stats.avg_processing_time_hours.toFixed(1)}h\r\n              </div>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">Last 30 days</p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Approvals Table */}\r\n        <Card>\r\n          <CardHeader>\r\n            <div className=\"flex flex-col gap-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle>Pending Approvals</CardTitle>\r\n                  <CardDescription>\r\n                    Review deal approvals across commitments, interests, and data-room workflows\r\n                  </CardDescription>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <ApprovalFilters\r\n                    onFilterChange={setFilters}\r\n                    currentFilters={filters}\r\n                  />\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={handleExport}\r\n                    disabled={!visibleApprovals || visibleApprovals.length === 0}\r\n                  >\r\n                    <Download className=\"h-4 w-4 mr-2\" />\r\n                    Export\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    size=\"sm\"\r\n                    onClick={() => refreshData()}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <RefreshCw className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\r\n                    Refresh\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* View Switcher */}\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <span className=\"text-sm text-muted-foreground\">View:</span>\r\n                  <ApprovalViewSwitcher\r\n                    currentView={currentView}\r\n                    onViewChange={setCurrentView}\r\n                  />\r\n                </div>\r\n                <Badge variant=\"secondary\" className=\"text-sm\">\r\n                  {visibleApprovals.length} approval{visibleApprovals.length !== 1 ? 's' : ''}\r\n                </Badge>\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {/* Table View */}\r\n            {currentView === 'table' && (\r\n              <>\r\n                <div className=\"rounded-md border\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead className=\"w-12\">\r\n                          <Checkbox\r\n                            checked={selectedIds.size === visibleApprovals.length && visibleApprovals.length > 0}\r\n                            onCheckedChange={toggleSelectAll}\r\n                            aria-label=\"Select all\"\r\n                          />\r\n                        </TableHead>\r\n                        <TableHead>Request Type / User</TableHead>\r\n                        <TableHead>Entity</TableHead>\r\n                        <TableHead>Priority</TableHead>\r\n                        <TableHead>SLA Status</TableHead>\r\n                        <TableHead>Assigned To</TableHead>\r\n                        <TableHead>Actions</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {visibleApprovals && visibleApprovals.length > 0 ? (\r\n                        visibleApprovals.map((approval) => {\r\n                          const slaStatus = calculateSLAStatus(approval.sla_breach_at)\r\n\r\n                          return (\r\n                            <TableRow\r\n                              key={approval.id}\r\n                              className={`cursor-pointer hover:bg-white/5 transition-colors ${selectedIds.has(approval.id) ? 'bg-muted/50' : ''}`}\r\n                              onClick={() => handleApprovalClick(approval)}\r\n                            >\r\n                              <TableCell className=\"w-12\" onClick={(e) => e.stopPropagation()}>\r\n                                <Checkbox\r\n                                  checked={selectedIds.has(approval.id)}\r\n                                  onCheckedChange={() => toggleSelection(approval.id)}\r\n                                  aria-label={`Select approval ${approval.id}`}\r\n                                />\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <div>\r\n                                  <div className=\"font-medium text-foreground\">\r\n                                    {approval.entity_type.replace(/_/g, ' ').toUpperCase()}\r\n                                  </div>\r\n                                  <div className=\"text-sm text-muted-foreground\">\r\n                                    {approval.requested_by_profile?.display_name || 'Unknown User'}\r\n                                  </div>\r\n                                  <div className=\"text-xs text-muted-foreground\">\r\n                                    {new Date(approval.created_at).toLocaleDateString()}\r\n                                  </div>\r\n                                </div>\r\n                              </TableCell>\r\n\r\n                              <TableCell>\r\n                                <div>\r\n                                  {approval.related_investor && (\r\n                                    <div className=\"font-medium text-foreground\">\r\n                                      {approval.related_investor.legal_name}\r\n                                    </div>\r\n                                  )}\r\n                                  {approval.related_deal && (\r\n                                    <div className=\"text-sm text-muted-foreground\">\r\n                                      {approval.related_deal.name}\r\n                                    </div>\r\n                                  )}\r\n                                  {!approval.related_investor && !approval.related_deal && (\r\n                                    <div className=\"text-sm text-muted-foreground font-mono\">\r\n                                      {approval.entity_id.substring(0, 8)}...\r\n                                    </div>\r\n                                  )}\r\n                                  {(() => {\r\n                                    // For deal_subscription approvals, use derived_amount\r\n                                    if (approval.entity_type === 'deal_subscription') {\r\n                                      const derivedAmount = approval.entity_metadata?.derived_amount\r\n                                      if (derivedAmount) {\r\n                                        const currency = approval.entity_metadata?.payload?.currency || 'USD'\r\n                                        const numeric = parseFloat(derivedAmount)\r\n                                        if (!Number.isNaN(numeric)) {\r\n                                          return (\r\n                                            <div className=\"text-xs text-muted-foreground mt-1\">\r\n                                              {currency} {numeric.toLocaleString()}\r\n                                            </div>\r\n                                          )\r\n                                        }\r\n                                      }\r\n                                    }\r\n\r\n                                    // For other approval types, use indicative_amount or requested_amount\r\n                                    const indicativeAmount = approval.entity_metadata?.indicative_amount\r\n                                    const requestedAmount = approval.entity_metadata?.requested_amount || approval.entity_metadata?.amount\r\n                                    const indicativeCurrency = approval.entity_metadata?.indicative_currency || ''\r\n\r\n                                    let formattedAmount: string | null = null\r\n                                    if (indicativeAmount) {\r\n                                      const numeric = parseFloat(indicativeAmount)\r\n                                      if (!Number.isNaN(numeric)) {\r\n                                        formattedAmount = `${indicativeCurrency} ${numeric.toLocaleString()}`.trim()\r\n                                      }\r\n                                    } else if (requestedAmount) {\r\n                                      const numeric = parseFloat(requestedAmount)\r\n                                      if (!Number.isNaN(numeric)) {\r\n                                        formattedAmount = `$${numeric.toLocaleString()}`\r\n                                      }\r\n                                    }\r\n\r\n                                    return formattedAmount ? (\r\n                                      <div className=\"text-xs text-muted-foreground mt-1\">\r\n                                        {formattedAmount}\r\n                                      </div>\r\n                                    ) : null\r\n                                  })()}\r\n                                </div>\r\n                              </TableCell>\r\n\r\n                              <TableCell>\r\n                                <Badge\r\n                                  variant={\r\n                                    approval.priority === 'critical' || approval.priority === 'high'\r\n                                      ? 'destructive'\r\n                                      : 'secondary'\r\n                                  }\r\n                                >\r\n                                  {approval.priority.toUpperCase()}\r\n                                </Badge>\r\n                              </TableCell>\r\n\r\n                              <TableCell>\r\n                                <Badge\r\n                                  variant={\r\n                                    slaStatus.isOverdue\r\n                                      ? 'destructive'\r\n                                      : slaStatus.urgency === 'high'\r\n                                      ? 'destructive'\r\n                                      : slaStatus.urgency === 'medium'\r\n                                      ? 'default'\r\n                                      : 'secondary'\r\n                                  }\r\n                                >\r\n                                  {slaStatus.text}\r\n                                </Badge>\r\n                              </TableCell>\r\n\r\n                              <TableCell>\r\n                                <span className=\"text-sm text-muted-foreground\">\r\n                                  {approval.assigned_to_profile?.display_name || 'Unassigned'}\r\n                                </span>\r\n                              </TableCell>\r\n\r\n                              <TableCell onClick={(e) => e.stopPropagation()}>\r\n                                {/* Only show action buttons for pending approvals */}\r\n                                {approval.status === 'pending' ? (\r\n                                  <div className=\"flex gap-2\">\r\n                                    <Button\r\n                                      variant=\"outline\"\r\n                                      size=\"sm\"\r\n                                      onClick={() => handleApproveClick(approval)}\r\n                                      className=\"text-green-600 hover:text-green-700 hover:bg-green-50 dark:hover:bg-green-950\"\r\n                                    >\r\n                                      <CheckCircle2 className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                    <Button\r\n                                      variant=\"outline\"\r\n                                      size=\"sm\"\r\n                                      onClick={() => handleRejectClick(approval)}\r\n                                      className=\"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950\"\r\n                                    >\r\n                                      <XCircle className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                  </div>\r\n                                ) : (\r\n                                  <Badge variant=\"secondary\" className=\"text-xs\">\r\n                                    {approval.status}\r\n                                  </Badge>\r\n                                )}\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          )\r\n                        })\r\n                      ) : (\r\n                        <TableRow>\r\n                          <TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">\r\n                            {isLoading ? 'Loading approvals...' : 'No pending approvals found'}\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      )}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n\r\n                {/* Pagination */}\r\n                <div className=\"flex items-center justify-between mt-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Showing {visibleApprovals.length > 0 ? ((pagination.page - 1) * pagination.limit) + 1 : 0}-\r\n                    {Math.min(pagination.page * pagination.limit, Math.max(pagination.total, visibleApprovals.length))} of {Math.max(pagination.total, visibleApprovals.length)} approvals\r\n                  </p>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      disabled={pagination.page === 1 || isLoading}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\r\n                    >\r\n                      Previous\r\n                    </Button>\r\n                    <span className=\"inline-flex items-center px-3 text-sm text-muted-foreground\">\r\n                      Page {pagination.page} of {Math.ceil(pagination.total / pagination.limit) || 1}\r\n                    </span>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      disabled={pagination.page >= Math.ceil(pagination.total / pagination.limit) || isLoading}\r\n                      onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\r\n                    >\r\n                      Next\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {/* Kanban View */}\r\n            {currentView === 'kanban' && (\r\n              <ApprovalsKanbanView\r\n                approvals={visibleApprovals}\r\n                onApprovalClick={handleApprovalClick}\r\n              />\r\n            )}\r\n\r\n            {/* List View */}\r\n            {currentView === 'list' && (\r\n              <ApprovalsListView\r\n                approvals={visibleApprovals}\r\n                onApprovalClick={handleApprovalClick}\r\n                onApprove={handleDrawerApprove}\r\n                onReject={handleDrawerReject}\r\n              />\r\n            )}\r\n\r\n            {/* Database/Grid View */}\r\n            {currentView === 'database' && (\r\n              <ApprovalsDatabaseView\r\n                approvals={visibleApprovals}\r\n                onApprovalClick={handleApprovalClick}\r\n              />\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Quick Actions & Performance */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg\">Quick Actions</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <Button \r\n                className=\"w-full justify-start\" \r\n                variant=\"outline\"\r\n                onClick={handleReviewOverdue}\r\n                disabled={stats.overdue_count === 0}\r\n              >\r\n                <Clock className=\"mr-2 h-4 w-4 text-red-600\" />\r\n                Review Overdue ({stats.overdue_count})\r\n              </Button>\r\n              <Button \r\n                className=\"w-full justify-start\" \r\n                variant=\"outline\"\r\n                onClick={handleProcessLowValue}\r\n                disabled={approvals.length === 0}\r\n              >\r\n                <CheckCircle2 className=\"mr-2 h-4 w-4 text-green-600\" />\r\n                Show Low Priority\r\n              </Button>\r\n              <Button \r\n                className=\"w-full justify-start\" \r\n                variant=\"outline\"\r\n                onClick={handleReviewHighPriority}\r\n                disabled={approvals.length === 0}\r\n              >\r\n                <AlertTriangle className=\"mr-2 h-4 w-4 text-amber-600\" />\r\n                Review High Priority\r\n              </Button>\r\n              <Button\r\n                className=\"w-full justify-start\"\r\n                variant=\"outline\"\r\n                onClick={handleReviewInterests}\r\n              >\r\n                <HandCoins className=\"mr-2 h-4 w-4 text-purple-600\" />\r\n                Deal Interest Approvals\r\n              </Button>\r\n              <Button\r\n                className=\"w-full justify-start\"\r\n                variant=\"outline\"\r\n                onClick={handleReviewSubscriptions}\r\n              >\r\n                <Package className=\"mr-2 h-4 w-4 text-sky-600\" />\r\n                Subscription Approvals\r\n              </Button>\r\n              <Button \r\n                className=\"w-full justify-start\" \r\n                variant=\"outline\"\r\n                onClick={handleClearFilters}\r\n                disabled={\r\n                  filters.entity_types.length === 0 && \r\n                  filters.priorities.length === 0 && \r\n                  !filters.assigned_to_me && \r\n                  !filters.overdue_only\r\n                }\r\n              >\r\n                <XCircle className=\"mr-2 h-4 w-4 text-muted-foreground\" />\r\n                Clear All Filters\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg\">SLA Performance</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm\">On-time approvals (24h)</span>\r\n                  <span className=\"font-medium text-green-600\">\r\n                    {stats.approval_rate_24h.toFixed(0)}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm\">Overdue items</span>\r\n                  <span className=\"font-medium text-red-600\">{stats.overdue_count}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm\">Average processing</span>\r\n                  <span className=\"font-medium\">\r\n                    {stats.avg_processing_time_hours.toFixed(1)}h\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm\">Approved (30d)</span>\r\n                  <span className=\"font-medium text-green-600\">{stats.total_approved_30d}</span>\r\n                </div>\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm\">Rejected (30d)</span>\r\n                  <span className=\"font-medium text-red-600\">{stats.total_rejected_30d}</span>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Bulk Action Bar */}\r\n      {selectedIds.size > 0 && (\r\n        <div className=\"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 shadow-xl rounded-lg p-4 border-2 border-blue-500 z-50 animate-in slide-in-from-bottom duration-300\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"font-medium text-sm\">\r\n              {selectedIds.size} approval{selectedIds.size > 1 ? 's' : ''} selected\r\n            </span>\r\n            <Button\r\n              size=\"sm\"\r\n              onClick={() => handleBulkAction('approve')}\r\n              disabled={isBulkProcessing}\r\n              className=\"bg-green-600 hover:bg-green-700 text-white\"\r\n            >\r\n              <CheckCircle2 className=\"mr-2 h-4 w-4\" />\r\n              Approve All\r\n            </Button>\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"destructive\"\r\n              onClick={() => handleBulkAction('reject')}\r\n              disabled={isBulkProcessing}\r\n            >\r\n              <XCircle className=\"mr-2 h-4 w-4\" />\r\n              Reject All\r\n            </Button>\r\n            <Button\r\n              size=\"sm\"\r\n              variant=\"outline\"\r\n              onClick={() => setSelectedIds(new Set())}\r\n              disabled={isBulkProcessing}\r\n            >\r\n              Clear\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Approval Action Dialog */}\r\n      <ApprovalActionDialog\r\n        approval={selectedApproval}\r\n        action={dialogAction}\r\n        open={dialogOpen}\r\n        onOpenChange={setDialogOpen}\r\n        onSuccess={handleActionSuccess}\r\n      />\r\n\r\n      {/* Detail Drawer */}\r\n      <ApprovalDetailDrawer\r\n        approval={detailDrawerApproval}\r\n        open={detailDrawerOpen}\r\n        onOpenChange={setDetailDrawerOpen}\r\n        onApprove={handleDrawerApprove}\r\n        onReject={handleDrawerReject}\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import { Approval } from '@/types/approvals'\n\nexport function exportApprovalsToCSV(approvals: Approval[], filename: string = 'approvals-export.csv') {\n  if (!approvals || approvals.length === 0) {\n    throw new Error('No data to export')\n  }\n\n  // Define CSV headers\n  const headers = [\n    'ID',\n    'Request Type',\n    'Status',\n    'Priority',\n    'Requested By',\n    'Assigned To',\n    'Investor',\n    'Deal',\n    'Amount',\n    'Units',\n    'SLA Breach At',\n    'Created At',\n    'Approved By',\n    'Approved At',\n    'Rejection Reason',\n    'Notes'\n  ]\n\n  // Convert approvals to CSV rows\n  const rows = approvals.map(approval => {\n    const amount = approval.entity_metadata?.requested_amount || \n                   approval.entity_metadata?.amount || \n                   ''\n    const units = approval.entity_metadata?.requested_units || ''\n    \n    return [\n      approval.id,\n      approval.entity_type,\n      approval.status,\n      approval.priority,\n      approval.requested_by_profile?.display_name || '',\n      approval.assigned_to_profile?.display_name || '',\n      approval.related_investor?.legal_name || '',\n      approval.related_deal?.name || '',\n      amount,\n      units,\n      approval.sla_breach_at ? new Date(approval.sla_breach_at).toLocaleString() : '',\n      new Date(approval.created_at).toLocaleString(),\n      approval.approved_by_profile?.display_name || '',\n      approval.approved_at ? new Date(approval.approved_at).toLocaleString() : '',\n      approval.rejection_reason || '',\n      approval.notes || ''\n    ].map(value => {\n      // Escape CSV values\n      const stringValue = String(value)\n      if (stringValue.includes(',') || stringValue.includes('\"') || stringValue.includes('\\n')) {\n        return `\"${stringValue.replace(/\"/g, '\"\"')}\"`\n      }\n      return stringValue\n    })\n  })\n\n  // Combine headers and rows\n  const csvContent = [\n    headers.join(','),\n    ...rows.map(row => row.join(','))\n  ].join('\\n')\n\n  // Create and download file\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' })\n  const link = document.createElement('a')\n  const url = URL.createObjectURL(blob)\n  \n  link.setAttribute('href', url)\n  link.setAttribute('download', filename)\n  link.style.visibility = 'hidden'\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M2 5h20', key: '1fs1ex' }],\n  ['path', { d: 'M6 12h12', key: '8npq4p' }],\n  ['path', { d: 'M9 19h6', key: '456am0' }],\n];\n\n/**\n * @component @name ListFilter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiA1aDIwIiAvPgogIDxwYXRoIGQ9Ik02IDEyaDEyIiAvPgogIDxwYXRoIGQ9Ik05IDE5aDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/list-filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListFilter = createLucideIcon('list-filter', __iconNode);\n\nexport default ListFilter;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 3v14', key: '9nsxs2' }],\n  ['path', { d: 'M12 3v8', key: '1h2ygw' }],\n  ['path', { d: 'M19 3v18', key: '1sk56x' }],\n];\n\n/**\n * @component @name Kanban\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAzdjE0IiAvPgogIDxwYXRoIGQ9Ik0xMiAzdjgiIC8+CiAgPHBhdGggZD0iTTE5IDN2MTgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/kanban\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Kanban = createLucideIcon('kanban', __iconNode);\n\nexport default Kanban;\n"],"names":[],"mappings":"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","ignoreList":[9,10]}