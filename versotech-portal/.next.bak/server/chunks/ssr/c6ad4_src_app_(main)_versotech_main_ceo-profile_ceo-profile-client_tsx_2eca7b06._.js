module.exports=[336724,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(284169),e=a.i(15788),f=a.i(421908),g=a.i(663475),h=a.i(191675),i=a.i(249464),j=a.i(181608),k=a.i(470305),l=a.i(951870),m=a.i(771088),n=a.i(216316),o=a.i(266828),p=a.i(278541),q=a.i(439467),r=a.i(231276),s=a.i(806640),t=a.i(318525),u=a.i(496392),v=a.i(405398),w=a.i(3321),x=a.i(752907),y=a.i(113276),z=a.i(823879),A=a.i(923251),B=a.i(478870),C=a.i(799373),D=a.i(703606),E=a.i(134303);let F=(0,a.i(95799).default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var G=a.i(325866),H=a.i(201986),I=a.i(888987),J=a.i(899750),K=a.i(714814),L=a.i(815917);let M={active:"bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800",inactive:"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/50 dark:text-gray-300 dark:border-gray-700",suspended:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800"},N=[{value:"admin",label:"Administrator",description:"Full access to CEO functions"},{value:"member",label:"Member",description:"Standard CEO access"},{value:"viewer",label:"Viewer",description:"Read-only access"}];function O({label:a,value:c,field:d,isEditing:e,editValue:f,onChange:j,type:k="text",multiline:l=!1,icon:m,className:n}){return e?(0,b.jsxs)("div",{className:(0,I.cn)("space-y-1.5",n),children:[(0,b.jsx)(i.Label,{htmlFor:d,className:"text-sm font-medium text-muted-foreground",children:a}),l?(0,b.jsx)(h.Textarea,{id:d,value:f,onChange:a=>j(d,a.target.value),placeholder:`Enter ${a.toLowerCase()}`,rows:3,className:"mt-1"}):(0,b.jsx)(g.Input,{id:d,type:k,value:f,onChange:a=>j(d,a.target.value),placeholder:`Enter ${a.toLowerCase()}`,className:"mt-1"})]}):(0,b.jsxs)("div",{className:(0,I.cn)("flex items-start gap-3",n),children:[m&&(0,b.jsx)(m,{className:"h-5 w-5 text-muted-foreground mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:a}),(0,b.jsx)("p",{className:(0,I.cn)("text-foreground mt-1",d.includes("number")||d.includes("id")?"font-mono":"",l&&"whitespace-pre-line"),children:c||(0,b.jsx)("span",{className:"text-muted-foreground italic",children:"Not set"})})]})]})}function P({userId:a,userEmail:h,userRole:P,canManageMembers:Q,profile:R,ceoEntity:S,ceoMembers:T}){let[U,V]=(0,c.useState)(S),[W,X]=(0,c.useState)(T),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(!1),ae=(0,c.useRef)(null),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(""),[aj,ak]=(0,c.useState)("member"),[al,am]=(0,c.useState)(""),[an,ao]=(0,c.useState)(!1),[ap,aq]=(0,c.useState)(!1),[ar,as]=(0,c.useState)(!1),[at,au]=(0,c.useState)(null),[av,aw]=(0,c.useState)("member"),[ax,ay]=(0,c.useState)(""),[az,aA]=(0,c.useState)(!1),[aB,aC]=(0,c.useState)(!1),[aD,aE]=(0,c.useState)({legal_name:U.legalName||"",display_name:U.displayName||"",registration_number:U.registrationNumber||"",tax_id:U.taxId||"",country:U.country||""}),[aF,aG]=(0,c.useState)({email:U.email||"",phone:U.phone||"",website:U.website||"",registered_address:U.registeredAddress||"",city:U.city||"",postal_code:U.postalCode||""}),[aH,aI]=(0,c.useState)(R),[aJ,aK]=(0,c.useState)(!1),[aL,aM]=(0,c.useState)({display_name:R?.displayName||"",phone:""}),[aN,aO]=(0,c.useState)(!1),aP=(0,c.useRef)(null),[aQ,aR]=(0,c.useState)(!1),aS=W.find(b=>b.userId===a),aT=async()=>{ab(!0);try{let a=await fetch("/api/ceo/update-entity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(aD)});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to save")}V(a=>({...a,legalName:aD.legal_name,displayName:aD.display_name,registrationNumber:aD.registration_number,taxId:aD.tax_id,country:aD.country})),Z(!1),J.toast.success("Entity details updated successfully")}catch(a){console.error("Error saving entity:",a),J.toast.error(a.message||"Failed to save entity details")}finally{ab(!1)}},aU=async()=>{ab(!0);try{let a=await fetch("/api/ceo/update-entity",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(aF)});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to save")}V(a=>({...a,email:aF.email,phone:aF.phone,website:aF.website,registeredAddress:aF.registered_address,city:aF.city,postalCode:aF.postal_code})),_(!1),J.toast.success("Contact information updated successfully")}catch(a){console.error("Error saving contact:",a),J.toast.error(a.message||"Failed to save contact information")}finally{ab(!1)}},aV=async()=>{aO(!0);try{let b=await fetch(`/api/profiles/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:aL.display_name})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to save")}aI(a=>a?{...a,displayName:aL.display_name}:a),aK(!1),J.toast.success("Profile updated successfully")}catch(a){console.error("Error saving profile:",a),J.toast.error(a.message||"Failed to save profile")}finally{aO(!1)}},aW=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void J.toast.error("Please select an image file");if(b.size>2097152)return void J.toast.error("Image must be less than 2MB");aR(!0);try{let a=new FormData;a.append("avatar",b);let c=await fetch("/api/profiles/avatar",{method:"POST",body:a});if(!c.ok){let a=await c.json();throw Error(a.error||"Failed to upload")}let d=await c.json();aI(a=>a?{...a,avatarUrl:d.avatar_url}:a),J.toast.success("Avatar updated successfully")}catch(a){console.error("Error uploading avatar:",a),J.toast.error(a.message||"Failed to upload avatar")}finally{aR(!1),aP.current&&(aP.current.value="")}}},aX=async a=>{let b=a.target.files?.[0];if(b){if(!["image/png","image/jpeg","image/webp"].includes(b.type))return void J.toast.error("Please upload a PNG, JPEG, or WebP image");if(b.size>2097152)return void J.toast.error("File size must be less than 2MB");ad(!0);try{let a=new FormData;a.append("logo",b);let c=await fetch("/api/ceo/upload-logo",{method:"POST",body:a});if(!c.ok){let a=await c.json();throw Error(a.error||"Failed to upload logo")}let d=await c.json();V(a=>({...a,logoUrl:d.logo_url})),J.toast.success("Logo uploaded successfully")}catch(a){console.error("Error uploading logo:",a),J.toast.error(a.message||"Failed to upload logo")}finally{ad(!1),ae.current&&(ae.current.value="")}}},aY=async()=>{if(!ah)return void J.toast.error("Please enter an email address");aq(!0);try{let a=await fetch("/api/ceo/invite-member",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ah,role:aj,title:al||null,can_sign:an})}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to send invitation");J.toast.success(`Invitation sent to ${ah}`),ag(!1),ai(""),ak("member"),am(""),ao(!1),b.added_directly&&window.location.reload()}catch(a){console.error("Error inviting member:",a),J.toast.error(a.message||"Failed to send invitation")}finally{aq(!1)}},aZ=async b=>{if(b===a)return void J.toast.error("You can't remove yourself");let c=W.find(a=>a.userId===b);if(c?.isPrimary)return void J.toast.error("Can't remove the primary CEO member");try{let a=await fetch("/api/ceo/remove-member",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:b})});if(!a.ok){let b=await a.json();throw Error(b.error||"Failed to remove member")}X(a=>a.filter(a=>a.userId!==b)),J.toast.success("Member removed successfully")}catch(a){console.error("Error removing member:",a),J.toast.error(a.message||"Failed to remove member")}},a$=async()=>{if(at){aC(!0);try{let a=await fetch("/api/ceo/update-member",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:at.userId,role:av,title:ax||null,can_sign:az})}),b=await a.json();if(!a.ok)throw Error(b.error||"Failed to update member");X(a=>a.map(a=>a.userId===at.userId?{...a,role:av,title:ax||null,canSign:az}:a)),J.toast.success("Member updated successfully"),as(!1),au(null)}catch(a){console.error("Error updating member:",a),J.toast.error(a.message||"Failed to update member")}finally{aC(!1)}}},a_=async a=>{try{let b=await fetch("/api/ceo/update-member",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:a.userId,can_sign:!a.canSign})}),c=await b.json();if(!b.ok)throw Error(c.error||"Failed to update signatory status");X(b=>b.map(b=>b.userId===a.userId?{...b,canSign:!b.canSign}:b)),J.toast.success(a.canSign?`${a.displayName} is no longer a signatory`:`${a.displayName} is now an authorized signatory`)}catch(a){console.error("Error toggling signatory:",a),J.toast.error(a.message||"Failed to update signatory status")}};return(0,b.jsxs)("div",{className:"p-6 space-y-6 max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:(0,I.cn)("relative h-16 w-16 rounded-xl bg-primary/10 flex items-center justify-center overflow-hidden",Q&&"cursor-pointer group"),onClick:()=>Q&&ae.current?.click(),children:[U.logoUrl?(0,b.jsx)(K.default,{src:U.logoUrl,alt:U.legalName,fill:!0,className:"object-cover"}):(0,b.jsx)(p.Building2,{className:"h-8 w-8 text-primary"}),Q&&(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:ac?(0,b.jsx)(w.Loader2,{className:"h-5 w-5 text-white animate-spin"}):(0,b.jsx)(A.Camera,{className:"h-5 w-5 text-white"})}),(0,b.jsx)("input",{ref:ae,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:aX,disabled:ac||!Q})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:U.displayName||U.legalName}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[R?.displayName||h," - ",aS?.title||P]})]})]}),(0,b.jsx)(e.Badge,{variant:"outline",className:(0,I.cn)("capitalize",M[U.status]||M.inactive),children:U.status})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(B.Users,{className:"h-4 w-4"}),"Team Members"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:W.length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Active CEO users"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(x.PenTool,{className:"h-4 w-4"}),"Authorized Signers"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:W.filter(a=>a.canSign).length}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Can sign documents"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(u.Shield,{className:"h-4 w-4"}),"Your Role"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-lg font-semibold capitalize",children:P}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:aS?.canSign?"Authorized signer":"Not a signer"})]})]})]}),(0,b.jsxs)(j.Tabs,{defaultValue:"profile",className:"space-y-4",id:"ceo-profile-tabs",children:[(0,b.jsxs)(j.TabsList,{className:"grid w-full grid-cols-4 h-auto p-1 gap-1",children:[(0,b.jsxs)(j.TabsTrigger,{value:"profile",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,b.jsx)(G.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"My Profile"})]}),(0,b.jsxs)(j.TabsTrigger,{value:"entity",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,b.jsx)(p.Building2,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Company"})]}),(0,b.jsxs)(j.TabsTrigger,{value:"contact",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,b.jsx)(q.Mail,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Contact"})]}),(0,b.jsxs)(j.TabsTrigger,{value:"members",className:"flex items-center gap-2 text-xs sm:text-sm",children:[(0,b.jsx)(B.Users,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Members"})]})]}),(0,b.jsxs)(j.TabsContent,{value:"profile",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"My Profile"}),(0,b.jsx)(d.CardDescription,{children:"Your personal information and settings"})]}),aJ?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{aM({display_name:aH?.displayName||"",phone:""}),aK(!1)},disabled:aN,children:[(0,b.jsx)(z.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,b.jsxs)(f.Button,{size:"sm",onClick:aV,disabled:aN,children:[aN?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(y.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>aK(!0),children:[(0,b.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"h-24 w-24 rounded-full overflow-hidden bg-muted flex items-center justify-center",children:aH?.avatarUrl?(0,b.jsx)(K.default,{src:aH.avatarUrl,alt:"Profile",width:96,height:96,className:"object-cover"}):(0,b.jsx)(G.User,{className:"h-12 w-12 text-muted-foreground"})}),(0,b.jsx)("input",{ref:aP,type:"file",accept:"image/*",className:"hidden",onChange:aW}),(0,b.jsx)(f.Button,{variant:"outline",size:"icon",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full",onClick:()=>aP.current?.click(),disabled:aQ,children:aQ?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(A.Camera,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:aH?.displayName||h}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:h}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:aS?.title||P})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"profile-display-name",children:"Display Name"}),aJ?(0,b.jsx)(g.Input,{id:"profile-display-name",value:aL.display_name,onChange:a=>aM(b=>({...b,display_name:a.target.value})),placeholder:"Your display name"}):(0,b.jsx)("p",{className:"text-foreground py-2",children:aH?.displayName||(0,b.jsx)("span",{className:"text-muted-foreground italic",children:"Not set"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Email"}),(0,b.jsx)("p",{className:"text-foreground py-2",children:h}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Role"}),(0,b.jsx)("p",{className:"text-foreground py-2 capitalize",children:P})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{children:"Signing Authority"}),(0,b.jsx)("p",{className:"text-foreground py-2",children:aS?.canSign?(0,b.jsxs)("span",{className:"flex items-center gap-2 text-green-600 dark:text-green-400",children:[(0,b.jsx)(x.PenTool,{className:"h-4 w-4"}),"Authorized Signatory"]}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"Not a signatory"})})]})]})]})]}),(0,b.jsx)("div",{className:"mt-6",children:(0,b.jsx)(L.PasswordChangeForm,{})})]}),(0,b.jsx)(j.TabsContent,{value:"entity",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Company Information"}),(0,b.jsx)(d.CardDescription,{children:"Verso Capital legal and registration details"})]}),Q&&!Y?(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>Z(!0),children:[(0,b.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}):Y?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{aE({legal_name:U.legalName||"",display_name:U.displayName||"",registration_number:U.registrationNumber||"",tax_id:U.taxId||"",country:U.country||""}),Z(!1)},disabled:aa,children:[(0,b.jsx)(z.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,b.jsxs)(f.Button,{size:"sm",onClick:aT,disabled:aa,children:[aa?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(y.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):null]})}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(O,{label:"Legal Name",value:U.legalName,field:"legal_name",isEditing:Y,editValue:aD.legal_name,onChange:(a,b)=>aE(a=>({...a,legal_name:b}))}),(0,b.jsx)(O,{label:"Display Name",value:U.displayName,field:"display_name",isEditing:Y,editValue:aD.display_name,onChange:(a,b)=>aE(a=>({...a,display_name:b}))}),(0,b.jsx)(O,{label:"Registration Number",value:U.registrationNumber,field:"registration_number",isEditing:Y,editValue:aD.registration_number,onChange:(a,b)=>aE(a=>({...a,registration_number:b}))}),(0,b.jsx)(O,{label:"Tax ID",value:U.taxId,field:"tax_id",isEditing:Y,editValue:aD.tax_id,onChange:(a,b)=>aE(a=>({...a,tax_id:b}))}),(0,b.jsx)(O,{label:"Country",value:U.country,field:"country",isEditing:Y,editValue:aD.country,onChange:(a,b)=>aE(a=>({...a,country:b}))})]})})]})}),(0,b.jsx)(j.TabsContent,{value:"contact",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Contact Information"}),(0,b.jsx)(d.CardDescription,{children:"How to reach Verso Capital"})]}),Q&&!$?(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>_(!0),children:[(0,b.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}):$?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>{aG({email:U.email||"",phone:U.phone||"",website:U.website||"",registered_address:U.registeredAddress||"",city:U.city||"",postal_code:U.postalCode||""}),_(!1)},disabled:aa,children:[(0,b.jsx)(z.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,b.jsxs)(f.Button,{size:"sm",onClick:aU,disabled:aa,children:[aa?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(y.Save,{className:"h-4 w-4 mr-2"}),"Save"]})]}):null]})}),(0,b.jsx)(d.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsx)(O,{label:"Email",value:U.email,field:"email",isEditing:$,editValue:aF.email,onChange:(a,b)=>aG(a=>({...a,email:b})),type:"email",icon:$?void 0:q.Mail}),(0,b.jsx)(O,{label:"Phone",value:U.phone,field:"phone",isEditing:$,editValue:aF.phone,onChange:(a,b)=>aG(a=>({...a,phone:b})),type:"tel",icon:$?void 0:r.Phone}),(0,b.jsx)(O,{label:"Website",value:U.website,field:"website",isEditing:$,editValue:aF.website,onChange:(a,b)=>aG(a=>({...a,website:b})),type:"url",icon:$?void 0:t.Globe}),(0,b.jsx)(O,{label:"City",value:U.city,field:"city",isEditing:$,editValue:aF.city,onChange:(a,b)=>aG(a=>({...a,city:b}))}),(0,b.jsx)(O,{label:"Postal Code",value:U.postalCode,field:"postal_code",isEditing:$,editValue:aF.postal_code,onChange:(a,b)=>aG(a=>({...a,postal_code:b}))}),(0,b.jsx)(O,{label:"Registered Address",value:U.registeredAddress,field:"registered_address",isEditing:$,editValue:aF.registered_address,onChange:(a,b)=>aG(a=>({...a,registered_address:b})),multiline:!0,icon:$?void 0:s.MapPin,className:"md:col-span-2"})]})})]})}),(0,b.jsx)(j.TabsContent,{value:"members",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Team Members"}),(0,b.jsx)(d.CardDescription,{children:"Users with CEO access to Verso Capital"})]}),Q&&(0,b.jsxs)(f.Button,{onClick:()=>ag(!0),children:[(0,b.jsx)(C.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite Member"]})]})}),(0,b.jsx)(d.CardContent,{className:"p-0",children:(0,b.jsxs)(m.Table,{children:[(0,b.jsx)(m.TableHeader,{children:(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableHead,{children:"Member"}),(0,b.jsx)(m.TableHead,{children:"Role"}),(0,b.jsx)(m.TableHead,{children:"Permissions"}),(0,b.jsx)(m.TableHead,{children:"Joined"}),Q&&(0,b.jsx)(m.TableHead,{className:"w-10"})]})}),(0,b.jsx)(m.TableBody,{children:W.map(c=>(0,b.jsxs)(m.TableRow,{children:[(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center overflow-hidden",children:c.avatarUrl?(0,b.jsx)(K.default,{src:c.avatarUrl,alt:c.displayName,width:32,height:32,className:"object-cover"}):(0,b.jsx)("span",{className:"text-sm font-medium",children:c.displayName[0]?.toUpperCase()||"?"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[c.displayName,c.isPrimary&&(0,b.jsx)(F,{className:"h-3.5 w-3.5 text-amber-500 dark:text-amber-400"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:c.email})]})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(e.Badge,{variant:"outline",className:"capitalize w-fit",children:c.role}),c.title&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:c.title})]})}),(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.isPrimary&&(0,b.jsxs)(e.Badge,{variant:"secondary",className:"text-xs",children:[(0,b.jsx)(u.Shield,{className:"w-3 h-3 mr-1"}),"Primary"]}),c.canSign&&(0,b.jsxs)(e.Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-600 border-blue-500/30 dark:bg-blue-500/20 dark:text-blue-400 dark:border-blue-500/40 text-xs",children:[(0,b.jsx)(x.PenTool,{className:"w-3 h-3 mr-1"}),"Signer"]})]})}),(0,b.jsx)(m.TableCell,{className:"text-muted-foreground",children:(0,H.formatDate)(c.createdAt)}),Q&&(0,b.jsx)(m.TableCell,{children:(0,b.jsxs)(n.DropdownMenu,{children:[(0,b.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(D.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(n.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(n.DropdownMenuItem,{onClick:()=>{au(c),aw(c.role),ay(c.title||""),aA(c.canSign),as(!0)},children:[(0,b.jsx)(v.Edit,{className:"h-4 w-4 mr-2"}),"Edit Member"]}),(0,b.jsxs)(n.DropdownMenuItem,{onClick:()=>a_(c),children:[(0,b.jsx)(x.PenTool,{className:"h-4 w-4 mr-2"}),c.canSign?"Remove Signatory":"Make Signatory"]}),!c.isPrimary&&c.userId!==a&&(0,b.jsxs)(n.DropdownMenuItem,{className:"text-destructive",onClick:()=>aZ(c.userId),children:[(0,b.jsx)(E.Trash2,{className:"h-4 w-4 mr-2"}),"Remove Member"]})]})]})})]},c.userId))})]})})]})})]}),(0,b.jsx)(k.Dialog,{open:af,onOpenChange:ag,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Invite CEO Member"}),(0,b.jsx)(k.DialogDescription,{children:"Add a new member to the Verso Capital CEO team"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"invite-email",children:"Email Address"}),(0,b.jsx)(g.Input,{id:"invite-email",type:"email",placeholder:"colleague@versocapital.com",value:ah,onChange:a=>ai(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"invite-role",children:"Role"}),(0,b.jsxs)(l.Select,{value:aj,onValueChange:ak,children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Select role"})}),(0,b.jsx)(l.SelectContent,{children:N.map(a=>(0,b.jsx)(l.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.description})]})},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"invite-title",children:"Title (Optional)"}),(0,b.jsx)(g.Input,{id:"invite-title",placeholder:"e.g., COO, CFO, Managing Director",value:al,onChange:a=>am(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,b.jsx)(o.Checkbox,{id:"can-sign",checked:an,onCheckedChange:a=>ao(!0===a)}),(0,b.jsxs)(i.Label,{htmlFor:"can-sign",className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)(x.PenTool,{className:"h-4 w-4"}),"Authorized Signatory",(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"(can sign documents for Verso Capital)"})]})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>ag(!1),disabled:ap,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:aY,disabled:ap||!ah,children:ap?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.UserPlus,{className:"h-4 w-4 mr-2"}),"Invite Member"]})})]})]})}),(0,b.jsx)(k.Dialog,{open:ar,onOpenChange:as,children:(0,b.jsxs)(k.DialogContent,{children:[(0,b.jsxs)(k.DialogHeader,{children:[(0,b.jsx)(k.DialogTitle,{children:"Edit Member"}),(0,b.jsxs)(k.DialogDescription,{children:["Update ",at?.displayName,"'s role and permissions"]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"edit-role",children:"Role"}),(0,b.jsxs)(l.Select,{value:av,onValueChange:aw,disabled:at?.isPrimary,children:[(0,b.jsx)(l.SelectTrigger,{children:(0,b.jsx)(l.SelectValue,{placeholder:"Select role"})}),(0,b.jsx)(l.SelectContent,{children:N.map(a=>(0,b.jsx)(l.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.description})]})},a.value))})]}),at?.isPrimary&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Primary member must be an admin"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"edit-title",children:"Title"}),(0,b.jsx)(g.Input,{id:"edit-title",placeholder:"e.g., CEO, COO, CFO, Managing Director",value:ax,onChange:a=>ay(a.target.value)})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,b.jsx)(o.Checkbox,{id:"edit-can-sign",checked:az,onCheckedChange:a=>aA(!0===a)}),(0,b.jsxs)(i.Label,{htmlFor:"edit-can-sign",className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)(x.PenTool,{className:"h-4 w-4"}),"Authorized Signatory",(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:"(can sign documents for Verso Capital)"})]})]})]}),(0,b.jsxs)(k.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>{as(!1),au(null)},disabled:aB,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:a$,disabled:aB,children:aB?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.Save,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]})}a.s(["CeoProfileClient",()=>P],336724)}];

//# sourceMappingURL=c6ad4_src_app_%28main%29_versotech_main_ceo-profile_ceo-profile-client_tsx_2eca7b06._.js.map