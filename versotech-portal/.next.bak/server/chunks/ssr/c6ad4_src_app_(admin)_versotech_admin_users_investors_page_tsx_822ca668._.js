module.exports=[462106,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(784021),f=a.i(391686),g=a.i(771088),h=a.i(421908),i=a.i(15788),j=a.i(266828),k=a.i(105874),l=a.i(663475),m=a.i(216316),n=a.i(479612),o=a.i(623157),p=a.i(723603),q=a.i(211374),r=a.i(877028),s=a.i(577955),t=a.i(672606),u=a.i(703606),v=a.i(325866),w=a.i(264890),x=a.i(586105),y=a.i(686331),z=a.i(635136),A=a.i(294565),B=a.i(478870),C=a.i(487068),D=a.i(823879),E=a.i(696661),F=a.i(168405),G=a.i(166457),H=a.i(425622),I=a.i(838086),J=a.i(278541),K=a.i(497412),L=a.i(380640),M=a.i(948153),N=a.i(888987),O=a.i(899750);let P=[{value:"pending",label:"Pending"},{value:"in_review",label:"In Review"},{value:"completed",label:"Completed"},{value:"rejected",label:"Rejected"}],Q=[{value:"active",label:"Active"},{value:"pending",label:"Pending"},{value:"inactive",label:"Inactive"},{value:"deactivated",label:"Deactivated"}],R=[{value:"yes",label:"Has Entities"},{value:"no",label:"No Entities"}];function S({title:a,options:d,selected:e,onSelect:f,className:g}){let[j,k]=(0,c.useState)(!1);return(0,b.jsxs)(o.Popover,{open:j,onOpenChange:k,children:[(0,b.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",className:(0,N.cn)("h-9 border-dashed",e.length>0&&"border-primary",g),children:[(0,b.jsx)(G.Filter,{className:"mr-2 h-4 w-4"}),a,e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Separator,{orientation:"vertical",className:"mx-2 h-4"}),(0,b.jsx)(i.Badge,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:e.length})]}),(0,b.jsx)(F.ChevronsUpDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),(0,b.jsx)(o.PopoverContent,{className:"w-52 p-0",align:"start",children:(0,b.jsxs)(p.Command,{children:[(0,b.jsx)(p.CommandInput,{placeholder:`Search ${a.toLowerCase()}...`}),(0,b.jsxs)(p.CommandList,{children:[(0,b.jsx)(p.CommandEmpty,{children:"No results found."}),(0,b.jsx)(p.CommandGroup,{children:d.map(a=>{let c=e.includes(a.value);return(0,b.jsxs)(p.CommandItem,{onSelect:()=>{var b;return b=a.value,void(e.includes(b)?f(e.filter(a=>a!==b)):f([...e,b]))},children:[(0,b.jsx)("div",{className:(0,N.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,b.jsx)(E.Check,{className:"h-3 w-3"})}),(0,b.jsx)("span",{children:a.label})]},a.value)})}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.CommandSeparator,{}),(0,b.jsx)(p.CommandGroup,{children:(0,b.jsx)(p.CommandItem,{onSelect:()=>{f([]),k(!1)},className:"justify-center text-center",children:"Clear selection"})})]})]})]})})]})}let T=a=>{if(a.isDeleted)return"Deactivated";let b=new Date(Date.now()-2592e6);return a.lastLoginAt&&new Date(a.lastLoginAt)>b?"Active":a.lastLoginAt?"Inactive":"Pending"};function U(){return(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableHead,{className:"w-12",children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-4"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-24"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-32"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-16"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-16"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-24"})}),(0,b.jsx)(g.TableHead,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-24"})}),(0,b.jsx)(g.TableHead,{className:"w-12"})]})}),(0,b.jsx)(g.TableBody,{children:Array.from({length:10}).map((a,c)=>(0,b.jsxs)(g.TableRow,{children:[(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-4"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.Skeleton,{className:"h-8 w-8 rounded-full"}),(0,b.jsx)(q.Skeleton,{className:"h-4 w-32"})]})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-40"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-5 w-16 rounded-full"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-5 w-16 rounded-full"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-24"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-4 w-24"})}),(0,b.jsx)(g.TableCell,{children:(0,b.jsx)(q.Skeleton,{className:"h-8 w-8"})})]},c))})]})})})}function V(){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,b.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,b.jsx)(B.Users,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No investors found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center max-w-sm",children:"No investors match the current filters. Try adjusting your search or filter criteria."})]})}function W(){let a=(0,d.useRouter)(),o=(0,d.usePathname)(),p=(0,d.useSearchParams)(),[q,r]=(0,c.useState)(p.get("search")||""),[B,E]=(0,c.useState)(p.get("status")?.split(",").filter(Boolean)||[]),[F,G]=(0,c.useState)(p.get("kycStatus")?.split(",").filter(Boolean)||[]),[W,X]=(0,c.useState)(p.get("hasEntities")?.split(",").filter(Boolean)||[]),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)(!0),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)({page:1,pageSize:50,totalPages:1,totalCount:0}),[ae,af]=(0,c.useState)([{id:"createdAt",desc:!0}]),[ag,ah]=(0,c.useState)({}),[ai,aj]=(0,c.useState)(!1),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)(null),[ao,ap]=(0,c.useState)(!1),[aq,ar]=(0,c.useState)(!1),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(!1),aw=(0,c.useMemo)(()=>{let a=Object.keys(ag);return Y.filter(b=>a.includes(b.id))},[ag,Y]),ax=(0,c.useCallback)(()=>{if(0===aw.length)return;let a=new Blob([["ID,Name,Email,Entities,Status,Last Login,Created",...aw.map(a=>[a.id,a.displayName,a.email,a.entityCount,T(a),a.lastLoginAt||"Never",a.createdAt]).map(a=>a.map(a=>`"${a}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),b=document.createElement("a"),c=URL.createObjectURL(a);b.setAttribute("href",c),b.setAttribute("download",`investors-export-${(0,M.format)(new Date,"yyyy-MM-dd")}.csv`),b.style.visibility="hidden",document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(c)},[aw]),ay=function(a,b){let[d,e]=(0,c.useState)(a);return(0,c.useEffect)(()=>{let b=setTimeout(()=>{e(a)},300);return()=>{clearTimeout(b)}},[a,300]),d}(q,0),az=(0,c.useMemo)(()=>ay.length>0||B.length>0||F.length>0||W.length>0,[ay,B,F,W]),aA=(0,c.useCallback)(b=>{let c=new URLSearchParams(p.toString());void 0!==b.search&&(b.search?c.set("search",b.search):c.delete("search")),void 0!==b.status&&(b.status.length>0?c.set("status",b.status.join(",")):c.delete("status")),void 0!==b.kycStatus&&(b.kycStatus.length>0?c.set("kycStatus",b.kycStatus.join(",")):c.delete("kycStatus")),void 0!==b.hasEntities&&(b.hasEntities.length>0?c.set("hasEntities",b.hasEntities.join(",")):c.delete("hasEntities")),void 0!==b.page&&(b.page>1?c.set("page",b.page.toString()):c.delete("page"));let d=c.toString();a.push(`${o}${d?`?${d}`:""}`)},[o,a,p]),aB=(0,c.useCallback)(async(a=1)=>{try{_(!0),ab(null);let b=new URLSearchParams({page:a.toString(),pageSize:ac.pageSize.toString(),sortBy:"createdAt",sortOrder:"desc",role:"investor"});ay&&b.set("search",ay),B.length>0&&b.set("status",B.join(","));let c=await fetch(`/api/admin/users?${b}`),d=await c.json();if(!d.success)throw Error(d.error||"Failed to fetch investors");let e=d.data||[];W.includes("yes")&&!W.includes("no")?e=e.filter(a=>a.entityCount>0):W.includes("no")&&!W.includes("yes")&&(e=e.filter(a=>0===a.entityCount)),Z(e),d.pagination&&ad(d.pagination)}catch(a){ab(a instanceof Error?a.message:"An error occurred")}finally{_(!1)}},[ac.pageSize,ay,B,W]),aC=(0,c.useCallback)(async()=>{if(0!==aw.length){al(!0);try{let a=await fetch("/api/admin/users/batch-deactivate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userIds:aw.map(a=>a.id)})}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to deactivate users");ah({}),aj(!1),aB(ac.page)}catch(a){console.error("Failed to deactivate users:",a)}finally{al(!1)}}},[aw,aB,ac.page]),aD=(0,c.useCallback)(a=>{window.location.href=`/versotech_admin/users/${a.id}`},[]),aE=(0,c.useCallback)(a=>{an(a),ap(!0)},[]),aF=(0,c.useCallback)(a=>{an(a),ar(!0)},[]),aG=(0,c.useCallback)(a=>{an(a),at(!0)},[]),aH=(0,c.useCallback)(async()=>{if(am){av(!0);try{let a=await fetch(`/api/admin/users/${am.id}/toggle-lock`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to lock user");O.toast.success("Account locked",{description:`${am.displayName}'s account has been locked.`}),ap(!1),an(null),aB(ac.page)}catch(a){O.toast.error("Failed to lock account",{description:a instanceof Error?a.message:"An error occurred"})}finally{av(!1)}}},[am,aB,ac.page]),aI=(0,c.useCallback)(async()=>{if(am){av(!0);try{let a=await fetch(`/api/admin/users/${am.id}/reset-password`,{method:"POST"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to send password reset");O.toast.success("Password reset email sent",{description:`A password reset link has been sent to ${am.email}.`}),ar(!1),an(null)}catch(a){O.toast.error("Failed to send password reset",{description:a instanceof Error?a.message:"An error occurred"})}finally{av(!1)}}},[am]),aJ=(0,c.useCallback)(async()=>{if(am){av(!0);try{let a=await fetch(`/api/admin/users/${am.id}/deactivate`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to deactivate user");O.toast.success("Investor deactivated",{description:`${am.displayName} has been deactivated.`}),at(!1),an(null),aB(ac.page)}catch(a){O.toast.error("Failed to deactivate investor",{description:a instanceof Error?a.message:"An error occurred"})}finally{av(!1)}}},[am,aB,ac.page]),aK=(0,c.useMemo)(()=>{let a;return a={onEdit:aD,onLock:aE,onResetPassword:aF,onDeactivate:aG},[{id:"select",header:({table:a})=>(0,b.jsx)(j.Checkbox,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:b=>a.toggleAllPageRowsSelected(!!b),"aria-label":"Select all"}),cell:({row:a})=>(0,b.jsx)(j.Checkbox,{checked:a.getIsSelected(),onCheckedChange:b=>a.toggleSelected(!!b),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"displayName",header:({column:a})=>(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Investor",(0,b.jsx)(A.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let c=a.original;return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(k.Avatar,{className:"h-8 w-8",children:[(0,b.jsx)(k.AvatarImage,{src:c.avatarUrl||void 0,alt:c.displayName}),(0,b.jsx)(k.AvatarFallback,{className:"text-xs",children:c.displayName.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})]}),(0,b.jsx)("div",{className:"flex flex-col",children:(0,b.jsx)(K.default,{href:`/versotech_admin/users/${c.id}`,className:"font-medium hover:underline",children:c.displayName})})]})}},{accessorKey:"email",header:({column:a})=>(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Email",(0,b.jsx)(A.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>(0,b.jsx)("span",{className:"text-muted-foreground",children:a.original.email})},{accessorKey:"entityCount",header:({column:a})=>(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:[(0,b.jsx)(J.Building2,{className:"mr-1 h-4 w-4"}),"Entities",(0,b.jsx)(A.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let c=a.original.entityCount;return(0,b.jsxs)(i.Badge,{variant:c>0?"secondary":"outline",children:[c," ",1===c?"entity":"entities"]})}},{id:"status",header:"Status",cell:({row:a})=>{let c=a.original,{variant:d,className:e}=(a=>{if(a.isDeleted)return{variant:"destructive"};let b=new Date(Date.now()-2592e6);return a.lastLoginAt&&new Date(a.lastLoginAt)>b?{variant:"default",className:"bg-green-500 dark:bg-green-600 hover:bg-green-500/80 dark:hover:bg-green-600/80"}:a.lastLoginAt?{variant:"outline"}:{variant:"secondary",className:"bg-yellow-500 dark:bg-yellow-600 text-white hover:bg-yellow-500/80 dark:hover:bg-yellow-600/80"}})(c);return(0,b.jsx)(i.Badge,{variant:d,className:e,children:T(c)})}},{accessorKey:"lastLoginAt",header:({column:a})=>(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Last Active",(0,b.jsx)(A.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{let c=a.original.lastLoginAt;return c?(0,b.jsx)("span",{className:"text-muted-foreground",children:(0,L.formatDistanceToNow)(new Date(c),{addSuffix:!0})}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"Never"})}},{accessorKey:"createdAt",header:({column:a})=>(0,b.jsxs)(h.Button,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),className:"-ml-4",children:["Created",(0,b.jsx)(A.ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>(0,b.jsx)("span",{className:"text-muted-foreground",children:(0,M.format)(new Date(a.original.createdAt),"MMM d, yyyy")})},{id:"actions",header:"",cell:({row:c})=>{let d=c.original;return(0,b.jsxs)(m.DropdownMenu,{children:[(0,b.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,b.jsx)(u.MoreHorizontal,{className:"h-4 w-4"})]})}),(0,b.jsxs)(m.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(m.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(m.DropdownMenuSeparator,{}),(0,b.jsx)(m.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(K.default,{href:`/versotech_admin/users/${d.id}`,children:[(0,b.jsx)(w.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]})}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>a.onEdit(d),children:[(0,b.jsx)(v.User,{className:"mr-2 h-4 w-4"}),"Edit Profile"]}),(0,b.jsx)(m.DropdownMenuSeparator,{}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>a.onLock(d),className:"text-yellow-600 dark:text-yellow-500",children:[(0,b.jsx)(y.Lock,{className:"mr-2 h-4 w-4"}),"Lock Account"]}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>a.onResetPassword(d),children:[(0,b.jsx)(z.KeyRound,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),(0,b.jsx)(m.DropdownMenuSeparator,{}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:()=>a.onDeactivate(d),className:"text-destructive",children:[(0,b.jsx)(x.UserX,{className:"mr-2 h-4 w-4"}),"Deactivate"]})]})]})}}]},[aD,aE,aF,aG]);(0,c.useEffect)(()=>{aB(1),aA({search:ay,status:B,kycStatus:F,hasEntities:W,page:1})},[ay,B,F,W]);let aL=(0,e.useReactTable)({data:Y,columns:aK,onSortingChange:af,getCoreRowModel:(0,f.getCoreRowModel)(),getSortedRowModel:(0,f.getSortedRowModel)(),onRowSelectionChange:ah,state:{sorting:ae,rowSelection:ag},getRowId:a=>a.id}),aM=(ac.page-1)*ac.pageSize+1,aN=Math.min(ac.page*ac.pageSize,ac.totalCount);return aa?(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[(0,b.jsx)("h3",{className:"font-medium text-destructive",children:"Error loading investors"}),(0,b.jsx)("p",{className:"text-sm text-destructive/80 mt-1",children:aa}),(0,b.jsx)(h.Button,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>aB(),children:"Try Again"})]})}):(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Investors"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage investor accounts and their entity associations"})]})}),(0,b.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-1 items-center gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,b.jsx)(C.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(l.Input,{placeholder:"Search investors...",value:q,onChange:a=>r(a.target.value),className:"pl-9 h-9"}),q&&(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 h-7 w-7 -translate-y-1/2 p-0",onClick:()=>r(""),children:(0,b.jsx)(D.X,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(S,{title:"Status",options:Q,selected:B,onSelect:E}),(0,b.jsx)(S,{title:"KYC Status",options:P,selected:F,onSelect:G}),(0,b.jsx)(S,{title:"Entities",options:R,selected:W,onSelect:X})]})]}),az&&(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>{r(""),E([]),G([]),X([])},className:"h-9",children:[(0,b.jsx)(D.X,{className:"mr-2 h-4 w-4"}),"Clear filters"]})]}),az&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Active filters:"}),ay&&(0,b.jsxs)(i.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:['Search: "',ay,'"',(0,b.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>r(""),children:(0,b.jsx)(D.X,{className:"h-3 w-3"})})]}),B.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:["Status: ",Q.find(b=>b.value===a)?.label||a,(0,b.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>E(B.filter(b=>b!==a)),children:(0,b.jsx)(D.X,{className:"h-3 w-3"})})]},a)),F.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:["KYC: ",P.find(b=>b.value===a)?.label||a,(0,b.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>G(F.filter(b=>b!==a)),children:(0,b.jsx)(D.X,{className:"h-3 w-3"})})]},a)),W.map(a=>(0,b.jsxs)(i.Badge,{variant:"secondary",className:"rounded-sm px-2 py-1",children:[R.find(b=>b.value===a)?.label||a,(0,b.jsx)("button",{className:"ml-1.5 ring-offset-background rounded-full outline-none hover:bg-muted-foreground/20",onClick:()=>X(W.filter(b=>b!==a)),children:(0,b.jsx)(D.X,{className:"h-3 w-3"})})]},a))]}),$?(0,b.jsx)(U,{}):0===Y.length?(0,b.jsx)(V,{}):(0,b.jsxs)("div",{className:(0,N.cn)("space-y-4",aw.length>0&&"pb-20"),children:[(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(g.Table,{children:[(0,b.jsx)(g.TableHeader,{children:aL.getHeaderGroups().map(a=>(0,b.jsx)(g.TableRow,{children:a.headers.map(a=>(0,b.jsx)(g.TableHead,{children:a.isPlaceholder?null:(0,e.flexRender)(a.column.columnDef.header,a.getContext())},a.id))},a.id))}),(0,b.jsx)(g.TableBody,{children:aL.getRowModel().rows.length?aL.getRowModel().rows.map(a=>(0,b.jsx)(g.TableRow,{"data-state":a.getIsSelected()&&"selected",className:"hover:bg-muted/50",children:a.getVisibleCells().map(a=>(0,b.jsx)(g.TableCell,{children:(0,e.flexRender)(a.column.columnDef.cell,a.getContext())},a.id))},a.id)):(0,b.jsx)(g.TableRow,{children:(0,b.jsx)(g.TableCell,{colSpan:aK.length,className:"h-24 text-center",children:"No investors found."})})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:ac.totalCount>0?(0,b.jsxs)(b.Fragment,{children:["Showing ",aM,"-",aN," of ",ac.totalCount," investors"]}):(0,b.jsx)(b.Fragment,{children:"No investors found"})}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>{if(ac.page>1){let a=ac.page-1;aB(a),aA({page:a})}},disabled:ac.page<=1,children:[(0,b.jsx)(s.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Previous"]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground px-2",children:["Page ",ac.page," of ",ac.totalPages]}),(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:()=>{if(ac.page<ac.totalPages){let a=ac.page+1;aB(a),aA({page:a})}},disabled:ac.page>=ac.totalPages,children:["Next",(0,b.jsx)(t.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]}),aw.length>0&&(0,b.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t shadow-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 max-w-[calc(100%-var(--sidebar-width,16rem))] ml-auto",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:[aw.length," investor",aw.length>1?"s":""," selected"]}),(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",onClick:()=>ah({}),children:"Clear"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",onClick:ax,children:[(0,b.jsx)(H.Download,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,b.jsxs)(h.Button,{variant:"destructive",size:"sm",onClick:()=>aj(!0),children:[(0,b.jsx)(x.UserX,{className:"h-4 w-4 mr-2"}),"Deactivate"]})]})]})}),(0,b.jsx)(n.AlertDialog,{open:ai,onOpenChange:aj,children:(0,b.jsxs)(n.AlertDialogContent,{children:[(0,b.jsxs)(n.AlertDialogHeader,{children:[(0,b.jsxs)(n.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(I.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Deactivate Investors"]}),(0,b.jsx)(n.AlertDialogDescription,{asChild:!0,children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("p",{children:["Are you sure you want to deactivate ",aw.length," investor",aw.length>1?"s":"","? They will no longer be able to access the platform."]}),(0,b.jsx)("div",{className:"rounded-md bg-muted p-3 max-h-32 overflow-y-auto",children:(0,b.jsxs)("ul",{className:"text-sm space-y-1",children:[aw.slice(0,10).map(a=>(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium",children:a.displayName}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["(",a.email,")"]})]},a.id)),aw.length>10&&(0,b.jsxs)("li",{className:"text-muted-foreground",children:["...and ",aw.length-10," more"]})]})})]})})]}),(0,b.jsxs)(n.AlertDialogFooter,{children:[(0,b.jsx)(n.AlertDialogCancel,{disabled:ak,children:"Cancel"}),(0,b.jsx)(n.AlertDialogAction,{onClick:aC,disabled:ak,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ak?"Deactivating...":"Deactivate"})]})]})}),(0,b.jsx)(n.AlertDialog,{open:ao,onOpenChange:ap,children:(0,b.jsxs)(n.AlertDialogContent,{children:[(0,b.jsxs)(n.AlertDialogHeader,{children:[(0,b.jsxs)(n.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(y.Lock,{className:"h-5 w-5 text-yellow-600"}),"Lock Account"]}),(0,b.jsxs)(n.AlertDialogDescription,{children:["Are you sure you want to lock ",(0,b.jsx)("strong",{children:am?.displayName}),"'s account? They will be temporarily unable to access the platform."]})]}),(0,b.jsxs)(n.AlertDialogFooter,{children:[(0,b.jsx)(n.AlertDialogCancel,{disabled:au,children:"Cancel"}),(0,b.jsx)(n.AlertDialogAction,{onClick:aH,disabled:au,className:"bg-yellow-600 text-white hover:bg-yellow-600/90",children:au?"Locking...":"Lock Account"})]})]})}),(0,b.jsx)(n.AlertDialog,{open:aq,onOpenChange:ar,children:(0,b.jsxs)(n.AlertDialogContent,{children:[(0,b.jsxs)(n.AlertDialogHeader,{children:[(0,b.jsxs)(n.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(z.KeyRound,{className:"h-5 w-5"}),"Reset Password"]}),(0,b.jsxs)(n.AlertDialogDescription,{children:["This will send a password reset email to ",(0,b.jsx)("strong",{children:am?.email}),". The user will need to click the link in the email to set a new password."]})]}),(0,b.jsxs)(n.AlertDialogFooter,{children:[(0,b.jsx)(n.AlertDialogCancel,{disabled:au,children:"Cancel"}),(0,b.jsx)(n.AlertDialogAction,{onClick:aI,disabled:au,children:au?"Sending...":"Send Reset Email"})]})]})}),(0,b.jsx)(n.AlertDialog,{open:as,onOpenChange:at,children:(0,b.jsxs)(n.AlertDialogContent,{children:[(0,b.jsxs)(n.AlertDialogHeader,{children:[(0,b.jsxs)(n.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(I.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Deactivate Investor"]}),(0,b.jsxs)(n.AlertDialogDescription,{children:["Are you sure you want to deactivate ",(0,b.jsx)("strong",{children:am?.displayName}),"? They will no longer be able to access the platform."]})]}),(0,b.jsxs)(n.AlertDialogFooter,{children:[(0,b.jsx)(n.AlertDialogCancel,{disabled:au,children:"Cancel"}),(0,b.jsx)(n.AlertDialogAction,{onClick:aJ,disabled:au,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:au?"Deactivating...":"Deactivate"})]})]})})]})}a.s(["default",()=>W])}];

//# sourceMappingURL=c6ad4_src_app_%28admin%29_versotech_admin_users_investors_page_tsx_822ca668._.js.map