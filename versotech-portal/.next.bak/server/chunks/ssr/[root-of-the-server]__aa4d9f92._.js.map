{"version":3,"sources":["../../../../../versotech-portal/src/components/lawyer/lawyer-deal-client.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28main%29/versotech_main/lawyer-deal/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LawyerDealClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LawyerDealClient() from the server but LawyerDealClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/lawyer/lawyer-deal-client.tsx\",\n    \"LawyerDealClient\",\n);\n","/**\n * Lawyer Deal Detail Page\n * /versotech_main/lawyer-deal/[id]\n *\n * Server component that fetches deal data for lawyer review.\n * Shows comprehensive deal information scoped to the lawyer's assignment.\n */\n\nimport { cookies } from 'next/headers'\nimport { redirect } from 'next/navigation'\nimport { createClient } from '@/lib/supabase/server'\nimport { LawyerDealClient } from '@/components/lawyer/lawyer-deal-client'\n\ntype Props = {\n  params: Promise<{ id: string }>\n}\n\nexport default async function LawyerDealPage({ params }: Props) {\n  const { id } = await params\n  const supabase = await createClient()\n\n  // Verify user is authenticated\n  const { data: { user }, error: userError } = await supabase.auth.getUser()\n  if (userError || !user) {\n    redirect('/auth/login')\n  }\n\n  // Fetch deal data from API\n  const cookieStore = await cookies()\n  const response = await fetch(\n    `${process.env.NEXT_PUBLIC_APP_URL}/api/lawyers/me/deals/${id}`,\n    {\n      headers: {\n        Cookie: cookieStore.toString(),\n      },\n      cache: 'no-store',\n    }\n  )\n\n  if (!response.ok) {\n    if (response.status === 401) {\n      redirect('/auth/login')\n    }\n    if (response.status === 403 || response.status === 404) {\n      redirect('/versotech_main/assigned-deals')\n    }\n    // For other errors, show error state\n    return (\n      <div className=\"p-8 text-center\">\n        <h1 className=\"text-xl font-semibold text-destructive\">Error loading deal</h1>\n        <p className=\"text-muted-foreground mt-2\">Unable to fetch deal details. Please try again.</p>\n      </div>\n    )\n  }\n\n  const data = await response.json()\n\n  return <LawyerDealClient data={data} />\n}\n"],"names":[],"mappings":"4YAEO,IAAM,EAAmB,CAAA,EAAA,AADhC,EAAA,CAAA,CAAA,QACgC,uBAAA,AAAuB,EACnD,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,8FACA,6EAHG,IAAM,EAAmB,CAAA,EADhC,AACgC,EADhC,CAAA,CAAA,QACgC,uBAAuB,AAAvB,EAC5B,WAAa,MAAM,AAAI,MAAM,8OAAgP,EAC7Q,0EACA,4HCGJ,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OAMe,eAAe,EAAe,QAAE,CAAM,CAAS,EAC5D,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EACf,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAG7B,CAAE,KAAM,MAAE,CAAI,CAAE,CAAE,MAAO,CAAS,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,EACpE,KAAa,CAAC,CAAA,GAAM,AACtB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,eAIX,IAAM,EAAc,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,IAC3B,EAAW,MAAM,MACrB,8CAA2D,GAAI,CAC/D,CACE,QAAS,CACP,CAH+B,MAGvB,EAAY,QAAQ,EAC9B,EACA,EALuD,IAKhD,UACT,GAGF,GAAI,CAAC,EAAS,EAAE,CAQd,CARgB,MACQ,KAAK,CAAzB,EAAS,MAAM,EACjB,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,gBAEa,MAApB,EAAS,MAAM,EAAgC,MAApB,EAAS,MAAM,AAAK,GAAK,AACtD,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,kCAIT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kDAAyC,uBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,uDAKhD,IAAM,EAAO,MAAM,EAAS,IAAI,GAEhC,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,KAAM,GACjC","ignoreList":[0]}