module.exports=[264890,a=>{"use strict";let b=(0,a.i(95799).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],264890)},155508,a=>{"use strict";let b=(0,a.i(95799).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],155508)},618287,a=>{"use strict";let b=(0,a.i(95799).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],618287)},908513,a=>{"use strict";let b=(0,a.i(95799).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],908513)},201986,a=>{"use strict";a.s(["formatBps",0,a=>null==a?"—":`${a} bps`,"formatCurrency",0,(a,b="USD")=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a):"$0","formatDate",0,a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b?.getTime?.())?"—":b.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},873785,a=>{"use strict";let b=(0,a.i(95799).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],873785)},675167,a=>{"use strict";let b=(0,a.i(95799).default)("file-check",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);a.s(["FileCheck",()=>b],675167)},703606,a=>{"use strict";let b=(0,a.i(95799).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],703606)},587143,a=>{"use strict";let b=(0,a.i(95799).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);a.s(["Info",()=>b],587143)},933838,a=>{"use strict";let b=(0,a.i(95799).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["PenLine",()=>b],933838)},446803,a=>{"use strict";let b=(0,a.i(95799).default)("file-down",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);a.s(["FileDown",()=>b],446803)},652412,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(470305),e=a.i(421908),f=a.i(663475),g=a.i(249464),h=a.i(191675),i=a.i(951870),j=a.i(899750),k=a.i(289633);function l({open:a,onOpenChange:l,introducer:m}){let[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("net_30"),[z,A]=(0,c.useState)("active"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useTransition)(),F=(0,k.useRouter)();return((0,c.useEffect)(()=>{m&&(o(m.legalName),q(m.contactName||""),s(m.email||""),u(m.defaultCommissionBps||""),w(m.commissionCapAmount||""),y(m.paymentTerms||"net_30"),A(m.status),C(m.notes||""))},[m]),m)?(0,b.jsx)(d.Dialog,{open:a,onOpenChange:l,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"Edit Introducer"}),(0,b.jsx)(d.DialogDescription,{children:"Update introducer contact information and commercial terms."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(f.Input,{id:"legalName",value:n,onChange:a=>o(a.target.value),placeholder:"e.g. Meridian Capital Partners",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(f.Input,{id:"contactName",value:p,onChange:a=>q(a.target.value),placeholder:"e.g. Jane Smith"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactEmail",children:"Contact Email"}),(0,b.jsx)(f.Input,{id:"contactEmail",type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"jane.smith@example.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionBps",children:"Default Commission (bps)"}),(0,b.jsx)(f.Input,{id:"commissionBps",type:"number",min:0,max:300,value:t,onChange:a=>u(""===a.target.value?"":Number(a.target.value)),placeholder:"150"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionCap",children:"Commission Cap (optional)"}),(0,b.jsx)(f.Input,{id:"commissionCap",type:"number",min:0,value:v,onChange:a=>w(""===a.target.value?"":Number(a.target.value)),placeholder:"50000"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Payment Terms"}),(0,b.jsxs)(i.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select terms"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"net_15",children:"Net 15"}),(0,b.jsx)(i.SelectItem,{value:"net_30",children:"Net 30"}),(0,b.jsx)(i.SelectItem,{value:"net_45",children:"Net 45"}),(0,b.jsx)(i.SelectItem,{value:"net_60",children:"Net 60"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Status"}),(0,b.jsxs)(i.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(h.Textarea,{id:"notes",value:B,onChange:a=>C(a.target.value),placeholder:"Commission arrangements, regional focus, etc.",rows:3})]})]}),(0,b.jsxs)(d.DialogFooter,{className:"flex justify-between",children:[(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{!m||confirm("Are you sure you want to delete this introducer? This action cannot be undone.")&&E(async()=>{try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"DELETE"});if(!a.ok){let b,c=await a.text();try{b=JSON.parse(c)}catch(a){j.toast.error(`Failed to delete introducer: ${c||"Unknown error"}`);return}j.toast.error(b?.error??"Failed to delete introducer");return}j.toast.success("Introducer deleted"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to delete introducer")}})},disabled:D,children:"Delete"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>l(!1),disabled:D,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{m&&E(async()=>{if(!n.trim())return void j.toast.error("Legal name is required");if(""!==t&&(0>Number(t)||Number(t)>300))return void j.toast.error("Default commission must be between 0 and 300 bps");try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:n.trim(),contact_name:p.trim()||null,email:r.trim()||null,default_commission_bps:""===t?null:Number(t),commission_cap_amount:""===v?null:Number(v),payment_terms:x,status:z,notes:B.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);j.toast.error(b?.error??"Failed to update introducer");return}j.toast.success("Introducer updated"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to update introducer")}})},disabled:D,children:D?"Updating…":"Update Introducer"})]})]})]})}):null}a.s(["EditIntroducerDialog",()=>l])},29427,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(169091),f=a.i(601527),g=a.i(165936),h=a.i(470305),i=a.i(652212),j=a.i(663475),k=a.i(421908),l=a.i(191675),m=a.i(899750),n=a.i(203297),o=a.i(438436),p=a.i(724070),q=a.i(816854),r=a.i(3321),s=a.i(871057),t=a.i(951870);let u=[{value:"referral",label:"Referral Fee"},{value:"revenue_share",label:"Revenue Share"},{value:"fixed_fee",label:"Fixed Fee"},{value:"hybrid",label:"Hybrid"}],v=g.z.object({agreement_type:g.z.enum(["referral","revenue_share","fixed_fee","hybrid"]),default_commission_bps:g.z.preprocess(a=>""===a?0:Number(a),g.z.number().min(0,"Commission must be at least 0").max(500,"Commission cannot exceed 5%")),effective_date:g.z.string().min(1,"Effective date is required"),expiry_date:g.z.string().optional(),notes:g.z.string().optional()});function w({open:a,onOpenChange:g,introducerId:w,introducerName:x,defaultCommissionBps:y=100}){let z=(0,d.useRouter)(),[A,B]=(0,c.useState)(!1),C=(0,e.useForm)({resolver:(0,f.zodResolver)(v),defaultValues:{agreement_type:"referral",default_commission_bps:y,effective_date:new Date().toISOString().split("T")[0],expiry_date:"",notes:""}}),D=async a=>{B(!0);try{let b=await fetch("/api/introducer-agreements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({introducer_id:w,agreement_type:a.agreement_type,default_commission_bps:a.default_commission_bps,effective_date:a.effective_date,expiry_date:a.expiry_date||null,notes:a.notes||null})});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to create agreement")}m.toast.success("Agreement created successfully"),g(!1),C.reset(),z.refresh()}catch(a){m.toast.error(a instanceof Error?a.message:"Failed to create agreement")}finally{B(!1)}};return(0,b.jsx)(h.Dialog,{open:a,onOpenChange:g,children:(0,b.jsxs)(h.DialogContent,{className:"sm:max-w-[520px] bg-background border-white/10",children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/20",children:(0,b.jsx)(n.FileSignature,{className:"h-5 w-5 text-amber-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.DialogTitle,{className:"text-lg font-semibold text-foreground",children:"Create Fee Agreement"}),(0,b.jsxs)(h.DialogDescription,{className:"text-sm text-muted-foreground",children:["For ",x]})]})]})}),(0,b.jsx)(i.Form,{...C,children:(0,b.jsxs)("form",{onSubmit:C.handleSubmit(D),className:"space-y-5",children:[(0,b.jsx)(i.FormField,{control:C.control,name:"agreement_type",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsxs)(i.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(s.Briefcase,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Agreement Type"]}),(0,b.jsxs)(t.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(t.SelectTrigger,{className:"bg-white/5 border-white/10 focus:border-amber-500/50",children:(0,b.jsx)(t.SelectValue,{placeholder:"Select agreement type"})})}),(0,b.jsx)(t.SelectContent,{children:u.map(a=>(0,b.jsx)(t.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:C.control,name:"default_commission_bps",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsxs)(i.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(o.Percent,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Commission Rate (basis points)"]}),(0,b.jsx)(i.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(j.Input,{type:"number",placeholder:"100",...a,className:"bg-white/5 border-white/10 focus:border-amber-500/50 focus:ring-amber-500/20 pr-16"}),(0,b.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"bps"})]})}),(0,b.jsxs)(i.FormDescription,{className:"text-xs",children:["100 bps = 1.00% | Current: ",((a.value||0)/100).toFixed(2),"%"]}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(i.FormField,{control:C.control,name:"effective_date",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsxs)(i.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(p.Calendar,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Effective Date"]}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{type:"date",...a,className:"bg-white/5 border-white/10 focus:border-amber-500/50"})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsx)(i.FormField,{control:C.control,name:"expiry_date",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsxs)(i.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(p.Calendar,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Expiry Date",(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:"(optional)"})]}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(j.Input,{type:"date",...a,className:"bg-white/5 border-white/10 focus:border-amber-500/50"})}),(0,b.jsx)(i.FormMessage,{})]})})]}),(0,b.jsx)(i.FormField,{control:C.control,name:"notes",render:({field:a})=>(0,b.jsxs)(i.FormItem,{children:[(0,b.jsxs)(i.FormLabel,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(q.FileText,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Notes",(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:"(optional)"})]}),(0,b.jsx)(i.FormControl,{children:(0,b.jsx)(l.Textarea,{placeholder:"Any special terms or conditions for this agreement...",rows:3,...a,className:"bg-white/5 border-white/10 focus:border-amber-500/50 resize-none"})}),(0,b.jsx)(i.FormMessage,{})]})}),(0,b.jsxs)(h.DialogFooter,{className:"pt-2",children:[(0,b.jsx)(k.Button,{type:"button",variant:"ghost",onClick:()=>g(!1),disabled:A,children:"Cancel"}),(0,b.jsx)(k.Button,{type:"submit",disabled:A,className:"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white border-0",children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.FileSignature,{className:"h-4 w-4 mr-2"}),"Create Agreement"]})})]})]})})]})})}a.s(["CreateAgreementDialog",()=>w])}];

//# sourceMappingURL=versotech-portal_840ac0a2._.js.map