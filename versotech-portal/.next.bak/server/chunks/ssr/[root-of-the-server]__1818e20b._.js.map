{"version":3,"sources":["../../../../../versotech-portal/src/lib/api-auth.ts","../../../../../versotech-portal/src/components/staff/introducers/introducers-dashboard.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/staff/introducers/add-introducer-context.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/components/staff/introducers/add-introducer-dialog.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/introducers/page.tsx"],"sourcesContent":["/**\r\n * Helper to get authenticated user from Supabase auth\r\n * Works with both createClient() and createServiceClient()\r\n */\r\nexport async function getAuthenticatedUser(supabase: any) {\r\n  const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n\r\n  return {\r\n    user,\r\n    error: authError\r\n  }\r\n}\r\n\r\n/**\r\n * Get user role from database profile\r\n */\r\nexport async function getUserRole(supabase: any, user: any): Promise<string | null> {\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  return profile?.role || null\r\n}\r\n\r\n/**\r\n * Check if user has a specific permission OR is CEO (CEO bypasses all permission checks)\r\n *\r\n * This centralizes permission checking so that:\r\n * 1. CEO users automatically have ALL permissions without needing staff_permissions entries\r\n * 2. Regular staff users need explicit permissions in staff_permissions table\r\n *\r\n * @param supabase - Supabase client (can be regular or service client)\r\n * @param userId - The user's ID\r\n * @param requiredPermissions - Array of permissions (user needs ANY of these, not all)\r\n * @returns true if user has permission or is CEO\r\n */\r\nexport async function hasPermission(\r\n  supabase: any,\r\n  userId: string,\r\n  requiredPermissions: string[]\r\n): Promise<boolean> {\r\n  // First, check if user is CEO - CEO bypasses all permission checks\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', userId)\r\n    .single()\r\n\r\n  if (profile?.role === 'ceo') {\r\n    return true // CEO has all permissions\r\n  }\r\n\r\n  // Also check if user has CEO persona (for multi_persona users)\r\n  const { data: ceoUser } = await supabase\r\n    .from('ceo_users')\r\n    .select('user_id')\r\n    .eq('user_id', userId)\r\n    .maybeSingle()\r\n\r\n  if (ceoUser) {\r\n    return true // User is in ceo_users table, has all permissions\r\n  }\r\n\r\n  // For non-CEO users, check staff_permissions table\r\n  const { data: permission } = await supabase\r\n    .from('staff_permissions')\r\n    .select('permission')\r\n    .eq('user_id', userId)\r\n    .in('permission', requiredPermissions)\r\n    .limit(1)\r\n    .maybeSingle()\r\n\r\n  return !!permission\r\n}\r\n\r\n/**\r\n * Check if user has super_admin permission OR is CEO\r\n * Convenience function for the most common permission check\r\n */\r\nexport async function isSuperAdmin(supabase: any, userId: string): Promise<boolean> {\r\n  return hasPermission(supabase, userId, ['super_admin'])\r\n}\r\n\r\n/**\r\n * Check if user is staff using both profile role AND persona system\r\n *\r\n * Users can have staff access through:\r\n * 1. Legacy role field: 'staff_*' or 'ceo' in profiles.role\r\n * 2. Persona system: staff or ceo persona via get_user_personas RPC\r\n */\r\nexport async function isStaffUser(supabase: any, user: any): Promise<boolean> {\r\n  // First check legacy role field\r\n  const role = await getUserRole(supabase, user)\r\n  if (role && (role.startsWith('staff_') || role === 'ceo')) {\r\n    return true\r\n  }\r\n\r\n  // For multi_persona users, check personas via RPC\r\n  if (role === 'multi_persona') {\r\n    try {\r\n      const { data: personas } = await supabase.rpc('get_user_personas', {\r\n        p_user_id: user.id\r\n      })\r\n\r\n      if (personas && Array.isArray(personas)) {\r\n        return personas.some(\r\n          (p: any) => p.persona_type === 'staff' || p.persona_type === 'ceo'\r\n        )\r\n      }\r\n    } catch (err) {\r\n      console.error('[isStaffUser] Error checking personas:', err)\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const IntroducersDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call IntroducersDashboard() from the server but IntroducersDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/staff/introducers/introducers-dashboard.tsx\",\n    \"IntroducersDashboard\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddIntroducerProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddIntroducerProvider() from the server but AddIntroducerProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/staff/introducers/add-introducer-context.tsx\",\n    \"AddIntroducerProvider\",\n);\nexport const useAddIntroducer = registerClientReference(\n    function() { throw new Error(\"Attempted to call useAddIntroducer() from the server but useAddIntroducer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/staff/introducers/add-introducer-context.tsx\",\n    \"useAddIntroducer\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AddIntroducerDialog = registerClientReference(\n    function() { throw new Error(\"Attempted to call AddIntroducerDialog() from the server but AddIntroducerDialog is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/staff/introducers/add-introducer-dialog.tsx\",\n    \"AddIntroducerDialog\",\n);\n","import { IntroducersDashboard, type IntroducersDashboardProps } from '@/components/staff/introducers/introducers-dashboard'\r\nimport { AddIntroducerProvider } from '@/components/staff/introducers/add-introducer-context'\r\nimport { AddIntroducerDialog } from '@/components/staff/introducers/add-introducer-dialog'\r\nimport { getAuthenticatedUser } from '@/lib/api-auth'\r\nimport { requireStaffAuth } from '@/lib/auth'\r\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { redirect } from 'next/navigation'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\nexport const revalidate = 0\r\n\r\ntype IntroducerRecord = {\r\n  id: string\r\n  legal_name: string | null\r\n  contact_name: string | null\r\n  email: string | null\r\n  default_commission_bps: number | null\r\n  commission_cap_amount: number | string | null\r\n  payment_terms: string | null\r\n  status: string | null\r\n  created_at: string | null\r\n  introductions?: Array<{\r\n    id: string\r\n    status: string | null\r\n    introduced_at: string | null\r\n    deal_id: string | null\r\n  }> | null\r\n  introducer_commissions?: Array<{\r\n    id: string\r\n    introduction_id: string | null\r\n    accrual_amount: number | string | null\r\n    status: string | null\r\n    created_at: string | null\r\n    paid_at: string | null\r\n  }> | null\r\n}\r\n\r\ntype RecentIntroductionRecord = {\r\n  id: string\r\n  introducer_id: string | null\r\n  prospect_email: string | null\r\n  deal_id: string | null\r\n  status: string | null\r\n  introduced_at: string | null\r\n  commission_rate_override_bps: number | null\r\n  notes: string | null\r\n  introducer: { legal_name: string | null } | null\r\n  deal: { name: string | null } | null\r\n}\r\n\r\nexport default async function IntroducersPage() {\r\n  await requireStaffAuth()\r\n  const supabase = await createClient()\r\n  \r\n  const { user } = await getAuthenticatedUser(supabase)\r\n  if (!user) {\r\n    redirect('/versotech/login')\r\n  }\r\n  \r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single()\r\n  \r\n  if (!profile || !(profile.role.startsWith('staff_') || profile.role === 'ceo')) {\r\n    redirect('/versotech/staff')\r\n  }\r\n  \r\n  // Use service client for data fetching (bypasses RLS)\r\n  const serviceSupabase = createServiceClient()\r\n\r\n  const { data: introducersData, error: introducersError } = await serviceSupabase\r\n    .from('introducers')\r\n    .select(\r\n      `\r\n        id,\r\n        legal_name,\r\n        contact_name,\r\n        email,\r\n        default_commission_bps,\r\n        commission_cap_amount,\r\n        payment_terms,\r\n        status,\r\n        created_at,\r\n        introductions (\r\n          id,\r\n          status,\r\n          introduced_at,\r\n          deal_id\r\n        ),\r\n        introducer_commissions (\r\n          id,\r\n          introduction_id,\r\n          accrual_amount,\r\n          status,\r\n          created_at,\r\n          paid_at\r\n        )\r\n      `\r\n    )\r\n    .order('created_at', { ascending: false })\r\n\r\n  if (introducersError) {\r\n    console.error('[Introducers] Failed to fetch introducers', introducersError)\r\n  }\r\n\r\n  const introducersRecords = (introducersData ?? []) as IntroducerRecord[]\r\n  const commissionLookup = new Map<string, { amount: number; status: string | null }>()\r\n\r\n  const introducers: IntroducersDashboardProps['introducers'] = introducersRecords.map((record) => {\r\n    const introductions = Array.isArray(record.introductions) ? record.introductions : []\r\n    const commissions = Array.isArray(record.introducer_commissions) ? record.introducer_commissions : []\r\n\r\n    let latestIntroduction: string | null = null\r\n\r\n    introductions.forEach((intro) => {\r\n      if (!intro) return\r\n      const introducedAt = intro.introduced_at || null\r\n      if (!latestIntroduction) {\r\n        latestIntroduction = introducedAt\r\n      } else if (introducedAt && new Date(introducedAt).getTime() > new Date(latestIntroduction).getTime()) {\r\n        latestIntroduction = introducedAt\r\n      }\r\n    })\r\n\r\n    let totalCommissionPaid = 0\r\n    let pendingCommission = 0\r\n\r\n    commissions.forEach((commission) => {\r\n      if (!commission) return\r\n      const amount = Number(commission.accrual_amount ?? 0)\r\n\r\n      if (commission.introduction_id) {\r\n        commissionLookup.set(commission.introduction_id, { amount, status: commission.status ?? null })\r\n      }\r\n\r\n      if (commission.status === 'paid') {\r\n        totalCommissionPaid += amount\r\n      }\r\n\r\n      if (commission.status === 'accrued' || commission.status === 'invoiced') {\r\n        pendingCommission += amount\r\n      }\r\n    })\r\n\r\n    const successfulAllocations = introductions.filter((intro) => intro?.status === 'allocated').length\r\n\r\n    return {\r\n      id: record.id,\r\n      legalName: record.legal_name ?? 'Unnamed Introducer',\r\n      contactName: record.contact_name,\r\n      email: record.email,\r\n      defaultCommissionBps: record.default_commission_bps ?? 0,\r\n      commissionCapAmount: record.commission_cap_amount ? Number(record.commission_cap_amount) : null,\r\n      paymentTerms: record.payment_terms,\r\n      status: record.status ?? 'active',\r\n      createdAt: record.created_at,\r\n      totalIntroductions: introductions.length,\r\n      successfulAllocations,\r\n      totalCommissionPaid,\r\n      pendingCommission,\r\n      lastIntroductionAt: latestIntroduction,\r\n    }\r\n  })\r\n\r\n  const { data: recentData, error: recentError } = await serviceSupabase\r\n    .from('introductions')\r\n    .select(\r\n      `\r\n        id,\r\n        introducer_id,\r\n        prospect_email,\r\n        deal_id,\r\n        status,\r\n        introduced_at,\r\n        commission_rate_override_bps,\r\n        notes,\r\n        introducer:introducers ( legal_name ),\r\n        deal:deals ( name )\r\n      `\r\n    )\r\n    .order('introduced_at', { ascending: false })\r\n    .limit(10)\r\n\r\n  if (recentError) {\r\n    console.error('[Introducers] Failed to fetch recent introductions', recentError)\r\n  }\r\n\r\n  const recentIntroductions: IntroducersDashboardProps['recentIntroductions'] = (recentData ?? [])\r\n    .filter(Boolean)\r\n    .map((entry) => {\r\n      const record = entry as unknown as RecentIntroductionRecord\r\n      const commission = record.id ? commissionLookup.get(record.id) : undefined\r\n\r\n      return {\r\n        id: record.id,\r\n        introducerId: record.introducer_id ?? undefined,\r\n        introducerName: record.introducer?.legal_name ?? 'Unknown Introducer',\r\n        prospectEmail: record.prospect_email ?? 'VERSO BI',\r\n        dealId: record.deal_id ?? undefined,\r\n        dealName: record.deal?.name ?? 'Untitled deal',\r\n        status: record.status ?? 'invited',\r\n        introducedAt: record.introduced_at,\r\n        commissionAmount: commission?.amount ?? null,\r\n        commissionStatus: commission?.status ?? null,\r\n        commissionRateOverrideBps: record.commission_rate_override_bps ?? null,\r\n        notes: record.notes ?? null,\r\n      }\r\n    })\r\n\r\n  const summary = introducers.reduce<IntroducersDashboardProps['summary']>(\r\n    (acc, introducer) => {\r\n      acc.totalIntroducers += 1\r\n      if (introducer.status === 'active') {\r\n        acc.activeIntroducers += 1\r\n      }\r\n      acc.totalIntroductions += introducer.totalIntroductions\r\n      acc.totalAllocations += introducer.successfulAllocations\r\n      acc.totalCommissionPaid += introducer.totalCommissionPaid\r\n      acc.pendingCommission += introducer.pendingCommission\r\n      return acc\r\n    },\r\n    {\r\n      totalIntroducers: 0,\r\n      activeIntroducers: 0,\r\n      totalIntroductions: 0,\r\n      totalAllocations: 0,\r\n      totalCommissionPaid: 0,\r\n      pendingCommission: 0,\r\n    }\r\n  )\r\n\r\n  // Fetch deals for introduction dialog\r\n  const { data: dealsData } = await serviceSupabase\r\n    .from('deals')\r\n    .select('id, name')\r\n    .in('status', ['draft', 'open', 'allocation_pending'])\r\n    .order('name', { ascending: true })\r\n\r\n  const deals = (dealsData ?? []).map((d) => ({ id: d.id, name: d.name || 'Untitled Deal' }))\r\n\r\n  return (\r\n    <AddIntroducerProvider>\r\n        <IntroducersDashboard\r\n          summary={summary}\r\n          introducers={introducers}\r\n          recentIntroductions={recentIntroductions}\r\n          deals={deals}\r\n          isDemo={false}\r\n        />\r\n        <AddIntroducerDialog />\r\n      </AddIntroducerProvider>\r\n    )\r\n}\r\n\r\n"],"names":[],"mappings":"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","ignoreList":[1,2,3]}