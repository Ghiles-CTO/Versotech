module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},9349,a=>{a.n(a.i(142710))},199585,a=>{a.n(a.i(701395))},929852,a=>{a.n(a.i(816404))},516153,a=>{a.n(a.i(422096))},911164,a=>{a.n(a.i(273021))},16933,a=>{a.n(a.i(618450))},498419,a=>{a.n(a.i(72598))},329534,a=>{"use strict";a.s(["CommercialPartnerDetailClient",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call CommercialPartnerDetailClient() from the server but CommercialPartnerDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/staff/commercial-partners/commercial-partner-detail-client.tsx <module evaluation>","CommercialPartnerDetailClient")},874140,a=>{"use strict";a.s(["CommercialPartnerDetailClient",()=>b]);let b=(0,a.i(578644).registerClientReference)(function(){throw Error("Attempted to call CommercialPartnerDetailClient() from the server but CommercialPartnerDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/versotech-portal/src/components/staff/commercial-partners/commercial-partner-detail-client.tsx","CommercialPartnerDetailClient")},512144,a=>{"use strict";a.i(329534);var b=a.i(874140);a.n(b)},815960,a=>{"use strict";var b=a.i(714898);a.i(937413);var c=a.i(131360),d=a.i(198307),e=a.i(512144);async function f({params:a}){let{id:f}=await a,g=(0,d.createServiceClient)(),{data:h,error:i}=await g.from("commercial_partners").select("*").eq("id",f).single();(i||!h)&&(console.error("Failed to fetch commercial partner:",i),(0,c.notFound)());let{data:j}=await g.from("commercial_partner_users").select(`
      user_id,
      role,
      is_primary,
      can_sign,
      can_execute_for_clients,
      created_at
    `).eq("commercial_partner_id",f),k=[];if(j&&j.length>0){let a=j.map(a=>a.user_id),{data:b}=await g.from("profiles").select("id, email, display_name, title").in("id",a);b&&(k=j.map(a=>{let c=b.find(b=>b.id===a.user_id);return{userId:a.user_id,email:c?.email||"",displayName:c?.display_name||null,title:c?.title||null,role:a.role,isPrimary:a.is_primary,canSign:a.can_sign||!1,canExecuteForClients:a.can_execute_for_clients||!1,createdAt:a.created_at}}))}let{count:l}=await g.from("documents").select("*",{count:"exact",head:!0}).eq("entity_type","commercial_partner").eq("entity_id",f),m={id:h.id,name:h.name,legal_name:h.legal_name,type:h.type,cp_type:h.cp_type,status:h.status,regulatory_status:h.regulatory_status,regulatory_number:h.regulatory_number,jurisdiction:h.jurisdiction,contact_name:h.contact_name,contact_email:h.contact_email,contact_phone:h.contact_phone,website:h.website,address_line_1:h.address_line_1,address_line_2:h.address_line_2,city:h.city,postal_code:h.postal_code,country:h.country,payment_terms:h.payment_terms,contract_start_date:h.contract_start_date,contract_end_date:h.contract_end_date,notes:h.notes,kyc_status:h.kyc_status,kyc_notes:h.kyc_notes,kyc_approved_at:h.kyc_approved_at,kyc_expires_at:h.kyc_expires_at,logo_url:h.logo_url,created_at:h.created_at,updated_at:h.updated_at};return(0,b.jsx)(e.CommercialPartnerDetailClient,{partner:m,linkedUsers:k,documentCount:l||0})}a.s(["default",()=>f,"dynamic",0,"force-dynamic"])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ce609692._.js.map