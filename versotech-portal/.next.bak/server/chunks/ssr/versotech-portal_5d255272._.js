module.exports=[155508,a=>{"use strict";let b=(0,a.i(95799).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],155508)},201986,a=>{"use strict";a.s(["formatBps",0,a=>null==a?"—":`${a} bps`,"formatCurrency",0,(a,b="USD")=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a):"$0","formatDate",0,a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b?.getTime?.())?"—":b.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},166457,a=>{"use strict";let b=(0,a.i(95799).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],166457)},873785,a=>{"use strict";let b=(0,a.i(95799).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],873785)},703606,a=>{"use strict";let b=(0,a.i(95799).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],703606)},698004,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(169091),e=a.i(601527),f=a.i(165936),g=a.i(470305),h=a.i(421908),i=a.i(663475),j=a.i(249464),k=a.i(951870),l=a.i(772998),m=a.i(3321),n=a.i(439467),o=a.i(325866),p=a.i(871057),q=a.i(899750);let r=f.z.object({email:f.z.string().email("Please enter a valid email address"),display_name:f.z.string().min(2,"Display name must be at least 2 characters"),title:f.z.string().optional(),role:f.z.string(),is_primary:f.z.boolean(),is_signatory:f.z.boolean(),can_sign:f.z.boolean()}),s={investor:"Investor",arranger:"Arranger",lawyer:"Law Firm",introducer:"Introducer",partner:"Partner",commercial_partner:"Commercial Partner"},t={investor:[{value:"admin",label:"Admin"},{value:"member",label:"Member"},{value:"viewer",label:"Viewer"}],arranger:[{value:"admin",label:"Admin"},{value:"member",label:"Member"},{value:"viewer",label:"Viewer"}],lawyer:[{value:"admin",label:"Admin"},{value:"member",label:"Member"},{value:"viewer",label:"Viewer"}],partner:[{value:"admin",label:"Admin"},{value:"member",label:"Member"},{value:"viewer",label:"Viewer"}],introducer:[{value:"admin",label:"Admin"},{value:"contact",label:"Contact"},{value:"payment_contact",label:"Payment Contact"},{value:"legal_contact",label:"Legal Contact"}],commercial_partner:[{value:"admin",label:"Admin"},{value:"contact",label:"Contact"},{value:"billing_contact",label:"Billing Contact"},{value:"technical_contact",label:"Technical Contact"}]},u={investor:"member",arranger:"member",lawyer:"member",partner:"member",introducer:"contact",commercial_partner:"contact"};function v({entityType:a,entityId:f,entityName:v,open:w,onOpenChange:x,onSuccess:y}){let[z,A]=(0,c.useState)(!1),B=t[a],C=u[a],{register:D,handleSubmit:E,reset:F,watch:G,setValue:H,formState:{errors:I}}=(0,d.useForm)({resolver:(0,e.zodResolver)(r),defaultValues:{email:"",display_name:"",title:"",role:C,is_primary:!1,is_signatory:!1,can_sign:!1}}),J=G("is_primary");G("is_signatory");let K=G("can_sign"),L=G("role"),M=async b=>{A(!0);try{let c=await fetch("/api/admin/entity-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entity_type:a,entity_id:f,...b})}),d=await c.json();if(!c.ok)throw Error(d.error||"Failed to invite user");q.toast.success(d.message||`User invited to ${v}`),F(),x(!1),y?.()}catch(a){console.error("Invite error:",a),q.toast.error(a instanceof Error?a.message:"Failed to invite user")}finally{A(!1)}},N=()=>{F(),x(!1)};return(0,b.jsx)(g.Dialog,{open:w,onOpenChange:N,children:(0,b.jsxs)(g.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(g.DialogHeader,{children:[(0,b.jsxs)(g.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Mail,{className:"h-5 w-5"}),"Invite User to ",s[a]]}),(0,b.jsxs)(g.DialogDescription,{children:["Send an invitation email to join ",(0,b.jsx)("span",{className:"font-medium",children:v}),". They will receive instructions to set up their account."]})]}),(0,b.jsxs)("form",{onSubmit:E(M),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"email",children:"Email Address *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.Mail,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(i.Input,{id:"email",type:"email",placeholder:"user@example.com",className:"pl-10",...D("email")})]}),I.email&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:I.email.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"display_name",children:"Display Name *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(o.User,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(i.Input,{id:"display_name",placeholder:"John Smith",className:"pl-10",...D("display_name")})]}),I.display_name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:I.display_name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"title",children:"Title (Optional)"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.Briefcase,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(i.Input,{id:"title",placeholder:"Managing Director",className:"pl-10",...D("title")})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"role",children:"Role"}),(0,b.jsxs)(k.Select,{value:L,onValueChange:a=>H("role",a),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Select role"})}),(0,b.jsx)(k.SelectContent,{children:B.map(a=>(0,b.jsx)(k.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(j.Label,{htmlFor:"is_primary",className:"text-sm font-medium",children:"Primary Contact"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Set as the main point of contact for this entity"})]}),(0,b.jsx)(l.Switch,{id:"is_primary",checked:J,onCheckedChange:a=>H("is_primary",a)})]}),"lawyer"===a&&(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(j.Label,{htmlFor:"can_sign",className:"text-sm font-medium",children:"Can Sign Documents"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Has authority to sign on behalf of the law firm"})]}),(0,b.jsx)(l.Switch,{id:"can_sign",checked:K,onCheckedChange:a=>H("can_sign",a)})]}),(0,b.jsxs)(g.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),(0,b.jsx)(h.Button,{type:"submit",disabled:z,children:z?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Invite..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.Mail,{className:"mr-2 h-4 w-4"}),"Send Invitation"]})})]})]})]})})}a.s(["InviteUserDialog",()=>v])},689680,a=>{"use strict";let b=(0,a.i(95799).default)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);a.s(["ScrollText",()=>b],689680)},392009,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(736864),e=a.i(42065),f=a.i(737007),g=a.i(610577),h=a.i(725524),i=c,j=a.i(5103);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(164047);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=q(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=q(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(r(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=q(a),d=(!l||!!s)&&(u===B||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],392009)},652412,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(470305),e=a.i(421908),f=a.i(663475),g=a.i(249464),h=a.i(191675),i=a.i(951870),j=a.i(899750),k=a.i(289633);function l({open:a,onOpenChange:l,introducer:m}){let[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("net_30"),[z,A]=(0,c.useState)("active"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useTransition)(),F=(0,k.useRouter)();return((0,c.useEffect)(()=>{m&&(o(m.legalName),q(m.contactName||""),s(m.email||""),u(m.defaultCommissionBps||""),w(m.commissionCapAmount||""),y(m.paymentTerms||"net_30"),A(m.status),C(m.notes||""))},[m]),m)?(0,b.jsx)(d.Dialog,{open:a,onOpenChange:l,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"Edit Introducer"}),(0,b.jsx)(d.DialogDescription,{children:"Update introducer contact information and commercial terms."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(f.Input,{id:"legalName",value:n,onChange:a=>o(a.target.value),placeholder:"e.g. Meridian Capital Partners",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(f.Input,{id:"contactName",value:p,onChange:a=>q(a.target.value),placeholder:"e.g. Jane Smith"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactEmail",children:"Contact Email"}),(0,b.jsx)(f.Input,{id:"contactEmail",type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"jane.smith@example.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionBps",children:"Default Commission (bps)"}),(0,b.jsx)(f.Input,{id:"commissionBps",type:"number",min:0,max:300,value:t,onChange:a=>u(""===a.target.value?"":Number(a.target.value)),placeholder:"150"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionCap",children:"Commission Cap (optional)"}),(0,b.jsx)(f.Input,{id:"commissionCap",type:"number",min:0,value:v,onChange:a=>w(""===a.target.value?"":Number(a.target.value)),placeholder:"50000"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Payment Terms"}),(0,b.jsxs)(i.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select terms"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"net_15",children:"Net 15"}),(0,b.jsx)(i.SelectItem,{value:"net_30",children:"Net 30"}),(0,b.jsx)(i.SelectItem,{value:"net_45",children:"Net 45"}),(0,b.jsx)(i.SelectItem,{value:"net_60",children:"Net 60"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Status"}),(0,b.jsxs)(i.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(h.Textarea,{id:"notes",value:B,onChange:a=>C(a.target.value),placeholder:"Commission arrangements, regional focus, etc.",rows:3})]})]}),(0,b.jsxs)(d.DialogFooter,{className:"flex justify-between",children:[(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{!m||confirm("Are you sure you want to delete this introducer? This action cannot be undone.")&&E(async()=>{try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"DELETE"});if(!a.ok){let b,c=await a.text();try{b=JSON.parse(c)}catch(a){j.toast.error(`Failed to delete introducer: ${c||"Unknown error"}`);return}j.toast.error(b?.error??"Failed to delete introducer");return}j.toast.success("Introducer deleted"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to delete introducer")}})},disabled:D,children:"Delete"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>l(!1),disabled:D,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{m&&E(async()=>{if(!n.trim())return void j.toast.error("Legal name is required");if(""!==t&&(0>Number(t)||Number(t)>300))return void j.toast.error("Default commission must be between 0 and 300 bps");try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:n.trim(),contact_name:p.trim()||null,email:r.trim()||null,default_commission_bps:""===t?null:Number(t),commission_cap_amount:""===v?null:Number(v),payment_terms:x,status:z,notes:B.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);j.toast.error(b?.error??"Failed to update introducer");return}j.toast.success("Introducer updated"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to update introducer")}})},disabled:D,children:D?"Updating…":"Update Introducer"})]})]})]})}):null}a.s(["EditIntroducerDialog",()=>l])},204251,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(470305),e=a.i(421908),f=a.i(663475),g=a.i(249464),h=a.i(191675),i=a.i(951870),j=a.i(855798),k=a.i(899750);function l(){let[a,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)("net_30"),[w,x]=(0,c.useState)("active"),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useTransition)(),{open:C,setOpen:D,refresh:E}=(0,j.useAddIntroducer)(),F=()=>{l(""),n(""),p(""),r(""),t(""),v("net_30"),x("active"),z("")};return(0,b.jsx)(d.Dialog,{open:C,onOpenChange:a=>{D(a),a||F()},children:(0,b.jsxs)(d.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"Add Introducer"}),(0,b.jsx)(d.DialogDescription,{children:"Capture introducer contact information and default commercial terms."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(f.Input,{id:"legalName",value:a,onChange:a=>l(a.target.value),placeholder:"e.g. Meridian Capital Partners",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(f.Input,{id:"contactName",value:m,onChange:a=>n(a.target.value),placeholder:"e.g. Jane Smith"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactEmail",children:"Contact Email"}),(0,b.jsx)(f.Input,{id:"contactEmail",type:"email",value:o,onChange:a=>p(a.target.value),placeholder:"jane.smith@example.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionBps",children:"Default Commission (bps)"}),(0,b.jsx)(f.Input,{id:"commissionBps",type:"number",min:0,max:300,value:q,onChange:a=>r(""===a.target.value?"":Number(a.target.value)),placeholder:"150"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionCap",children:"Commission Cap (optional)"}),(0,b.jsx)(f.Input,{id:"commissionCap",type:"number",min:0,value:s,onChange:a=>t(""===a.target.value?"":Number(a.target.value)),placeholder:"50000"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Payment Terms"}),(0,b.jsxs)(i.Select,{value:u,onValueChange:v,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select terms"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"net_15",children:"Net 15"}),(0,b.jsx)(i.SelectItem,{value:"net_30",children:"Net 30"}),(0,b.jsx)(i.SelectItem,{value:"net_45",children:"Net 45"}),(0,b.jsx)(i.SelectItem,{value:"net_60",children:"Net 60"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Status"}),(0,b.jsxs)(i.Select,{value:w,onValueChange:x,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(h.Textarea,{id:"notes",value:y,onChange:a=>z(a.target.value),placeholder:"Commission arrangements, regional focus, etc.",rows:3})]})]}),(0,b.jsxs)(d.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>D(!1),disabled:A,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{B(async()=>{if(!a.trim())return void k.toast.error("Legal name is required");if(""!==q&&(0>Number(q)||Number(q)>300))return void k.toast.error("Default commission must be between 0 and 300 bps");try{let b=await fetch("/api/staff/introducers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:a.trim(),contact_name:m.trim()||null,email:o.trim()||null,default_commission_bps:""===q?null:Number(q),commission_cap_amount:""===s?null:Number(s),payment_terms:u,status:w,notes:y.trim()||null})});if(!b.ok){let a=await b.json().catch(()=>null);console.error("[AddIntroducerDialog] Failed to create introducer",a),k.toast.error(a?.error??"Failed to create introducer");return}k.toast.success("Introducer created"),D(!1),F(),await E()}catch(a){console.error("[AddIntroducerDialog] Unexpected error",a),k.toast.error("Failed to create introducer")}})},disabled:A,children:A?"Creating…":"Create Introducer"})]})]})})}a.s(["AddIntroducerDialog",()=>l])}];

//# sourceMappingURL=versotech-portal_5d255272._.js.map