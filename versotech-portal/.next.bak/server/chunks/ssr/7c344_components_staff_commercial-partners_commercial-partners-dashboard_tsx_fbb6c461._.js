module.exports=[881903,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(497412),e=a.i(284169),f=a.i(15788),g=a.i(421908),h=a.i(663475),i=a.i(951870),j=a.i(278541),k=a.i(42329),l=a.i(405708),m=a.i(487068),n=a.i(439467),o=a.i(496392),p=a.i(618287),q=a.i(203422),r=a.i(675167),s=a.i(289633),t=a.i(470305),u=a.i(249464),v=a.i(191675),w=a.i(899750);let x=[{label:"Entity",value:"entity"},{label:"Individual",value:"individual"}],y=[{label:"Bank",value:"bank"},{label:"Insurance",value:"insurance"},{label:"Wealth Manager",value:"wealth-manager"},{label:"Broker",value:"broker"},{label:"Custodian",value:"custodian"},{label:"Other",value:"other"}];function z({open:a,onOpenChange:d}){let e=(0,s.useRouter)(),[f,j]=(0,c.useTransition)(),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)("entity"),[q,r]=(0,c.useState)("bank"),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),T=()=>{l(""),n(""),p("entity"),r("bank"),A(""),C(""),E(""),G(""),I(""),K(""),M(""),O(""),Q(""),S("")};return(0,b.jsx)(t.Dialog,{open:a,onOpenChange:a=>{d(a),a||T()},children:(0,b.jsxs)(t.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{children:"Add Commercial Partner"}),(0,b.jsx)(t.DialogDescription,{children:"Register a new bank, insurance company, or other commercial partner"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"name",children:"Partner Name *"}),(0,b.jsx)(h.Input,{id:"name",value:k,onChange:a=>l(a.target.value),placeholder:"e.g. First National Bank",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(h.Input,{id:"legalName",value:m,onChange:a=>n(a.target.value),placeholder:"Full legal entity name"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{children:"Entity Type"}),(0,b.jsxs)(i.Select,{value:o,onValueChange:p,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:x.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{children:"Partner Type"}),(0,b.jsxs)(i.Select,{value:q,onValueChange:r,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsx)(i.SelectContent,{children:y.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Regulatory Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"regulatoryStatus",children:"Regulatory Status"}),(0,b.jsx)(h.Input,{id:"regulatoryStatus",value:z,onChange:a=>A(a.target.value),placeholder:"e.g. Regulated"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"regulatoryNumber",children:"Regulatory Number"}),(0,b.jsx)(h.Input,{id:"regulatoryNumber",value:B,onChange:a=>C(a.target.value),placeholder:"e.g. FCA123456"})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"jurisdiction",children:"Jurisdiction"}),(0,b.jsx)(h.Input,{id:"jurisdiction",value:D,onChange:a=>E(a.target.value),placeholder:"e.g. United Kingdom"})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium mb-3",children:"Primary Contact"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"contactName",children:"Contact Name"}),(0,b.jsx)(h.Input,{id:"contactName",value:F,onChange:a=>G(a.target.value),placeholder:"e.g. John Smith"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"contactEmail",children:"Email"}),(0,b.jsx)(h.Input,{id:"contactEmail",type:"email",value:H,onChange:a=>I(a.target.value),placeholder:"john@example.com"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"contactPhone",children:"Phone"}),(0,b.jsx)(h.Input,{id:"contactPhone",type:"tel",value:J,onChange:a=>K(a.target.value),placeholder:"+1 (555) 123-4567"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"country",children:"Country"}),(0,b.jsx)(h.Input,{id:"country",value:L,onChange:a=>M(a.target.value),placeholder:"e.g. United States"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(h.Input,{id:"city",value:N,onChange:a=>O(a.target.value),placeholder:"e.g. New York"})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,b.jsx)(h.Input,{id:"paymentTerms",value:P,onChange:a=>Q(a.target.value),placeholder:"e.g. Net 30"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(u.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(v.Textarea,{id:"notes",value:R,onChange:a=>S(a.target.value),rows:3,placeholder:"Additional notes about the partner..."})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>d(!1),disabled:f,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:()=>{j(async()=>{if(!k.trim())return void w.toast.error("Partner name is required");try{let a=await fetch("/api/admin/commercial-partners",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:k.trim(),legal_name:m.trim()||null,type:o,cp_type:q,status:"active",regulatory_status:z.trim()||null,regulatory_number:B.trim()||null,jurisdiction:D.trim()||null,contact_name:F.trim()||null,contact_email:H.trim()||null,contact_phone:J.trim()||null,country:L.trim()||null,city:N.trim()||null,payment_terms:P.trim()||null,notes:R.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);console.error("[AddCommercialPartnerDialog] Failed to create commercial partner:",b),w.toast.error(b?.error??"Failed to create commercial partner");return}w.toast.success("Commercial partner created successfully"),d(!1),T(),e.refresh()}catch(a){console.error("[AddCommercialPartnerDialog] Error:",a),w.toast.error("Failed to create commercial partner")}})},disabled:f,children:f?"Creating...":"Create Partner"})]})]})})}let A=[{label:"All status",value:"all"},{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Inactive",value:"inactive"}],B=[{label:"All types",value:"all"},{label:"Bank",value:"bank"},{label:"Insurance",value:"insurance"},{label:"Wealth Manager",value:"wealth-manager"},{label:"Broker",value:"broker"},{label:"Custodian",value:"custodian"},{label:"Other",value:"other"}],C=[{label:"All KYC",value:"all"},{label:"Approved",value:"approved"},{label:"Pending",value:"pending"},{label:"Not Started",value:"not_started"}];function D({summary:a,partners:s}){let[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)("all"),[x,y]=(0,c.useState)("all"),[D,E]=(0,c.useState)("all"),[F,G]=(0,c.useState)(!1),H=(0,c.useMemo)(()=>s.filter(a=>{let b="all"===v||a.status===v,c="all"===x||a.cpType===x,d="all"===D||a.kycStatus===D,e=!t||a.name.toLowerCase().includes(t.toLowerCase())||(a.legalName?.toLowerCase().includes(t.toLowerCase())??!1)||(a.contactName?.toLowerCase().includes(t.toLowerCase())??!1)||(a.contactEmail?.toLowerCase().includes(t.toLowerCase())??!1);return b&&c&&d&&e}),[s,v,x,D,t]),I={active:"bg-green-500/20 text-green-400 border-green-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",inactive:"bg-gray-500/20 text-gray-400 border-gray-500/30"},J={approved:"bg-green-500/20 text-green-400 border-green-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",not_started:"bg-gray-500/20 text-gray-400 border-gray-500/30",expired:"bg-red-500/20 text-red-400 border-red-500/30"},K={bank:"Bank",insurance:"Insurance","wealth-manager":"Wealth Manager",broker:"Broker",custodian:"Custodian",other:"Other"};return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Commercial Partners"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage banks, insurance companies, wealth managers, and other commercial partners"})]}),(0,b.jsxs)(g.Button,{onClick:()=>G(!0),children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add Commercial Partner"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(q.Landmark,{className:"h-4 w-4"}),"Active Partners"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-foreground",children:a.activePartners}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[a.totalPartners," total"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(o.Shield,{className:"h-4 w-4"}),"KYC Approved"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:a.kycApproved}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Verified partners"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(k.Clock,{className:"h-4 w-4"}),"KYC Pending"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-400",children:a.kycPending}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Awaiting review"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(j.Building2,{className:"h-4 w-4"}),"Total Partners"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-foreground",children:a.totalPartners}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:"Registered"})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"pb-4",children:[(0,b.jsx)(e.CardTitle,{className:"text-base",children:"Commercial Partners"}),(0,b.jsx)(e.CardDescription,{children:"Browse and manage commercial partners"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,b.jsx)("div",{className:"flex-1 min-w-[200px]",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(h.Input,{placeholder:"Search by name, contact, or email...",value:t,onChange:a=>u(a.target.value),className:"pl-10"})]})}),(0,b.jsxs)(i.Select,{value:v,onValueChange:w,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-[140px]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Status"})}),(0,b.jsx)(i.SelectContent,{children:A.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)(i.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Partner Type"})}),(0,b.jsx)(i.SelectContent,{children:B.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)(i.Select,{value:D,onValueChange:E,children:[(0,b.jsx)(i.SelectTrigger,{className:"w-[140px]",children:(0,b.jsx)(i.SelectValue,{placeholder:"KYC Status"})}),(0,b.jsx)(i.SelectContent,{children:C.map(a=>(0,b.jsx)(i.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),0===H.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(q.Landmark,{className:"h-12 w-12 text-muted-foreground mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No commercial partners found"}),(0,b.jsxs)(g.Button,{variant:"outline",className:"mt-4",onClick:()=>G(!0),children:[(0,b.jsx)(l.Plus,{className:"h-4 w-4 mr-2"}),"Add First Commercial Partner"]})]}):(0,b.jsx)("div",{className:"space-y-3",children:H.map(a=>(0,b.jsx)(d.default,{href:`/versotech_main/commercial-partners/${a.id}`,className:"block",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-white/10 hover:bg-white/5 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:(0,b.jsx)(q.Landmark,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-foreground",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[K[a.cpType]||a.cpType,a.jurisdiction&&` â€¢ ${a.jurisdiction}`]}),a.contactEmail&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(n.Mail,{className:"h-3 w-3"}),a.contactEmail]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[a.regulatoryStatus&&(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,b.jsx)(r.FileCheck,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a.regulatoryStatus})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)(f.Badge,{className:I[a.status]||"bg-gray-500/20 text-gray-400",children:a.status}),a.kycStatus&&(0,b.jsxs)(f.Badge,{className:`ml-2 ${J[a.kycStatus]||"bg-gray-500/20 text-gray-400"}`,children:["KYC: ",a.kycStatus.replace("_"," ")]})]}),(0,b.jsx)(p.ExternalLink,{className:"h-4 w-4 text-muted-foreground"})]})]})},a.id))})]})]}),(0,b.jsx)(z,{open:F,onOpenChange:G})]})}a.s(["CommercialPartnersDashboard",()=>D],881903)}];

//# sourceMappingURL=7c344_components_staff_commercial-partners_commercial-partners-dashboard_tsx_fbb6c461._.js.map