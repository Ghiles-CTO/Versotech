{"version":3,"sources":["../../../../../versotech-portal/src/components/members/members-management-tab.tsx","../../../../../versotech-portal/src/components/profile/signature-specimen-tab.tsx","../../../../../versotech-portal/node_modules/lucide-react/src/icons/image.ts","../../../../../versotech-portal/src/components/profile/preferences-editor.tsx","../../../../../versotech-portal/src/components/profile/generic-entity-members-tab.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport {\r\n  Users,\r\n  UserPlus,\r\n  Mail,\r\n  Clock,\r\n  CheckCircle2,\r\n  XCircle,\r\n  Trash2,\r\n  Copy,\r\n  PenTool,\r\n  Shield,\r\n  MoreHorizontal,\r\n  Loader2,\r\n  Send,\r\n  AlertCircle,\r\n  Edit,\r\n} from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { toast } from 'sonner'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\n\r\nexport type EntityType = 'partner' | 'investor' | 'introducer' | 'commercial_partner' | 'lawyer' | 'arranger'\r\n\r\ninterface Member {\r\n  id: string\r\n  user_id: string\r\n  role: string\r\n  is_primary: boolean\r\n  can_sign?: boolean\r\n  signature_specimen_url?: string\r\n  created_at: string\r\n  profile?: {\r\n    display_name: string | null\r\n    email: string | null\r\n    avatar_url: string | null\r\n  }\r\n}\r\n\r\ninterface Invitation {\r\n  id: string\r\n  email: string\r\n  role: string\r\n  is_signatory: boolean\r\n  status: string\r\n  invited_by_name: string\r\n  expires_at: string\r\n  created_at: string\r\n  accepted_at?: string\r\n  invitation_token?: string\r\n}\r\n\r\ninterface MembersManagementTabProps {\r\n  entityType: EntityType\r\n  entityId: string\r\n  entityName: string\r\n  initialMembers?: Member[]\r\n  currentUserRole?: string\r\n  isCurrentUserPrimary?: boolean\r\n  canManageMembers?: boolean\r\n  showSignatoryOption?: boolean\r\n  onMembersChange?: () => void\r\n}\r\n\r\nconst ROLE_OPTIONS = [\r\n  { value: 'admin', label: 'Administrator' },\r\n  { value: 'member', label: 'Member' },\r\n  { value: 'viewer', label: 'Viewer' },\r\n]\r\n\r\nconst ENTITY_TYPE_LABELS: Record<EntityType, string> = {\r\n  partner: 'Partner',\r\n  investor: 'Investor Entity',\r\n  introducer: 'Introducer',\r\n  commercial_partner: 'Commercial Partner',\r\n  lawyer: 'Law Firm',\r\n  arranger: 'Arranger'\r\n}\r\n\r\nexport function MembersManagementTab({\r\n  entityType,\r\n  entityId,\r\n  entityName,\r\n  initialMembers = [],\r\n  currentUserRole = 'member',\r\n  isCurrentUserPrimary = false,\r\n  canManageMembers = false,\r\n  showSignatoryOption = true,\r\n  onMembersChange\r\n}: MembersManagementTabProps) {\r\n  const [members, setMembers] = useState<Member[]>(initialMembers)\r\n  const [invitations, setInvitations] = useState<Invitation[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [inviteDialogOpen, setInviteDialogOpen] = useState(false)\r\n  const [sending, setSending] = useState(false)\r\n  const [cancelling, setCancelling] = useState<string | null>(null)\r\n  const [userPermissions, setUserPermissions] = useState({\r\n    role: currentUserRole,\r\n    is_primary: isCurrentUserPrimary,\r\n    can_manage: canManageMembers\r\n  })\r\n\r\n  // Invite form state\r\n  const [inviteEmail, setInviteEmail] = useState('')\r\n  const [inviteRole, setInviteRole] = useState('member')\r\n  const [isSignatory, setIsSignatory] = useState(false)\r\n\r\n  // Edit member state\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\r\n  const [editingMember, setEditingMember] = useState<Member | null>(null)\r\n  const [editRole, setEditRole] = useState('member')\r\n  const [editCanSign, setEditCanSign] = useState(false)\r\n  const [editIsPrimary, setEditIsPrimary] = useState(false)\r\n  const [saving, setSaving] = useState(false)\r\n\r\n  useEffect(() => {\r\n    fetchMembers()\r\n    fetchInvitations()\r\n  }, [entityType, entityId])\r\n\r\n  const fetchMembers = async () => {\r\n    try {\r\n      const response = await fetch(`/api/members?entity_type=${entityType}&entity_id=${entityId}`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setMembers(data.members || [])\r\n        if (data.current_user) {\r\n          setUserPermissions(data.current_user)\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching members:', error)\r\n    }\r\n  }\r\n\r\n  const fetchInvitations = async () => {\r\n    try {\r\n      const response = await fetch(`/api/members/invite?entity_type=${entityType}&entity_id=${entityId}`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setInvitations(data.invitations || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching invitations:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  // Open edit dialog with member data\r\n  const handleEditMember = (member: Member) => {\r\n    setEditingMember(member)\r\n    setEditRole(member.role)\r\n    setEditCanSign(member.can_sign || false)\r\n    setEditIsPrimary(member.is_primary)\r\n    setEditDialogOpen(true)\r\n  }\r\n\r\n  // Save member edits\r\n  const handleSaveEdit = async () => {\r\n    if (!editingMember) return\r\n\r\n    setSaving(true)\r\n    try {\r\n      const response = await fetch(`/api/members/${editingMember.user_id}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          entity_type: entityType,\r\n          entity_id: entityId,\r\n          role: editRole,\r\n          can_sign: editCanSign,\r\n          is_primary: editIsPrimary,\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        toast.error(data.error || 'Failed to update member')\r\n        return\r\n      }\r\n\r\n      toast.success('Member updated successfully')\r\n      setEditDialogOpen(false)\r\n      setEditingMember(null)\r\n      fetchMembers() // Refresh the list\r\n    } catch (error) {\r\n      console.error('Error updating member:', error)\r\n      toast.error('Failed to update member')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  // Remove member\r\n  const handleRemoveMember = async (memberId: string) => {\r\n    if (!confirm('Are you sure you want to remove this member?')) return\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `/api/members/${memberId}?entity_type=${entityType}&entity_id=${entityId}`,\r\n        { method: 'DELETE' }\r\n      )\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        toast.error(data.error || 'Failed to remove member')\r\n        return\r\n      }\r\n\r\n      toast.success('Member removed successfully')\r\n      fetchMembers() // Refresh the list\r\n    } catch (error) {\r\n      console.error('Error removing member:', error)\r\n      toast.error('Failed to remove member')\r\n    }\r\n  }\r\n\r\n  const handleInvite = async () => {\r\n    if (!inviteEmail) {\r\n      toast.error('Please enter an email address')\r\n      return\r\n    }\r\n\r\n    setSending(true)\r\n\r\n    try {\r\n      const response = await fetch('/api/members/invite', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          entity_type: entityType,\r\n          entity_id: entityId,\r\n          email: inviteEmail,\r\n          role: inviteRole,\r\n          is_signatory: isSignatory\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        toast.error(data.error || 'Failed to send invitation')\r\n        return\r\n      }\r\n\r\n      // Show appropriate message based on whether CEO approval is required\r\n      if (data.requires_approval) {\r\n        toast.success(`Invitation request created for ${inviteEmail}. Awaiting CEO approval.`, {\r\n          description: 'The invitation email will be sent after approval.',\r\n          duration: 5000\r\n        })\r\n      } else {\r\n        toast.success(`Invitation sent to ${inviteEmail}`)\r\n      }\r\n      setInviteDialogOpen(false)\r\n      setInviteEmail('')\r\n      setInviteRole('member')\r\n      setIsSignatory(false)\r\n      fetchInvitations()\r\n\r\n      // Copy invite link to clipboard\r\n      if (data.invitation?.accept_url) {\r\n        await navigator.clipboard.writeText(data.invitation.accept_url)\r\n        toast.info('Invitation link copied to clipboard')\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to send invitation')\r\n    } finally {\r\n      setSending(false)\r\n    }\r\n  }\r\n\r\n  const handleCancelInvitation = async (invitationId: string) => {\r\n    setCancelling(invitationId)\r\n\r\n    try {\r\n      const response = await fetch(`/api/members/invite?id=${invitationId}`, {\r\n        method: 'DELETE'\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json()\r\n        toast.error(data.error || 'Failed to cancel invitation')\r\n        return\r\n      }\r\n\r\n      toast.success('Invitation cancelled')\r\n      fetchInvitations()\r\n    } catch (error) {\r\n      toast.error('Failed to cancel invitation')\r\n    } finally {\r\n      setCancelling(null)\r\n    }\r\n  }\r\n\r\n  const copyInviteLink = async (token: string) => {\r\n    const url = `${window.location.origin}/invitation/accept?token=${token}`\r\n    await navigator.clipboard.writeText(url)\r\n    toast.success('Invitation link copied!')\r\n  }\r\n\r\n  const formatDate = (dateString: string) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric'\r\n    })\r\n  }\r\n\r\n  const getStatusBadge = (status: string) => {\r\n    switch (status) {\r\n      case 'pending':\r\n        return <Badge variant=\"outline\" className=\"bg-yellow-500/10 text-yellow-600 border-yellow-500/30\"><Clock className=\"w-3 h-3 mr-1\" />Pending</Badge>\r\n      case 'pending_approval':\r\n        return <Badge variant=\"outline\" className=\"bg-orange-500/10 text-orange-600 border-orange-500/30\"><Clock className=\"w-3 h-3 mr-1\" />Awaiting CEO Approval</Badge>\r\n      case 'accepted':\r\n        return <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-600 border-green-500/30\"><CheckCircle2 className=\"w-3 h-3 mr-1\" />Accepted</Badge>\r\n      case 'expired':\r\n        return <Badge variant=\"outline\" className=\"bg-gray-500/10 text-gray-600 border-gray-500/30\"><Clock className=\"w-3 h-3 mr-1\" />Expired</Badge>\r\n      case 'cancelled':\r\n        return <Badge variant=\"outline\" className=\"bg-red-500/10 text-red-600 border-red-500/30\"><XCircle className=\"w-3 h-3 mr-1\" />Cancelled</Badge>\r\n      default:\r\n        return <Badge variant=\"outline\">{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const pendingInvitations = invitations.filter(i => ['pending', 'pending_approval'].includes(i.status))\r\n  const pastInvitations = invitations.filter(i => !['pending', 'pending_approval'].includes(i.status))\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n            <Users className=\"h-5 w-5\" />\r\n            Team Members\r\n          </h3>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            Manage who has access to {entityName}\r\n          </p>\r\n        </div>\r\n        {userPermissions.can_manage && (\r\n          <Button onClick={() => setInviteDialogOpen(true)}>\r\n            <UserPlus className=\"h-4 w-4 mr-2\" />\r\n            Invite Member\r\n          </Button>\r\n        )}\r\n      </div>\r\n\r\n      <Tabs defaultValue=\"members\" className=\"w-full\" id=\"members-management-tabs\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"members\" className=\"flex items-center gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            Members ({members.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"invitations\" className=\"flex items-center gap-2\">\r\n            <Mail className=\"h-4 w-4\" />\r\n            Invitations ({pendingInvitations.length})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Active Members Tab */}\r\n        <TabsContent value=\"members\" className=\"mt-4\">\r\n          <Card>\r\n            <CardContent className=\"p-0\">\r\n              {members.length === 0 ? (\r\n                <div className=\"py-12 text-center\">\r\n                  <Users className=\"h-10 w-10 mx-auto text-muted-foreground mb-3\" />\r\n                  <p className=\"text-muted-foreground\">No members yet</p>\r\n                  {userPermissions.can_manage && (\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      className=\"mt-4\"\r\n                      onClick={() => setInviteDialogOpen(true)}\r\n                    >\r\n                      <UserPlus className=\"h-4 w-4 mr-2\" />\r\n                      Invite First Member\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Member</TableHead>\r\n                      <TableHead>Role</TableHead>\r\n                      <TableHead>Status</TableHead>\r\n                      <TableHead>Joined</TableHead>\r\n                      {userPermissions.can_manage && <TableHead className=\"w-10\"></TableHead>}\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {members.map((member) => (\r\n                      <TableRow key={member.id}>\r\n                        <TableCell>\r\n                          <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center\">\r\n                              {member.profile?.avatar_url ? (\r\n                                <img\r\n                                  src={member.profile.avatar_url}\r\n                                  alt=\"\"\r\n                                  className=\"w-8 h-8 rounded-full object-cover\"\r\n                                />\r\n                              ) : (\r\n                                <span className=\"text-sm font-medium\">\r\n                                  {(member.profile?.display_name || member.profile?.email || '?')[0].toUpperCase()}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                            <div>\r\n                              <p className=\"font-medium\">\r\n                                {member.profile?.display_name || 'Unknown User'}\r\n                              </p>\r\n                              <p className=\"text-sm text-muted-foreground\">\r\n                                {member.profile?.email}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Badge variant=\"outline\" className=\"capitalize\">\r\n                              {member.role}\r\n                            </Badge>\r\n                            {member.is_primary && (\r\n                              <Badge variant=\"secondary\">\r\n                                <Shield className=\"w-3 h-3 mr-1\" />\r\n                                Primary\r\n                              </Badge>\r\n                            )}\r\n                            {member.can_sign && (\r\n                              <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-600 border-blue-500/30\">\r\n                                <PenTool className=\"w-3 h-3 mr-1\" />\r\n                                Signatory\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {member.can_sign && !member.signature_specimen_url ? (\r\n                            <Badge variant=\"outline\" className=\"bg-yellow-500/10 text-yellow-600 border-yellow-500/30\">\r\n                              <AlertCircle className=\"w-3 h-3 mr-1\" />\r\n                              Needs Signature\r\n                            </Badge>\r\n                          ) : (\r\n                            <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-600 border-green-500/30\">\r\n                              <CheckCircle2 className=\"w-3 h-3 mr-1\" />\r\n                              Active\r\n                            </Badge>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-muted-foreground\">\r\n                          {formatDate(member.created_at)}\r\n                        </TableCell>\r\n                        {userPermissions.can_manage && (\r\n                          <TableCell>\r\n                            <DropdownMenu>\r\n                              <DropdownMenuTrigger asChild>\r\n                                <Button variant=\"ghost\" size=\"sm\">\r\n                                  <MoreHorizontal className=\"h-4 w-4\" />\r\n                                </Button>\r\n                              </DropdownMenuTrigger>\r\n                              <DropdownMenuContent align=\"end\">\r\n                                <DropdownMenuItem onClick={() => handleEditMember(member)}>\r\n                                  <Edit className=\"h-4 w-4 mr-2\" />\r\n                                  Edit Member\r\n                                </DropdownMenuItem>\r\n                                {!member.is_primary && (\r\n                                  <DropdownMenuItem\r\n                                    className=\"text-destructive\"\r\n                                    onClick={() => handleRemoveMember(member.user_id)}\r\n                                  >\r\n                                    <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                                    Remove Member\r\n                                  </DropdownMenuItem>\r\n                                )}\r\n                              </DropdownMenuContent>\r\n                            </DropdownMenu>\r\n                          </TableCell>\r\n                        )}\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Invitations Tab */}\r\n        <TabsContent value=\"invitations\" className=\"mt-4 space-y-4\">\r\n          {/* Pending Invitations */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-base\">Pending Invitations</CardTitle>\r\n              <CardDescription>\r\n                Invitations waiting to be accepted\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"p-0\">\r\n              {loading ? (\r\n                <div className=\"py-8 text-center\">\r\n                  <Loader2 className=\"h-6 w-6 animate-spin mx-auto text-muted-foreground\" />\r\n                </div>\r\n              ) : pendingInvitations.length === 0 ? (\r\n                <div className=\"py-8 text-center text-muted-foreground\">\r\n                  <Mail className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\r\n                  <p>No pending invitations</p>\r\n                </div>\r\n              ) : (\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Email</TableHead>\r\n                      <TableHead>Role</TableHead>\r\n                      <TableHead>Invited By</TableHead>\r\n                      <TableHead>Expires</TableHead>\r\n                      <TableHead className=\"w-10\"></TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {pendingInvitations.map((invitation) => (\r\n                      <TableRow key={invitation.id}>\r\n                        <TableCell>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                            <span>{invitation.email}</span>\r\n                            {invitation.is_signatory && (\r\n                              <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-600 border-blue-500/30\">\r\n                                <PenTool className=\"w-3 h-3 mr-1\" />\r\n                                Signatory\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Badge variant=\"outline\" className=\"capitalize\">\r\n                            {invitation.role}\r\n                          </Badge>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-muted-foreground\">\r\n                          {invitation.invited_by_name}\r\n                        </TableCell>\r\n                        <TableCell className=\"text-muted-foreground\">\r\n                          {formatDate(invitation.expires_at)}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <DropdownMenu>\r\n                            <DropdownMenuTrigger asChild>\r\n                              <Button variant=\"ghost\" size=\"sm\">\r\n                                <MoreHorizontal className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            </DropdownMenuTrigger>\r\n                            <DropdownMenuContent align=\"end\">\r\n                              {invitation.invitation_token && (\r\n                                <DropdownMenuItem onClick={() => copyInviteLink(invitation.invitation_token!)}>\r\n                                  <Copy className=\"h-4 w-4 mr-2\" />\r\n                                  Copy Link\r\n                                </DropdownMenuItem>\r\n                              )}\r\n                              {userPermissions.can_manage && (\r\n                                <DropdownMenuItem\r\n                                  className=\"text-destructive\"\r\n                                  onClick={() => handleCancelInvitation(invitation.id)}\r\n                                  disabled={cancelling === invitation.id}\r\n                                >\r\n                                  {cancelling === invitation.id ? (\r\n                                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                                  ) : (\r\n                                    <XCircle className=\"h-4 w-4 mr-2\" />\r\n                                  )}\r\n                                  Cancel Invitation\r\n                                </DropdownMenuItem>\r\n                              )}\r\n                            </DropdownMenuContent>\r\n                          </DropdownMenu>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Past Invitations */}\r\n          {pastInvitations.length > 0 && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-base\">Invitation History</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"p-0\">\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>Email</TableHead>\r\n                      <TableHead>Status</TableHead>\r\n                      <TableHead>Date</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {pastInvitations.slice(0, 10).map((invitation) => (\r\n                      <TableRow key={invitation.id}>\r\n                        <TableCell>{invitation.email}</TableCell>\r\n                        <TableCell>{getStatusBadge(invitation.status)}</TableCell>\r\n                        <TableCell className=\"text-muted-foreground\">\r\n                          {formatDate(invitation.accepted_at || invitation.created_at)}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Invite Dialog */}\r\n      <Dialog open={inviteDialogOpen} onOpenChange={setInviteDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Invite Team Member</DialogTitle>\r\n            <DialogDescription>\r\n              Send an invitation to join {entityName}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"email\">Email Address</Label>\r\n              <Input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"colleague@example.com\"\r\n                value={inviteEmail}\r\n                onChange={(e) => setInviteEmail(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"role\">Role</Label>\r\n              <Select value={inviteRole} onValueChange={setInviteRole}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select role\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {ROLE_OPTIONS.map((option) => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {showSignatoryOption && (\r\n              <div className=\"flex items-center space-x-2 pt-2\">\r\n                <Checkbox\r\n                  id=\"signatory\"\r\n                  checked={isSignatory}\r\n                  onCheckedChange={(checked) => setIsSignatory(checked === true)}\r\n                />\r\n                <Label htmlFor=\"signatory\" className=\"flex items-center gap-2 cursor-pointer\">\r\n                  <PenTool className=\"h-4 w-4\" />\r\n                  Authorized Signatory\r\n                  <span className=\"text-xs text-muted-foreground\">(can sign documents)</span>\r\n                </Label>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setInviteDialogOpen(false)}\r\n              disabled={sending}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleInvite} disabled={sending || !inviteEmail}>\r\n              {sending ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Sending...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Send className=\"h-4 w-4 mr-2\" />\r\n                  Send Invitation\r\n                </>\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Edit Member Dialog */}\r\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Team Member</DialogTitle>\r\n            <DialogDescription>\r\n              Update {editingMember?.profile?.display_name || editingMember?.profile?.email || 'member'} settings\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-4\">\r\n            {/* Role */}\r\n            <div className=\"space-y-2\">\r\n              <Label>Role</Label>\r\n              <Select value={editRole} onValueChange={setEditRole}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select role\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {ROLE_OPTIONS.map(option => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Signatory Option */}\r\n            {showSignatoryOption && (\r\n              <div className=\"flex items-center space-x-2 pt-2\">\r\n                <Checkbox\r\n                  id=\"edit-signatory\"\r\n                  checked={editCanSign}\r\n                  onCheckedChange={(checked) => setEditCanSign(checked === true)}\r\n                />\r\n                <Label htmlFor=\"edit-signatory\" className=\"flex items-center gap-2 cursor-pointer\">\r\n                  <PenTool className=\"h-4 w-4\" />\r\n                  Authorized Signatory\r\n                  <span className=\"text-xs text-muted-foreground\">(can sign documents)</span>\r\n                </Label>\r\n              </div>\r\n            )}\r\n\r\n            {/* Primary Contact Option (only if user is already primary) */}\r\n            {userPermissions.is_primary && !editingMember?.is_primary && (\r\n              <div className=\"flex items-center space-x-2 pt-2\">\r\n                <Checkbox\r\n                  id=\"edit-primary\"\r\n                  checked={editIsPrimary}\r\n                  onCheckedChange={(checked) => setEditIsPrimary(checked === true)}\r\n                />\r\n                <Label htmlFor=\"edit-primary\" className=\"flex items-center gap-2 cursor-pointer\">\r\n                  <Shield className=\"h-4 w-4\" />\r\n                  Make Primary Contact\r\n                  <span className=\"text-xs text-muted-foreground\">(transfers primary status)</span>\r\n                </Label>\r\n              </div>\r\n            )}\r\n\r\n            {editingMember?.is_primary && (\r\n              <div className=\"text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg\">\r\n                <Shield className=\"h-4 w-4 inline mr-2\" />\r\n                This member is the primary contact. To change primary status,\r\n                select another member and make them primary.\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setEditDialogOpen(false)}\r\n              disabled={saving}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSaveEdit} disabled={saving}>\r\n              {saving ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                'Save Changes'\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n","'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport {\n  PenTool,\n  Upload,\n  Trash2,\n  Save,\n  RotateCcw,\n  CheckCircle2,\n  Loader2,\n  AlertCircle,\n  Image as ImageIcon,\n} from 'lucide-react'\nimport { toast } from 'sonner'\nimport { cn } from '@/lib/utils'\nimport SignatureCanvas from 'react-signature-canvas'\n\ntype EntityType = 'investor' | 'commercial_partner' | 'partner' | 'introducer' | 'lawyer'\n\ninterface SignatureSpecimenTabProps {\n  currentSignatureUrl?: string | null\n  onSignatureUpdate?: (url: string | null) => void\n  entityType?: EntityType\n  entityId?: string\n}\n\nfunction getSignatureApiEndpoints(entityType: EntityType = 'investor') {\n  switch (entityType) {\n    case 'commercial_partner':\n      return {\n        get: '/api/commercial-partners/me/signature',\n        post: '/api/commercial-partners/me/upload-signature',\n        delete: '/api/commercial-partners/me/signature',\n      }\n    case 'partner':\n      return {\n        get: '/api/partners/me/signature',\n        post: '/api/partners/me/upload-signature',\n        delete: '/api/partners/me/signature',\n      }\n    case 'introducer':\n      return {\n        get: '/api/introducers/me/signature',\n        post: '/api/introducers/me/upload-signature',\n        delete: '/api/introducers/me/signature',\n      }\n    case 'lawyer':\n      return {\n        get: '/api/lawyers/me/signature',\n        post: '/api/lawyers/me/upload-signature',\n        delete: '/api/lawyers/me/signature',\n      }\n    case 'investor':\n    default:\n      return {\n        get: '/api/signature-specimen',\n        post: '/api/signature-specimen',\n        delete: '/api/signature-specimen',\n      }\n  }\n}\n\nexport function SignatureSpecimenTab({\n  currentSignatureUrl,\n  onSignatureUpdate,\n  entityType = 'investor',\n}: SignatureSpecimenTabProps) {\n  const apiEndpoints = getSignatureApiEndpoints(entityType)\n  const sigCanvasRef = useRef<SignatureCanvas>(null)\n\n  const [hasDrawn, setHasDrawn] = useState(false)\n  const [signatureUrl, setSignatureUrl] = useState<string | null>(currentSignatureUrl || null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [isSaving, setIsSaving] = useState(false)\n  const [uploadedFile, setUploadedFile] = useState<File | null>(null)\n  const [uploadPreview, setUploadPreview] = useState<string | null>(null)\n  const [activeTab, setActiveTab] = useState<'draw' | 'upload'>('draw')\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    loadExistingSignature()\n  }, [])\n\n  const loadExistingSignature = async () => {\n    setIsLoading(true)\n    try {\n      const response = await fetch(apiEndpoints.get)\n      if (response.ok) {\n        const data = await response.json()\n        if (data.signature_url) {\n          setSignatureUrl(data.signature_url)\n        }\n      }\n    } catch (err) {\n      console.error('Error loading signature:', err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleDrawEnd = () => {\n    if (sigCanvasRef.current && !sigCanvasRef.current.isEmpty()) {\n      setHasDrawn(true)\n      setError(null)\n    }\n  }\n\n  const clearCanvas = () => {\n    if (sigCanvasRef.current) {\n      sigCanvasRef.current.clear()\n      setHasDrawn(false)\n    }\n  }\n\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    if (!['image/png', 'image/jpeg', 'image/webp'].includes(file.type)) {\n      setError('Please upload a PNG, JPEG, or WebP image')\n      return\n    }\n\n    if (file.size > 2 * 1024 * 1024) {\n      setError('File size must be less than 2MB')\n      return\n    }\n\n    setUploadedFile(file)\n    setError(null)\n\n    const reader = new FileReader()\n    reader.onload = (event) => {\n      setUploadPreview(event.target?.result as string)\n    }\n    reader.readAsDataURL(file)\n  }\n\n  const clearUpload = () => {\n    setUploadedFile(null)\n    setUploadPreview(null)\n  }\n\n  const saveSignature = async () => {\n    setIsSaving(true)\n    setError(null)\n\n    try {\n      let blob: Blob\n\n      if (activeTab === 'draw') {\n        if (!sigCanvasRef.current || sigCanvasRef.current.isEmpty()) {\n          setError('Please draw your signature first')\n          setIsSaving(false)\n          return\n        }\n\n        // Get trimmed canvas data URL (removes whitespace around signature)\n        const trimmedCanvas = sigCanvasRef.current.getTrimmedCanvas()\n        const dataUrl = trimmedCanvas.toDataURL('image/png')\n\n        // Convert data URL to blob\n        const response = await fetch(dataUrl)\n        blob = await response.blob()\n      } else {\n        if (!uploadedFile) {\n          setError('Please upload an image first')\n          setIsSaving(false)\n          return\n        }\n        blob = uploadedFile\n      }\n\n      const formData = new FormData()\n      formData.append('signature', blob, 'signature.png')\n\n      const apiResponse = await fetch(apiEndpoints.post, {\n        method: 'POST',\n        body: formData,\n      })\n\n      if (!apiResponse.ok) {\n        const errorData = await apiResponse.json()\n        throw new Error(errorData.error || 'Failed to save signature')\n      }\n\n      const data = await apiResponse.json()\n      setSignatureUrl(data.signature_url)\n      onSignatureUpdate?.(data.signature_url)\n\n      if (activeTab === 'draw') {\n        clearCanvas()\n      } else {\n        clearUpload()\n      }\n\n      toast.success('Signature saved successfully')\n    } catch (err) {\n      console.error('Error saving signature:', err)\n      setError(err instanceof Error ? err.message : 'Failed to save signature')\n      toast.error('Failed to save signature')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const deleteSignature = async () => {\n    if (!signatureUrl) return\n\n    setIsSaving(true)\n    try {\n      const response = await fetch(apiEndpoints.delete, {\n        method: 'DELETE',\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to delete signature')\n      }\n\n      setSignatureUrl(null)\n      onSignatureUpdate?.(null)\n      toast.success('Signature removed')\n    } catch (err) {\n      console.error('Error deleting signature:', err)\n      toast.error('Failed to remove signature')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <Card>\n        <CardContent className=\"py-12\">\n          <div className=\"flex items-center justify-center\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {signatureUrl && (\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-base flex items-center gap-2\">\n                  <CheckCircle2 className=\"h-5 w-5 text-green-600\" />\n                  Current Signature\n                </CardTitle>\n                <CardDescription>\n                  Your signature specimen on file\n                </CardDescription>\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={deleteSignature}\n                disabled={isSaving}\n                className=\"text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:text-red-300 dark:hover:bg-red-950/50\"\n              >\n                {isSaving ? (\n                  <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                ) : (\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\n                )}\n                Remove\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"border rounded-lg p-4 bg-white flex items-center justify-center\">\n              <img\n                src={signatureUrl}\n                alt=\"Your signature\"\n                className=\"max-h-24 object-contain\"\n              />\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">\n            {signatureUrl ? 'Update Signature' : 'Add Signature'}\n          </CardTitle>\n          <CardDescription>\n            Draw your signature or upload an image. This will be used for document signing.\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          <Tabs value={activeTab} onValueChange={(v) => setActiveTab(v as 'draw' | 'upload')}>\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"draw\" className=\"gap-2\">\n                <PenTool className=\"h-4 w-4\" />\n                Draw\n              </TabsTrigger>\n              <TabsTrigger value=\"upload\" className=\"gap-2\">\n                <Upload className=\"h-4 w-4\" />\n                Upload\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"draw\" className=\"mt-4 space-y-4\">\n              <div className=\"border-2 border-dashed rounded-lg bg-white overflow-hidden\">\n                <SignatureCanvas\n                  ref={sigCanvasRef}\n                  canvasProps={{\n                    className: 'w-full h-40 cursor-crosshair',\n                    style: { width: '100%', height: '160px' }\n                  }}\n                  penColor=\"black\"\n                  backgroundColor=\"white\"\n                  onEnd={handleDrawEnd}\n                />\n              </div>\n              <p className=\"text-xs text-muted-foreground text-center\">\n                Draw your signature using your mouse or touch screen\n              </p>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={clearCanvas}\n                  disabled={!hasDrawn}\n                  className=\"flex-1\"\n                >\n                  <RotateCcw className=\"h-4 w-4 mr-2\" />\n                  Clear\n                </Button>\n                <Button\n                  onClick={saveSignature}\n                  disabled={!hasDrawn || isSaving}\n                  className=\"flex-1\"\n                >\n                  {isSaving ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                  ) : (\n                    <Save className=\"h-4 w-4 mr-2\" />\n                  )}\n                  Save Signature\n                </Button>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"upload\" className=\"mt-4 space-y-4\">\n              {uploadPreview ? (\n                <div className=\"space-y-4\">\n                  <div className=\"border rounded-lg p-4 bg-white flex items-center justify-center\">\n                    <img\n                      src={uploadPreview}\n                      alt=\"Signature preview\"\n                      className=\"max-h-32 object-contain\"\n                    />\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      onClick={clearUpload}\n                      className=\"flex-1\"\n                    >\n                      <RotateCcw className=\"h-4 w-4 mr-2\" />\n                      Choose Different\n                    </Button>\n                    <Button\n                      onClick={saveSignature}\n                      disabled={isSaving}\n                      className=\"flex-1\"\n                    >\n                      {isSaving ? (\n                        <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                      ) : (\n                        <Save className=\"h-4 w-4 mr-2\" />\n                      )}\n                      Save Signature\n                    </Button>\n                  </div>\n                </div>\n              ) : (\n                <div>\n                  <Label\n                    htmlFor=\"signature-upload\"\n                    className={cn(\n                      \"flex flex-col items-center justify-center w-full h-40 border-2 border-dashed rounded-lg cursor-pointer\",\n                      \"bg-muted/50 hover:bg-muted transition-colors\"\n                    )}\n                  >\n                    <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                      <ImageIcon className=\"h-10 w-10 text-muted-foreground mb-3\" />\n                      <p className=\"mb-2 text-sm text-muted-foreground\">\n                        <span className=\"font-semibold\">Click to upload</span> or drag and drop\n                      </p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        PNG, JPEG or WebP (max 2MB)\n                      </p>\n                    </div>\n                    <Input\n                      id=\"signature-upload\"\n                      type=\"file\"\n                      accept=\"image/png,image/jpeg,image/webp\"\n                      className=\"hidden\"\n                      onChange={handleFileUpload}\n                    />\n                  </Label>\n                </div>\n              )}\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n\n      <Card className=\"bg-blue-50/50 border-blue-200 dark:bg-blue-950/30 dark:border-blue-900\">\n        <CardContent className=\"py-4\">\n          <div className=\"flex gap-3\">\n            <PenTool className=\"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5\" />\n            <div className=\"text-sm\">\n              <p className=\"font-medium text-blue-900 dark:text-blue-100\">About Signature Specimens</p>\n              <p className=\"text-blue-700 dark:text-blue-300 mt-1\">\n                Your signature specimen will be used for digitally signing documents such as\n                subscription agreements, NDAs, and introducer agreements. Make sure your\n                signature is clear and consistent with your legal documents.\n              </p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('image', __iconNode);\n\nexport default Image;\n","'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport { Switch } from '@/components/ui/switch'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Checkbox } from '@/components/ui/checkbox'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from '@/components/ui/alert-dialog'\nimport { Loader2, Save, Bell, ShieldCheck, Mail, Phone, MessageSquare, Download, Trash2, Shield, PlayCircle } from 'lucide-react'\nimport { useTourOptional } from '@/contexts/tour-context'\nimport type { LucideIcon } from 'lucide-react'\nimport { toast } from 'sonner'\n\ninterface PreferencesEditorProps {\n  onUpdate?: () => void\n  variant?: 'investor' | 'staff' | 'arranger'\n}\n\nexport function PreferencesEditor({ onUpdate, variant = 'investor' }: PreferencesEditorProps) {\n  const tourContext = useTourOptional()\n  const isStaff = variant === 'staff'\n  const isArranger = variant === 'arranger'\n  const [isLoading, setIsLoading] = useState(!isStaff && !isArranger)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  // GDPR state\n  const [isExporting, setIsExporting] = useState(false)\n  const [isRequestingDeletion, setIsRequestingDeletion] = useState(false)\n  const [deletionReason, setDeletionReason] = useState('')\n  const [deletionConfirmed, setDeletionConfirmed] = useState(false)\n  const [hasPendingDeletion, setHasPendingDeletion] = useState(false)\n\n  const [preferences, setPreferences] = useState({\n    notification_settings: {\n      email_notifications: true,\n      deal_updates: true,\n      message_notifications: true\n    }\n  })\n\n  const loadPreferences = useCallback(async () => {\n    setIsLoading(true)\n    try {\n      const response = await fetch('/api/dashboard-preferences')\n      const data = await response.json()\n\n      if (response.ok && data.preferences) {\n        setPreferences({\n          notification_settings: data.preferences.notification_settings || preferences.notification_settings\n        })\n      }\n    } catch (error: any) {\n      console.error('Error loading preferences:', error)\n      toast.error('Failed to load preferences')\n    } finally {\n      setIsLoading(false)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // Check for pending deletion requests\n  const checkPendingDeletion = useCallback(async () => {\n    try {\n      const response = await fetch('/api/gdpr/deletion-request')\n      const data = await response.json()\n      if (response.ok && data.has_pending) {\n        setHasPendingDeletion(true)\n      }\n    } catch (error) {\n      console.error('Error checking pending deletion:', error)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (isStaff || isArranger) {\n      setIsLoading(false)\n      return\n    }\n    loadPreferences()\n    checkPendingDeletion()\n  }, [isStaff, isArranger, loadPreferences, checkPendingDeletion])\n\n  // GDPR: Export data handler\n  const handleExportData = async () => {\n    setIsExporting(true)\n    try {\n      const response = await fetch('/api/gdpr/export', {\n        method: 'POST',\n      })\n\n      if (!response.ok) {\n        throw new Error('Export failed')\n      }\n\n      // Get the blob and download\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `verso-data-export-${new Date().toISOString().split('T')[0]}.json`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      a.remove()\n\n      toast.success('Your data has been exported successfully')\n    } catch (error) {\n      console.error('Export error:', error)\n      toast.error('Failed to export your data. Please try again.')\n    } finally {\n      setIsExporting(false)\n    }\n  }\n\n  // GDPR: Request deletion handler\n  const handleRequestDeletion = async () => {\n    if (!deletionReason || deletionReason.length < 10) {\n      toast.error('Please provide a reason (at least 10 characters)')\n      return\n    }\n    if (!deletionConfirmed) {\n      toast.error('Please confirm you understand the consequences')\n      return\n    }\n\n    setIsRequestingDeletion(true)\n    try {\n      const response = await fetch('/api/gdpr/deletion-request', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          reason: deletionReason,\n          confirm_understood: deletionConfirmed\n        })\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to submit request')\n      }\n\n      toast.success('Your deletion request has been submitted and will be reviewed within 30 days.')\n      setHasPendingDeletion(true)\n      setDeletionReason('')\n      setDeletionConfirmed(false)\n    } catch (error: any) {\n      console.error('Deletion request error:', error)\n      toast.error(error.message || 'Failed to submit deletion request')\n    } finally {\n      setIsRequestingDeletion(false)\n    }\n  }\n\n  const handleNotificationChange = (key: string, value: boolean) => {\n    setPreferences(prev => ({\n      ...prev,\n      notification_settings: {\n        ...prev.notification_settings,\n        [key]: value\n      }\n    }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setIsSubmitting(true)\n\n    try {\n      const response = await fetch('/api/dashboard-preferences', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(preferences)\n      })\n\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to update preferences')\n      }\n\n      toast.success('Preferences updated successfully')\n      onUpdate?.()\n    } catch (error: any) {\n      console.error('Error updating preferences:', error)\n      toast.error('Failed to update preferences', {\n        description: error.message\n      })\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  // Arranger-specific notifications\n  if (isArranger) {\n    const arrangerChannels: {\n      label: string\n      description: string\n      icon: LucideIcon\n      configurable: boolean\n    }[] = [\n      {\n        label: 'Mandate Updates',\n        description: 'Notifications about new mandates, status changes, and investor activity on your deals.',\n        icon: Mail,\n        configurable: true\n      },\n      {\n        label: 'Subscription Packs',\n        description: 'Alerts when subscription packs require your signature or have status updates.',\n        icon: MessageSquare,\n        configurable: true\n      },\n      {\n        label: 'Payment Requests',\n        description: 'Notifications about fee events, invoice submissions, and payment confirmations.',\n        icon: Bell,\n        configurable: true\n      },\n      {\n        label: 'Compliance Alerts',\n        description: 'License expiry reminders, KYC renewal notices, and regulatory updates.',\n        icon: ShieldCheck,\n        configurable: false\n      }\n    ]\n\n    return (\n      <div className=\"space-y-6\">\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <Bell className=\"h-5 w-5 text-primary\" />\n              <CardTitle>Notification Preferences</CardTitle>\n            </div>\n            <CardDescription>\n              Manage how you receive updates about your mandates and business activities\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {arrangerChannels.map(channel => (\n              <div\n                key={channel.label}\n                className=\"flex items-start justify-between gap-4 rounded-lg border p-4\"\n              >\n                <div className=\"flex items-start gap-3\">\n                  <channel.icon className=\"mt-1 h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <p className=\"text-sm font-semibold\">{channel.label}</p>\n                    <p className=\"text-sm text-muted-foreground\">{channel.description}</p>\n                  </div>\n                </div>\n                {channel.configurable ? (\n                  <Switch defaultChecked />\n                ) : (\n                  <span className=\"text-xs text-emerald-600 font-medium bg-emerald-50 px-2 py-1 rounded\">\n                    Always on\n                  </span>\n                )}\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-blue-200 bg-blue-50/50\">\n          <CardContent className=\"py-4\">\n            <div className=\"flex gap-3\">\n              <ShieldCheck className=\"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5\" />\n              <div className=\"text-sm\">\n                <p className=\"font-medium text-blue-900\">Compliance Notifications</p>\n                <p className=\"text-blue-700 mt-1\">\n                  Some notifications cannot be disabled as they are required for regulatory compliance.\n                  These include license expiry warnings and mandatory KYC renewal reminders.\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Platform Tour Section for Arranger */}\n        {tourContext && (\n          <Card>\n            <CardHeader>\n              <div className=\"flex items-center gap-2\">\n                <PlayCircle className=\"h-5 w-5 text-primary\" />\n                <CardTitle>Platform Tour</CardTitle>\n              </div>\n              <CardDescription>\n                Take a guided tour of the platform features\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label>Restart Platform Tour</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Walk through the platform features again with an interactive guide\n                  </p>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => tourContext.startTour()}\n                >\n                  <PlayCircle className=\"mr-2 h-4 w-4\" />\n                  Start Tour\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    )\n  }\n\n  if (isStaff) {\n    const staffChannels: {\n      label: string\n      description: string\n      icon: LucideIcon\n    }[] = [\n      {\n        label: 'Email Alerts',\n        description: 'Critical incidents, investor escalations, and compliance reminders are always routed to your inbox.',\n        icon: Mail\n      },\n      {\n        label: 'In-App Notifications',\n        description: 'Task reminders, approvals, and operational updates show up in the notification center automatically.',\n        icon: MessageSquare\n      },\n      {\n        label: 'SMS Escalations',\n        description: 'After-hours or high-priority issues trigger backup SMS alerts for the on-call operations lead.',\n        icon: Phone\n      }\n    ]\n\n    return (\n      <div className=\"space-y-6\">\n        <Card className=\"bg-white/5 border-white/10\">\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <ShieldCheck className=\"h-5 w-5 text-primary\" />\n              <CardTitle className=\"text-white\">Notifications are centrally managed</CardTitle>\n            </div>\n            <CardDescription className=\"text-white/70\">\n              Staff alerts follow an operations-wide policy so nothing critical can be turned off accidentally.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {staffChannels.map(channel => (\n              <div key={channel.label} className=\"flex items-start gap-3 rounded-lg border border-white/10 bg-white/5 p-4\">\n                <channel.icon className=\"mt-1 h-4 w-4 text-primary\" />\n                <div>\n                  <p className=\"text-sm font-semibold text-white\">{channel.label}</p>\n                  <p className=\"text-sm text-white/70\">{channel.description}</p>\n                  <p className=\"text-xs text-emerald-300/90 mt-1\">Status: Always on</p>\n                </div>\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-white/5 border-white/10\">\n          <CardHeader>\n            <CardTitle className=\"text-white\">Need to adjust routing?</CardTitle>\n            <CardDescription className=\"text-white/70\">\n              Changes go through the Platform team so audit trails stay intact.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <p className=\"text-sm text-white/70\">\n              Share the context (investor, deal, urgency) and the team will update the notification matrix or escalate to engineering.\n            </p>\n            <Button\n              asChild\n              className=\"bg-white/10 text-white border border-white/20 hover:bg-white/20\"\n            >\n              <a href=\"mailto:admin@versotech.com?subject=Notification%20routing%20update\">\n                Contact Platform Team\n              </a>\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Platform Tour Section for Staff */}\n        {tourContext && (\n          <Card className=\"bg-white/5 border-white/10\">\n            <CardHeader>\n              <div className=\"flex items-center gap-2\">\n                <PlayCircle className=\"h-5 w-5 text-primary\" />\n                <CardTitle className=\"text-white\">Platform Tour</CardTitle>\n              </div>\n              <CardDescription className=\"text-white/70\">\n                Take a guided tour of the platform features\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label className=\"text-white\">Restart Platform Tour</Label>\n                  <p className=\"text-sm text-white/70\">\n                    Walk through the platform features again with an interactive guide\n                  </p>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  className=\"border-white/20 text-white hover:bg-white/10\"\n                  onClick={() => tourContext.startTour()}\n                >\n                  <PlayCircle className=\"mr-2 h-4 w-4\" />\n                  Start Tour\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* GDPR Data & Privacy Section for Staff */}\n        <Card className=\"bg-white/5 border-amber-500/30\">\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <Shield className=\"h-5 w-5 text-amber-400\" />\n              <CardTitle className=\"text-white\">Data & Privacy</CardTitle>\n            </div>\n            <CardDescription className=\"text-white/70\">\n              Manage your personal data in accordance with GDPR regulations\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* Export Data */}\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label className=\"text-white\">Export Your Data</Label>\n                <p className=\"text-sm text-white/70\">\n                  Download a copy of all your personal data stored in our system\n                </p>\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                className=\"border-white/20 text-white hover:bg-white/10\"\n                onClick={handleExportData}\n                disabled={isExporting}\n              >\n                {isExporting ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Exporting...\n                  </>\n                ) : (\n                  <>\n                    <Download className=\"mr-2 h-4 w-4\" />\n                    Export My Data\n                  </>\n                )}\n              </Button>\n            </div>\n\n            <div className=\"border-t border-white/10 pt-6\">\n              {/* Request Account Deletion */}\n              <div className=\"space-y-4\">\n                <div className=\"space-y-0.5\">\n                  <Label className=\"text-red-400\">Request Account Deletion</Label>\n                  <p className=\"text-sm text-white/70\">\n                    Request permanent deletion of your account and all associated data.\n                    This action is irreversible and will be reviewed by our team.\n                  </p>\n                </div>\n\n                {hasPendingDeletion ? (\n                  <div className=\"rounded-lg border border-amber-500/30 bg-amber-500/10 p-4\">\n                    <p className=\"text-sm text-amber-300\">\n                      You have a pending deletion request. Our team will review it within 30 days.\n                    </p>\n                  </div>\n                ) : (\n                  <AlertDialog>\n                    <AlertDialogTrigger asChild>\n                      <Button\n                        type=\"button\"\n                        variant=\"destructive\"\n                        className=\"w-full sm:w-auto\"\n                      >\n                        <Trash2 className=\"mr-2 h-4 w-4\" />\n                        Request Account Deletion\n                      </Button>\n                    </AlertDialogTrigger>\n                    <AlertDialogContent>\n                      <AlertDialogHeader>\n                        <AlertDialogTitle>Request Account Deletion</AlertDialogTitle>\n                        <AlertDialogDescription asChild>\n                          <div className=\"space-y-4\">\n                            <p>\n                              This will submit a request to permanently delete your account\n                              and all associated data. This action cannot be undone.\n                            </p>\n\n                            <div className=\"space-y-2\">\n                              <Label htmlFor=\"staff-deletion-reason\">\n                                Please tell us why you want to delete your account:\n                              </Label>\n                              <Textarea\n                                id=\"staff-deletion-reason\"\n                                placeholder=\"Enter your reason (minimum 10 characters)\"\n                                value={deletionReason}\n                                onChange={(e) => setDeletionReason(e.target.value)}\n                                className=\"min-h-[100px]\"\n                              />\n                            </div>\n\n                            <div className=\"flex items-start space-x-2\">\n                              <Checkbox\n                                id=\"staff-deletion-confirm\"\n                                checked={deletionConfirmed}\n                                onCheckedChange={(checked) => setDeletionConfirmed(checked === true)}\n                              />\n                              <label\n                                htmlFor=\"staff-deletion-confirm\"\n                                className=\"text-sm text-muted-foreground leading-tight\"\n                              >\n                                I understand that this will permanently delete my account,\n                                all my data, and I will lose access to the platform.\n                              </label>\n                            </div>\n                          </div>\n                        </AlertDialogDescription>\n                      </AlertDialogHeader>\n                      <AlertDialogFooter>\n                        <AlertDialogCancel>Cancel</AlertDialogCancel>\n                        <AlertDialogAction\n                          onClick={handleRequestDeletion}\n                          disabled={isRequestingDeletion || !deletionReason || deletionReason.length < 10 || !deletionConfirmed}\n                          className=\"bg-red-600 hover:bg-red-700\"\n                        >\n                          {isRequestingDeletion ? (\n                            <>\n                              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                              Submitting...\n                            </>\n                          ) : (\n                            'Submit Deletion Request'\n                          )}\n                        </AlertDialogAction>\n                      </AlertDialogFooter>\n                    </AlertDialogContent>\n                  </AlertDialog>\n                )}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n      </div>\n    )\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {/* Notification Settings */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5\" />\n            <CardTitle>Notification Preferences</CardTitle>\n          </div>\n          <CardDescription>\n            Manage how you receive notifications and updates\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label htmlFor=\"email_notifications\">Email Notifications</Label>\n              <p className=\"text-sm text-gray-600\">\n                Receive notifications via email\n              </p>\n            </div>\n            <Switch\n              id=\"email_notifications\"\n              checked={preferences.notification_settings.email_notifications}\n              onCheckedChange={(checked) =>\n                handleNotificationChange('email_notifications', checked)\n              }\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label htmlFor=\"deal_updates\">Deal Updates</Label>\n              <p className=\"text-sm text-gray-600\">\n                Get notified about deal status changes\n              </p>\n            </div>\n            <Switch\n              id=\"deal_updates\"\n              checked={preferences.notification_settings.deal_updates}\n              onCheckedChange={(checked) =>\n                handleNotificationChange('deal_updates', checked)\n              }\n            />\n          </div>\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label htmlFor=\"message_notifications\">Message Notifications</Label>\n              <p className=\"text-sm text-gray-600\">\n                Get notified about new messages\n              </p>\n            </div>\n            <Switch\n              id=\"message_notifications\"\n              checked={preferences.notification_settings.message_notifications}\n              onCheckedChange={(checked) =>\n                handleNotificationChange('message_notifications', checked)\n              }\n            />\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Platform Tour Section */}\n      {tourContext && (\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center gap-2\">\n              <PlayCircle className=\"h-5 w-5\" />\n              <CardTitle>Platform Tour</CardTitle>\n            </div>\n            <CardDescription>\n              Take a guided tour of the platform features\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"space-y-0.5\">\n                <Label>Restart Platform Tour</Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Walk through the platform features again with an interactive guide\n                </p>\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => tourContext.startTour()}\n              >\n                <PlayCircle className=\"mr-2 h-4 w-4\" />\n                Start Tour\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Save Button */}\n      <div className=\"flex justify-end\">\n        <Button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"w-full sm:w-auto\"\n        >\n          {isSubmitting ? (\n            <>\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n              Saving Preferences...\n            </>\n          ) : (\n            <>\n              <Save className=\"mr-2 h-4 w-4\" />\n              Save Preferences\n            </>\n          )}\n        </Button>\n      </div>\n\n      {/* GDPR Data & Privacy Section */}\n      <Card className=\"border-amber-200\">\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5 text-amber-600\" />\n            <CardTitle>Data & Privacy</CardTitle>\n          </div>\n          <CardDescription>\n            Manage your personal data in accordance with GDPR regulations\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {/* Export Data */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"space-y-0.5\">\n              <Label>Export Your Data</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                Download a copy of all your personal data stored in our system\n              </p>\n            </div>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={handleExportData}\n              disabled={isExporting}\n            >\n              {isExporting ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Exporting...\n                </>\n              ) : (\n                <>\n                  <Download className=\"mr-2 h-4 w-4\" />\n                  Export My Data\n                </>\n              )}\n            </Button>\n          </div>\n\n          <div className=\"border-t pt-6\">\n            {/* Request Account Deletion */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-0.5\">\n                <Label className=\"text-destructive\">Request Account Deletion</Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Request permanent deletion of your account and all associated data.\n                  This action is irreversible and will be reviewed by our team.\n                </p>\n              </div>\n\n              {hasPendingDeletion ? (\n                <div className=\"rounded-lg border border-amber-300 bg-amber-50 p-4\">\n                  <p className=\"text-sm text-amber-800\">\n                    You have a pending deletion request. Our team will review it within 30 days.\n                  </p>\n                </div>\n              ) : (\n                <AlertDialog>\n                  <AlertDialogTrigger asChild>\n                    <Button\n                      type=\"button\"\n                      variant=\"destructive\"\n                      className=\"w-full sm:w-auto\"\n                    >\n                      <Trash2 className=\"mr-2 h-4 w-4\" />\n                      Request Account Deletion\n                    </Button>\n                  </AlertDialogTrigger>\n                  <AlertDialogContent>\n                    <AlertDialogHeader>\n                      <AlertDialogTitle>Request Account Deletion</AlertDialogTitle>\n                      <AlertDialogDescription asChild>\n                        <div className=\"space-y-4\">\n                          <p>\n                            This will submit a request to permanently delete your account\n                            and all associated data. This action cannot be undone.\n                          </p>\n\n                          <div className=\"space-y-2\">\n                            <Label htmlFor=\"deletion-reason\">\n                              Please tell us why you want to delete your account:\n                            </Label>\n                            <Textarea\n                              id=\"deletion-reason\"\n                              placeholder=\"Enter your reason (minimum 10 characters)\"\n                              value={deletionReason}\n                              onChange={(e) => setDeletionReason(e.target.value)}\n                              className=\"min-h-[100px]\"\n                            />\n                          </div>\n\n                          <div className=\"flex items-start space-x-2\">\n                            <Checkbox\n                              id=\"deletion-confirm\"\n                              checked={deletionConfirmed}\n                              onCheckedChange={(checked) => setDeletionConfirmed(checked === true)}\n                            />\n                            <label\n                              htmlFor=\"deletion-confirm\"\n                              className=\"text-sm text-muted-foreground leading-tight\"\n                            >\n                              I understand that this will permanently delete my account,\n                              all my data, and I will lose access to all investments and documents.\n                            </label>\n                          </div>\n                        </div>\n                      </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    <AlertDialogFooter>\n                      <AlertDialogCancel>Cancel</AlertDialogCancel>\n                      <AlertDialogAction\n                        onClick={handleRequestDeletion}\n                        disabled={isRequestingDeletion || !deletionReason || deletionReason.length < 10 || !deletionConfirmed}\n                        className=\"bg-destructive hover:bg-destructive/90\"\n                      >\n                        {isRequestingDeletion ? (\n                          <>\n                            <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                            Submitting...\n                          </>\n                        ) : (\n                          'Submit Deletion Request'\n                        )}\n                      </AlertDialogAction>\n                    </AlertDialogFooter>\n                  </AlertDialogContent>\n                </AlertDialog>\n              )}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </form>\n  )\n}\n","'use client'\n\n/**\n * Generic Entity Members Tab\n *\n * A reusable component for managing entity members (directors, UBOs, signatories)\n * across all persona types: investor, arranger, partner, introducer, lawyer, commercial_partner\n *\n * Uses MemberKYCEditDialog for comprehensive KYC field editing.\n */\n\nimport { useState, useEffect } from 'react'\nimport { Users, UserPlus, Edit, Trash2, ShieldCheck, Clock, AlertCircle } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog'\nimport { toast } from 'sonner'\nimport { MemberKYCEditDialog } from '@/components/shared/member-kyc-edit-dialog'\n\n// Entity types that support members\nexport type EntityType = 'investor' | 'partner' | 'introducer' | 'lawyer' | 'arranger' | 'commercial_partner'\n\n// Member data structure\ninterface EntityMember {\n  id: string\n  full_name?: string\n  first_name?: string\n  middle_name?: string\n  last_name?: string\n  name_suffix?: string\n  role: string\n  role_title?: string\n  email?: string\n  phone_mobile?: string\n  phone_office?: string\n  date_of_birth?: string\n  country_of_birth?: string\n  nationality?: string\n  residential_street?: string\n  residential_line_2?: string\n  residential_city?: string\n  residential_state?: string\n  residential_postal_code?: string\n  residential_country?: string\n  is_us_citizen?: boolean\n  is_us_taxpayer?: boolean\n  us_taxpayer_id?: string\n  country_of_tax_residency?: string\n  tax_id_number?: string\n  id_type?: string\n  id_number?: string\n  id_issue_date?: string\n  id_expiry_date?: string\n  id_issuing_country?: string\n  ownership_percentage?: number\n  is_beneficial_owner?: boolean\n  is_signatory?: boolean\n  kyc_status?: string\n  is_active?: boolean\n  created_at?: string\n}\n\ninterface GenericEntityMembersTabProps {\n  entityType: EntityType\n  entityId: string\n  entityName?: string\n  /** Base API endpoint for members, e.g., '/api/investors/me/members' */\n  apiEndpoint: string\n  /** Whether the current user can manage members */\n  canManage?: boolean\n  /** Optional custom title */\n  title?: string\n  /** Optional custom description */\n  description?: string\n}\n\nconst ROLE_LABELS: Record<string, string> = {\n  director: 'Director',\n  shareholder: 'Shareholder',\n  beneficial_owner: 'Beneficial Owner',\n  authorized_signatory: 'Authorized Signatory',\n  officer: 'Officer',\n  partner: 'Partner',\n  ubo: 'UBO',\n  signatory: 'Signatory',\n  authorized_representative: 'Authorized Representative',\n  beneficiary: 'Beneficiary',\n  trustee: 'Trustee',\n  managing_member: 'Managing Member',\n  general_partner: 'General Partner',\n  limited_partner: 'Limited Partner',\n  other: 'Other',\n}\n\nexport function GenericEntityMembersTab({\n  entityType,\n  entityId,\n  entityName,\n  apiEndpoint,\n  canManage = true,\n  title = 'Entity Members',\n  description = 'Manage directors, shareholders, and beneficial owners',\n}: GenericEntityMembersTabProps) {\n  const [members, setMembers] = useState<EntityMember[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  // Dialog states\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\n  const [editingMember, setEditingMember] = useState<EntityMember | null>(null)\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\n  const [deletingMemberId, setDeletingMemberId] = useState<string | null>(null)\n  const [isDeleting, setIsDeleting] = useState(false)\n\n  // Load members\n  useEffect(() => {\n    loadMembers()\n  }, [apiEndpoint])\n\n  const loadMembers = async () => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(apiEndpoint)\n      if (!response.ok) {\n        const data = await response.json()\n        throw new Error(data.error || 'Failed to load members')\n      }\n\n      const data = await response.json()\n      setMembers(data.members || [])\n    } catch (err) {\n      console.error('Error loading members:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load members')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAddMember = () => {\n    setEditingMember(null)\n    setEditDialogOpen(true)\n  }\n\n  const handleEditMember = (member: EntityMember) => {\n    setEditingMember(member)\n    setEditDialogOpen(true)\n  }\n\n  const handleDeleteClick = (memberId: string) => {\n    setDeletingMemberId(memberId)\n    setDeleteDialogOpen(true)\n  }\n\n  const handleDeleteConfirm = async () => {\n    if (!deletingMemberId) return\n\n    setIsDeleting(true)\n    try {\n      const response = await fetch(`${apiEndpoint}/${deletingMemberId}`, {\n        method: 'DELETE',\n      })\n\n      if (!response.ok) {\n        const data = await response.json()\n        throw new Error(data.error || 'Failed to delete member')\n      }\n\n      toast.success('Member removed successfully')\n      setDeleteDialogOpen(false)\n      setDeletingMemberId(null)\n      await loadMembers()\n    } catch (err) {\n      console.error('Error deleting member:', err)\n      toast.error(err instanceof Error ? err.message : 'Failed to delete member')\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  const handleDialogSuccess = () => {\n    loadMembers()\n  }\n\n  const getDisplayName = (member: EntityMember) => {\n    if (member.full_name) return member.full_name\n    const parts = [member.first_name, member.middle_name, member.last_name, member.name_suffix].filter(Boolean)\n    return parts.length > 0 ? parts.join(' ') : 'Unknown'\n  }\n\n  const getRoleBadge = (role: string) => {\n    return <Badge variant=\"outline\">{ROLE_LABELS[role] || role}</Badge>\n  }\n\n  const getKYCStatusBadge = (status?: string) => {\n    switch (status) {\n      case 'approved':\n        return <Badge className=\"bg-green-500\"><ShieldCheck className=\"w-3 h-3 mr-1\" />Approved</Badge>\n      case 'pending':\n      case 'submitted':\n        return <Badge className=\"bg-yellow-500\"><Clock className=\"w-3 h-3 mr-1\" />Pending</Badge>\n      case 'rejected':\n        return <Badge className=\"bg-red-500\"><AlertCircle className=\"w-3 h-3 mr-1\" />Rejected</Badge>\n      default:\n        return <Badge variant=\"outline\">Not Submitted</Badge>\n    }\n  }\n\n  // Convert member data to form format for MemberKYCEditDialog\n  const getMemberInitialData = (member: EntityMember | null) => {\n    if (!member) return undefined\n\n    return {\n      role: member.role as any,\n      first_name: member.first_name || '',\n      middle_name: member.middle_name || '',\n      last_name: member.last_name || '',\n      name_suffix: member.name_suffix || '',\n      date_of_birth: member.date_of_birth || '',\n      country_of_birth: member.country_of_birth || '',\n      nationality: member.nationality || '',\n      email: member.email || '',\n      phone_mobile: member.phone_mobile || '',\n      phone_office: member.phone_office || '',\n      residential_street: member.residential_street || '',\n      residential_line_2: member.residential_line_2 || '',\n      residential_city: member.residential_city || '',\n      residential_state: member.residential_state || '',\n      residential_postal_code: member.residential_postal_code || '',\n      residential_country: member.residential_country || '',\n      is_us_citizen: member.is_us_citizen || false,\n      is_us_taxpayer: member.is_us_taxpayer || false,\n      us_taxpayer_id: member.us_taxpayer_id || '',\n      country_of_tax_residency: member.country_of_tax_residency || '',\n      tax_id_number: member.tax_id_number || '',\n      id_type: member.id_type || '',\n      id_number: member.id_number || '',\n      id_issue_date: member.id_issue_date || '',\n      id_expiry_date: member.id_expiry_date || '',\n      id_issuing_country: member.id_issuing_country || '',\n      ownership_percentage: member.ownership_percentage,\n    }\n  }\n\n  if (loading) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <div className=\"animate-pulse\">Loading members...</div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardContent className=\"py-12 text-center\">\n          <AlertCircle className=\"w-12 h-12 mx-auto text-destructive mb-4\" />\n          <p className=\"text-destructive\">{error}</p>\n          <Button onClick={loadMembers} variant=\"outline\" className=\"mt-4\">\n            Retry\n          </Button>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Users className=\"h-5 w-5\" />\n                {title}\n              </CardTitle>\n              <CardDescription>{description}</CardDescription>\n            </div>\n            {canManage && (\n              <Button onClick={handleAddMember}>\n                <UserPlus className=\"w-4 h-4 mr-2\" />\n                Add Member\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent>\n          {members.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Users className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n              <p className=\"text-muted-foreground mb-4\">\n                No members added yet. Add directors, shareholders, or beneficial owners.\n              </p>\n              {canManage && (\n                <Button onClick={handleAddMember} variant=\"outline\">\n                  <UserPlus className=\"w-4 h-4 mr-2\" />\n                  Add Your First Member\n                </Button>\n              )}\n            </div>\n          ) : (\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Name</TableHead>\n                  <TableHead>Role</TableHead>\n                  <TableHead>Email</TableHead>\n                  <TableHead>Ownership %</TableHead>\n                  <TableHead>KYC Status</TableHead>\n                  {canManage && <TableHead className=\"text-right\">Actions</TableHead>}\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {members.map((member) => (\n                  <TableRow key={member.id}>\n                    <TableCell className=\"font-medium\">\n                      {getDisplayName(member)}\n                      {member.is_beneficial_owner && (\n                        <Badge variant=\"secondary\" className=\"ml-2 text-xs\">UBO</Badge>\n                      )}\n                      {member.is_signatory && (\n                        <Badge variant=\"secondary\" className=\"ml-2 text-xs\">Signatory</Badge>\n                      )}\n                    </TableCell>\n                    <TableCell>\n                      {getRoleBadge(member.role)}\n                      {member.role_title && (\n                        <span className=\"text-sm text-muted-foreground ml-2\">\n                          ({member.role_title})\n                        </span>\n                      )}\n                    </TableCell>\n                    <TableCell>{member.email || 'N/A'}</TableCell>\n                    <TableCell>\n                      {member.ownership_percentage != null ? `${member.ownership_percentage}%` : 'N/A'}\n                    </TableCell>\n                    <TableCell>{getKYCStatusBadge(member.kyc_status)}</TableCell>\n                    {canManage && (\n                      <TableCell className=\"text-right\">\n                        <div className=\"flex items-center justify-end gap-2\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleEditMember(member)}\n                          >\n                            <Edit className=\"w-4 h-4\" />\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDeleteClick(member.id)}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      </TableCell>\n                    )}\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit/Add Member Dialog - Uses MemberKYCEditDialog */}\n      <MemberKYCEditDialog\n        open={editDialogOpen}\n        onOpenChange={setEditDialogOpen}\n        entityType={entityType}\n        entityId={entityId}\n        memberId={editingMember?.id}\n        memberName={editingMember ? getDisplayName(editingMember) : undefined}\n        initialData={getMemberInitialData(editingMember)}\n        apiEndpoint={apiEndpoint}\n        onSuccess={handleDialogSuccess}\n        mode={editingMember ? 'edit' : 'create'}\n      />\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Remove Member</AlertDialogTitle>\n            <AlertDialogDescription>\n              Are you sure you want to remove this member? This action can be undone by contacting support.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={isDeleting}>Cancel</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDeleteConfirm}\n              disabled={isDeleting}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {isDeleting ? 'Removing...' : 'Remove'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[2]}