module.exports=[201986,a=>{"use strict";a.s(["formatBps",0,a=>null==a?"—":`${a} bps`,"formatCurrency",0,(a,b="USD")=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a):"$0","formatDate",0,a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b?.getTime?.())?"—":b.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},403205,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(364284),e=a.i(888987);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},155508,a=>{"use strict";let b=(0,a.i(95799).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],155508)},191675,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(888987);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},284169,a=>{"use strict";var b=a.i(352584),c=a.i(888987);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},399580,a=>{"use strict";let b=(0,a.i(95799).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],399580)},166457,a=>{"use strict";let b=(0,a.i(95799).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],166457)},873785,a=>{"use strict";let b=(0,a.i(95799).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],873785)},703606,a=>{"use strict";let b=(0,a.i(95799).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],703606)},689680,a=>{"use strict";let b=(0,a.i(95799).default)("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);a.s(["ScrollText",()=>b],689680)},652412,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(470305),e=a.i(421908),f=a.i(663475),g=a.i(249464),h=a.i(191675),i=a.i(951870),j=a.i(899750),k=a.i(289633);function l({open:a,onOpenChange:l,introducer:m}){let[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("net_30"),[z,A]=(0,c.useState)("active"),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useTransition)(),F=(0,k.useRouter)();return((0,c.useEffect)(()=>{m&&(o(m.legalName),q(m.contactName||""),s(m.email||""),u(m.defaultCommissionBps||""),w(m.commissionCapAmount||""),y(m.paymentTerms||"net_30"),A(m.status),C(m.notes||""))},[m]),m)?(0,b.jsx)(d.Dialog,{open:a,onOpenChange:l,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"Edit Introducer"}),(0,b.jsx)(d.DialogDescription,{children:"Update introducer contact information and commercial terms."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(f.Input,{id:"legalName",value:n,onChange:a=>o(a.target.value),placeholder:"e.g. Meridian Capital Partners",autoFocus:!0})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(f.Input,{id:"contactName",value:p,onChange:a=>q(a.target.value),placeholder:"e.g. Jane Smith"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"contactEmail",children:"Contact Email"}),(0,b.jsx)(f.Input,{id:"contactEmail",type:"email",value:r,onChange:a=>s(a.target.value),placeholder:"jane.smith@example.com"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionBps",children:"Default Commission (bps)"}),(0,b.jsx)(f.Input,{id:"commissionBps",type:"number",min:0,max:300,value:t,onChange:a=>u(""===a.target.value?"":Number(a.target.value)),placeholder:"150"})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"commissionCap",children:"Commission Cap (optional)"}),(0,b.jsx)(f.Input,{id:"commissionCap",type:"number",min:0,value:v,onChange:a=>w(""===a.target.value?"":Number(a.target.value)),placeholder:"50000"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Payment Terms"}),(0,b.jsxs)(i.Select,{value:x,onValueChange:y,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select terms"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"net_15",children:"Net 15"}),(0,b.jsx)(i.SelectItem,{value:"net_30",children:"Net 30"}),(0,b.jsx)(i.SelectItem,{value:"net_45",children:"Net 45"}),(0,b.jsx)(i.SelectItem,{value:"net_60",children:"Net 60"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Status"}),(0,b.jsxs)(i.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(h.Textarea,{id:"notes",value:B,onChange:a=>C(a.target.value),placeholder:"Commission arrangements, regional focus, etc.",rows:3})]})]}),(0,b.jsxs)(d.DialogFooter,{className:"flex justify-between",children:[(0,b.jsx)(e.Button,{variant:"destructive",onClick:()=>{!m||confirm("Are you sure you want to delete this introducer? This action cannot be undone.")&&E(async()=>{try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"DELETE"});if(!a.ok){let b,c=await a.text();try{b=JSON.parse(c)}catch(a){j.toast.error(`Failed to delete introducer: ${c||"Unknown error"}`);return}j.toast.error(b?.error??"Failed to delete introducer");return}j.toast.success("Introducer deleted"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to delete introducer")}})},disabled:D,children:"Delete"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>l(!1),disabled:D,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{m&&E(async()=>{if(!n.trim())return void j.toast.error("Legal name is required");if(""!==t&&(0>Number(t)||Number(t)>300))return void j.toast.error("Default commission must be between 0 and 300 bps");try{let a=await fetch(`/api/staff/introducers/${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:n.trim(),contact_name:p.trim()||null,email:r.trim()||null,default_commission_bps:""===t?null:Number(t),commission_cap_amount:""===v?null:Number(v),payment_terms:x,status:z,notes:B.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);j.toast.error(b?.error??"Failed to update introducer");return}j.toast.success("Introducer updated"),l(!1),F.refresh()}catch(a){j.toast.error("Failed to update introducer")}})},disabled:D,children:D?"Updating…":"Update Introducer"})]})]})]})}):null}a.s(["EditIntroducerDialog",()=>l])}];

//# sourceMappingURL=versotech-portal_c43fd9be._.js.map