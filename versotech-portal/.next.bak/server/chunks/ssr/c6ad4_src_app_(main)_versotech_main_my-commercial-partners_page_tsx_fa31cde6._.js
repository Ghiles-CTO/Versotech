module.exports=[606106,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(284169),e=a.i(15788),f=a.i(421908),g=a.i(663475),h=a.i(951870),i=a.i(771088),j=a.i(278541),k=a.i(399580),l=a.i(487068),m=a.i(3321),n=a.i(877918),o=a.i(439467),p=a.i(318525),q=a.i(478870),r=a.i(816854),s=a.i(155508),t=a.i(13289),u=a.i(672606),v=a.i(888987),w=a.i(201986),x=a.i(58834),y=a.i(497412),z=a.i(140561),A=a.i(181608),B=a.i(877028),C=a.i(231276),D=a.i(42329),E=a.i(966494),F=a.i(47748),G=a.i(504839),H=a.i(289907),I=a.i(13542),J=a.i(873785);a.i(187814);var K=a.i(351424),L=a.i(470305),M=a.i(249464),N=a.i(191675),O=a.i(290913);let P=[{value:"invested_amount",label:"Invested Amount"},{value:"spread",label:"Spread"},{value:"management_fee",label:"Management Fee"},{value:"performance_fee",label:"Performance Fee"}];function Q({open:a,onOpenChange:d,commercialPartnerId:e,commercialPartnerName:i,deals:j,feePlans:k,onSuccess:l}){let[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)("none"),[t,u]=(0,c.useState)("none"),[v,x]=(0,c.useState)("invested_amount"),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(""),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)("USD"),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)("");(0,c.useEffect)(()=>{a&&(s("none"),u("none"),x("invested_amount"),z(""),B(""),D(""),F("USD"),H(""),J(""),q(null))},[a]),(0,c.useEffect)(()=>{if(y&&A){let a=parseFloat(y)/1e4,b=parseFloat(A);isNaN(a)||isNaN(b)||D((b*a).toFixed(2))}},[y,A]),(0,c.useEffect)(()=>{if(r&&"none"!==r){let a=j.find(a=>a.id===r);a?.currency&&F(a.currency)}},[r,j]),(0,c.useEffect)(()=>{if(t&&"none"!==t){let a=k.find(a=>a.id===t);if(a?.components&&a.components.length>0){let b=a.components.find(a=>a.rate_bps);b?.rate_bps&&z(b.rate_bps.toString())}}},[t,k]);let K=async()=>{if(!y||0>=parseFloat(y))return void q("Rate is required and must be greater than 0");if(!C||0>=parseFloat(C))return void q("Commission amount is required and must be greater than 0");o(!0),q(null);try{let a={commercial_partner_id:e,deal_id:"none"!==r?r:void 0,fee_plan_id:"none"!==t?t:void 0,basis_type:v,rate_bps:parseInt(y,10),base_amount:A?parseFloat(A):void 0,accrual_amount:parseFloat(C),currency:E,payment_due_date:G||void 0,notes:I||void 0},b=await fetch("/api/arrangers/me/commercial-partner-commissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to record commission")}l(),d(!1)}catch(a){console.error("[RecordCPCommissionDialog] Error:",a),q(a instanceof Error?a.message:"Failed to record commission")}finally{o(!1)}},Q=y?(parseFloat(y)/100).toFixed(2):"0.00";return(0,b.jsx)(L.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(L.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(L.DialogHeader,{children:[(0,b.jsx)(L.DialogTitle,{children:"Record Commission"}),(0,b.jsxs)(L.DialogDescription,{children:["Record a commission owed to ",i]})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[p&&(0,b.jsx)("div",{className:"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded",children:p}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Deal (Optional)"}),(0,b.jsxs)(h.Select,{value:r,onValueChange:s,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select deal..."})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"none",children:"No specific deal"}),j.map(a=>(0,b.jsxs)(h.SelectItem,{value:a.id,children:[a.name," ",a.company_name&&`(${a.company_name})`]},a.id))]})]})]}),k.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Fee Plan (Optional)"}),(0,b.jsxs)(h.Select,{value:t,onValueChange:u,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select fee plan..."})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"none",children:"No fee plan"}),k.map(a=>(0,b.jsx)(h.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Commission Basis"}),(0,b.jsxs)(h.Select,{value:v,onValueChange:x,children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{})}),(0,b.jsx)(h.SelectContent,{children:P.map(a=>(0,b.jsx)(h.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Rate (basis points) *"}),(0,b.jsx)(g.Input,{type:"number",value:y,onChange:a=>z(a.target.value),placeholder:"e.g., 100 = 1%"}),y&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["= ",Q,"%"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(M.Label,{children:["Base Amount (",E,")"]}),(0,b.jsx)(g.Input,{type:"number",value:A,onChange:a=>B(a.target.value),placeholder:"e.g., 100000"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(M.Label,{className:"flex items-center gap-2",children:["Commission Amount (",E,") *",y&&A&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(O.Calculator,{className:"h-3 w-3"}),"Auto-calculated"]})]}),(0,b.jsx)(g.Input,{type:"number",value:C,onChange:a=>D(a.target.value),placeholder:"Commission amount"}),C&&(0,b.jsx)("p",{className:"text-sm font-medium text-primary",children:(0,w.formatCurrency)(parseFloat(C),E)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Payment Due Date (Optional)"}),(0,b.jsx)(g.Input,{type:"date",value:G,onChange:a=>H(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(M.Label,{children:"Notes (Optional)"}),(0,b.jsx)(N.Textarea,{value:I,onChange:a=>J(a.target.value),placeholder:"Any additional notes...",rows:2})]})]}),(0,b.jsxs)(L.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>d(!1),disabled:n,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:K,disabled:n,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Recording..."]}):"Record Commission"})]})]})})}let R={accrued:{icon:D.Clock,color:"text-blue-600"},invoice_requested:{icon:J.Send,color:"text-yellow-600"},invoice_submitted:{icon:r.FileText,color:"text-indigo-600"},invoiced:{icon:r.FileText,color:"text-orange-600"},paid:{icon:k.CheckCircle2,color:"text-green-600"},cancelled:{icon:n.AlertCircle,color:"text-gray-400"},rejected:{icon:n.AlertCircle,color:"text-red-600"}},S={active:"bg-green-100 text-green-800 border-green-200",pending:"bg-yellow-100 text-yellow-800 border-yellow-200",inactive:"bg-gray-100 text-gray-800 border-gray-200",suspended:"bg-red-100 text-red-800 border-red-200",draft:"bg-gray-100 text-gray-800 border-gray-200",pending_internal_approval:"bg-orange-100 text-orange-800 border-orange-200",pending_approval:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-blue-100 text-blue-800 border-blue-200",rejected:"bg-red-100 text-red-800 border-red-200"},T={approved:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",expired:"bg-red-100 text-red-800",not_started:"bg-gray-100 text-gray-800"};function U({commercialPartnerId:a,open:g,onOpenChange:h}){let[i,k]=(0,c.useState)(null),[l,u]=(0,c.useState)(!1),[x,D]=(0,c.useState)(null),[J,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)(!1),[U,V]=(0,c.useState)(null),W=async()=>{if(a)try{u(!0),D(null);let b=await fetch(`/api/arrangers/me/commercial-partners/${a}`);if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to fetch commercial partner details")}let c=await b.json();k(c.data)}catch(a){console.error("[CPDetailDrawer] Error:",a),D(a instanceof Error?a.message:"Failed to load details")}finally{u(!1)}},X=async()=>{if(a)try{P(!0);let b=await fetch(`/api/arrangers/me/commercial-partner-commissions?commercial_partner_id=${a}`);if(b.ok){let a=await b.json();N(a.data||[])}}catch(a){console.error("[CPDetailDrawer] Error fetching commissions:",a)}finally{P(!1)}};(0,c.useEffect)(()=>{if(!a||!g){k(null),N([]);return}W(),X()},[a,g]);let Y=async a=>{V(a.id);try{let b=await fetch(`/api/arrangers/me/commercial-partner-commissions/${a.id}/request-invoice`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to request invoice")}W(),X()}catch(a){console.error("[CPDetailDrawer] Request invoice error:",a),alert(a instanceof Error?a.message:"Failed to request invoice")}finally{V(null)}},Z=async a=>{V(a.id);try{let b=await fetch(`/api/arrangers/me/commercial-partner-commissions/${a.id}/request-payment`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to request payment")}W(),X()}catch(a){console.error("[CPDetailDrawer] Request payment error:",a),alert(a instanceof Error?a.message:"Failed to request payment")}finally{V(null)}};return g?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.Sheet,{open:g,onOpenChange:h,children:(0,b.jsx)(z.SheetContent,{className:"w-full sm:max-w-xl overflow-y-auto",children:l?(0,b.jsx)("div",{className:"flex items-center justify-center py-16",children:(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):x?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)(n.AlertCircle,{className:"h-12 w-12 text-destructive mb-4"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:x})]}):i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(z.SheetHeader,{className:"pb-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[i.commercial_partner.logo_url?(0,b.jsx)("img",{src:i.commercial_partner.logo_url,alt:i.commercial_partner.name,className:"h-16 w-16 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"h-16 w-16 rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)(j.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(z.SheetTitle,{className:"text-xl",children:i.commercial_partner.name}),(0,b.jsxs)(z.SheetDescription,{className:"flex items-center gap-2 mt-1",children:[i.commercial_partner.cp_type&&(0,b.jsx)(e.Badge,{variant:"secondary",className:"capitalize",children:i.commercial_partner.cp_type.replace("_"," ")}),i.commercial_partner.jurisdiction&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs",children:[(0,b.jsx)(p.Globe,{className:"h-3 w-3"}),i.commercial_partner.jurisdiction]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)(e.Badge,{variant:"outline",className:(0,v.cn)("capitalize",S[i.commercial_partner.status]),children:i.commercial_partner.status}),i.commercial_partner.kyc_status&&(0,b.jsxs)(e.Badge,{variant:"secondary",className:(0,v.cn)("text-xs",T[i.commercial_partner.kyc_status]),children:["KYC: ",i.commercial_partner.kyc_status.replace("_"," ")]})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2 py-4",children:[(0,b.jsxs)(d.Card,{className:"p-3",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Deals"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:i.stats.total_deals})]}),(0,b.jsxs)(d.Card,{className:"p-3",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Referrals"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:i.stats.total_referrals})]}),(0,b.jsxs)(d.Card,{className:"p-3",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Fee Plans"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:i.stats.active_fee_plans})]}),(0,b.jsxs)(d.Card,{className:"p-3",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:"Agreements"}),(0,b.jsx)("div",{className:"text-lg font-semibold",children:i.stats.active_agreements})]})]}),(0,b.jsx)(B.Separator,{}),(0,b.jsxs)(A.Tabs,{defaultValue:"overview",className:"mt-4",children:[(0,b.jsxs)(A.TabsList,{className:"grid w-full grid-cols-5",children:[(0,b.jsx)(A.TabsTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(A.TabsTrigger,{value:"fee-plans",children:"Fee Plans"}),(0,b.jsx)(A.TabsTrigger,{value:"commissions",children:"Commissions"}),(0,b.jsx)(A.TabsTrigger,{value:"agreements",children:"Agreements"}),(0,b.jsx)(A.TabsTrigger,{value:"referrals",children:"Referrals"})]}),(0,b.jsxs)(A.TabsContent,{value:"overview",className:"space-y-4 mt-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Contact Information"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-2",children:[i.commercial_partner.contact_name&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(q.Users,{className:"h-4 w-4 text-muted-foreground"}),i.commercial_partner.contact_name]}),i.commercial_partner.contact_email&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(o.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("a",{href:`mailto:${i.commercial_partner.contact_email}`,className:"text-primary hover:underline",children:i.commercial_partner.contact_email})]}),i.commercial_partner.contact_phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(C.Phone,{className:"h-4 w-4 text-muted-foreground"}),i.commercial_partner.contact_phone]}),i.commercial_partner.country&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(p.Globe,{className:"h-4 w-4 text-muted-foreground"}),i.commercial_partner.country]})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Regulatory Information"})}),(0,b.jsxs)(d.CardContent,{className:"space-y-2",children:[i.commercial_partner.regulatory_status&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(F.ShieldCheck,{className:"h-4 w-4 text-muted-foreground"}),"Status: ",i.commercial_partner.regulatory_status]}),i.commercial_partner.jurisdiction&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(G.Scale,{className:"h-4 w-4 text-muted-foreground"}),"Jurisdiction: ",i.commercial_partner.jurisdiction]}),i.commercial_partner.contract_end_date&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(H.CalendarDays,{className:"h-4 w-4 text-muted-foreground"}),"Contract expires: ",(0,w.formatDate)(i.commercial_partner.contract_end_date)]})]})]}),i.deals.length>0&&(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Deals Involved"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2",children:[i.deals.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsx)(e.Badge,{variant:"outline",className:"capitalize",children:a.status})]},a.id)),i.deals.length>5&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["+",i.deals.length-5," more deals"]})]})})]})]}),(0,b.jsx)(A.TabsContent,{value:"fee-plans",className:"space-y-4 mt-4",children:0===i.fee_plans.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(r.FileText,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No fee plans assigned"}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:(0,b.jsx)(y.default,{href:"/versotech_main/fee-plans",children:"Create Fee Plan"})})]}):i.fee_plans.map(a=>(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(d.CardTitle,{className:"text-sm",children:a.name}),(0,b.jsx)(e.Badge,{variant:a.is_active?"default":"secondary",children:a.is_active?"Active":"Inactive"})]}),a.description&&(0,b.jsx)(d.CardDescription,{className:"text-xs",children:a.description})]}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-xs text-muted-foreground mb-2",children:["Effective: ",(0,w.formatDate)(a.effective_from||""),a.effective_until&&` - ${(0,w.formatDate)(a.effective_until)}`]}),a.components&&a.components.length>0&&(0,b.jsx)("div",{className:"space-y-1",children:a.components.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs bg-muted/50 p-2 rounded",children:[(0,b.jsx)("span",{className:"capitalize",children:a.kind.replace("_"," ")}),(0,b.jsx)("span",{className:"font-medium",children:a.rate_bps?`${(a.rate_bps/100).toFixed(2)}%`:(0,w.formatCurrency)(a.flat_amount||0,"USD")})]},a.id))})]})]},a.id))}),(0,b.jsxs)(A.TabsContent,{value:"commissions",className:"space-y-4 mt-4",children:[(0,b.jsx)(K.PartnerCommissionSummary,{summary:i.commission_summary,variant:"card"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",onClick:()=>L(!0),children:[(0,b.jsx)(s.DollarSign,{className:"h-4 w-4 mr-2"}),"Record Commission"]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,b.jsxs)(y.default,{href:"/versotech_main/lawyer-reconciliation",children:[(0,b.jsx)(E.TrendingUp,{className:"h-4 w-4 mr-2"}),"Reconciliation"]})})]}),O?(0,b.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,b.jsx)(m.Loader2,{className:"h-4 w-4 animate-spin"})}):M.length>0?(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsx)(d.CardTitle,{className:"text-sm",children:"Recent Commissions"})}),(0,b.jsx)(d.CardContent,{className:"space-y-2",children:M.slice(0,10).map(a=>{let c=R[a.status]||R.accrued,d=c.icon;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d,{className:(0,v.cn)("h-4 w-4",c.color)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:(0,w.formatCurrency)(a.accrual_amount,a.currency)}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[a.deal?.name||"No deal"," • ",(0,w.formatDate)(a.created_at)]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Badge,{variant:"outline",className:"text-xs capitalize",children:a.status.replace(/_/g," ")}),"accrued"===a.status&&(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>Y(a),disabled:U===a.id,children:U===a.id?(0,b.jsx)(m.Loader2,{className:"h-3.5 w-3.5 animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.FileText,{className:"h-3.5 w-3.5 mr-1"}),"Request Invoice"]})}),"invoiced"===a.status&&(0,b.jsx)(f.Button,{size:"sm",variant:"outline",onClick:()=>Z(a),disabled:U===a.id,children:U===a.id?(0,b.jsx)(m.Loader2,{className:"h-3.5 w-3.5 animate-spin"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.CreditCard,{className:"h-3.5 w-3.5 mr-1"}),"Request Payment"]})})]})]},a.id)})})]}):(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"py-6 text-center text-muted-foreground text-sm",children:"No commissions recorded yet"})})]}),(0,b.jsx)(A.TabsContent,{value:"agreements",className:"space-y-4 mt-4",children:0===i.placement_agreements.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(t.Handshake,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No placement agreements"})]}):i.placement_agreements.map(a=>(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(d.CardTitle,{className:"text-sm capitalize",children:[a.agreement_type.replace("_"," ")," Agreement"]}),(0,b.jsx)(e.Badge,{variant:"outline",className:(0,v.cn)("capitalize",S[a.status]),children:a.status.replace(/_/g," ")})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Commission:"}),(0,b.jsxs)("span",{className:"ml-1 font-medium",children:[(a.default_commission_bps/100).toFixed(2),"%"]})]}),a.commission_cap_amount&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Cap:"}),(0,b.jsx)("span",{className:"ml-1 font-medium",children:(0,w.formatCurrency)(a.commission_cap_amount,"USD")})]}),a.territory&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Territory:"}),(0,b.jsx)("span",{className:"ml-1",children:a.territory})]}),a.exclusivity_level&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Exclusivity:"}),(0,b.jsx)("span",{className:"ml-1 capitalize",children:a.exclusivity_level.replace("_"," ")})]})]}),a.effective_date&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Effective: ",(0,w.formatDate)(a.effective_date),a.expiry_date&&` - ${(0,w.formatDate)(a.expiry_date)}`]})]})]},a.id))}),(0,b.jsx)(A.TabsContent,{value:"referrals",className:"space-y-4 mt-4",children:0===i.recent_referrals.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(q.Users,{className:"h-10 w-10 text-muted-foreground mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No referrals yet"})]}):(0,b.jsx)("div",{className:"space-y-2",children:i.recent_referrals.map(a=>(0,b.jsx)(d.Card,{className:"p-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-sm",children:a.investor?.name||"Unknown Investor"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.deal?.name||"Unknown Deal"})]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,w.formatDate)(a.created_at)})]})},a.id))})})]})]}):null})}),i&&(0,b.jsx)(Q,{open:J,onOpenChange:L,commercialPartnerId:i.commercial_partner.id,commercialPartnerName:i.commercial_partner.name,deals:i.deals,feePlans:i.fee_plans,onSuccess:()=>{W(),X()}})]}):null}let V={active:"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",pending:"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700",inactive:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600",suspended:"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700"},W={approved:"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300",pending:"bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300",expired:"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300",not_started:"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"},X=[{label:"All Status",value:"all"},{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Inactive",value:"inactive"}];function Y(){let[a,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)([]),[G,H]=(0,c.useState)({totalCPs:0,activeCPs:0,totalClients:0,totalPlacementValue:0,totalOwed:0,totalPaid:0}),[I,J]=(0,c.useState)(!0),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)("all"),[R,S]=(0,c.useState)("all"),[T,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)(!1);(0,c.useEffect)(()=>{async function a(a){let{data:b,error:c}=await a.from("commercial_partners").select("*").order("name").limit(100);if(c)throw c;let d={accrued:0,invoice_requested:0,invoiced:0,paid:0,cancelled:0,total_owed:0,currency:"USD"},e=(b||[]).map(a=>({id:a.id,name:a.name||a.legal_name||"Unknown CP",legal_name:a.legal_name,cp_type:a.cp_type,status:a.status||"active",regulatory_status:a.regulatory_status,jurisdiction:a.jurisdiction,contact_name:a.contact_name,contact_email:a.contact_email,contact_phone:a.contact_phone,country:a.country,logo_url:a.logo_url,kyc_status:a.kyc_status,contract_end_date:a.contract_end_date,deals_count:0,clients_count:0,total_placement_value:0,fee_plans:[],commission_summary:d,deal_ids:[]}));D(e),H({totalCPs:e.length,activeCPs:e.filter(a=>"active"===a.status).length,totalClients:0,totalPlacementValue:0,totalOwed:0,totalPaid:0})}!async function(){try{J(!0);let b=(0,x.createClient)(),{data:{user:c}}=await b.auth.getUser();if(!c)return void M("Not authenticated");let{data:d,error:e}=await b.from("arranger_users").select("arranger_id").eq("user_id",c.id).single();if(e||!d)return void await a(b);B(d.arranger_id);let{data:f,error:g}=await b.from("arranger_entities").select("id, legal_name, status").eq("id",d.arranger_id).single();if(g)throw g;z(f);let{data:h,error:i}=await b.from("deals").select("id, name, company_name").eq("arranger_entity_id",d.arranger_id).order("name");if(i)throw i;if(F(h||[]),!h||0===h.length){D([]),H({totalCPs:0,activeCPs:0,totalClients:0,totalPlacementValue:0,totalOwed:0,totalPaid:0});return}let j=h.map(a=>a.id),{data:k,error:l}=await b.from("deal_memberships").select("referred_by_entity_id, investor_id, deal_id, deal:deal_id (id, name)").in("deal_id",j).eq("referred_by_entity_type","commercial_partner").not("referred_by_entity_id","is",null);if(l)throw l;let m=[...new Set((k||[]).map(a=>a.referred_by_entity_id))];if(0===m.length){D([]),H({totalCPs:0,activeCPs:0,totalClients:0,totalPlacementValue:0,totalOwed:0,totalPaid:0});return}let{data:n,error:o}=await b.from("commercial_partners").select("*").in("id",m).order("name");if(o)throw o;let{data:p}=await b.from("commercial_partner_clients").select("commercial_partner_id").in("commercial_partner_id",m),q=new Map;(p||[]).forEach(a=>{let b=q.get(a.commercial_partner_id)||0;q.set(a.commercial_partner_id,b+1)});let r=[...new Set((k||[]).filter(a=>a.investor_id).map(a=>a.investor_id))],{data:s}=await b.from("subscriptions").select("investor_id, commitment").in("investor_id",r),t=new Map;(s||[]).forEach(a=>{let b=t.get(a.investor_id)||0;t.set(a.investor_id,b+(Number(a.commitment)||0))});let{data:u}=await b.from("fee_plans").select("id, name, is_active, commercial_partner_id").in("commercial_partner_id",m).eq("created_by_arranger_id",d.arranger_id),v=new Map;(u||[]).forEach(a=>{let b=v.get(a.commercial_partner_id)||[];b.push({id:a.id,name:a.name,is_active:a.is_active}),v.set(a.commercial_partner_id,b)});let{data:w}=await b.from("commercial_partner_commissions").select("commercial_partner_id, status, accrual_amount, currency").in("commercial_partner_id",m).eq("arranger_id",d.arranger_id),y=new Map;m.forEach(a=>{y.set(a,{accrued:0,invoice_requested:0,invoiced:0,paid:0,cancelled:0,total_owed:0,currency:"USD"})}),(w||[]).forEach(a=>{let b=y.get(a.commercial_partner_id);if(!b)return;let c=Number(a.accrual_amount)||0;"accrued"===a.status?b.accrued+=c:"invoice_requested"===a.status?b.invoice_requested+=c:"invoiced"===a.status?b.invoiced+=c:"paid"===a.status?b.paid+=c:"cancelled"===a.status&&(b.cancelled+=c),["accrued","invoice_requested","invoiced"].includes(a.status)&&(b.total_owed+=c),a.currency&&(b.currency=a.currency)});let A=(n||[]).map(a=>{let b=(k||[]).filter(b=>b.referred_by_entity_id===a.id),c=[...new Set(b.map(a=>{let b=Array.isArray(a.deal)?a.deal[0]:a.deal;return b?.id}).filter(Boolean))],d=b.reduce((a,b)=>b.investor_id?a+(t.get(b.investor_id)||0):a,0);return{id:a.id,name:a.name||a.legal_name||"Unknown CP",legal_name:a.legal_name,cp_type:a.cp_type,status:a.status||"active",regulatory_status:a.regulatory_status,jurisdiction:a.jurisdiction,contact_name:a.contact_name,contact_email:a.contact_email,contact_phone:a.contact_phone,country:a.country,logo_url:a.logo_url,kyc_status:a.kyc_status,contract_end_date:a.contract_end_date,deals_count:c.length,clients_count:q.get(a.id)||0,total_placement_value:d,fee_plans:v.get(a.id)||[],commission_summary:y.get(a.id)||{accrued:0,invoice_requested:0,invoiced:0,paid:0,cancelled:0,total_owed:0,currency:"USD"},deal_ids:c}});D(A);let C=A.filter(a=>"active"===a.status).length,E=A.reduce((a,b)=>a+b.clients_count,0),G=A.reduce((a,b)=>a+b.total_placement_value,0),I=A.reduce((a,b)=>a+b.commission_summary.total_owed,0),K=A.reduce((a,b)=>a+b.commission_summary.paid,0);H({totalCPs:A.length,activeCPs:C,totalClients:E,totalPlacementValue:G,totalOwed:I,totalPaid:K}),M(null)}catch(a){console.error("[MyCommercialPartnersPage] Error:",a),M(a instanceof Error?a.message:"Failed to load commercial partners")}finally{J(!1)}}()},[]);let _=C.filter(a=>{let b="all"===P||a.status===P,c=!N||a.name?.toLowerCase().includes(N.toLowerCase())||a.legal_name?.toLowerCase().includes(N.toLowerCase())||a.contact_name?.toLowerCase().includes(N.toLowerCase())||a.jurisdiction?.toLowerCase().includes(N.toLowerCase()),d="all"===R||a.deal_ids.includes(R);return b&&c&&d}),aa=new Date,ab=new Date(aa.getTime()+2592e6);return I?(0,b.jsxs)("div",{className:"flex items-center justify-center py-16",children:[(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,b.jsx)("span",{className:"ml-3 text-muted-foreground",children:"Loading commercial partners..."})]}):L?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(n.AlertCircle,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Error Loading Commercial Partners"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:L})]}):(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"My Commercial Partners"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:a?`Commercial partners working with ${a.legal_name}`:"View all commercial partners"})]}),(0,b.jsx)(y.default,{href:"/versotech_main/fee-plans",children:(0,b.jsxs)(f.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(r.FileText,{className:"h-4 w-4 mr-2"}),"Fee Plans"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(j.Building2,{className:"h-4 w-4"}),"Total CPs"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:G.totalCPs}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"In your network"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4"}),"Active"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:G.activeCPs}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"With valid contracts"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(q.Users,{className:"h-4 w-4"}),"Clients"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:G.totalClients}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total clients served"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(t.Handshake,{className:"h-4 w-4"}),"Placement Value"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:(0,w.formatCurrency)(G.totalPlacementValue,"USD")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total placed"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(s.DollarSign,{className:"h-4 w-4"}),"Fees Owed"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:(0,w.formatCurrency)(G.totalOwed,"USD")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Pending payment"})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(k.CheckCircle2,{className:"h-4 w-4"}),"Fees Paid"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:(0,w.formatCurrency)(G.totalPaid,"USD")}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total paid out"})]})]})]}),(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:"Search commercial partners...",value:N,onChange:a=>O(a.target.value),className:"pl-10"})]}),(0,b.jsxs)(h.Select,{value:P,onValueChange:Q,children:[(0,b.jsx)(h.SelectTrigger,{className:"w-full md:w-48",children:(0,b.jsx)(h.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsx)(h.SelectContent,{children:X.map(a=>(0,b.jsx)(h.SelectItem,{value:a.value,children:a.label},a.value))})]}),E.length>0&&(0,b.jsxs)(h.Select,{value:R,onValueChange:S,children:[(0,b.jsx)(h.SelectTrigger,{className:"w-full md:w-56",children:(0,b.jsx)(h.SelectValue,{placeholder:"Filter by deal"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All Deals"}),E.map(a=>(0,b.jsx)(h.SelectItem,{value:a.id,children:a.name},a.id))]})]})]})})}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Commercial Partners"}),(0,b.jsxs)(d.CardDescription,{children:[_.length," partner",1!==_.length?"s":""," found",a&&" • Click a row to view details"]})]}),(0,b.jsx)(d.CardContent,{children:0===_.length?(0,b.jsxs)("div",{className:"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2",children:[(0,b.jsx)(j.Building2,{className:"h-10 w-10 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:N||"all"!==P?"No partners match your filters":"No commercial partners in your network yet"})]}):(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(i.Table,{children:[(0,b.jsx)(i.TableHeader,{children:(0,b.jsxs)(i.TableRow,{children:[(0,b.jsx)(i.TableHead,{children:"Partner"}),(0,b.jsx)(i.TableHead,{children:"Type"}),(0,b.jsx)(i.TableHead,{children:"Jurisdiction"}),(0,b.jsx)(i.TableHead,{children:"Fee Plans"}),(0,b.jsx)(i.TableHead,{children:"Placements"}),(0,b.jsx)(i.TableHead,{children:"Payments"}),(0,b.jsx)(i.TableHead,{children:"Status"}),(0,b.jsx)(i.TableHead,{className:"w-10"})]})}),(0,b.jsx)(i.TableBody,{children:_.map(c=>{let d=c.contract_end_date&&new Date(c.contract_end_date)<=ab&&new Date(c.contract_end_date)>aa,f=c.contract_end_date&&new Date(c.contract_end_date)<=aa;return(0,b.jsxs)(i.TableRow,{className:(0,v.cn)(a&&"cursor-pointer hover:bg-muted/50 transition-colors"),onClick:()=>a&&void(Y(c.id),$(!0)),children:[(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[c.logo_url?(0,b.jsx)("img",{src:c.logo_url,alt:c.name,className:"h-10 w-10 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)(j.Building2,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:c.name}),c.contact_email&&(0,b.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)(o.Mail,{className:"h-3 w-3"}),c.contact_email]})]})]})}),(0,b.jsx)(i.TableCell,{children:c.cp_type?(0,b.jsx)(e.Badge,{variant:"secondary",className:"capitalize",children:c.cp_type.replace("_"," ")}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"})}),(0,b.jsx)(i.TableCell,{children:c.jurisdiction?(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Globe,{className:"h-3 w-3 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm",children:c.jurisdiction})]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"})}),(0,b.jsx)(i.TableCell,{children:c.fee_plans.length>0?(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.fee_plans.slice(0,2).map(a=>(0,b.jsx)(e.Badge,{variant:a.is_active?"default":"secondary",className:"text-xs",children:a.name},a.id)),c.fee_plans.length>2&&(0,b.jsxs)(e.Badge,{variant:"outline",className:"text-xs",children:["+",c.fee_plans.length-2]})]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"No fee plans"})}),(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:(0,w.formatCurrency)(c.total_placement_value,"USD")}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[c.deals_count," deal",1!==c.deals_count?"s":""," • ",c.clients_count," client",1!==c.clients_count?"s":""]})]})}),(0,b.jsx)(i.TableCell,{children:(0,b.jsx)(K.PartnerCommissionSummary,{summary:c.commission_summary,variant:"inline"})}),(0,b.jsx)(i.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(e.Badge,{variant:"outline",className:(0,v.cn)("capitalize",V[c.status]||V.active),children:c.status}),c.kyc_status&&(0,b.jsx)("div",{children:(0,b.jsxs)(e.Badge,{variant:"secondary",className:(0,v.cn)("text-xs",W[c.kyc_status]||""),children:["KYC: ",c.kyc_status.replace("_"," ")]})}),f&&(0,b.jsx)(e.Badge,{variant:"destructive",className:"text-xs",children:"Contract Expired"}),d&&!f&&(0,b.jsx)(e.Badge,{variant:"outline",className:"text-xs bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300",children:"Expiring Soon"})]})}),(0,b.jsx)(i.TableCell,{children:a&&(0,b.jsx)(u.ChevronRight,{className:"h-4 w-4 text-muted-foreground"})})]},c.id)})})]})})})]}),(0,b.jsx)(U,{commercialPartnerId:T,open:Z,onOpenChange:$})]})}a.s(["default",()=>Y],606106)}];

//# sourceMappingURL=c6ad4_src_app_%28main%29_versotech_main_my-commercial-partners_page_tsx_fa31cde6._.js.map