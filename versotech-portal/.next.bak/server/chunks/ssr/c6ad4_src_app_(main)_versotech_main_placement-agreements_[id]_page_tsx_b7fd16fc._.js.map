{"version":3,"sources":["../../../../../versotech-portal/src/app/%28main%29/versotech_main/placement-agreements/%5Bid%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useParams, useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport {\r\n  FileText,\r\n  CheckCircle2,\r\n  Clock,\r\n  AlertCircle,\r\n  FileSignature,\r\n  Calendar,\r\n  Globe,\r\n  Percent,\r\n  Building2,\r\n  ArrowLeft,\r\n  Download,\r\n  PenTool,\r\n  Loader2,\r\n  ExternalLink,\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport Link from 'next/link'\r\n\r\ntype Agreement = {\r\n  id: string\r\n  agreement_type: string\r\n  signed_date: string | null\r\n  effective_date: string | null\r\n  expiry_date: string | null\r\n  default_commission_bps: number\r\n  commission_cap_amount: number | null\r\n  payment_terms: string | null\r\n  territory: string | null\r\n  deal_types: string[] | null\r\n  exclusivity_level: string | null\r\n  status: string\r\n  pdf_url: string | null\r\n  signed_pdf_url: string | null\r\n  created_at: string\r\n  commercial_partner: {\r\n    id: string\r\n    legal_name: string\r\n    display_name: string\r\n  } | null\r\n  ceo_signature_request_id: string | null\r\n  cp_signature_request_id: string | null\r\n}\r\n\r\nconst STATUS_STYLES: Record<string, { bg: string; icon: React.ComponentType<{ className?: string }> }> = {\r\n  active: { bg: 'bg-green-100 text-green-800', icon: CheckCircle2 },\r\n  pending_signature: { bg: 'bg-yellow-100 text-yellow-800', icon: Clock },\r\n  pending_ceo_signature: { bg: 'bg-blue-100 text-blue-800', icon: PenTool },\r\n  pending_arranger_signature: { bg: 'bg-purple-100 text-purple-800', icon: PenTool },\r\n  pending_cp_signature: { bg: 'bg-orange-100 text-orange-800', icon: FileSignature },\r\n  approved: { bg: 'bg-blue-100 text-blue-800', icon: CheckCircle2 },\r\n  draft: { bg: 'bg-gray-100 text-gray-800', icon: FileText },\r\n  expired: { bg: 'bg-red-100 text-red-800', icon: AlertCircle },\r\n  terminated: { bg: 'bg-red-100 text-red-800', icon: AlertCircle },\r\n}\r\n\r\nconst AGREEMENT_TYPE_LABELS: Record<string, string> = {\r\n  referral: 'Referral Agreement',\r\n  revenue_share: 'Revenue Share Agreement',\r\n  fixed_fee: 'Fixed Fee Agreement',\r\n  hybrid: 'Hybrid Agreement',\r\n  placement: 'Placement Agreement',\r\n}\r\n\r\nconst PAYMENT_TERMS_LABELS: Record<string, string> = {\r\n  net_15: 'Net 15 Days',\r\n  net_30: 'Net 30 Days',\r\n  net_45: 'Net 45 Days',\r\n  net_60: 'Net 60 Days',\r\n}\r\n\r\nfunction formatDate(dateString: string | null): string {\r\n  if (!dateString) return '-'\r\n  return new Date(dateString).toLocaleDateString('en-US', {\r\n    month: 'short',\r\n    day: 'numeric',\r\n    year: 'numeric'\r\n  })\r\n}\r\n\r\nfunction formatBps(bps: number): string {\r\n  return `${(bps / 100).toFixed(2)}%`\r\n}\r\n\r\nexport default function PlacementAgreementDetailPage() {\r\n  const params = useParams()\r\n  const router = useRouter()\r\n  const agreementId = params.id as string\r\n\r\n  const [agreement, setAgreement] = useState<Agreement | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [signing, setSigning] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetchAgreement() {\r\n      try {\r\n        setLoading(true)\r\n        const response = await fetch(`/api/placement-agreements/${agreementId}`)\r\n        if (!response.ok) {\r\n          if (response.status === 404) {\r\n            throw new Error('Agreement not found')\r\n          }\r\n          throw new Error('Failed to fetch agreement')\r\n        }\r\n        const data = await response.json()\r\n        setAgreement(data.agreement || data)\r\n      } catch (err) {\r\n        console.error('Error fetching agreement:', err)\r\n        setError(err instanceof Error ? err.message : 'Failed to load agreement')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    if (agreementId) {\r\n      fetchAgreement()\r\n    }\r\n  }, [agreementId])\r\n\r\n  const handleSign = async () => {\r\n    try {\r\n      setSigning(true)\r\n      const response = await fetch(`/api/placement-agreements/${agreementId}/sign`, {\r\n        method: 'POST',\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json()\r\n        throw new Error(data.error || 'Failed to initiate signing')\r\n      }\r\n\r\n      const data = await response.json()\r\n      if (data.signing_url) {\r\n        // Redirect to signing page\r\n        router.push(data.signing_url)\r\n      }\r\n    } catch (err) {\r\n      console.error('Error initiating signing:', err)\r\n      setError(err instanceof Error ? err.message : 'Failed to start signing process')\r\n    } finally {\r\n      setSigning(false)\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6 space-y-6\">\r\n        <Skeleton className=\"h-8 w-64\" />\r\n        <Card>\r\n          <CardHeader>\r\n            <Skeleton className=\"h-6 w-48\" />\r\n            <Skeleton className=\"h-4 w-96\" />\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <Skeleton className=\"h-4 w-full\" />\r\n            <Skeleton className=\"h-4 w-3/4\" />\r\n            <Skeleton className=\"h-4 w-1/2\" />\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !agreement) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <Card className=\"max-w-lg mx-auto\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2 text-destructive\">\r\n              <AlertCircle className=\"h-5 w-5\" />\r\n              Error\r\n            </CardTitle>\r\n            <CardDescription>{error || 'Agreement not found'}</CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <Button variant=\"outline\" onClick={() => router.back()}>\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Go Back\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const statusStyle = STATUS_STYLES[agreement.status] || STATUS_STYLES.draft\r\n  const StatusIcon = statusStyle.icon\r\n\r\n  const canSign = agreement.status === 'pending_cp_signature'\r\n  const isActive = agreement.status === 'active'\r\n  const showPdf = agreement.signed_pdf_url || agreement.pdf_url\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()}>\r\n            <ArrowLeft className=\"h-5 w-5\" />\r\n          </Button>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">Placement Agreement</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              {AGREEMENT_TYPE_LABELS[agreement.agreement_type] || agreement.agreement_type}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <Badge className={cn('flex items-center gap-1', statusStyle.bg)}>\r\n          <StatusIcon className=\"h-3 w-3\" />\r\n          {agreement.status.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\r\n        </Badge>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"grid gap-6 md:grid-cols-3\">\r\n        {/* Agreement Details */}\r\n        <Card className=\"md:col-span-2\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <FileText className=\"h-5 w-5\" />\r\n              Agreement Details\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            {/* Commercial Partner */}\r\n            {agreement.commercial_partner && (\r\n              <div className=\"flex items-center gap-3 p-4 bg-muted/50 rounded-lg\">\r\n                <Building2 className=\"h-8 w-8 text-muted-foreground\" />\r\n                <div>\r\n                  <p className=\"text-sm text-muted-foreground\">Commercial Partner</p>\r\n                  <p className=\"font-medium\">{agreement.commercial_partner.legal_name || agreement.commercial_partner.display_name}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Key Terms Grid */}\r\n            <div className=\"grid gap-4 sm:grid-cols-2\">\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm text-muted-foreground flex items-center gap-1\">\r\n                  <Percent className=\"h-4 w-4\" />\r\n                  Commission Rate\r\n                </p>\r\n                <p className=\"font-medium text-lg\">{formatBps(agreement.default_commission_bps)}</p>\r\n              </div>\r\n\r\n              {agreement.commission_cap_amount && (\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm text-muted-foreground\">Commission Cap</p>\r\n                  <p className=\"font-medium\">${agreement.commission_cap_amount.toLocaleString()}</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm text-muted-foreground flex items-center gap-1\">\r\n                  <Globe className=\"h-4 w-4\" />\r\n                  Territory\r\n                </p>\r\n                <p className=\"font-medium\">{agreement.territory || 'Global'}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm text-muted-foreground\">Exclusivity</p>\r\n                <p className=\"font-medium capitalize\">{agreement.exclusivity_level?.replace(/_/g, ' ') || 'Non-exclusive'}</p>\r\n              </div>\r\n\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm text-muted-foreground\">Payment Terms</p>\r\n                <p className=\"font-medium\">{PAYMENT_TERMS_LABELS[agreement.payment_terms || ''] || agreement.payment_terms || '-'}</p>\r\n              </div>\r\n\r\n              {agreement.deal_types && agreement.deal_types.length > 0 && (\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm text-muted-foreground\">Deal Types</p>\r\n                  <div className=\"flex flex-wrap gap-1\">\r\n                    {agreement.deal_types.map((type: string) => (\r\n                      <Badge key={type} variant=\"secondary\" className=\"text-xs\">\r\n                        {type}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Dates & Actions */}\r\n        <div className=\"space-y-6\">\r\n          {/* Dates Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2 text-base\">\r\n                <Calendar className=\"h-4 w-4\" />\r\n                Important Dates\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm text-muted-foreground\">Created</p>\r\n                <p className=\"font-medium\">{formatDate(agreement.created_at)}</p>\r\n              </div>\r\n\r\n              {agreement.signed_date && (\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm text-muted-foreground\">Signed</p>\r\n                  <p className=\"font-medium\">{formatDate(agreement.signed_date)}</p>\r\n                </div>\r\n              )}\r\n\r\n              {agreement.effective_date && (\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm text-muted-foreground\">Effective From</p>\r\n                  <p className=\"font-medium\">{formatDate(agreement.effective_date)}</p>\r\n                </div>\r\n              )}\r\n\r\n              {agreement.expiry_date && (\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-sm text-muted-foreground\">Expires</p>\r\n                  <p className=\"font-medium\">{formatDate(agreement.expiry_date)}</p>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Actions Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-base\">Actions</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              {canSign && (\r\n                <Button className=\"w-full\" onClick={handleSign} disabled={signing}>\r\n                  {signing ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      Preparing...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FileSignature className=\"h-4 w-4 mr-2\" />\r\n                      Sign Agreement\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              )}\r\n\r\n              {showPdf && (\r\n                <Button variant=\"outline\" className=\"w-full\" asChild>\r\n                  <a\r\n                    href={agreement.signed_pdf_url || agreement.pdf_url || '#'}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    <Download className=\"h-4 w-4 mr-2\" />\r\n                    {isActive ? 'Download Signed Agreement' : 'View Agreement PDF'}\r\n                  </a>\r\n                </Button>\r\n              )}\r\n\r\n              <Button variant=\"ghost\" className=\"w-full\" asChild>\r\n                <Link href=\"/versotech_main/placement-agreements\">\r\n                  <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                  Back to Agreements\r\n                </Link>\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Status Message */}\r\n          {agreement.status === 'pending_ceo_signature' && (\r\n            <Card className=\"border-blue-200 bg-blue-50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <Clock className=\"h-5 w-5 text-blue-600 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-blue-900\">Awaiting CEO Signature</p>\r\n                    <p className=\"text-sm text-blue-700 mt-1\">\r\n                      The CEO must sign this agreement before you can add your signature.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {agreement.status === 'pending_arranger_signature' && (\r\n            <Card className=\"border-purple-200 bg-purple-50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <Clock className=\"h-5 w-5 text-purple-600 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-purple-900\">Awaiting Arranger Signature</p>\r\n                    <p className=\"text-sm text-purple-700 mt-1\">\r\n                      The Arranger must sign this agreement before you can add your signature.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {agreement.status === 'pending_cp_signature' && (\r\n            <Card className=\"border-orange-200 bg-orange-50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <FileSignature className=\"h-5 w-5 text-orange-600 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-orange-900\">Your Signature Required</p>\r\n                    <p className=\"text-sm text-orange-700 mt-1\">\r\n                      This agreement has been signed and is ready for your signature. Click &quot;Sign Agreement&quot; to complete the signing process.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n\r\n          {isActive && (\r\n            <Card className=\"border-green-200 bg-green-50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-0.5\" />\r\n                  <div>\r\n                    <p className=\"font-medium text-green-900\">Agreement Active</p>\r\n                    <p className=\"text-sm text-green-700 mt-1\">\r\n                      This agreement is fully executed and active.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}