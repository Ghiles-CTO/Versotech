{"version":3,"sources":["../../../../../versotech-portal/node_modules/lucide-react/src/defaultAttributes.ts","../../../../../versotech-portal/node_modules/shared/src/utils.ts","../../../../../versotech-portal/node_modules/lucide-react/src/createLucideIcon.ts","../../../../../versotech-portal/node_modules/lucide-react/src/Icon.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/circle-alert.ts","../../../../../versotech-portal/src/components/calendar/calendar-split-view.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28main%29/versotech_main/calendar/page.tsx"],"sourcesContent":["export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CalendarSplitView = registerClientReference(\n    function() { throw new Error(\"Attempted to call CalendarSplitView() from the server but CalendarSplitView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/calendar/calendar-split-view.tsx\",\n    \"CalendarSplitView\",\n);\n","import { CalendarSplitView } from '@/components/calendar/calendar-split-view'\r\nimport type { CalendarEvent } from '@/components/calendar/calendar-view'\r\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { AlertCircle } from 'lucide-react'\r\nimport { checkStaffAccess } from '@/lib/auth'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\n// Color palettes for different event types\r\nconst TASK_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  high: { id: 'task-high', name: 'Task • High priority', color: '#dc2626' },\r\n  medium: { id: 'task-medium', name: 'Task • Medium priority', color: '#f97316' },\r\n  low: { id: 'task-low', name: 'Task • Standard priority', color: '#2563eb' }\r\n}\r\n\r\nconst REQUEST_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  urgent: { id: 'request-urgent', name: 'Investor request • Urgent', color: '#be123c' },\r\n  high: { id: 'request-high', name: 'Investor request • High', color: '#b45309' },\r\n  normal: { id: 'request-normal', name: 'Investor request • Standard', color: '#0ea5e9' },\r\n  low: { id: 'request-low', name: 'Investor request • Low', color: '#64748b' }\r\n}\r\n\r\nconst DEAL_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  open: { id: 'deal-open', name: 'Deal close • Open', color: '#7c3aed' },\r\n  allocation_pending: { id: 'deal-allocation', name: 'Deal close • Allocation pending', color: '#a855f7' },\r\n  due_diligence: { id: 'deal-dd', name: 'Deal close • Due diligence', color: '#9333ea' },\r\n  closed: { id: 'deal-closed', name: 'Deal close • Closed', color: '#64748b' }\r\n}\r\n\r\nconst CAPITAL_CALL_PALETTE = {\r\n  pending: { id: 'call-pending', name: 'Capital call due', color: '#dc2626' },\r\n  draft: { id: 'call-draft', name: 'Capital call • Draft', color: '#f97316' }\r\n}\r\n\r\nconst DISTRIBUTION_PALETTE = {\r\n  scheduled: { id: 'dist-scheduled', name: 'Distribution', color: '#16a34a' }\r\n}\r\n\r\nconst KYC_PALETTE = {\r\n  expiring_soon: { id: 'kyc-expiring', name: 'KYC expiring', color: '#f59e0b' },\r\n  expired: { id: 'kyc-expired', name: 'KYC expired', color: '#dc2626' },\r\n  accred_expiring: { id: 'accred-expiring', name: 'Accreditation expiring', color: '#ea580c' }\r\n}\r\n\r\nconst APPROVAL_PALETTE = {\r\n  sla_breach: { id: 'approval-breach', name: 'Approval • SLA breach', color: '#dc2626' },\r\n  pending: { id: 'approval-pending', name: 'Approval pending', color: '#f59e0b' }\r\n}\r\n\r\nconst FEE_PALETTE = {\r\n  accrued: { id: 'fee-accrued', name: 'Fee event', color: '#14b8a6' }\r\n}\r\n\r\nconst DATA_ROOM_PALETTE = {\r\n  expiring: { id: 'data-room-expiring', name: 'Data room access expiring', color: '#8b5cf6' }\r\n}\r\n\r\nconst SUBSCRIPTION_PALETTE = {\r\n  funding: { id: 'sub-funding', name: 'Subscription funding due', color: '#10b981' }\r\n}\r\n\r\nfunction addDays(base: Date, days: number) {\r\n  return new Date(base.getTime() + days * 86_400_000)\r\n}\r\n\r\nfunction sentenceCase(input: string | null): string | undefined {\r\n  if (!input) return undefined\r\n  return input\r\n    .toLowerCase()\r\n    .split('_')\r\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\r\n    .join(' ')\r\n}\r\n\r\n/**\r\n * Calendar Page for Unified Portal (versotech_main)\r\n *\r\n * Persona-aware calendar view:\r\n * - Staff/CEO personas: Full access to calendar\r\n * - Other personas: Access denied\r\n */\r\nexport default async function CalendarPage() {\r\n  const clientSupabase = await createClient()\r\n  const { data: { user }, error: userError } = await clientSupabase.auth.getUser()\r\n\r\n  if (!user || userError) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"text-center py-16\">\r\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n            Authentication Required\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Please log in to view calendar.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Check if user has staff/CEO persona for full access\r\n  const hasStaffAccess = await checkStaffAccess(user.id)\r\n  const serviceSupabase = createServiceClient()\r\n\r\n  if (!hasStaffAccess) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"text-center py-16\">\r\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n            Access Restricted\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Calendar is only available to staff members.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const calendarEvents: CalendarEvent[] = []\r\n\r\n  // 1. TASKS - All staff tasks\r\n  const { data: taskRows } = await serviceSupabase\r\n    .from('tasks')\r\n    .select('id, title, status, priority, due_at, category, created_at')\r\n    .not('status', 'eq', 'completed')\r\n    .not('owner_user_id', 'is', null)\r\n    .order('due_at', { ascending: true, nullsFirst: false })\r\n    .limit(50)\r\n\r\n  for (const task of taskRows ?? []) {\r\n    const priorityKey = task.priority || 'medium'\r\n    const palette = TASK_PALETTE[priorityKey] ?? TASK_PALETTE.low\r\n    const endDate = task.due_at ? new Date(task.due_at) : new Date(task.created_at)\r\n    const startDate = task.due_at ? addDays(endDate, -1) : new Date(task.created_at)\r\n\r\n    calendarEvents.push({\r\n      id: `task-${task.id}`,\r\n      name: task.title,\r\n      startAt: startDate.toISOString(),\r\n      endAt: endDate.toISOString(),\r\n      status: palette,\r\n      description: task.category ? `Category • ${sentenceCase(task.category)}` : undefined\r\n    })\r\n  }\r\n\r\n  // 2. DEALS - Target close dates\r\n  const { data: dealRows } = await serviceSupabase\r\n    .from('deals')\r\n    .select('id, name, status, close_at, created_at, vehicles ( name )')\r\n    .in('status', ['open', 'allocation_pending', 'draft'])\r\n    .not('close_at', 'is', null)\r\n    .order('close_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const deal of dealRows ?? []) {\r\n    const statusKey = deal.status ?? 'open'\r\n    const palette = DEAL_PALETTE[statusKey] ?? DEAL_PALETTE.open\r\n    const closeDate = new Date(deal.close_at!)\r\n    const startDate = addDays(closeDate, -7)\r\n\r\n    calendarEvents.push({\r\n      id: `deal-${deal.id}`,\r\n      name: `Deal Close: ${deal.name}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: deal.close_at!,\r\n      status: palette,\r\n      description: deal.vehicles?.[0]?.name ? `Vehicle • ${deal.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 3. CAPITAL CALLS - Due dates\r\n  const { data: capitalCallRows } = await serviceSupabase\r\n    .from('capital_calls')\r\n    .select('id, name, due_date, status, vehicles ( name )')\r\n    .in('status', ['draft', 'pending', 'active'])\r\n    .not('due_date', 'is', null)\r\n    .order('due_date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const call of capitalCallRows ?? []) {\r\n    const palette = call.status === 'pending' ? CAPITAL_CALL_PALETTE.pending : CAPITAL_CALL_PALETTE.draft\r\n    const dueDate = new Date(call.due_date!)\r\n    const startDate = addDays(dueDate, -3)\r\n\r\n    calendarEvents.push({\r\n      id: `call-${call.id}`,\r\n      name: call.name,\r\n      startAt: startDate.toISOString(),\r\n      endAt: call.due_date!,\r\n      status: palette,\r\n      description: call.vehicles?.[0]?.name ? `Vehicle • ${call.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 4. DISTRIBUTIONS - Distribution dates\r\n  const { data: distributionRows } = await serviceSupabase\r\n    .from('distributions')\r\n    .select('id, name, date, vehicles ( name )')\r\n    .gte('date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0])\r\n    .order('date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const dist of distributionRows ?? []) {\r\n    const distDate = new Date(dist.date)\r\n\r\n    calendarEvents.push({\r\n      id: `dist-${dist.id}`,\r\n      name: dist.name,\r\n      startAt: distDate.toISOString(),\r\n      endAt: distDate.toISOString(),\r\n      status: DISTRIBUTION_PALETTE.scheduled,\r\n      description: dist.vehicles?.[0]?.name ? `Vehicle • ${dist.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 5. KYC RENEWALS - KYC and accreditation expiry dates\r\n  const ninetyDaysFromNow = new Date(Date.now() + 90 * 86_400_000).toISOString().split('T')[0]\r\n\r\n  const { data: kycRows } = await serviceSupabase\r\n    .from('investors')\r\n    .select('id, legal_name, kyc_expiry_date, accreditation_expiry')\r\n    .or(`kyc_expiry_date.lte.${ninetyDaysFromNow},accreditation_expiry.lte.${ninetyDaysFromNow}`)\r\n    .limit(50)\r\n\r\n  for (const investor of kycRows ?? []) {\r\n    if (investor.kyc_expiry_date) {\r\n      const expiryDate = new Date(investor.kyc_expiry_date)\r\n      const isExpired = expiryDate < new Date()\r\n      const palette = isExpired ? KYC_PALETTE.expired : KYC_PALETTE.expiring_soon\r\n      const startDate = addDays(expiryDate, -14)\r\n\r\n      calendarEvents.push({\r\n        id: `kyc-${investor.id}`,\r\n        name: `KYC Renewal: ${investor.legal_name}`,\r\n        startAt: startDate.toISOString(),\r\n        endAt: investor.kyc_expiry_date,\r\n        status: palette,\r\n        description: isExpired ? 'Expired' : 'Expiring soon'\r\n      })\r\n    }\r\n\r\n    if (investor.accreditation_expiry) {\r\n      const expiryDate = new Date(investor.accreditation_expiry)\r\n      const startDate = addDays(expiryDate, -14)\r\n\r\n      calendarEvents.push({\r\n        id: `accred-${investor.id}`,\r\n        name: `Accreditation Renewal: ${investor.legal_name}`,\r\n        startAt: startDate.toISOString(),\r\n        endAt: investor.accreditation_expiry,\r\n        status: KYC_PALETTE.accred_expiring,\r\n        description: 'Accreditation expiring'\r\n      })\r\n    }\r\n  }\r\n\r\n  // 6. APPROVALS - Pending approvals with SLA tracking\r\n  const { data: approvalRows } = await serviceSupabase\r\n    .from('approvals')\r\n    .select('id, entity_type, action, entity_id, created_at, sla_breach_at, requested_by:profiles!requested_by ( display_name )')\r\n    .eq('status', 'pending')\r\n    .order('sla_breach_at', { ascending: true, nullsFirst: false })\r\n    .limit(30)\r\n\r\n  for (const approval of approvalRows ?? []) {\r\n    const breachDate = approval.sla_breach_at\r\n      ? new Date(approval.sla_breach_at)\r\n      : addDays(new Date(approval.created_at), 3)\r\n\r\n    const isBreach = breachDate < new Date()\r\n    const palette = isBreach ? APPROVAL_PALETTE.sla_breach : APPROVAL_PALETTE.pending\r\n    const startDate = new Date(approval.created_at)\r\n\r\n    const approvalType = approval.action\r\n      ? sentenceCase(approval.action)\r\n      : sentenceCase(approval.entity_type)\r\n\r\n    calendarEvents.push({\r\n      id: `approval-${approval.id}`,\r\n      name: `Approval: ${approvalType}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: breachDate.toISOString(),\r\n      status: palette,\r\n      description: Array.isArray(approval.requested_by) && approval.requested_by[0]?.display_name\r\n        ? `Requested by ${approval.requested_by[0].display_name}`\r\n        : undefined\r\n    })\r\n  }\r\n\r\n  // 7. SUBSCRIPTION FUNDING - Funding due dates\r\n  const { data: subscriptionRows } = await serviceSupabase\r\n    .from('subscriptions')\r\n    .select('id, subscription_number, funding_due_at, investors ( legal_name ), vehicles ( name )')\r\n    .in('status', ['committed', 'active'])\r\n    .not('funding_due_at', 'is', null)\r\n    .gte('funding_due_at', new Date().toISOString())\r\n    .order('funding_due_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const sub of subscriptionRows ?? []) {\r\n    const fundingDate = new Date(sub.funding_due_at!)\r\n    const startDate = addDays(fundingDate, -5)\r\n\r\n    calendarEvents.push({\r\n      id: `sub-${sub.id}`,\r\n      name: `Funding Due: ${(Array.isArray(sub.investors) ? sub.investors[0]?.legal_name : null) || sub.subscription_number}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: sub.funding_due_at!,\r\n      status: SUBSCRIPTION_PALETTE.funding,\r\n      description: sub.vehicles?.[0]?.name ? `Vehicle • ${sub.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 8. FEE EVENTS - Fee accrual/payment dates\r\n  const { data: feeRows } = await serviceSupabase\r\n    .from('fee_events')\r\n    .select('id, fee_type, event_date, computed_amount, deals ( name ), investors ( legal_name, display_name )')\r\n    .in('status', ['accrued', 'invoiced'])\r\n    .gte('event_date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0])\r\n    .order('event_date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const fee of feeRows ?? []) {\r\n    const feeDate = new Date(fee.event_date)\r\n\r\n    const dealName = Array.isArray(fee.deals) && fee.deals[0]?.name\r\n      ? fee.deals[0].name\r\n      : null\r\n\r\n    const investorName = Array.isArray(fee.investors) && fee.investors[0]\r\n      ? (fee.investors[0].display_name || fee.investors[0].legal_name)\r\n      : null\r\n\r\n    const description = dealName\r\n      ? `Deal • ${dealName}`\r\n      : investorName\r\n      ? `Investor • ${investorName}`\r\n      : undefined\r\n\r\n    calendarEvents.push({\r\n      id: `fee-${fee.id}`,\r\n      name: `Fee Event: ${sentenceCase(fee.fee_type)}`,\r\n      startAt: feeDate.toISOString(),\r\n      endAt: feeDate.toISOString(),\r\n      status: FEE_PALETTE.accrued,\r\n      description\r\n    })\r\n  }\r\n\r\n  // 9. REQUEST TICKETS - Custom requests with due dates\r\n  const { data: requestRows } = await serviceSupabase\r\n    .from('request_tickets')\r\n    .select('id, subject, status, priority, due_date, created_at, investors ( legal_name )')\r\n    .in('status', ['open', 'in_progress'])\r\n    .order('due_date', { ascending: true, nullsFirst: false })\r\n    .limit(30)\r\n\r\n  for (const request of requestRows ?? []) {\r\n    const palette = REQUEST_PALETTE[request.priority] ?? REQUEST_PALETTE.normal\r\n    const endDate = request.due_date ? new Date(request.due_date) : addDays(new Date(request.created_at), 5)\r\n    const startDate = new Date(request.created_at)\r\n\r\n    calendarEvents.push({\r\n      id: `request-${request.id}`,\r\n      name: request.subject || 'Investor Request',\r\n      startAt: startDate.toISOString(),\r\n      endAt: endDate.toISOString(),\r\n      status: palette,\r\n      description: Array.isArray(request.investors) && request.investors[0]?.legal_name\r\n        ? `Investor • ${request.investors[0].legal_name}`\r\n        : undefined\r\n    })\r\n  }\r\n\r\n  // 10. DATA ROOM ACCESS - Expiring access\r\n  const thirtyDaysFromNow = new Date(Date.now() + 30 * 86_400_000).toISOString()\r\n\r\n  const { data: dataRoomRows } = await serviceSupabase\r\n    .from('deal_data_room_access')\r\n    .select('id, expires_at, deals ( name ), investors ( legal_name, display_name )')\r\n    .is('revoked_at', null)\r\n    .lte('expires_at', thirtyDaysFromNow)\r\n    .order('expires_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const access of dataRoomRows ?? []) {\r\n    const expiryDate = new Date(access.expires_at)\r\n    const startDate = addDays(expiryDate, -3)\r\n\r\n    const investorName = Array.isArray(access.investors) && access.investors[0]\r\n      ? (access.investors[0].display_name || access.investors[0].legal_name)\r\n      : null\r\n\r\n    calendarEvents.push({\r\n      id: `dataroom-${access.id}`,\r\n      name: `Data Room Expiry: ${(Array.isArray(access.deals) ? access.deals[0]?.name : null) || 'Deal'}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: access.expires_at,\r\n      status: DATA_ROOM_PALETTE.expiring,\r\n      description: investorName ? `Investor • ${investorName}` : undefined\r\n    })\r\n  }\r\n\r\n  // Sort events by start date\r\n  calendarEvents.sort((a, b) => new Date(a.startAt).getTime() - new Date(b.startAt).getTime())\r\n\r\n  return (\r\n    <div className=\"space-y-8 px-6 py-8\">\r\n      <div className=\"space-y-2\">\r\n        <h1 className=\"text-3xl font-bold\">Calendar</h1>\r\n        <p className=\"text-muted-foreground\">\r\n          View all important deadlines, events, and tasks across the platform\r\n        </p>\r\n      </div>\r\n      <CalendarSplitView\r\n        calendarEvents={calendarEvents}\r\n        emptyCalendarMessage=\"No upcoming events or deadlines scheduled.\"\r\n        brand=\"versotech\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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boB,CAAA,AAAkB,CAAlB,CAAA,CAAA,CAAA,CACxB,AADwB,CAAA,CAAA,CAAkB,CAAA,AAC1C,CAD0C,CAAA,AAC1C,CAD0C,AAC1C,CADiE,CAC/C,EAAA,UAAA,CDgB2B,CChBY,CAAC,CCetD,ADfsD,AFN1D,UEM4D,CAAA,CCehD,AHrBJ,ACuBF,ACjBsD,AAAW,CCe3D,ADf2D,AFN/D,ACuBF,ECjBoE,CFNlE,AGqBI,AFEM,ACjBwD,CDiBxD,AEFN,AHrBJ,AEMkE,ADiBxD,CCjBwD,AFNlE,AGqBI,AFEM,ACjBiE,CCevE,ADf8D,ADiBxD,ACjBiE,GACjF,CDgBkC,CChBlC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAA,EAAc,EAAM,EAAN,CAAA,EACZ,CCcA,ADdA,AFPJ,CAAA,AGqBI,ADdA,SACA,CFPJ,AGqBI,ADdA,CCcA,ADdA,AFPJ,AEQI,CCcA,ADfA,AFPJ,AGqBI,ADbA,CFRJ,AGqBI,ADdA,ACeA,ADdA,CFRJ,AEOI,ACeA,ADdA,ACaA,CACA,AADA,AHrBJ,AEOI,AACA,CCaA,AHrBJ,AEOI,AACA,ACcA,CDfA,AFPJ,AGsBI,ADdA,ACaA,CACA,AHtBJ,AGqBI,ADbA,CAAA,ACcA,CDdA,ACcA,CHrBJ,AGqBI,ADdW,EACT,CAAA,CCcF,ADdE,CCcF,ADdE,CCcF,ADdE,CCcF,ADdE,CAAA,CAAA,CAAA,EDRN,ACQgB,AAAY,CD2Bd,AC3BE,ADRhB,CAAA,AAmCc,AC3BE,AAAyB,CDRzC,AAmCc,AC3BE,AD4BY,AC5Ba,CDRzC,AAmCc,AC3BE,CD2BF,AC3BE,ADRT,AAAP,CAmCc,AC3BE,ADRhB,AAAO,CAAA,AAmCO,AC3BE,CDRT,AAmCgB,AC3BP,CDRT,AAmCgB,AC3BP,CDRT,AAmCgB,AC3BP,CDRT,ACQS,AD2BO,CAnChB,CAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAsB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO,EAAE,CAAA,CAA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","ignoreList":[0,1,2,3,4,5]}