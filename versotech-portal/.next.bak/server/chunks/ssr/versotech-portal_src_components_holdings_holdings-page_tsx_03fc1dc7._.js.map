{"version":3,"sources":["../../../../../versotech-portal/src/components/holdings/holdings-page.tsx","../../../../../versotech-portal/src/components/holdings/portfolio-allocation-chart.tsx","../../../../../versotech-portal/src/lib/theme-colors.ts","../../../../../versotech-portal/src/components/holdings/nav-performance-chart.tsx","../../../../../versotech-portal/src/components/holdings/cash-flow-chart.tsx","../../../../../versotech-portal/src/components/holdings/portfolio-dashboard.tsx","../../../../../versotech-portal/node_modules/%40radix-ui/react-slider/dist/index.mjs","../../../../../versotech-portal/src/components/ui/slider.tsx","../../../../../versotech-portal/src/components/holdings/modern-holdings-filters.tsx","../../../../../versotech-portal/src/components/investor/sell-position-form.tsx","../../../../../versotech-portal/src/components/holdings/vehicle-card.tsx","../../../../../versotech-portal/src/components/holdings/realtime-holdings-provider.tsx","../../../../../versotech-portal/node_modules/lucide-react/src/icons/piggy-bank.ts","../../../../../versotech-portal/node_modules/%40radix-ui/react-slider/src/slider.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useMemo, useCallback } from 'react'\nimport { createClient } from '@/lib/supabase/client'\nimport { PortfolioDashboard } from '@/components/holdings/portfolio-dashboard'\nimport { ModernHoldingsFilters, type FiltersState, type SortOption } from '@/components/holdings/modern-holdings-filters'\nimport { VehicleCard } from '@/components/holdings/vehicle-card'\n// Removed CleanDealCard - only showing holdings per user request\nimport { RealtimeHoldingsProvider } from '@/components/holdings/realtime-holdings-provider'\nimport { Card, CardContent } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\n// Removed Tabs import - no longer using tabs per user request\nimport { Alert, AlertDescription } from '@/components/ui/alert'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  TrendingUp,\n  TrendingDown,\n  Building,\n  AlertCircle,\n  RefreshCw,\n  Target,\n  PieChart\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\n// Enhanced holding interface\ninterface EnhancedHolding {\n  id: string\n  name: string\n  type: string\n  domicile?: string\n  currency: string\n  created_at: string\n  logo_url?: string\n  website_url?: string\n  investment_name?: string\n  allocation_status?: string | null\n  invite_sent_at?: string | null\n  position: {\n    units: number\n    costBasis: number\n    currentValue: number\n    unrealizedGain: number\n    unrealizedGainPct: number\n    lastUpdated?: string\n  } | null\n  subscription: {\n    id?: string  // For sell request form\n    commitment: number | null\n    currency: string\n    status: string\n    effective_date?: string | null\n    funding_due_at?: string | null\n    units?: number | null\n  } | null\n  valuation: {\n    navTotal: number\n    navPerUnit: number\n    asOfDate: string\n  } | null\n  performance: {\n    unrealizedGainPct: number\n  } | null\n  status?: string\n}\n\nconst deriveHoldingStatus = (holding: Partial<EnhancedHolding>) => {\n  if (holding.status) return holding.status\n\n  const allocation = holding.allocation_status?.toLowerCase()\n  if (allocation === 'active' || allocation === 'committed' || allocation === 'pending') {\n    return allocation\n  }\n  if (allocation === 'closed' || allocation === 'cancelled') {\n    return 'closed'\n  }\n\n  const raw = holding.subscription?.status?.toLowerCase()\n  if (raw === 'active') return 'active'\n  if (raw === 'committed' || raw === 'pending') return 'pending'\n  if (raw === 'closed' || raw === 'cancelled') return 'closed'\n\n  if (holding.position && holding.position.currentValue > 0) return 'active'\n  return 'pending'\n}\n\n// Removed DealHolding interface - only showing holdings per user request\n\ninterface HoldingsPageProps {\n  initialData?: {\n    kpis: any\n    trends?: any\n    summary: any\n    asOfDate: string\n    vehicleBreakdown?: any[]\n  }\n  detailsBasePath?: string\n  holdingsPath?: string\n  dealsPath?: string\n  positionsOnly?: boolean\n}\n\nexport function HoldingsPage({\n  initialData,\n  detailsBasePath = '/versotech_main/portfolio',\n  holdingsPath = '/versotech_main/portfolio',\n  dealsPath = '/versotech_main/opportunities',\n  positionsOnly = false\n}: HoldingsPageProps) {\n  // State management\n  const [holdings, setHoldings] = useState<EnhancedHolding[]>([])\n  // Removed dealHoldings - only showing holdings per user request\n  const [portfolioData, setPortfolioData] = useState(initialData)\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [isRefreshing, setIsRefreshing] = useState(false)\n  const [investorIds, setInvestorIds] = useState<string[]>([])\n  // Removed view toggle - only grid view per user request\n\n  // Chart data states\n  const [allocationData, setAllocationData] = useState<any[]>([])\n  const [performanceData, setPerformanceData] = useState<any[]>([])\n  const [cashFlowData, setCashFlowData] = useState<any[]>([])\n\n  // Filter and sort state\n  const [filters, setFilters] = useState<FiltersState>({\n    search: '',\n    type: 'all',\n    status: 'all',\n    performance: 'all',\n    size: 'all',\n    vintage: 'all',\n    domicile: 'all'\n  })\n  const [sortBy, setSortBy] = useState<SortOption>('value_desc')\n\n  // Fetch portfolio data\n  const fetchPortfolioData = useCallback(async (includeBreakdown = true, includeTrends = true, useCache = true) => {\n    try {\n      const params = new URLSearchParams()\n      if (includeBreakdown) params.append('breakdown', 'true')\n      if (includeTrends) params.append('trends', 'true')\n\n      const fetchOptions: RequestInit = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n\n      if (!useCache) {\n        fetchOptions.cache = 'no-store'\n      }\n\n      const response = await fetch(`/api/portfolio?${params.toString()}`, fetchOptions)\n\n      if (!response.ok) {\n        const errorText = await response.text()\n        throw new Error(`Failed to fetch portfolio data: ${errorText}`)\n      }\n\n      const data = await response.json()\n      return data\n    } catch (err) {\n      console.error('Portfolio fetch error:', err)\n      throw err\n    }\n  }, [])\n\n  // Fetch holdings data\n  const fetchHoldings = useCallback(async (useCache = true) => {\n    try {\n      const fetchOptions: RequestInit = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n\n      if (!useCache) {\n        fetchOptions.cache = 'no-store'\n      }\n\n      const response = await fetch('/api/vehicles?related=true', fetchOptions)\n\n      if (!response.ok) {\n        const errorText = await response.text()\n        throw new Error(`Failed to fetch holdings: ${errorText}`)\n      }\n\n      const data = await response.json()\n      const normalized: EnhancedHolding[] = (data.vehicles || []).map((holding: EnhancedHolding) => {\n        const status = deriveHoldingStatus(holding)\n        const normalizedSubscription = holding.subscription\n          ? {\n              ...holding.subscription,\n              commitment:\n                holding.subscription.commitment === null || holding.subscription.commitment === undefined\n                  ? null\n                  : Number(holding.subscription.commitment),\n              currency: holding.subscription.currency || holding.currency,\n              status: holding.subscription.status || holding.allocation_status || status\n            }\n          : holding.subscription\n\n        return {\n          ...holding,\n          status,\n          allocation_status: holding.allocation_status || normalizedSubscription?.status || status,\n          subscription: normalizedSubscription\n        }\n      })\n\n      const filteredHoldings = positionsOnly\n        ? normalized.filter(holding => (holding.position?.units ?? 0) > 0)\n        : normalized\n\n      setHoldings(filteredHoldings)\n      // No longer tracking deals\n    } catch (err) {\n      console.error('Holdings fetch error:', err)\n      throw err\n    }\n  }, [positionsOnly])\n\n  // Initial data load\n  useEffect(() => {\n    const loadData = async () => {\n      setIsLoading(true)\n      setError(null)\n\n      try {\n        // Get investor IDs first\n        const supabase = createClient()\n        const { data: { user } } = await supabase.auth.getUser()\n\n        if (user) {\n          const { data: investorLinks } = await supabase\n            .from('investor_users')\n            .select('investor_id')\n            .eq('user_id', user.id)\n\n          if (investorLinks) {\n            const ids = investorLinks.map(link => link.investor_id)\n            setInvestorIds(ids)\n          }\n        }\n\n        // Use server-provided initial data if available, otherwise fetch\n        if (initialData) {\n          setPortfolioData(initialData)\n          await fetchHoldings()\n        } else {\n          // Fetch data in parallel only if no initial data\n          const [portfolioResult] = await Promise.all([\n            fetchPortfolioData(),\n            fetchHoldings()\n          ])\n          setPortfolioData(portfolioResult)\n        }\n      } catch (err) {\n        console.error('Data load error:', err)\n        setError(err instanceof Error ? err.message : 'Failed to load portfolio data')\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadData()\n  }, [initialData, fetchPortfolioData, fetchHoldings])\n\n  // Handle refresh\n  const handleRefresh = async () => {\n    setIsRefreshing(true)\n    setError(null)\n\n    try {\n      const [portfolioResult] = await Promise.all([\n        fetchPortfolioData(true, true, false),\n        fetchHoldings(false)\n      ])\n\n      setPortfolioData(portfolioResult)\n    } catch (err) {\n      console.error('Refresh error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to refresh data')\n    } finally {\n      setIsRefreshing(false)\n    }\n  }\n\n  // Prepare chart data\n  useEffect(() => {\n    const prepareChartData = async () => {\n      if (!portfolioData || !investorIds.length) return\n\n      const supabase = createClient()\n\n      try {\n        // 1. Allocation Chart - from vehicleBreakdown\n        if (portfolioData.vehicleBreakdown && portfolioData.vehicleBreakdown.length > 0) {\n          const totalValue = portfolioData.vehicleBreakdown.reduce((sum: number, v: any) => sum + (v.currentValue || 0), 0)\n          const allocation = portfolioData.vehicleBreakdown.map((v: any) => ({\n            name: v.vehicleName || 'Unknown',\n            value: v.currentValue || 0,\n            percentage: totalValue > 0 ? ((v.currentValue || 0) / totalValue) * 100 : 0\n          }))\n          setAllocationData(allocation)\n        }\n\n        // 2. Performance Chart - fetch valuations\n        const { data: valuations } = await supabase\n          .from('valuations')\n          .select('vehicle_id, nav_total, as_of_date')\n          .in('vehicle_id', holdings.map(h => h.id))\n          .order('as_of_date', { ascending: true })\n          .limit(50)\n\n        if (valuations && valuations.length > 0) {\n          // Group by date and sum NAV\n          const navByDate = valuations.reduce((acc: any, v: any) => {\n            const date = v.as_of_date.split('T')[0]\n            if (!acc[date]) {\n              acc[date] = 0\n            }\n            acc[date] += v.nav_total || 0\n            return acc\n          }, {})\n\n          const performance = Object.entries(navByDate).map(([date, value]: [string, any]) => ({\n            date,\n            value,\n            displayDate: new Date(date).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n          }))\n          setPerformanceData(performance)\n        }\n\n        // 3. Cash Flow Chart - fetch from cashflows table (has investor_id)\n        const { data: cashflowsData } = await supabase\n          .from('cashflows')\n          .select('type, amount, date')\n          .in('investor_id', investorIds)\n          .order('date', { ascending: true })\n          .limit(100)\n\n        // Group by period\n        const cashFlowMap: any = {}\n\n        cashflowsData?.forEach((cf: any) => {\n          const period = new Date(cf.date).toISOString().substring(0, 7) // YYYY-MM\n          if (!cashFlowMap[period]) {\n            cashFlowMap[period] = { period, contributions: 0, distributions: 0 }\n          }\n          if (cf.type === 'call') {\n            cashFlowMap[period].contributions += cf.amount || 0\n          } else if (cf.type === 'distribution') {\n            cashFlowMap[period].distributions += cf.amount || 0\n          }\n        })\n\n        const cashFlow = Object.values(cashFlowMap).map((cf: any) => ({\n          ...cf,\n          displayPeriod: new Date(cf.period + '-01').toLocaleDateString('en-US', { month: 'short', year: 'numeric' })\n        }))\n        setCashFlowData(cashFlow)\n\n      } catch (err) {\n        console.error('Chart data preparation error:', err)\n      }\n    }\n\n    prepareChartData()\n  }, [portfolioData, investorIds, holdings])\n\n  // Filter holdings\n  const filteredHoldings = useMemo(() => {\n    let filtered = [...holdings]\n\n    // Apply filters\n    if (filters.search) {\n      const searchLower = filters.search.toLowerCase()\n      filtered = filtered.filter(h => \n        h.name.toLowerCase().includes(searchLower) ||\n        h.type.toLowerCase().includes(searchLower) ||\n        (h.domicile && h.domicile.toLowerCase().includes(searchLower))\n      )\n    }\n\n    if (filters.type !== 'all') {\n      filtered = filtered.filter(h => h.type === filters.type)\n    }\n\n    if (filters.status !== 'all') {\n      filtered = filtered.filter(h => deriveHoldingStatus(h) === filters.status)\n    }\n\n    if (filters.performance !== 'all') {\n      filtered = filtered.filter(h => {\n        const gain = h.position?.unrealizedGainPct || 0\n        switch (filters.performance) {\n          case 'positive':\n            return gain > 0\n          case 'negative':\n            return gain < 0\n          case 'breakeven':\n            return Math.abs(gain) <= 1\n          default:\n            return true\n        }\n      })\n    }\n\n    if (filters.size !== 'all') {\n      filtered = filtered.filter(h => {\n        const value = h.position?.currentValue || 0\n        switch (filters.size) {\n          case 'large':\n            return value > 1000000\n          case 'medium':\n            return value >= 100000 && value <= 1000000\n          case 'small':\n            return value < 100000\n          default:\n            return true\n        }\n      })\n    }\n\n    if (filters.domicile !== 'all') {\n      filtered = filtered.filter(h =>\n        (h.domicile?.toLowerCase() || 'other') === filters.domicile\n      )\n    }\n\n    // Vintage filter\n    if (filters.vintage !== 'all') {\n      const now = new Date()\n      filtered = filtered.filter(h => {\n        const created = new Date(h.created_at)\n        const yearsOld = (now.getTime() - created.getTime()) / (1000 * 60 * 60 * 24 * 365)\n        switch (filters.vintage) {\n          case 'recent':\n            return yearsOld < 2\n          case 'mature':\n            return yearsOld >= 2 && yearsOld <= 5\n          case 'legacy':\n            return yearsOld > 5\n          default:\n            return true\n        }\n      })\n    }\n\n    // Value range filter\n    if (filters.minValue !== undefined || filters.maxValue !== undefined) {\n      filtered = filtered.filter(h => {\n        const value = h.position?.currentValue || 0\n        const min = filters.minValue ?? 0\n        const max = filters.maxValue ?? Infinity\n        return value >= min && value <= max\n      })\n    }\n\n    // Return range filter\n    if (filters.minReturn !== undefined || filters.maxReturn !== undefined) {\n      filtered = filtered.filter(h => {\n        const returnPct = h.position?.unrealizedGainPct || 0\n        const min = filters.minReturn ?? -Infinity\n        const max = filters.maxReturn ?? Infinity\n        return returnPct >= min && returnPct <= max\n      })\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'name_asc':\n          return a.name.localeCompare(b.name)\n        case 'name_desc':\n          return b.name.localeCompare(a.name)\n        case 'value_asc':\n          return (a.position?.currentValue || 0) - (b.position?.currentValue || 0)\n        case 'value_desc':\n          return (b.position?.currentValue || 0) - (a.position?.currentValue || 0)\n        case 'performance_asc':\n          return (a.position?.unrealizedGainPct || 0) - (b.position?.unrealizedGainPct || 0)\n        case 'performance_desc':\n          return (b.position?.unrealizedGainPct || 0) - (a.position?.unrealizedGainPct || 0)\n        case 'commitment_asc':\n          return (a.subscription?.commitment || 0) - (b.subscription?.commitment || 0)\n        case 'commitment_desc':\n          return (b.subscription?.commitment || 0) - (a.subscription?.commitment || 0)\n        case 'date_asc':\n          return new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\n        case 'date_desc':\n          return new Date(b.created_at).getTime() - new Date(a.created_at).getTime()\n        default:\n          return 0\n      }\n    })\n\n    return filtered\n  }, [holdings, filters, sortBy])\n\n  // Removed deal filtering - only showing holdings per user request\n\n  // Count active filters\n  const activeFiltersCount = Object.entries(filters).filter(\n    ([key, value]) => key !== 'search' && value !== 'all'\n  ).length + (filters.search ? 1 : 0)\n\n  // Clear filters\n  const handleClearFilters = () => {\n    setFilters({\n      search: '',\n      type: 'all',\n      status: 'all',\n      performance: 'all',\n      size: 'all',\n      vintage: 'all',\n      domicile: 'all'\n    })\n  }\n\n  // Handle export\n  const handleExport = useCallback(() => {\n    if (filteredHoldings.length === 0) return\n\n    // CSV headers\n    const headers = [\n      'Name',\n      'Type',\n      'Domicile',\n      'Status',\n      'Currency',\n      'Current Value',\n      'Cost Basis',\n      'Unrealized Gain',\n      'Unrealized Gain %',\n      'Units',\n      'Commitment',\n      'Created Date'\n    ]\n\n    // CSV rows\n    const rows = filteredHoldings.map(h => [\n      h.name,\n      h.type.replace(/_/g, ' '),\n      h.domicile || '',\n      deriveHoldingStatus(h),\n      h.currency,\n      h.position?.currentValue?.toFixed(2) || '0',\n      h.position?.costBasis?.toFixed(2) || '0',\n      h.position?.unrealizedGain?.toFixed(2) || '0',\n      h.position?.unrealizedGainPct?.toFixed(2) || '0',\n      h.position?.units?.toString() || '0',\n      h.subscription?.commitment?.toFixed(2) || '0',\n      new Date(h.created_at).toLocaleDateString()\n    ])\n\n    // Build CSV content\n    const csvContent = [\n      headers.join(','),\n      ...rows.map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(','))\n    ].join('\\n')\n\n    // Create and download file\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' })\n    const link = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n    link.setAttribute('href', url)\n    link.setAttribute('download', `portfolio-holdings-${new Date().toISOString().split('T')[0]}.csv`)\n    link.style.visibility = 'hidden'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    URL.revokeObjectURL(url)\n  }, [filteredHoldings])\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"p-6 space-y-6\">\n        <Skeleton className=\"h-8 w-64\" />\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {Array.from({ length: 8 }).map((_, i) => (\n            <Skeleton key={i} className=\"h-32\" />\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  // Error state\n  if (error && !portfolioData) {\n    return (\n      <div className=\"p-6\">\n        <Alert>\n          <AlertCircle className=\"h-4 w-4\" />\n          <AlertDescription>\n            {error}\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleRefresh}\n              className=\"ml-4\"\n              disabled={isRefreshing}\n            >\n              <RefreshCw className={cn(\"h-4 w-4 mr-2\", isRefreshing && \"animate-spin\")} />\n              Retry\n            </Button>\n          </AlertDescription>\n        </Alert>\n      </div>\n    )\n  }\n\n  const totalResults = filteredHoldings.length\n\n  return (\n    <RealtimeHoldingsProvider\n      investorIds={investorIds}\n      onDataUpdate={() => handleRefresh()}\n      enableNotifications={true}\n      holdingsPath={holdingsPath}\n    >\n      <div className=\"min-h-screen bg-background\">\n        <div className=\"p-4 sm:p-6 lg:p-8 space-y-6\">\n          {/* Page Header */}\n          <div className=\"flex flex-col sm:flex-row justify-between gap-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold\">Portfolio Holdings</h1>\n              <p className=\"text-muted-foreground mt-1\">\n                Complete overview of your investments\n              </p>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button \n                variant=\"default\" \n                size=\"sm\"\n                onClick={() => window.location.href = dealsPath}\n              >\n                <Target className=\"h-4 w-4 mr-2\" />\n                Explore Active Deals\n              </Button>\n            </div>\n          </div>\n\n          {/* Portfolio Dashboard */}\n          {portfolioData && (\n            <PortfolioDashboard\n              kpis={portfolioData.kpis}\n              trends={portfolioData.trends}\n              summary={portfolioData.summary}\n              asOfDate={portfolioData.asOfDate}\n              isLoading={isRefreshing}\n              onRefresh={handleRefresh}\n              onExport={handleExport}\n              vehicleBreakdown={portfolioData.vehicleBreakdown}\n              allocationData={allocationData}\n              performanceData={performanceData}\n              cashFlowData={cashFlowData}\n            />\n          )}\n\n          {/* Holdings Section */}\n          <div className=\"space-y-4\">\n            {/* Section Header */}\n            <div>\n              <h2 className=\"text-xl font-semibold\">Your Holdings</h2>\n              <p className=\"text-sm text-muted-foreground\">\n                {filteredHoldings.length} total holdings\n              </p>\n            </div>\n\n            {/* Filters */}\n            <ModernHoldingsFilters\n              filters={filters}\n              onFiltersChange={setFilters}\n              sortBy={sortBy}\n              onSortChange={setSortBy}\n              onClearFilters={handleClearFilters}\n              activeFiltersCount={activeFiltersCount}\n              totalResults={totalResults}\n            />\n\n            {/* Holdings Grid/List */}\n            {totalResults === 0 ? (\n              <Card className=\"border-dashed\">\n                <CardContent className=\"flex flex-col items-center justify-center py-16\">\n                  <AlertCircle className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                  <h3 className=\"text-lg font-semibold mb-2\">No holdings found</h3>\n                  <p className=\"text-muted-foreground text-center max-w-sm\">\n                    {activeFiltersCount > 0\n                      ? 'Try adjusting your filters to see more results'\n                      : 'Your holdings will appear here once investments are made'}\n                  </p>\n                  {activeFiltersCount > 0 && (\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={handleClearFilters}\n                      className=\"mt-4\"\n                    >\n                      Clear filters\n                    </Button>\n                  )}\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid gap-6 grid-cols-1 lg:grid-cols-2\">\n                {filteredHoldings.map((holding) => (\n                  <VehicleCard\n                    key={holding.id}\n                    holding={holding}\n                    detailsBasePath={detailsBasePath}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </RealtimeHoldingsProvider>\n  )\n}\n","'use client'\r\n\r\nimport { useState, useMemo } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { PieChart, ChevronDown, ChevronUp } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\n\r\ninterface AllocationData {\r\n  name: string\r\n  value: number\r\n  percentage: number\r\n}\r\n\r\ninterface PortfolioAllocationChartProps {\r\n  data: AllocationData[]\r\n  maxVisibleItems?: number\r\n  currency?: string\r\n}\r\n\r\n// Refined color palette - sophisticated financial tones\r\nconst COLORS = [\r\n  '#1e3a5f', // Deep navy\r\n  '#0d9488', // Teal\r\n  '#6366f1', // Indigo\r\n  '#d97706', // Amber\r\n  '#dc2626', // Red\r\n  '#059669', // Emerald\r\n  '#8b5cf6', // Purple\r\n  '#0891b2', // Cyan\r\n]\r\n\r\nconst formatCurrency = (value: number, currencySymbol: string = '$') => {\r\n  if (value >= 1000000) {\r\n    return `${currencySymbol}${(value / 1000000).toFixed(2)}M`\r\n  }\r\n  if (value >= 1000) {\r\n    return `${currencySymbol}${(value / 1000).toFixed(0)}K`\r\n  }\r\n  return `${currencySymbol}${value.toFixed(0)}`\r\n}\r\n\r\nexport function PortfolioAllocationChart({\r\n  data,\r\n  maxVisibleItems = 6,\r\n  currency = 'USD'\r\n}: PortfolioAllocationChartProps) {\r\n  const [showAll, setShowAll] = useState(false)\r\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)\r\n\r\n  const isEmpty = !data || data.length === 0\r\n\r\n  const totalValue = useMemo(() =>\r\n    data?.reduce((sum, item) => sum + item.value, 0) || 0\r\n  , [data])\r\n\r\n  // Sort and prepare data\r\n  const { displayData, hiddenCount } = useMemo(() => {\r\n    if (!data || data.length === 0) {\r\n      return { displayData: [], hiddenCount: 0 }\r\n    }\r\n\r\n    const sorted = [...data]\r\n      .filter(item => item.value > 0)\r\n      .sort((a, b) => b.value - a.value)\r\n\r\n    if (showAll || sorted.length <= maxVisibleItems) {\r\n      return { displayData: sorted, hiddenCount: 0 }\r\n    }\r\n\r\n    return {\r\n      displayData: sorted.slice(0, maxVisibleItems),\r\n      hiddenCount: sorted.length - maxVisibleItems\r\n    }\r\n  }, [data, maxVisibleItems, showAll])\r\n\r\n  // Calculate percentages for donut chart\r\n  const chartData = useMemo(() => {\r\n    let cumulativePercentage = 0\r\n    return displayData.map((item, index) => {\r\n      const percentage = totalValue > 0 ? (item.value / totalValue) * 100 : 0\r\n      const startAngle = cumulativePercentage * 3.6 // Convert to degrees\r\n      cumulativePercentage += percentage\r\n      return {\r\n        ...item,\r\n        percentage,\r\n        startAngle,\r\n        endAngle: cumulativePercentage * 3.6,\r\n        color: COLORS[index % COLORS.length]\r\n      }\r\n    })\r\n  }, [displayData, totalValue])\r\n\r\n  if (isEmpty) {\r\n    return (\r\n      <Card className=\"border shadow-sm\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n            <PieChart className=\"h-4 w-4 text-muted-foreground\" />\r\n            Portfolio Allocation\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center h-[200px] text-muted-foreground\">\r\n            <div className=\"text-center\">\r\n              <PieChart className=\"h-10 w-10 mx-auto mb-2 opacity-20\" />\r\n              <p className=\"text-sm\">No allocation data</p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  // SVG donut chart\r\n  const size = 180\r\n  const strokeWidth = 32\r\n  const radius = (size - strokeWidth) / 2\r\n  const circumference = 2 * Math.PI * radius\r\n  const centerX = size / 2\r\n  const centerY = size / 2\r\n\r\n  return (\r\n    <Card className=\"border shadow-sm\">\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n            <PieChart className=\"h-4 w-4 text-muted-foreground\" />\r\n            Portfolio Allocation\r\n          </CardTitle>\r\n          <div className=\"text-right\">\r\n            <p className=\"text-lg font-bold\">{formatCurrency(totalValue)}</p>\r\n            <p className=\"text-xs text-muted-foreground\">{data.filter(d => d.value > 0).length} positions</p>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"pt-0\">\r\n        <div className=\"flex flex-col lg:flex-row items-center gap-6\">\r\n          {/* Donut Chart */}\r\n          <div className=\"relative flex-shrink-0\">\r\n            <svg width={size} height={size} className=\"transform -rotate-90\">\r\n              {/* Background circle */}\r\n              <circle\r\n                cx={centerX}\r\n                cy={centerY}\r\n                r={radius}\r\n                fill=\"none\"\r\n                stroke=\"hsl(var(--muted))\"\r\n                strokeWidth={strokeWidth}\r\n              />\r\n              {/* Data segments */}\r\n              {chartData.map((item, index) => {\r\n                const segmentLength = (item.percentage / 100) * circumference\r\n                const offset = ((chartData.slice(0, index).reduce((acc, d) => acc + d.percentage, 0)) / 100) * circumference\r\n                const isHovered = hoveredIndex === index\r\n\r\n                return (\r\n                  <circle\r\n                    key={`${item.name}-${index}`}\r\n                    cx={centerX}\r\n                    cy={centerY}\r\n                    r={radius}\r\n                    fill=\"none\"\r\n                    stroke={item.color}\r\n                    strokeWidth={isHovered ? strokeWidth + 4 : strokeWidth}\r\n                    strokeDasharray={`${segmentLength} ${circumference - segmentLength}`}\r\n                    strokeDashoffset={-offset}\r\n                    className=\"transition-all duration-200 cursor-pointer\"\r\n                    style={{\r\n                      filter: isHovered ? 'brightness(1.1)' : 'none',\r\n                    }}\r\n                    onMouseEnter={() => setHoveredIndex(index)}\r\n                    onMouseLeave={() => setHoveredIndex(null)}\r\n                  />\r\n                )\r\n              })}\r\n            </svg>\r\n            {/* Center text */}\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                {hoveredIndex !== null ? (\r\n                  <>\r\n                    <p className=\"text-lg font-bold\">{chartData[hoveredIndex]?.percentage.toFixed(1)}%</p>\r\n                    <p className=\"text-xs text-muted-foreground truncate max-w-[80px]\">\r\n                      {chartData[hoveredIndex]?.name.split(' ').pop()}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <p className=\"text-lg font-bold\">{displayData.length}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Holdings</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Legend */}\r\n          <div className=\"flex-1 w-full space-y-2\">\r\n            {chartData.map((item, index) => (\r\n              <div\r\n                key={`legend-${item.name}-${index}`}\r\n                className={`flex items-center justify-between py-1.5 px-2 rounded-md transition-colors cursor-pointer ${\r\n                  hoveredIndex === index ? 'bg-muted/50' : 'hover:bg-muted/30'\r\n                }`}\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n              >\r\n                <div className=\"flex items-center gap-2 min-w-0\">\r\n                  <div\r\n                    className=\"w-3 h-3 rounded-sm flex-shrink-0\"\r\n                    style={{ backgroundColor: item.color }}\r\n                  />\r\n                  <span className=\"text-sm truncate\" title={item.name}>\r\n                    {item.name.length > 25 ? item.name.substring(0, 25) + '...' : item.name}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3 flex-shrink-0 ml-2\">\r\n                  <span className=\"text-sm font-medium\">{formatCurrency(item.value)}</span>\r\n                  <span\r\n                    className=\"text-xs px-1.5 py-0.5 rounded font-medium min-w-[45px] text-center\"\r\n                    style={{\r\n                      backgroundColor: `${item.color}15`,\r\n                      color: item.color\r\n                    }}\r\n                  >\r\n                    {item.percentage.toFixed(1)}%\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            {/* Show more/less button */}\r\n            {(hiddenCount > 0 || (showAll && data.filter(d => d.value > 0).length > maxVisibleItems)) && (\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                className=\"w-full h-8 text-xs text-muted-foreground hover:text-foreground mt-2\"\r\n                onClick={() => setShowAll(!showAll)}\r\n              >\r\n                {showAll ? (\r\n                  <>\r\n                    <ChevronUp className=\"h-3 w-3 mr-1.5\" />\r\n                    Show Less\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <ChevronDown className=\"h-3 w-3 mr-1.5\" />\r\n                    Show {hiddenCount} More\r\n                  </>\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useTheme } from '@/components/theme-provider'\r\nimport { useMemo } from 'react'\r\n\r\n/**\r\n * Theme-aware color utilities for charts and dynamic content\r\n *\r\n * This module provides consistent colors that adapt to light/dark mode,\r\n * especially for Recharts which requires inline color props that can't\r\n * use CSS variables directly.\r\n */\r\n\r\nexport interface ChartColorScheme {\r\n  // Grid and axis\r\n  grid: string\r\n  axis: string\r\n  axisLine: string\r\n\r\n  // Tooltip\r\n  tooltip: {\r\n    bg: string\r\n    border: string\r\n    text: string\r\n    label: string\r\n  }\r\n\r\n  // Data visualization colors\r\n  primary: string\r\n  secondary: string\r\n  success: string\r\n  warning: string\r\n  danger: string\r\n  info: string\r\n\r\n  // Gradient stops\r\n  gradientStart: string\r\n  gradientEnd: string\r\n\r\n  // Chart-specific\r\n  area: {\r\n    fill: string\r\n    stroke: string\r\n  }\r\n  bar: {\r\n    fill: string\r\n    hover: string\r\n  }\r\n  line: {\r\n    stroke: string\r\n    dot: string\r\n    activeDot: string\r\n  }\r\n  pie: {\r\n    stroke: string\r\n  }\r\n}\r\n\r\n// Light mode chart colors\r\nconst lightColors: ChartColorScheme = {\r\n  grid: '#e5e7eb',\r\n  axis: '#6b7280',\r\n  axisLine: '#e5e7eb',\r\n\r\n  tooltip: {\r\n    bg: '#ffffff',\r\n    border: '#e5e7eb',\r\n    text: '#111827',\r\n    label: '#6b7280',\r\n  },\r\n\r\n  primary: '#3b82f6',\r\n  secondary: '#8b5cf6',\r\n  success: '#10b981',\r\n  warning: '#f59e0b',\r\n  danger: '#ef4444',\r\n  info: '#0ea5e9',\r\n\r\n  gradientStart: '#3b82f6',\r\n  gradientEnd: 'rgba(59, 130, 246, 0.1)',\r\n\r\n  area: {\r\n    fill: 'rgba(59, 130, 246, 0.1)',\r\n    stroke: '#3b82f6',\r\n  },\r\n  bar: {\r\n    fill: '#3b82f6',\r\n    hover: '#2563eb',\r\n  },\r\n  line: {\r\n    stroke: '#3b82f6',\r\n    dot: '#ffffff',\r\n    activeDot: '#3b82f6',\r\n  },\r\n  pie: {\r\n    stroke: '#ffffff',\r\n  },\r\n}\r\n\r\n// Dark mode chart colors\r\nconst darkColors: ChartColorScheme = {\r\n  grid: '#27272a',\r\n  axis: '#a1a1aa',\r\n  axisLine: '#3f3f46',\r\n\r\n  tooltip: {\r\n    bg: '#18181b',\r\n    border: '#3f3f46',\r\n    text: '#fafafa',\r\n    label: '#a1a1aa',\r\n  },\r\n\r\n  primary: '#60a5fa',\r\n  secondary: '#a78bfa',\r\n  success: '#34d399',\r\n  warning: '#fbbf24',\r\n  danger: '#f87171',\r\n  info: '#38bdf8',\r\n\r\n  gradientStart: '#60a5fa',\r\n  gradientEnd: 'rgba(96, 165, 250, 0.1)',\r\n\r\n  area: {\r\n    fill: 'rgba(96, 165, 250, 0.15)',\r\n    stroke: '#60a5fa',\r\n  },\r\n  bar: {\r\n    fill: '#60a5fa',\r\n    hover: '#3b82f6',\r\n  },\r\n  line: {\r\n    stroke: '#60a5fa',\r\n    dot: '#18181b',\r\n    activeDot: '#60a5fa',\r\n  },\r\n  pie: {\r\n    stroke: '#18181b',\r\n  },\r\n}\r\n\r\n// Multi-series color palette for charts with multiple data series\r\nexport const chartPalette = {\r\n  light: [\r\n    '#3b82f6', // blue\r\n    '#10b981', // emerald\r\n    '#f59e0b', // amber\r\n    '#8b5cf6', // violet\r\n    '#ec4899', // pink\r\n    '#0ea5e9', // sky\r\n    '#f97316', // orange\r\n    '#14b8a6', // teal\r\n  ],\r\n  dark: [\r\n    '#60a5fa', // blue\r\n    '#34d399', // emerald\r\n    '#fbbf24', // amber\r\n    '#a78bfa', // violet\r\n    '#f472b6', // pink\r\n    '#38bdf8', // sky\r\n    '#fb923c', // orange\r\n    '#2dd4bf', // teal\r\n  ],\r\n}\r\n\r\n/**\r\n * Hook to get theme-aware chart colors\r\n *\r\n * @example\r\n * ```tsx\r\n * const chartColors = useChartColors()\r\n * <CartesianGrid stroke={chartColors.grid} />\r\n * <XAxis stroke={chartColors.axis} />\r\n * ```\r\n */\r\nexport function useChartColors(): ChartColorScheme {\r\n  const { theme } = useTheme()\r\n\r\n  return useMemo(() => {\r\n    return theme === 'staff-dark' ? darkColors : lightColors\r\n  }, [theme])\r\n}\r\n\r\n/**\r\n * Hook to get theme-aware chart color palette for multi-series charts\r\n *\r\n * @example\r\n * ```tsx\r\n * const palette = useChartPalette()\r\n * {data.map((entry, index) => (\r\n *   <Cell key={index} fill={palette[index % palette.length]} />\r\n * ))}\r\n * ```\r\n */\r\nexport function useChartPalette(): string[] {\r\n  const { theme } = useTheme()\r\n\r\n  return useMemo(() => {\r\n    return theme === 'staff-dark' ? chartPalette.dark : chartPalette.light\r\n  }, [theme])\r\n}\r\n\r\n/**\r\n * Hook to check if dark mode is active\r\n */\r\nexport function useIsDarkMode(): boolean {\r\n  const { theme } = useTheme()\r\n  return theme === 'staff-dark'\r\n}\r\n\r\n/**\r\n * Get static chart colors (for non-React contexts)\r\n * Use the hooks above when possible for reactive updates\r\n */\r\nexport function getChartColors(isDark: boolean): ChartColorScheme {\r\n  return isDark ? darkColors : lightColors\r\n}\r\n\r\nexport function getChartPalette(isDark: boolean): string[] {\r\n  return isDark ? chartPalette.dark : chartPalette.light\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts'\r\nimport { TrendingUp } from 'lucide-react'\r\nimport { useChartColors } from '@/lib/theme-colors'\r\n\r\ninterface PerformanceDataPoint {\r\n  date: string\r\n  value: number\r\n  displayDate: string\r\n}\r\n\r\ninterface NAVPerformanceChartProps {\r\n  data: PerformanceDataPoint[]\r\n}\r\n\r\nconst formatCurrency = (value: number) => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n    notation: value >= 1000000 ? 'compact' : 'standard',\r\n    compactDisplay: 'short'\r\n  }).format(value)\r\n}\r\n\r\nexport function NAVPerformanceChart({ data }: NAVPerformanceChartProps) {\r\n  const chartColors = useChartColors()\r\n  const isEmpty = !data || data.length === 0\r\n\r\n  if (isEmpty) {\r\n    return (\r\n      <Card className=\"border-0 shadow-md bg-gradient-to-br from-muted/50 to-background\">\r\n        <CardHeader className=\"pb-4\">\r\n          <CardTitle className=\"text-base font-semibold flex items-center gap-2 text-foreground\">\r\n            <TrendingUp className=\"h-5 w-5 text-emerald-600\" />\r\n            NAV Performance\r\n          </CardTitle>\r\n          <CardDescription className=\"text-muted-foreground\">Portfolio value over time</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center h-[320px] text-muted-foreground/50\">\r\n            <div className=\"text-center\">\r\n              <TrendingUp className=\"h-16 w-16 mx-auto mb-3 opacity-20\" />\r\n              <p className=\"text-sm font-medium\">No performance data available</p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card className=\"border-0 shadow-md bg-gradient-to-br from-muted/50 to-background\">\r\n      <CardHeader className=\"pb-4\">\r\n        <CardTitle className=\"text-base font-semibold flex items-center gap-2 text-foreground\">\r\n          <TrendingUp className=\"h-5 w-5 text-emerald-600\" />\r\n          NAV Performance\r\n        </CardTitle>\r\n        <CardDescription className=\"text-muted-foreground\">Portfolio value over time</CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ResponsiveContainer width=\"100%\" height={320}>\r\n          <LineChart data={data} margin={{ top: 5, right: 20, left: 10, bottom: 5 }}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke={chartColors.grid} vertical={false} />\r\n            <XAxis\r\n              dataKey=\"displayDate\"\r\n              tick={{ fontSize: 12, fill: chartColors.axis }}\r\n              tickLine={false}\r\n              axisLine={{ stroke: chartColors.axisLine }}\r\n            />\r\n            <YAxis\r\n              tick={{ fontSize: 12, fill: chartColors.axis }}\r\n              tickLine={false}\r\n              axisLine={{ stroke: chartColors.axisLine }}\r\n              tickFormatter={formatCurrency}\r\n            />\r\n            <Tooltip\r\n              content={({ active, payload }) => {\r\n                if (active && payload && payload.length) {\r\n                  const data = payload[0].payload\r\n                  return (\r\n                    <div className=\"bg-background p-4 border border-border rounded-lg shadow-lg\">\r\n                      <p className=\"font-semibold text-foreground mb-2\">{data.displayDate}</p>\r\n                      <p className=\"text-sm text-emerald-600 dark:text-emerald-400 font-medium\">\r\n                        NAV: {formatCurrency(data.value)}\r\n                      </p>\r\n                    </div>\r\n                  )\r\n                }\r\n                return null\r\n              }}\r\n            />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"value\"\r\n              stroke={chartColors.success}\r\n              strokeWidth={3}\r\n              dot={{ fill: chartColors.success, r: 4, strokeWidth: 2, stroke: chartColors.line.dot }}\r\n              activeDot={{ r: 6, strokeWidth: 2, stroke: chartColors.line.dot }}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from 'recharts'\r\nimport { DollarSign } from 'lucide-react'\r\n\r\ninterface CashFlowDataPoint {\r\n  period: string\r\n  contributions: number\r\n  distributions: number\r\n  displayPeriod: string\r\n}\r\n\r\ninterface CashFlowChartProps {\r\n  data: CashFlowDataPoint[]\r\n}\r\n\r\nconst formatCurrency = (value: number) => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n    notation: Math.abs(value) >= 1000000 ? 'compact' : 'standard',\r\n    compactDisplay: 'short'\r\n  }).format(value)\r\n}\r\n\r\nexport function CashFlowChart({ data }: CashFlowChartProps) {\r\n  const isEmpty = !data || data.length === 0\r\n\r\n  if (isEmpty) {\r\n    return (\r\n      <Card className=\"border-0 shadow-md bg-gradient-to-br from-background to-muted/30 dark:from-gray-800 dark:to-gray-900\">\r\n        <CardHeader className=\"pb-4\">\r\n          <CardTitle className=\"text-base font-semibold flex items-center gap-2 text-foreground\">\r\n            <DollarSign className=\"h-5 w-5 text-violet-600\" />\r\n            Cash Flow History\r\n          </CardTitle>\r\n          <CardDescription className=\"text-muted-foreground\">Contributions vs distributions over time</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center h-[320px] text-muted-foreground/70\">\r\n            <div className=\"text-center\">\r\n              <DollarSign className=\"h-16 w-16 mx-auto mb-3 opacity-20\" />\r\n              <p className=\"text-sm font-medium\">No cash flow data available</p>\r\n              <p className=\"text-xs text-muted-foreground/80 mt-2\">Staff must add distributions via API</p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Card className=\"border-0 shadow-md bg-gradient-to-br from-background to-muted/30 dark:from-gray-800 dark:to-gray-900\">\r\n      <CardHeader className=\"pb-4\">\r\n        <CardTitle className=\"text-base font-semibold flex items-center gap-2 text-foreground\">\r\n          <DollarSign className=\"h-5 w-5 text-violet-600\" />\r\n          Cash Flow History\r\n        </CardTitle>\r\n        <CardDescription className=\"text-muted-foreground\">Contributions vs distributions over time</CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ResponsiveContainer width=\"100%\" height={320}>\r\n          <BarChart data={data} margin={{ top: 5, right: 20, left: 10, bottom: 5 }}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-border\" vertical={false} />\r\n            <XAxis\r\n              dataKey=\"displayPeriod\"\r\n              tick={{ fontSize: 12 }}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              className=\"fill-muted-foreground\"\r\n            />\r\n            <YAxis\r\n              tick={{ fontSize: 12 }}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              tickFormatter={formatCurrency}\r\n              className=\"fill-muted-foreground\"\r\n            />\r\n            <Tooltip\r\n              content={({ active, payload }) => {\r\n                if (active && payload && payload.length) {\r\n                  const data = payload[0].payload\r\n                  return (\r\n                    <div className=\"bg-card p-4 border border-border rounded-lg shadow-lg\">\r\n                      <p className=\"font-semibold text-foreground mb-3\">{data.displayPeriod}</p>\r\n                      <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between gap-6\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-3 h-3 bg-red-500 rounded\"></div>\r\n                            <span className=\"text-sm text-muted-foreground\">Contributions</span>\r\n                          </div>\r\n                          <span className=\"text-sm font-medium text-red-600\">{formatCurrency(data.contributions)}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between gap-6\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <div className=\"w-3 h-3 bg-emerald-500 rounded\"></div>\r\n                            <span className=\"text-sm text-muted-foreground\">Distributions</span>\r\n                          </div>\r\n                          <span className=\"text-sm font-medium text-emerald-600\">{formatCurrency(data.distributions)}</span>\r\n                        </div>\r\n                        <div className=\"pt-2 border-t border-border flex items-center justify-between\">\r\n                          <span className=\"text-sm font-semibold text-foreground\">Net Cash</span>\r\n                          <span className={`text-sm font-semibold ${\r\n                            (data.distributions - data.contributions) >= 0 ? 'text-emerald-600' : 'text-red-600'\r\n                          }`}>\r\n                            {formatCurrency(data.distributions - data.contributions)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                }\r\n                return null\r\n              }}\r\n            />\r\n            <Legend\r\n              wrapperStyle={{ fontSize: '12px', paddingTop: '20px' }}\r\n              iconType=\"circle\"\r\n              formatter={(value) => {\r\n                return value === 'contributions' ? 'Capital Calls' : 'Distributions'\r\n              }}\r\n            />\r\n            <Bar\r\n              dataKey=\"contributions\"\r\n              fill=\"#dc2626\"\r\n              name=\"contributions\"\r\n              radius={[6, 6, 0, 0]}\r\n            />\r\n            <Bar\r\n              dataKey=\"distributions\"\r\n              fill=\"#059669\"\r\n              name=\"distributions\"\r\n              radius={[6, 6, 0, 0]}\r\n            />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { PortfolioAllocationChart } from './portfolio-allocation-chart'\r\nimport { NAVPerformanceChart } from './nav-performance-chart'\r\nimport { CashFlowChart } from './cash-flow-chart'\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  PiggyBank,\r\n  Target,\r\n  Calculator,\r\n  RefreshCw,\r\n  Download,\r\n  Wallet,\r\n  Shield,\r\n  Activity\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\n\r\nexport interface PortfolioKPIs {\r\n  currentNAV: number\r\n  totalContributed: number\r\n  totalDistributions: number\r\n  unfundedCommitment: number\r\n  totalCommitment: number\r\n  totalCostBasis: number\r\n  unrealizedGain: number\r\n  unrealizedGainPct: number\r\n  dpi: number\r\n  tvpi: number\r\n  irr: number\r\n}\r\n\r\nexport interface PortfolioTrends {\r\n  navChange: number\r\n  navChangePct: number\r\n  performanceChange: number\r\n  periodDays: number\r\n}\r\n\r\nexport interface PortfolioSummary {\r\n  totalPositions: number\r\n  totalVehicles: number\r\n  totalDeals: number\r\n  totalDealValue: number\r\n  pendingAllocations: number\r\n  lastUpdated: string\r\n}\r\n\r\ninterface AllocationData {\r\n  name: string\r\n  value: number\r\n  percentage: number\r\n}\r\n\r\ninterface PerformanceDataPoint {\r\n  date: string\r\n  value: number\r\n  displayDate: string\r\n}\r\n\r\ninterface CashFlowDataPoint {\r\n  period: string\r\n  contributions: number\r\n  distributions: number\r\n  displayPeriod: string\r\n}\r\n\r\ninterface CleanPortfolioDashboardProps {\r\n  kpis: PortfolioKPIs\r\n  trends?: PortfolioTrends\r\n  summary: PortfolioSummary\r\n  asOfDate: string\r\n  isLoading?: boolean\r\n  onRefresh?: () => void\r\n  onExport?: () => void\r\n  className?: string\r\n  vehicleBreakdown?: any[]\r\n  allocationData?: AllocationData[]\r\n  performanceData?: PerformanceDataPoint[]\r\n  cashFlowData?: CashFlowDataPoint[]\r\n}\r\n\r\nconst formatCurrency = (value: number) => {\r\n  // Handle NaN, undefined, or null values\r\n  const safeValue = (value === undefined || value === null || isNaN(value)) ? 0 : value\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: 'USD',\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 0,\r\n    notation: Math.abs(safeValue) >= 1000000 ? 'compact' : 'standard',\r\n    compactDisplay: 'short'\r\n  }).format(safeValue)\r\n}\r\n\r\nconst formatPercentage = (value: number, decimals: number = 1) => {\r\n  // Handle NaN, undefined, or null values\r\n  const safeValue = (value === undefined || value === null || isNaN(value)) ? 0 : value\r\n  return `${safeValue > 0 ? '+' : ''}${safeValue.toFixed(decimals)}%`\r\n}\r\n\r\nconst formatRatio = (value: number, decimals: number = 2) => {\r\n  // Handle NaN, undefined, or null values\r\n  const safeValue = (value === undefined || value === null || isNaN(value)) ? 0 : value\r\n  return `${safeValue.toFixed(decimals)}x`\r\n}\r\n\r\ntype IconType = React.ComponentType<{ className?: string }>\r\n\r\n// Clean KPI Card Component\r\nfunction CleanKPICard({\r\n  title,\r\n  value,\r\n  subtitle,\r\n  change,\r\n  icon: Icon,\r\n  trend,\r\n  className\r\n}: {\r\n  title: string\r\n  value: string | number\r\n  subtitle?: string\r\n  change?: number\r\n  icon?: IconType\r\n  trend?: 'up' | 'down' | 'neutral'\r\n  className?: string\r\n}) {\r\n  return (\r\n    <Card className={cn(\"border shadow-sm\", className)}>\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-sm font-medium text-muted-foreground\">{title}</p>\r\n            <div className=\"flex items-baseline gap-2\">\r\n              <h3 className=\"text-2xl font-bold\">{value}</h3>\r\n              {change !== undefined && (\r\n                <div className={cn(\r\n                  \"flex items-center gap-1 text-sm font-medium\",\r\n                  change >= 0 ? \"text-muted-foreground\" : \"text-muted-foreground\"\r\n                )}>\r\n                  {change >= 0 ? <TrendingUp className=\"h-3 w-3\" /> : <TrendingDown className=\"h-3 w-3\" />}\r\n                  {formatPercentage(change)}\r\n                </div>\r\n              )}\r\n            </div>\r\n            {subtitle && (\r\n              <p className=\"text-xs text-muted-foreground\">{subtitle}</p>\r\n            )}\r\n          </div>\r\n          {Icon && (\r\n            <div className=\"p-2 rounded-lg bg-muted\">\r\n              <Icon className=\"h-5 w-5 text-muted-foreground\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport function PortfolioDashboard({\r\n  kpis,\r\n  trends,\r\n  summary,\r\n  asOfDate,\r\n  isLoading = false,\r\n  onRefresh,\r\n  onExport,\r\n  className,\r\n  vehicleBreakdown = [],\r\n  allocationData = [],\r\n  performanceData = [],\r\n  cashFlowData = []\r\n}: CleanPortfolioDashboardProps) {\r\n\r\n  return (\r\n    <div className={cn(\"space-y-6\", className)}>\r\n      {/* Header Section */}\r\n      <div className=\"flex flex-col sm:flex-row justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Portfolio Analytics</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            {summary.totalVehicles} vehicles, {summary.totalPositions} positions\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Badge variant=\"outline\" className=\"text-xs\">\r\n            <Activity className=\"h-3 w-3 mr-1\" />\r\n            {new Date(asOfDate).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false })}\r\n          </Badge>\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            onClick={onRefresh} \r\n            disabled={isLoading}\r\n          >\r\n            <RefreshCw className={cn(\"h-4 w-4\", isLoading && \"animate-spin\")} />\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={onExport}\r\n            disabled={!onExport}\r\n          >\r\n            <Download className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Primary KPIs Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        <CleanKPICard\r\n          title=\"Portfolio Value\"\r\n          value={formatCurrency(kpis.currentNAV)}\r\n          subtitle=\"Current NAV\"\r\n          change={trends?.navChangePct}\r\n          icon={Wallet}\r\n        />\r\n        <CleanKPICard\r\n          title=\"Invested\"\r\n          value={formatCurrency(kpis.totalContributed)}\r\n          subtitle={`${kpis.totalCommitment > 0 ? ((kpis.totalContributed / kpis.totalCommitment) * 100).toFixed(0) : 0}% deployed`}\r\n          icon={PiggyBank}\r\n        />\r\n        <CleanKPICard\r\n          title=\"Distributions\"\r\n          value={formatCurrency(kpis.totalDistributions)}\r\n          subtitle={`DPI: ${formatRatio(kpis.dpi)}`}\r\n          icon={TrendingUp}\r\n        />\r\n        <CleanKPICard\r\n          title=\"Unrealized\"\r\n          value={formatCurrency(kpis.unrealizedGain)}\r\n          subtitle={`${(kpis.unrealizedGainPct ?? 0).toFixed(1)}% return`}\r\n          change={kpis.unrealizedGainPct}\r\n          icon={Target}\r\n        />\r\n      </div>\r\n\r\n      {/* Performance Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\r\n        {/* Performance Metrics */}\r\n        <Card className=\"border shadow-sm\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base font-medium\">Performance Metrics</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div>\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span className=\"text-sm text-muted-foreground\">TVPI</span>\r\n                <span className=\"text-sm font-medium\">{formatRatio(kpis.tvpi)}</span>\r\n              </div>\r\n              <Progress value={(kpis.tvpi / 3) * 100} className=\"h-2\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span className=\"text-sm text-muted-foreground\">DPI</span>\r\n                <span className=\"text-sm font-medium\">{formatRatio(kpis.dpi)}</span>\r\n              </div>\r\n              <Progress value={(kpis.dpi / 2) * 100} className=\"h-2\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex justify-between mb-2\">\r\n                <span className=\"text-sm text-muted-foreground\">Net IRR</span>\r\n                <span className=\"text-sm font-medium\">{formatPercentage(kpis.irr)}</span>\r\n              </div>\r\n              <Progress value={Math.min((kpis.irr / 30) * 100, 100)} className=\"h-2\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Capital Deployment */}\r\n        <Card className=\"border shadow-sm\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base font-medium\">Capital Deployment</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <div className=\"flex justify-between mb-2\">\r\n                  <span className=\"text-sm text-muted-foreground\">Deployed</span>\r\n                  <span className=\"text-sm font-medium\">\r\n                    {kpis.totalCommitment > 0 ? ((kpis.totalContributed / kpis.totalCommitment) * 100).toFixed(0) : 0}%\r\n                  </span>\r\n                </div>\r\n                <Progress\r\n                  value={kpis.totalCommitment > 0 ? (kpis.totalContributed / kpis.totalCommitment) * 100 : 0}\r\n                  className=\"h-2\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-1 text-sm\">\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-muted-foreground\">Commitment</span>\r\n                  <span>{formatCurrency(kpis.totalCommitment)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-muted-foreground\">Contributed</span>\r\n                  <span>{formatCurrency(kpis.totalContributed)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <span className=\"text-muted-foreground\">Unfunded</span>\r\n                  <span>{formatCurrency(kpis.unfundedCommitment)}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Portfolio Stats */}\r\n        <Card className=\"border shadow-sm\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-base font-medium\">Portfolio Stats</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"text-center\">\r\n                <p className=\"text-2xl font-bold\">{summary.totalVehicles}</p>\r\n                <p className=\"text-xs text-muted-foreground\">Vehicles</p>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <p className=\"text-2xl font-bold\">{summary.totalPositions}</p>\r\n                <p className=\"text-xs text-muted-foreground\">Positions</p>\r\n              </div>\r\n            </div>\r\n            <Separator className=\"my-4\" />\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Deal Allocations</span>\r\n                <span>{summary.totalDeals}</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Deal Value</span>\r\n                <span>{formatCurrency(summary.totalDealValue)}</span>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Charts Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n        <NAVPerformanceChart data={performanceData} />\r\n        <PortfolioAllocationChart data={allocationData} />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 gap-4\">\r\n        <CashFlowChart data={cashFlowData} />\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","\"use client\";\n\n// src/slider.tsx\nimport * as React from \"react\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar PAGE_KEYS = [\"PageUp\", \"PageDown\"];\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar BACK_KEYS = {\n  \"from-left\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-right\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowRight\"],\n  \"from-bottom\": [\"Home\", \"PageDown\", \"ArrowDown\", \"ArrowLeft\"],\n  \"from-top\": [\"Home\", \"PageDown\", \"ArrowUp\", \"ArrowLeft\"]\n};\nvar SLIDER_NAME = \"Slider\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SLIDER_NAME);\nvar [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope\n]);\nvar [SliderProvider, useSliderContext] = createSliderContext(SLIDER_NAME);\nvar Slider = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = \"horizontal\",\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {\n      },\n      onValueCommit = () => {\n      },\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef(/* @__PURE__ */ new Set());\n    const valueIndexToChangeRef = React.useRef(0);\n    const isHorizontal = orientation === \"horizontal\";\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value2) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value2);\n      }\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n    function handleSlideStart(value2) {\n      const closestIndex = getClosestValueIndex(values, value2);\n      updateValues(value2, closestIndex);\n    }\n    function handleSlideMove(value2) {\n      updateValues(value2, valueIndexToChangeRef.current);\n    }\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n    function updateValues(value2, atIndex, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value2 - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n    return /* @__PURE__ */ jsx(\n      SliderProvider,\n      {\n        scope: props.__scopeSlider,\n        name,\n        disabled,\n        min,\n        max,\n        valueIndexToChangeRef,\n        thumbs: thumbRefs.current,\n        values,\n        orientation,\n        form,\n        children: /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n          SliderOrientation,\n          {\n            \"aria-disabled\": disabled,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...sliderProps,\n            ref: forwardedRef,\n            onPointerDown: composeEventHandlers(sliderProps.onPointerDown, () => {\n              if (!disabled) valuesBeforeSlideStartRef.current = values;\n            }),\n            min,\n            max,\n            inverted,\n            onSlideStart: disabled ? void 0 : handleSlideStart,\n            onSlideMove: disabled ? void 0 : handleSlideMove,\n            onSlideEnd: disabled ? void 0 : handleSlideEnd,\n            onHomeKeyDown: () => !disabled && updateValues(min, 0, { commit: true }),\n            onEndKeyDown: () => !disabled && updateValues(max, values.length - 1, { commit: true }),\n            onStepKeyDown: ({ event, direction: stepDirection }) => {\n              if (!disabled) {\n                const isPageKey = PAGE_KEYS.includes(event.key);\n                const isSkipKey = isPageKey || event.shiftKey && ARROW_KEYS.includes(event.key);\n                const multiplier = isSkipKey ? 10 : 1;\n                const atIndex = valueIndexToChangeRef.current;\n                const value2 = values[atIndex];\n                const stepInDirection = step * multiplier * stepDirection;\n                updateValues(value2 + stepInDirection, atIndex, { commit: true });\n              }\n            }\n          }\n        ) }) })\n      }\n    );\n  }\n);\nSlider.displayName = SLIDER_NAME;\nvar [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext(SLIDER_NAME, {\n  startEdge: \"left\",\n  endEdge: \"right\",\n  size: \"width\",\n  direction: 1\n});\nvar SliderHorizontal = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef(void 0);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === \"ltr\";\n    const isSlidingFromLeft = isDirectionLTR && !inverted || !isDirectionLTR && inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || slider.getBoundingClientRect();\n      const input = [0, rect.width];\n      const output = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromLeft ? \"left\" : \"right\",\n        endEdge: isSlidingFromLeft ? \"right\" : \"left\",\n        direction: isSlidingFromLeft ? 1 : -1,\n        size: \"width\",\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            dir: direction,\n            \"data-orientation\": \"horizontal\",\n            ...sliderProps,\n            ref: composedRefs,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateX(-50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientX);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromLeft ? \"from-left\" : \"from-right\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderVertical = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef(void 0);\n    const isSlidingFromBottom = !inverted;\n    function getValueFromPointer(pointerPosition) {\n      const rect = rectRef.current || sliderRef.current.getBoundingClientRect();\n      const input = [0, rect.height];\n      const output = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n    return /* @__PURE__ */ jsx(\n      SliderOrientationProvider,\n      {\n        scope: props.__scopeSlider,\n        startEdge: isSlidingFromBottom ? \"bottom\" : \"top\",\n        endEdge: isSlidingFromBottom ? \"top\" : \"bottom\",\n        size: \"height\",\n        direction: isSlidingFromBottom ? 1 : -1,\n        children: /* @__PURE__ */ jsx(\n          SliderImpl,\n          {\n            \"data-orientation\": \"vertical\",\n            ...sliderProps,\n            ref,\n            style: {\n              ...sliderProps.style,\n              [\"--radix-slider-thumb-transform\"]: \"translateY(50%)\"\n            },\n            onSlideStart: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideStart?.(value);\n            },\n            onSlideMove: (event) => {\n              const value = getValueFromPointer(event.clientY);\n              onSlideMove?.(value);\n            },\n            onSlideEnd: () => {\n              rectRef.current = void 0;\n              onSlideEnd?.();\n            },\n            onStepKeyDown: (event) => {\n              const slideDirection = isSlidingFromBottom ? \"from-bottom\" : \"from-top\";\n              const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n              onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n            }\n          }\n        )\n      }\n    );\n  }\n);\nvar SliderImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...sliderProps,\n        ref: forwardedRef,\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === \"Home\") {\n            onHomeKeyDown(event);\n            event.preventDefault();\n          } else if (event.key === \"End\") {\n            onEndKeyDown(event);\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            event.preventDefault();\n          }\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target;\n          target.setPointerCapture(event.pointerId);\n          event.preventDefault();\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        }),\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        }),\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })\n      }\n    );\n  }\n);\nvar TRACK_NAME = \"SliderTrack\";\nvar SliderTrack = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        \"data-orientation\": context.orientation,\n        ...trackProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSliderTrack.displayName = TRACK_NAME;\nvar RANGE_NAME = \"SliderRange\";\nvar SliderRange = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map(\n      (value) => convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-orientation\": context.orientation,\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...rangeProps,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          [orientation.startEdge]: offsetStart + \"%\",\n          [orientation.endEdge]: offsetEnd + \"%\"\n        }\n      }\n    );\n  }\n);\nSliderRange.displayName = RANGE_NAME;\nvar THUMB_NAME = \"SliderThumb\";\nvar SliderThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1,\n      [getItems, thumb]\n    );\n    return /* @__PURE__ */ jsx(SliderThumbImpl, { ...props, ref: composedRefs, index });\n  }\n);\nvar SliderThumbImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const isFormControl = thumb ? context.form || !!thumb.closest(\"form\") : true;\n    const size = useSize(thumb);\n    const value = context.values[index];\n    const percent = value === void 0 ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction) : 0;\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n    return /* @__PURE__ */ jsxs(\n      \"span\",\n      {\n        style: {\n          transform: \"var(--radix-slider-thumb-transform)\",\n          position: \"absolute\",\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`\n        },\n        children: [\n          /* @__PURE__ */ jsx(Collection.ItemSlot, { scope: props.__scopeSlider, children: /* @__PURE__ */ jsx(\n            Primitive.span,\n            {\n              role: \"slider\",\n              \"aria-label\": props[\"aria-label\"] || label,\n              \"aria-valuemin\": context.min,\n              \"aria-valuenow\": value,\n              \"aria-valuemax\": context.max,\n              \"aria-orientation\": context.orientation,\n              \"data-orientation\": context.orientation,\n              \"data-disabled\": context.disabled ? \"\" : void 0,\n              tabIndex: context.disabled ? void 0 : 0,\n              ...thumbProps,\n              ref: composedRefs,\n              style: value === void 0 ? { display: \"none\" } : props.style,\n              onFocus: composeEventHandlers(props.onFocus, () => {\n                context.valueIndexToChangeRef.current = index;\n              })\n            }\n          ) }),\n          isFormControl && /* @__PURE__ */ jsx(\n            SliderBubbleInput,\n            {\n              name: name ?? (context.name ? context.name + (context.values.length > 1 ? \"[]\" : \"\") : void 0),\n              form: context.form,\n              value\n            },\n            index\n          )\n        ]\n      }\n    );\n  }\n);\nSliderThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar SliderBubbleInput = React.forwardRef(\n  ({ __scopeSlider, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, \"value\");\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"input\", { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        style: { display: \"none\" },\n        ...props,\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getNextSortedValues(prevValues = [], nextValue, atIndex) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\nfunction convertValueToPercentage(value, min, max) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\nfunction getLabel(index, totalValues) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return [\"Minimum\", \"Maximum\"][index];\n  } else {\n    return void 0;\n  }\n}\nfunction getClosestValueIndex(values, nextValue) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\nfunction getThumbInBoundsOffset(width, left, direction) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\nfunction getStepsBetweenValues(values) {\n  return values.slice(0, -1).map((value, index) => values[index + 1] - value);\n}\nfunction hasMinStepsBetweenValues(values, minStepsBetweenValues) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\nfunction linearScale(input, output) {\n  return (value) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\nfunction getDecimalCount(value) {\n  return (String(value).split(\".\")[1] || \"\").length;\n}\nfunction roundValue(value, decimalCount) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\nvar Root = Slider;\nvar Track = SliderTrack;\nvar Range = SliderRange;\nvar Thumb = SliderThumb;\nexport {\n  Range,\n  Root,\n  Slider,\n  SliderRange,\n  SliderThumb,\n  SliderTrack,\n  Thumb,\n  Track,\n  createSliderScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max]\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        \"relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col\",\n        className\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={cn(\n          \"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5\"\n        )}\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={cn(\n            \"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full\"\n          )}\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary ring-ring/50 block size-6 md:size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectGroup,\r\n  SelectItem,\r\n  SelectLabel,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/ui/popover'\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n  CommandList,\r\n} from '@/components/ui/command'\r\nimport { Slider } from '@/components/ui/slider'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { cn } from '@/lib/utils'\r\nimport {\r\n  Search,\r\n  Filter,\r\n  X,\r\n  ChevronDown,\r\n  Building2,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Globe,\r\n  Calendar,\r\n  DollarSign,\r\n  BarChart3,\r\n  Sparkles,\r\n  Check\r\n} from 'lucide-react'\r\n\r\nexport interface FiltersState {\r\n  search: string\r\n  type: string\r\n  status: string\r\n  performance: string\r\n  size: string\r\n  vintage: string\r\n  domicile: string\r\n  // New advanced filters\r\n  minValue?: number\r\n  maxValue?: number\r\n  minReturn?: number\r\n  maxReturn?: number\r\n  sectors?: string[]\r\n  tags?: string[]\r\n}\r\n\r\nexport type SortOption = \r\n  | 'name_asc' \r\n  | 'name_desc' \r\n  | 'value_asc' \r\n  | 'value_desc' \r\n  | 'performance_asc' \r\n  | 'performance_desc'\r\n  | 'commitment_asc'\r\n  | 'commitment_desc'\r\n  | 'date_asc'\r\n  | 'date_desc'\r\n\r\ninterface ModernHoldingsFiltersProps {\r\n  filters: FiltersState\r\n  onFiltersChange: (filters: FiltersState) => void\r\n  sortBy: SortOption\r\n  onSortChange: (sort: SortOption) => void\r\n  onClearFilters: () => void\r\n  activeFiltersCount: number\r\n  totalResults?: number\r\n  className?: string\r\n}\r\n\r\nconst typeOptions = [\r\n  { value: 'all', label: 'All Types', icon: Building2 },\r\n  { value: 'fund', label: 'Funds', icon: Building2 },\r\n  { value: 'spv', label: 'SPVs', icon: Building2 },\r\n  { value: 'co_investment', label: 'Co-Investments', icon: Building2 },\r\n  { value: 'direct', label: 'Direct Investments', icon: Building2 }\r\n]\r\n\r\nconst statusOptions = [\r\n  { value: 'all', label: 'All Status' },\r\n  { value: 'active', label: 'Active', color: 'green' },\r\n  { value: 'pending', label: 'Pending', color: 'yellow' },\r\n  { value: 'closed', label: 'Closed', color: 'gray' }\r\n]\r\n\r\nconst performanceOptions = [\r\n  { value: 'all', label: 'All Performance', icon: BarChart3 },\r\n  { value: 'positive', label: 'Positive Returns', icon: TrendingUp, color: 'green' },\r\n  { value: 'negative', label: 'Negative Returns', icon: TrendingDown, color: 'red' },\r\n  { value: 'breakeven', label: 'Break Even', icon: BarChart3, color: 'gray' }\r\n]\r\n\r\nconst sizeOptions = [\r\n  { value: 'all', label: 'All Sizes' },\r\n  { value: 'large', label: 'Large (>$1M)', icon: DollarSign },\r\n  { value: 'medium', label: 'Medium ($100K-$1M)', icon: DollarSign },\r\n  { value: 'small', label: 'Small (<$100K)', icon: DollarSign }\r\n]\r\n\r\nconst vintageOptions = [\r\n  { value: 'all', label: 'All Vintages' },\r\n  { value: 'recent', label: 'Recent (< 2 years)', icon: Calendar },\r\n  { value: 'mature', label: 'Mature (2-5 years)', icon: Calendar },\r\n  { value: 'legacy', label: 'Legacy (> 5 years)', icon: Calendar }\r\n]\r\n\r\nconst domicileOptions = [\r\n  { value: 'all', label: 'All Locations' },\r\n  { value: 'luxembourg', label: 'Luxembourg', flag: '' },\r\n  { value: 'british virgin islands', label: 'British Virgin Islands', flag: '' },\r\n  { value: 'cayman islands', label: 'Cayman Islands', flag: '' },\r\n  { value: 'united states', label: 'United States', flag: '' },\r\n  { value: 'singapore', label: 'Singapore', flag: '' },\r\n  { value: 'other', label: 'Other', flag: '' }\r\n]\r\n\r\ntype IconType = React.ComponentType<{ className?: string }>\r\n\r\nconst sortOptions: { value: SortOption; label: string; icon?: IconType }[] = [\r\n  { value: 'value_desc', label: 'Highest Value', icon: TrendingUp },\r\n  { value: 'value_asc', label: 'Lowest Value', icon: TrendingDown },\r\n  { value: 'performance_desc', label: 'Best Performance', icon: TrendingUp },\r\n  { value: 'performance_asc', label: 'Worst Performance', icon: TrendingDown },\r\n  { value: 'name_asc', label: 'Name (A-Z)' },\r\n  { value: 'name_desc', label: 'Name (Z-A)' },\r\n  { value: 'date_desc', label: 'Newest First', icon: Calendar },\r\n  { value: 'date_asc', label: 'Oldest First', icon: Calendar },\r\n  { value: 'commitment_desc', label: 'Largest Commitment', icon: DollarSign },\r\n  { value: 'commitment_asc', label: 'Smallest Commitment', icon: DollarSign }\r\n]\r\n\r\nexport function ModernHoldingsFilters({\r\n  filters,\r\n  onFiltersChange,\r\n  sortBy,\r\n  onSortChange,\r\n  onClearFilters,\r\n  activeFiltersCount,\r\n  totalResults = 0,\r\n  className\r\n}: ModernHoldingsFiltersProps) {\r\n  const [showAdvancedFilters, setShowAdvancedFilters] = useState(false)\r\n  const [valueRange, setValueRange] = useState<[number, number]>([\r\n    filters.minValue ?? 0,\r\n    filters.maxValue ?? 10000000\r\n  ])\r\n  const [returnRange, setReturnRange] = useState<[number, number]>([\r\n    filters.minReturn ?? -50,\r\n    filters.maxReturn ?? 100\r\n  ])\r\n\r\n  const handleFilterChange = (key: keyof FiltersState, value: any) => {\r\n    onFiltersChange({ ...filters, [key]: value })\r\n  }\r\n\r\n  const currentSort = sortOptions.find(opt => opt.value === sortBy) || sortOptions[0]\r\n\r\n  return (\r\n    <div className={cn(\"space-y-4\", className)}>\r\n      {/* Main Filter Bar */}\r\n      <div className=\"flex flex-col lg:flex-row gap-4\">\r\n        {/* Search Input */}\r\n        <div className=\"relative flex-1 max-w-md\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n          <Input\r\n            placeholder=\"Search by name, type, or location...\"\r\n            value={filters.search}\r\n            onChange={(e) => handleFilterChange('search', e.target.value)}\r\n            className=\"pl-10 pr-10\"\r\n          />\r\n          {filters.search && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 p-0\"\r\n              onClick={() => handleFilterChange('search', '')}\r\n            >\r\n              <X className=\"h-4 w-4\" />\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {/* Quick Filters - responsive: full width on mobile, fixed on desktop */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {/* Type Filter */}\r\n          <Select value={filters.type} onValueChange={(value) => handleFilterChange('type', value)}>\r\n            <SelectTrigger className=\"w-full sm:w-[160px]\">\r\n              <SelectValue placeholder=\"Vehicle Type\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {typeOptions.map(option => (\r\n                <SelectItem key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n\r\n          {/* Performance Filter */}\r\n          <Select value={filters.performance} onValueChange={(value) => handleFilterChange('performance', value)}>\r\n            <SelectTrigger className=\"w-full sm:w-[160px]\">\r\n              <SelectValue placeholder=\"Performance\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {performanceOptions.map(option => (\r\n                <SelectItem key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n\r\n          {/* Size Filter */}\r\n          <Select value={filters.size} onValueChange={(value) => handleFilterChange('size', value)}>\r\n            <SelectTrigger className=\"w-full sm:w-[140px]\">\r\n              <SelectValue placeholder=\"Size\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {sizeOptions.map(option => (\r\n                <SelectItem key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n\r\n          {/* Advanced Filters Toggle */}\r\n          <Button\r\n            variant={showAdvancedFilters ? \"default\" : \"outline\"}\r\n            size=\"sm\"\r\n            onClick={() => setShowAdvancedFilters(!showAdvancedFilters)}\r\n            className=\"gap-2\"\r\n          >\r\n            <Sparkles className=\"h-4 w-4\" />\r\n            Advanced\r\n            <ChevronDown className={cn(\"h-4 w-4 transition-transform\", showAdvancedFilters && \"rotate-180\")} />\r\n          </Button>\r\n\r\n          {/* Sort Dropdown */}\r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n                {currentSort.icon && <currentSort.icon className=\"h-4 w-4\" />}\r\n                {currentSort.label}\r\n                <ChevronDown className=\"h-4 w-4\" />\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-56\" align=\"end\">\r\n              <Command>\r\n                <CommandInput placeholder=\"Search sort options...\" />\r\n                <CommandList>\r\n                  <CommandEmpty>No sort option found.</CommandEmpty>\r\n                  <CommandGroup>\r\n                    {sortOptions.map((option) => (\r\n                      <CommandItem\r\n                        key={option.value}\r\n                        value={option.value}\r\n                        onSelect={() => onSortChange(option.value)}\r\n                      >\r\n                        <div className=\"flex items-center w-full\">\r\n                          {option.icon && <option.icon className=\"h-4 w-4 mr-2\" />}\r\n                          <span className=\"flex-1\">{option.label}</span>\r\n                          {sortBy === option.value && <Check className=\"h-4 w-4\" />}\r\n                        </div>\r\n                      </CommandItem>\r\n                    ))}\r\n                  </CommandGroup>\r\n                </CommandList>\r\n              </Command>\r\n            </PopoverContent>\r\n          </Popover>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Advanced Filters Panel */}\r\n      {showAdvancedFilters && (\r\n        <div className=\"border rounded-lg p-4 space-y-4 bg-muted/30\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {/* Status Filter */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">Status</Label>\r\n              <Select value={filters.status} onValueChange={(value) => handleFilterChange('status', value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {statusOptions.map(option => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      <div className=\"flex items-center\">\r\n                        {option.color && (\r\n                          <div className={cn(\r\n                            \"h-2 w-2 rounded-full mr-2\",\r\n                            option.color === 'green' && 'bg-green-500',\r\n                            option.color === 'yellow' && 'bg-yellow-500',\r\n                            option.color === 'gray' && 'bg-gray-500'\r\n                          )} />\r\n                        )}\r\n                        {option.label}\r\n                      </div>\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Vintage Filter */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">Vintage</Label>\r\n              <Select value={filters.vintage} onValueChange={(value) => handleFilterChange('vintage', value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select vintage\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {vintageOptions.map(option => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Domicile Filter */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">Domicile</Label>\r\n              <Select value={filters.domicile} onValueChange={(value) => handleFilterChange('domicile', value)}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select location\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {domicileOptions.map(option => (\r\n                    <SelectItem key={option.value} value={option.value}>\r\n                      <span className=\"mr-2\">{option.flag}</span>\r\n                      {option.label}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Range Sliders */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm font-medium\">Value Range</Label>\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  ${(valueRange[0] / 1000).toFixed(0)}K - ${(valueRange[1] / 1000).toFixed(0)}K\r\n                </span>\r\n              </div>\r\n              <Slider\r\n                value={valueRange}\r\n                onValueChange={(value) => {\r\n                  const newRange = value as [number, number]\r\n                  setValueRange(newRange)\r\n                  // Only apply filter if not at default bounds\r\n                  const isDefault = newRange[0] === 0 && newRange[1] === 10000000\r\n                  onFiltersChange({\r\n                    ...filters,\r\n                    minValue: isDefault ? undefined : newRange[0],\r\n                    maxValue: isDefault ? undefined : newRange[1]\r\n                  })\r\n                }}\r\n                max={10000000}\r\n                step={100000}\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-sm font-medium\">Return Range</Label>\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  {returnRange[0]}% - {returnRange[1]}%\r\n                </span>\r\n              </div>\r\n              <Slider\r\n                value={returnRange}\r\n                onValueChange={(value) => {\r\n                  const newRange = value as [number, number]\r\n                  setReturnRange(newRange)\r\n                  // Only apply filter if not at default bounds\r\n                  const isDefault = newRange[0] === -50 && newRange[1] === 100\r\n                  onFiltersChange({\r\n                    ...filters,\r\n                    minReturn: isDefault ? undefined : newRange[0],\r\n                    maxReturn: isDefault ? undefined : newRange[1]\r\n                  })\r\n                }}\r\n                min={-50}\r\n                max={100}\r\n                step={5}\r\n                className=\"w-full\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Active Filters Bar */}\r\n      {activeFiltersCount > 0 && (\r\n        <div className=\"flex items-center justify-between p-3 bg-muted/50 rounded-lg\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Filter className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-sm text-muted-foreground\">\r\n              {activeFiltersCount} filter{activeFiltersCount !== 1 ? 's' : ''} active\r\n            </span>\r\n            {totalResults > 0 && (\r\n              <>\r\n                <Separator orientation=\"vertical\" className=\"h-4\" />\r\n                <span className=\"text-sm font-medium\">\r\n                  {totalResults} result{totalResults !== 1 ? 's' : ''}\r\n                </span>\r\n              </>\r\n            )}\r\n          </div>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={onClearFilters}\r\n            className=\"text-muted-foreground hover:text-foreground\"\r\n          >\r\n            <X className=\"h-4 w-4 mr-2\" />\r\n            Clear all\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Alert, AlertDescription } from '@/components/ui/alert'\r\nimport { Separator } from '@/components/ui/separator'\r\nimport { Loader2, AlertTriangle, TrendingDown, Info, Percent } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface SellPositionFormProps {\r\n  subscriptionId: string\r\n  vehicleName: string\r\n  fundedAmount: number\r\n  currency: string\r\n  onSuccess?: () => void\r\n  onCancel?: () => void\r\n}\r\n\r\nexport function SellPositionForm({\r\n  subscriptionId,\r\n  vehicleName,\r\n  fundedAmount,\r\n  currency,\r\n  onSuccess,\r\n  onCancel\r\n}: SellPositionFormProps) {\r\n  const router = useRouter()\r\n  const [loading, setLoading] = useState(false)\r\n  const [amount, setAmount] = useState('')\r\n  const [askingPrice, setAskingPrice] = useState('')\r\n  const [notes, setNotes] = useState('')\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  // Calculate percentage of position being sold\r\n  const amountValue = parseFloat(amount) || 0\r\n  const sellPercentage = fundedAmount > 0 ? (amountValue / fundedAmount) * 100 : 0\r\n\r\n  const formatCurrency = (value: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: currency || 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 2\r\n    }).format(value)\r\n  }\r\n\r\n  // Quick sell percentage buttons\r\n  const handleQuickPercent = (percent: number) => {\r\n    const value = (fundedAmount * percent) / 100\r\n    setAmount(value.toFixed(2))\r\n  }\r\n\r\n  async function handleSubmit(e: React.FormEvent) {\r\n    e.preventDefault()\r\n    setError(null)\r\n\r\n    if (!amount || amountValue <= 0) {\r\n      setError('Please enter a valid amount')\r\n      return\r\n    }\r\n\r\n    if (amountValue > fundedAmount) {\r\n      setError(`Amount cannot exceed your position value of ${formatCurrency(fundedAmount)}`)\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n    try {\r\n      const response = await fetch('/api/investor/sell-request', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          subscription_id: subscriptionId,\r\n          amount_to_sell: amountValue,\r\n          asking_price_per_unit: askingPrice ? parseFloat(askingPrice) : undefined,\r\n          notes: notes || undefined\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to submit request')\r\n      }\r\n\r\n      toast.success('Sale request submitted successfully')\r\n\r\n      if (onSuccess) {\r\n        onSuccess()\r\n      } else {\r\n        router.push('/versotech_main/portfolio')\r\n        router.refresh()\r\n      }\r\n    } catch (err) {\r\n      console.error('Submit error:', err)\r\n      const message = err instanceof Error ? err.message : 'Failed to submit request'\r\n      setError(message)\r\n      toast.error(message)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full space-y-6\">\r\n      {/* Header with Position Summary */}\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"p-2.5 rounded-xl bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-200/50\">\r\n            <TrendingDown className=\"h-5 w-5 text-amber-600\" />\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <h3 className=\"font-semibold text-lg tracking-tight\">Sell Position</h3>\r\n            <p className=\"text-sm text-muted-foreground mt-0.5\">\r\n              {vehicleName}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Position Value Display */}\r\n        <div className=\"p-4 rounded-xl bg-gradient-to-br from-slate-50 to-slate-100/50 dark:from-slate-900 dark:to-slate-800/50 border border-slate-200/50 dark:border-slate-700/50\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm text-muted-foreground\">Position Value</span>\r\n            <span className=\"text-xl font-semibold tabular-nums tracking-tight\">\r\n              {formatCurrency(fundedAmount)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Separator className=\"bg-border/50\" />\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n        {/* Warning Alert */}\r\n        <Alert className=\"border-amber-200/50 bg-amber-50/50 dark:bg-amber-950/20\">\r\n          <AlertTriangle className=\"h-4 w-4 text-amber-600\" />\r\n          <AlertDescription className=\"text-sm text-amber-800 dark:text-amber-200\">\r\n            Sale requests are subject to review and buyer matching.\r\n            The process typically takes 2-4 weeks.\r\n          </AlertDescription>\r\n        </Alert>\r\n\r\n        {error && (\r\n          <Alert variant=\"destructive\" className=\"animate-in fade-in-0 slide-in-from-top-1\">\r\n            <AlertDescription>{error}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Amount to Sell */}\r\n        <div className=\"space-y-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label htmlFor=\"amount\" className=\"text-sm font-medium\">\r\n              Amount to Sell\r\n            </Label>\r\n            <span className=\"text-xs text-muted-foreground tabular-nums\">\r\n              {currency || 'USD'}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"relative\">\r\n            <Input\r\n              id=\"amount\"\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              max={fundedAmount}\r\n              value={amount}\r\n              onChange={(e) => setAmount(e.target.value)}\r\n              placeholder=\"0.00\"\r\n              required\r\n              disabled={loading}\r\n              className=\"text-lg h-12 pr-20 font-medium tabular-nums\"\r\n            />\r\n            {amountValue > 0 && (\r\n              <div className=\"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 text-xs text-muted-foreground bg-background px-1.5 py-0.5 rounded\">\r\n                <Percent className=\"h-3 w-3\" />\r\n                <span className=\"tabular-nums\">{sellPercentage.toFixed(1)}%</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Quick Percentage Buttons */}\r\n          <div className=\"flex gap-2\">\r\n            {[25, 50, 75, 100].map((percent) => (\r\n              <Button\r\n                key={percent}\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => handleQuickPercent(percent)}\r\n                disabled={loading}\r\n                className={cn(\r\n                  \"flex-1 text-xs h-8 transition-all\",\r\n                  sellPercentage === percent && \"bg-primary/5 border-primary/30 text-primary\"\r\n                )}\r\n              >\r\n                {percent}%\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Asking Price (Optional) */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Label htmlFor=\"askingPrice\" className=\"text-sm font-medium\">\r\n              Asking Price per Unit\r\n            </Label>\r\n            <span className=\"text-[10px] font-medium text-muted-foreground bg-muted px-1.5 py-0.5 rounded\">\r\n              OPTIONAL\r\n            </span>\r\n          </div>\r\n          <Input\r\n            id=\"askingPrice\"\r\n            type=\"number\"\r\n            step=\"0.0001\"\r\n            min=\"0\"\r\n            value={askingPrice}\r\n            onChange={(e) => setAskingPrice(e.target.value)}\r\n            placeholder=\"Leave blank for market price\"\r\n            disabled={loading}\r\n            className=\"h-11\"\r\n          />\r\n          <p className=\"text-xs text-muted-foreground flex items-center gap-1.5\">\r\n            <Info className=\"h-3 w-3\" />\r\n            If not specified, current market valuation will be used\r\n          </p>\r\n        </div>\r\n\r\n        {/* Notes (Optional) */}\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Label htmlFor=\"notes\" className=\"text-sm font-medium\">\r\n              Additional Notes\r\n            </Label>\r\n            <span className=\"text-[10px] font-medium text-muted-foreground bg-muted px-1.5 py-0.5 rounded\">\r\n              OPTIONAL\r\n            </span>\r\n          </div>\r\n          <Textarea\r\n            id=\"notes\"\r\n            value={notes}\r\n            onChange={(e) => setNotes(e.target.value)}\r\n            placeholder=\"Any special requirements or context for your request...\"\r\n            rows={3}\r\n            maxLength={1000}\r\n            disabled={loading}\r\n            className=\"resize-none\"\r\n          />\r\n          <div className=\"flex justify-end\">\r\n            <span className=\"text-[10px] text-muted-foreground tabular-nums\">\r\n              {notes.length}/1000\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <Separator className=\"bg-border/50\" />\r\n\r\n        {/* Summary before submit */}\r\n        {amountValue > 0 && (\r\n          <div className=\"p-4 rounded-xl bg-muted/30 border border-border/50 space-y-2\">\r\n            <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wider\">\r\n              Request Summary\r\n            </p>\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className=\"text-sm\">Selling</span>\r\n              <span className=\"font-semibold tabular-nums\">{formatCurrency(amountValue)}</span>\r\n            </div>\r\n            <div className=\"flex items-center justify-between text-muted-foreground\">\r\n              <span className=\"text-sm\">of position</span>\r\n              <span className=\"text-sm tabular-nums\">{sellPercentage.toFixed(1)}%</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"flex gap-3 pt-2\">\r\n          <Button\r\n            type=\"submit\"\r\n            disabled={loading || amountValue <= 0}\r\n            className=\"flex-1 h-11 font-medium\"\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                Submitting...\r\n              </>\r\n            ) : (\r\n              'Submit Sale Request'\r\n            )}\r\n          </Button>\r\n          {onCancel && (\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={onCancel}\r\n              disabled={loading}\r\n              className=\"h-11\"\r\n            >\r\n              Cancel\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Image from 'next/image'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from '@/components/ui/sheet'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport {\r\n  Eye,\r\n  MoreVertical,\r\n  DollarSign,\r\n  Calendar,\r\n  TrendingDown\r\n} from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { SellPositionForm } from '@/components/investor/sell-position-form'\r\n\r\ninterface DocumentInfo {\r\n  id: string\r\n  name: string\r\n  type: string\r\n  file_key: string\r\n  created_at: string\r\n}\r\n\r\ninterface EnhancedHolding {\r\n  id: string\r\n  name: string\r\n  type: string\r\n  domicile?: string\r\n  currency: string\r\n  created_at: string\r\n  logo_url?: string\r\n  website_url?: string\r\n  investment_name?: string\r\n  allocation_status?: string | null\r\n  invite_sent_at?: string | null\r\n  position: {\r\n    units: number\r\n    costBasis: number\r\n    currentValue: number\r\n    unrealizedGain: number\r\n    unrealizedGainPct: number\r\n    lastUpdated?: string\r\n  } | null\r\n  subscription: {\r\n    id?: string  // For sell request form\r\n    commitment: number | null\r\n    currency: string\r\n    status: string\r\n    effective_date?: string | null\r\n    funding_due_at?: string | null\r\n    units?: number | null\r\n  } | null\r\n  valuation: {\r\n    navTotal: number\r\n    navPerUnit: number\r\n    asOfDate: string\r\n  } | null\r\n  performance: {\r\n    unrealizedGainPct: number\r\n  } | null\r\n  status?: string\r\n  documents?: {\r\n    nda: DocumentInfo | null\r\n    subscription_pack: DocumentInfo | null\r\n    certificate: DocumentInfo | null\r\n  }\r\n}\r\n\r\nconst getStatusStyles = (status: string) => {\r\n  switch (status) {\r\n    case 'active':\r\n    case 'committed':\r\n      return 'bg-emerald-600 border-emerald-500 text-white font-medium'\r\n    case 'pending':\r\n      return 'bg-amber-600 border-amber-500 text-white font-medium'\r\n    case 'closed':\r\n      return 'bg-blue-600 border-blue-500 text-white font-medium'\r\n    case 'cancelled':\r\n      return 'bg-red-600 border-red-500 text-white font-medium'\r\n    default:\r\n      return 'bg-muted border-border text-foreground font-medium'\r\n  }\r\n}\r\n\r\ninterface VehicleCardProps {\r\n  holding: EnhancedHolding\r\n  detailsBasePath?: string\r\n}\r\n\r\nexport function VehicleCard({\r\n  holding,\r\n  detailsBasePath = '/versotech_main/portfolio'\r\n}: VehicleCardProps) {\r\n  const router = useRouter()\r\n  const [sellSheetOpen, setSellSheetOpen] = useState(false)\r\n\r\n  // Check if has actual position with units (units matter, not currentValue which depends on NAV)\r\n  const hasPosition = holding.position && holding.position.units > 0\r\n\r\n  // Show position data when there's a position with units\r\n  const showPositionData = hasPosition\r\n\r\n  const canSell = hasPosition && holding.subscription?.id\r\n  const isPositive = holding.position?.unrealizedGainPct ? holding.position.unrealizedGainPct >= 0 : false\r\n  const rawStatus =\r\n    holding.status ||\r\n    holding.allocation_status ||\r\n    holding.subscription?.status ||\r\n    (hasPosition ? 'active' : 'pending')\r\n  const status = rawStatus.toLowerCase()\r\n  const statusLabel = status.replace(/_/g, ' ').toUpperCase()\r\n\r\n  const handleViewDetails = () => {\r\n    router.push(`${detailsBasePath}/${holding.id}`)\r\n  }\r\n\r\n  const handleDownloadDocument = async (doc: DocumentInfo) => {\r\n    try {\r\n      const response = await fetch(`/api/documents/${doc.id}/download`)\r\n      const data = await response.json()\r\n      if (data.url) {\r\n        window.open(data.url, '_blank')\r\n      }\r\n    } catch (error) {\r\n      console.error('Download failed:', error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className=\"group relative overflow-hidden border shadow-sm hover:shadow-md transition-shadow duration-200 min-h-[420px] flex flex-col\">\r\n      <CardHeader className=\"pb-3 flex-shrink-0\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"space-y-3\">\r\n            {/* Investment branding (underlying company/asset) */}\r\n            <div className=\"flex items-center gap-3\">\r\n              {holding.logo_url ? (\r\n                <Image\r\n                  src={holding.logo_url}\r\n                  alt={holding.investment_name || 'Investment'}\r\n                  width={48}\r\n                  height={48}\r\n                  className=\"h-12 w-12 rounded-lg object-contain bg-muted p-1.5\"\r\n                />\r\n              ) : (\r\n                <div className=\"h-12 w-12 rounded-lg bg-gradient-to-br from-blue-600 to-indigo-700 flex items-center justify-center shadow-sm\">\r\n                  <span className=\"text-white font-bold text-lg\">\r\n                    {(holding.investment_name || holding.name || 'V').charAt(0).toUpperCase()}\r\n                  </span>\r\n                </div>\r\n              )}\r\n              <div>\r\n                {holding.investment_name && (\r\n                  <span className=\"text-sm font-medium text-muted-foreground block\">\r\n                    {holding.investment_name}\r\n                  </span>\r\n                )}\r\n                <CardTitle className=\"text-lg font-semibold line-clamp-1\">{holding.name}</CardTitle>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Badges */}\r\n            <div className=\"flex items-center gap-2 flex-wrap\">\r\n              <Badge variant=\"secondary\" className=\"text-xs\">\r\n                {holding.type.replace(/_/g, ' ')}\r\n              </Badge>\r\n              {holding.domicile && (\r\n                <Badge variant=\"outline\" className=\"text-xs\">\r\n                  {holding.domicile}\r\n                </Badge>\r\n              )}\r\n              <Badge className={cn('text-xs', getStatusStyles(status))}>{statusLabel}</Badge>\r\n            </div>\r\n          </div>\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\r\n                <MoreVertical className=\"h-4 w-4\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\">\r\n              <DropdownMenuLabel>Actions</DropdownMenuLabel>\r\n              <DropdownMenuSeparator />\r\n              <DropdownMenuItem onClick={handleViewDetails}>\r\n                <Eye className=\"mr-2 h-4 w-4\" />\r\n                View Details\r\n              </DropdownMenuItem>\r\n              {canSell && (\r\n                <DropdownMenuItem onClick={() => setSellSheetOpen(true)}>\r\n                  <TrendingDown className=\"mr-2 h-4 w-4\" />\r\n                  Request Sale\r\n                </DropdownMenuItem>\r\n              )}\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"flex-1 flex flex-col\">\r\n        <div className=\"flex-1 space-y-4\">\r\n          {showPositionData ? (\r\n            <>\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm text-muted-foreground\">Current Value</span>\r\n                  <span className=\"text-lg font-bold\">\r\n                    {new Intl.NumberFormat('en-US', {\r\n                      style: 'currency',\r\n                      currency: holding.currency,\r\n                      minimumFractionDigits: 0,\r\n                      maximumFractionDigits: 0\r\n                    }).format(holding.position!.currentValue)}\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm text-muted-foreground\">Unrealized Gain</span>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span className={cn(\r\n                      \"text-sm font-medium\",\r\n                      isPositive ? \"text-foreground\" : \"text-muted-foreground\"\r\n                    )}>\r\n                      {new Intl.NumberFormat('en-US', {\r\n                        style: 'currency',\r\n                        currency: holding.currency,\r\n                        minimumFractionDigits: 0,\r\n                        maximumFractionDigits: 0,\r\n                        signDisplay: 'always'\r\n                      }).format(holding.position!.unrealizedGain)}\r\n                    </span>\r\n                    <Badge\r\n                      variant=\"outline\"\r\n                      className=\"text-xs\"\r\n                    >\r\n                      {isPositive ? '+' : '-'}{Math.abs(holding.position!.unrealizedGainPct).toFixed(1)}%\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"pt-3 border-t mt-3\">\r\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                  <div>\r\n                    <p className=\"text-muted-foreground\">Units</p>\r\n                    <p className=\"font-medium\">{holding.position!.units.toLocaleString()}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-muted-foreground\">Cost Basis</p>\r\n                    <p className=\"font-medium\">\r\n                      {new Intl.NumberFormat('en-US', {\r\n                        style: 'currency',\r\n                        currency: holding.currency,\r\n                        minimumFractionDigits: 0,\r\n                        maximumFractionDigits: 0\r\n                      }).format(holding.position!.costBasis)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {holding.valuation && (\r\n                <div className=\"pt-3 border-t mt-3\">\r\n                  <div className=\"flex items-center justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">NAV per Unit</span>\r\n                    <div className=\"text-right\">\r\n                      <p className=\"font-medium\">\r\n                        {new Intl.NumberFormat('en-US', {\r\n                          style: 'currency',\r\n                          currency: holding.currency\r\n                        }).format(holding.valuation.navPerUnit)}\r\n                      </p>\r\n                      <p className=\"text-xs text-muted-foreground flex items-center justify-end gap-1\">\r\n                        <Calendar className=\"h-3 w-3\" />\r\n                        {new Date(holding.valuation.asOfDate).toLocaleDateString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div className=\"text-center py-6 space-y-3\">\r\n              <DollarSign className=\"h-12 w-12 text-muted-foreground/20 mx-auto mb-1\" />\r\n              <div className=\"space-y-1\">\r\n                <p className=\"text-sm font-medium text-foreground\">Awaiting Funding</p>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  Your commitment has been recorded. We will notify you once units are issued.\r\n                </p>\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <Badge variant=\"outline\" className=\"bg-muted/50 border-border text-xs capitalize\">\r\n                  Allocation Status: {(holding.allocation_status || holding.subscription?.status || 'pending').replace(/_/g, ' ')}\r\n                </Badge>\r\n                {holding.subscription?.commitment !== null && holding.subscription?.commitment !== undefined && (\r\n                  <Badge variant=\"outline\" className=\"bg-muted/50 border-border text-xs\">\r\n                    Commitment:{' '}\r\n                    {new Intl.NumberFormat('en-US', {\r\n                      style: 'currency',\r\n                      currency: holding.subscription?.currency || holding.currency,\r\n                      minimumFractionDigits: 0,\r\n                      maximumFractionDigits: 0\r\n                    }).format(holding.subscription.commitment ?? 0)}\r\n                  </Badge>\r\n                )}\r\n                {holding.subscription?.funding_due_at && (\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Funding due {new Date(holding.subscription.funding_due_at).toLocaleDateString()}\r\n                  </p>\r\n                )}\r\n                {holding.invite_sent_at && (\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Invite sent {new Date(holding.invite_sent_at).toLocaleDateString()}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Documents */}\r\n        {holding.documents && (\r\n          <div className=\"pt-3 border-t\">\r\n            <p className=\"text-xs text-muted-foreground mb-2\">Documents</p>\r\n            <div className=\"flex flex-wrap gap-3 text-sm\">\r\n              {holding.documents.nda && (\r\n                <button\r\n                  onClick={() => handleDownloadDocument(holding.documents!.nda!)}\r\n                  className=\"text-emerald-500 hover:text-emerald-400 hover:underline\"\r\n                >\r\n                  NDA\r\n                </button>\r\n              )}\r\n              {holding.documents.subscription_pack && (\r\n                <button\r\n                  onClick={() => handleDownloadDocument(holding.documents!.subscription_pack!)}\r\n                  className=\"text-emerald-500 hover:text-emerald-400 hover:underline\"\r\n                >\r\n                  Sub Pack\r\n                </button>\r\n              )}\r\n              {holding.documents.certificate && (\r\n                <button\r\n                  onClick={() => handleDownloadDocument(holding.documents!.certificate!)}\r\n                  className=\"text-emerald-500 hover:text-emerald-400 hover:underline\"\r\n                >\r\n                  Certificate\r\n                </button>\r\n              )}\r\n              {!holding.documents.nda && !holding.documents.subscription_pack && !holding.documents.certificate && (\r\n                <span className=\"text-muted-foreground text-xs\">No documents</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Action Buttons */}\r\n        <div className=\"pt-2 mt-auto space-y-2\">\r\n          {canSell && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"w-full border-amber-200 text-amber-700 hover:bg-amber-50 hover:text-amber-800\"\r\n              onClick={() => setSellSheetOpen(true)}\r\n            >\r\n              <TrendingDown className=\"h-4 w-4 mr-2\" />\r\n              Request Sale\r\n            </Button>\r\n          )}\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"w-full\"\r\n            onClick={handleViewDetails}\r\n          >\r\n            <Eye className=\"h-4 w-4 mr-2\" />\r\n            View Details\r\n          </Button>\r\n        </div>\r\n      </CardContent>\r\n\r\n      {/* Sell Position Sheet */}\r\n      {canSell && (\r\n        <Sheet open={sellSheetOpen} onOpenChange={setSellSheetOpen}>\r\n          <SheetContent className=\"sm:max-w-md overflow-y-auto\">\r\n            <SheetHeader className=\"mb-4\">\r\n              <SheetTitle>Request Position Sale</SheetTitle>\r\n            </SheetHeader>\r\n            <SellPositionForm\r\n              subscriptionId={holding.subscription!.id!}\r\n              vehicleName={holding.name}\r\n              fundedAmount={holding.position!.costBasis}\r\n              currency={holding.currency}\r\n              onSuccess={() => setSellSheetOpen(false)}\r\n              onCancel={() => setSellSheetOpen(false)}\r\n            />\r\n          </SheetContent>\r\n        </Sheet>\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useEffect, useState, useRef, useCallback } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { RealtimeChannel } from '@supabase/supabase-js'\r\nimport { toast } from 'sonner'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ninterface RealtimeUpdate {\r\n  type: 'kpi_update' | 'position_update' | 'valuation_update' | 'allocation_update' | 'capital_call' | 'distribution' | 'fee_accrual'\r\n  data: any\r\n  timestamp: string\r\n}\r\n\r\ninterface RealtimeHoldingsProviderProps {\r\n  children: React.ReactNode\r\n  investorIds: string[]\r\n  onDataUpdate?: (update: RealtimeUpdate) => void\r\n  enableNotifications?: boolean\r\n  holdingsPath?: string\r\n}\r\n\r\nexport function RealtimeHoldingsProvider({\r\n  children,\r\n  investorIds,\r\n  onDataUpdate,\r\n  enableNotifications = true,\r\n  holdingsPath = '/versotech_main/portfolio'\r\n}: RealtimeHoldingsProviderProps) {\r\n  const [isConnected, setIsConnected] = useState(false)\r\n  const [lastUpdate, setLastUpdate] = useState<string | null>(null)\r\n  const channelsRef = useRef<RealtimeChannel[]>([])\r\n  const reconnectAttempts = useRef(0)\r\n  const maxReconnectAttempts = 5\r\n  const reconnectDelay = useRef(1000) // Start with 1 second\r\n  const reconnectHandlerRef = useRef<() => void>(() => { })\r\n  const router = useRouter()\r\n\r\n  // Clean up channels on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      channelsRef.current.forEach(channel => {\r\n        channel.unsubscribe()\r\n      })\r\n      channelsRef.current = []\r\n    }\r\n  }, [])\r\n\r\n  // Debounced update handler to prevent excessive updates\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const debouncedUpdate = useCallback(\r\n    debounce((update: RealtimeUpdate) => {\r\n      setLastUpdate(new Date().toISOString())\r\n      onDataUpdate?.(update)\r\n\r\n      if (enableNotifications) {\r\n        switch (update.type) {\r\n          case 'position_update':\r\n            toast.info('Portfolio position updated', {\r\n              description: 'Your holdings have been updated with the latest data.',\r\n              duration: 3000\r\n            })\r\n            break\r\n          case 'valuation_update':\r\n            toast.info('Valuation updated', {\r\n              description: 'New NAV data is available for your investments.',\r\n              duration: 3000\r\n            })\r\n            break\r\n          case 'allocation_update':\r\n            toast.success('Allocation confirmed', {\r\n              description: 'Your deal allocation has been processed.',\r\n              duration: 5000\r\n            })\r\n            break\r\n          case 'capital_call':\r\n            toast.warning('Capital call issued', {\r\n              description: 'A new capital call has been issued for one of your investments.',\r\n              duration: 10000,\r\n              action: {\r\n                label: 'View Details',\r\n                onClick: () => router.push(holdingsPath)\r\n              }\r\n            })\r\n            break\r\n          case 'distribution':\r\n            toast.success('Distribution received', {\r\n              description: 'A distribution has been processed for your investment.',\r\n              duration: 8000,\r\n              action: {\r\n                label: 'View Details',\r\n                onClick: () => router.push(holdingsPath)\r\n              }\r\n            })\r\n            break\r\n          case 'fee_accrual':\r\n            toast.info('Fee accrued', {\r\n              description: 'New fees have been accrued for your investments.',\r\n              duration: 5000\r\n            })\r\n            break\r\n        }\r\n      }\r\n    }, 2000),\r\n    [onDataUpdate, enableNotifications, holdingsPath, router]\r\n  )\r\n\r\n  // Set up realtime subscriptions\r\n  useEffect(() => {\r\n    if (!investorIds.length) return\r\n\r\n    let supabase: ReturnType<typeof createClient>\r\n\r\n    const setupSubscriptions = async () => {\r\n      try {\r\n        supabase = createClient()\r\n\r\n        // Clean up existing channels\r\n        channelsRef.current.forEach(channel => {\r\n          channel.unsubscribe()\r\n        })\r\n        channelsRef.current = []\r\n\r\n        const investorFilter = `investor_id=in.(${investorIds.join(',')})`\r\n\r\n        // 1. Position Updates Channel\r\n        const positionsChannel = supabase\r\n          .channel('positions_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: '*',\r\n              schema: 'public',\r\n              table: 'positions',\r\n              filter: investorFilter\r\n            },\r\n            (payload) => {\r\n              console.log('Position update:', payload)\r\n              debouncedUpdate({\r\n                type: 'position_update',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe((status) => {\r\n            console.log('Positions channel status:', status)\r\n            if (status === 'SUBSCRIBED') {\r\n              setIsConnected(true)\r\n              reconnectAttempts.current = 0\r\n              reconnectDelay.current = 1000\r\n            } else if (status === 'CHANNEL_ERROR') {\r\n              setIsConnected(false)\r\n              handleReconnect()\r\n            }\r\n          })\r\n\r\n        // 2. Valuations Updates Channel\r\n        const valuationsChannel = supabase\r\n          .channel('valuations_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: '*',\r\n              schema: 'public',\r\n              table: 'valuations'\r\n            },\r\n            (payload) => {\r\n              console.log('Valuation update:', payload)\r\n              debouncedUpdate({\r\n                type: 'valuation_update',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe()\r\n\r\n        // 3. Allocations Updates Channel (for deal holdings)\r\n        const allocationsChannel = supabase\r\n          .channel('allocations_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: '*',\r\n              schema: 'public',\r\n              table: 'allocations',\r\n              filter: investorFilter\r\n            },\r\n            (payload) => {\r\n              console.log('Allocation update:', payload)\r\n              debouncedUpdate({\r\n                type: 'allocation_update',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe()\r\n\r\n        // 4. Performance Snapshots Channel REMOVED (mock data)\r\n        // const performanceChannel = ...\r\n\r\n        // 5. Capital Calls Channel\r\n        const capitalCallsChannel = supabase\r\n          .channel('capital_calls_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: 'INSERT',\r\n              schema: 'public',\r\n              table: 'capital_calls'\r\n            },\r\n            (payload) => {\r\n              console.log('Capital call update:', payload)\r\n              debouncedUpdate({\r\n                type: 'capital_call',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe()\r\n\r\n        // 6. Distributions Channel\r\n        const distributionsChannel = supabase\r\n          .channel('distributions_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: 'INSERT',\r\n              schema: 'public',\r\n              table: 'distributions'\r\n            },\r\n            (payload) => {\r\n              console.log('Distribution update:', payload)\r\n              debouncedUpdate({\r\n                type: 'distribution',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe()\r\n\r\n        // 7. Fee Events Channel\r\n        const feeEventsChannel = supabase\r\n          .channel('fee_events_updates')\r\n          .on(\r\n            'postgres_changes',\r\n            {\r\n              event: '*',\r\n              schema: 'public',\r\n              table: 'fee_events',\r\n              filter: investorFilter\r\n            },\r\n            (payload) => {\r\n              console.log('Fee event update:', payload)\r\n              debouncedUpdate({\r\n                type: 'fee_accrual',\r\n                data: payload,\r\n                timestamp: new Date().toISOString()\r\n              })\r\n            }\r\n          )\r\n          .subscribe()\r\n\r\n        // Store channel references\r\n        channelsRef.current = [\r\n          positionsChannel,\r\n          valuationsChannel,\r\n          allocationsChannel,\r\n          // performanceChannel,\r\n          capitalCallsChannel,\r\n          distributionsChannel,\r\n          feeEventsChannel\r\n        ]\r\n\r\n        console.log('Realtime subscriptions established for investors:', investorIds)\r\n\r\n      } catch (error) {\r\n        console.error('Error setting up realtime subscriptions:', error)\r\n        setIsConnected(false)\r\n        handleReconnect()\r\n      }\r\n    }\r\n\r\n    // Handle reconnection with exponential backoff\r\n    const handleReconnect = () => {\r\n      if (reconnectAttempts.current < maxReconnectAttempts) {\r\n        setTimeout(() => {\r\n          console.log(`Attempting to reconnect... (attempt ${reconnectAttempts.current + 1})`)\r\n          reconnectAttempts.current++\r\n          reconnectDelay.current = Math.min(reconnectDelay.current * 2, 30000) // Cap at 30 seconds\r\n          setupSubscriptions()\r\n        }, reconnectDelay.current)\r\n      } else {\r\n        console.error('Max reconnection attempts reached')\r\n        toast.error('Connection lost', {\r\n          description: 'Unable to maintain real-time updates. Please refresh the page.',\r\n          duration: 10000,\r\n          action: {\r\n            label: 'Refresh',\r\n            onClick: () => router.refresh()\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    reconnectHandlerRef.current = handleReconnect\r\n\r\n    setupSubscriptions()\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      channelsRef.current.forEach(channel => {\r\n        channel.unsubscribe()\r\n      })\r\n      channelsRef.current = []\r\n      setIsConnected(false)\r\n    }\r\n  }, [investorIds, debouncedUpdate, router])\r\n\r\n  // Periodic connection health check\r\n  useEffect(() => {\r\n    const healthCheck = setInterval(() => {\r\n      if (!isConnected && reconnectAttempts.current < maxReconnectAttempts) {\r\n        console.log('Health check: Connection lost, attempting reconnection...')\r\n        reconnectAttempts.current = 0 // Reset attempts for health check\r\n        reconnectHandlerRef.current()\r\n      }\r\n    }, 60000) // Check every minute\r\n\r\n    return () => clearInterval(healthCheck)\r\n  }, [isConnected])\r\n\r\n  // Provide connection status to children via context if needed\r\n  return (\r\n    <div className=\"relative\">\r\n      {children}\r\n\r\n      {/* Connection Status Indicator */}\r\n      <div className=\"fixed bottom-4 right-4 z-50\">\r\n        <div\r\n          className={`flex items-center gap-2 px-3 py-2 rounded-full text-xs font-medium transition-all duration-300 ${isConnected\r\n            ? 'bg-green-100 text-green-700 border border-green-200'\r\n            : 'bg-red-100 text-red-700 border border-red-200'\r\n            }`}\r\n        >\r\n          <div\r\n            className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'\r\n              }`}\r\n          />\r\n          {isConnected ? 'Live' : 'Offline'}\r\n          {lastUpdate && isConnected && (\r\n            <span className=\"opacity-70\">\r\n               {new Date(lastUpdate).toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false })}\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Debounce utility function\r\nfunction debounce<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout | null = null\r\n\r\n  return (...args: Parameters<T>) => {\r\n    if (timeout) {\r\n      clearTimeout(timeout)\r\n    }\r\n\r\n    timeout = setTimeout(() => {\r\n      func(...args)\r\n    }, wait)\r\n  }\r\n}\r\n\r\n// Hook to access realtime status\r\nexport function useRealtimeStatus() {\r\n  const [isConnected, setIsConnected] = useState(false)\r\n  const [lastUpdate, setLastUpdate] = useState<string | null>(null)\r\n\r\n  return {\r\n    isConnected,\r\n    lastUpdate,\r\n    setIsConnected,\r\n    setLastUpdate\r\n  }\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z',\n      key: '1piglc',\n    },\n  ],\n  ['path', { d: 'M16 10h.01', key: '1m94wz' }],\n  ['path', { d: 'M2 8v1a2 2 0 0 0 2 2h1', key: '1env43' }],\n];\n\n/**\n * @component @name PiggyBank\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMTdoM3YyYTEgMSAwIDAgMCAxIDFoMmExIDEgMCAwIDAgMS0xdi0zYTMuMTYgMy4xNiAwIDAgMCAyLTJoMWExIDEgMCAwIDAgMS0xdi0yYTEgMSAwIDAgMC0xLTFoLTFhNSA1IDAgMCAwLTItNFYzYTQgNCAwIDAgMC0zLjIgMS42bC0uMy40SDExYTYgNiAwIDAgMC02IDZ2MWE1IDUgMCAwIDAgMiA0djNhMSAxIDAgMCAwIDEgMWgyYTEgMSAwIDAgMCAxLTF6IiAvPgogIDxwYXRoIGQ9Ik0xNiAxMGguMDEiIC8+CiAgPHBhdGggZD0iTTIgOHYxYTIgMiAwIDAgMCAyIDJoMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/piggy-bank\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PiggyBank = createLucideIcon('piggy-bank', __iconNode);\n\nexport default PiggyBank;\n","import * as React from 'react';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { useSize } from '@radix-ui/react-use-size';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createCollection } from '@radix-ui/react-collection';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst PAGE_KEYS = ['PageUp', 'PageDown'];\nconst ARROW_KEYS = ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];\n\ntype SlideDirection = 'from-left' | 'from-right' | 'from-bottom' | 'from-top';\nconst BACK_KEYS: Record<SlideDirection, string[]> = {\n  'from-left': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-right': ['Home', 'PageDown', 'ArrowDown', 'ArrowRight'],\n  'from-bottom': ['Home', 'PageDown', 'ArrowDown', 'ArrowLeft'],\n  'from-top': ['Home', 'PageDown', 'ArrowUp', 'ArrowLeft'],\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Slider\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLIDER_NAME = 'Slider';\n\nconst [Collection, useCollection, createCollectionScope] =\n  createCollection<SliderThumbElement>(SLIDER_NAME);\n\ntype ScopedProps<P> = P & { __scopeSlider?: Scope };\nconst [createSliderContext, createSliderScope] = createContextScope(SLIDER_NAME, [\n  createCollectionScope,\n]);\n\ntype SliderContextValue = {\n  name: string | undefined;\n  disabled: boolean | undefined;\n  min: number;\n  max: number;\n  values: number[];\n  valueIndexToChangeRef: React.MutableRefObject<number>;\n  thumbs: Set<SliderThumbElement>;\n  orientation: SliderProps['orientation'];\n  form: string | undefined;\n};\n\nconst [SliderProvider, useSliderContext] = createSliderContext<SliderContextValue>(SLIDER_NAME);\n\ntype SliderElement = SliderHorizontalElement | SliderVerticalElement;\ninterface SliderProps\n  extends Omit<\n    SliderHorizontalProps | SliderVerticalProps,\n    keyof SliderOrientationPrivateProps | 'defaultValue'\n  > {\n  name?: string;\n  disabled?: boolean;\n  orientation?: React.AriaAttributes['aria-orientation'];\n  dir?: Direction;\n  min?: number;\n  max?: number;\n  step?: number;\n  minStepsBetweenThumbs?: number;\n  value?: number[];\n  defaultValue?: number[];\n  onValueChange?(value: number[]): void;\n  onValueCommit?(value: number[]): void;\n  inverted?: boolean;\n  form?: string;\n}\n\nconst Slider = React.forwardRef<SliderElement, SliderProps>(\n  (props: ScopedProps<SliderProps>, forwardedRef) => {\n    const {\n      name,\n      min = 0,\n      max = 100,\n      step = 1,\n      orientation = 'horizontal',\n      disabled = false,\n      minStepsBetweenThumbs = 0,\n      defaultValue = [min],\n      value,\n      onValueChange = () => {},\n      onValueCommit = () => {},\n      inverted = false,\n      form,\n      ...sliderProps\n    } = props;\n    const thumbRefs = React.useRef<SliderContextValue['thumbs']>(new Set());\n    const valueIndexToChangeRef = React.useRef<number>(0);\n    const isHorizontal = orientation === 'horizontal';\n    const SliderOrientation = isHorizontal ? SliderHorizontal : SliderVertical;\n\n    const [values = [], setValues] = useControllableState({\n      prop: value,\n      defaultProp: defaultValue,\n      onChange: (value) => {\n        const thumbs = [...thumbRefs.current];\n        thumbs[valueIndexToChangeRef.current]?.focus();\n        onValueChange(value);\n      },\n    });\n    const valuesBeforeSlideStartRef = React.useRef(values);\n\n    function handleSlideStart(value: number) {\n      const closestIndex = getClosestValueIndex(values, value);\n      updateValues(value, closestIndex);\n    }\n\n    function handleSlideMove(value: number) {\n      updateValues(value, valueIndexToChangeRef.current);\n    }\n\n    function handleSlideEnd() {\n      const prevValue = valuesBeforeSlideStartRef.current[valueIndexToChangeRef.current];\n      const nextValue = values[valueIndexToChangeRef.current];\n      const hasChanged = nextValue !== prevValue;\n      if (hasChanged) onValueCommit(values);\n    }\n\n    function updateValues(value: number, atIndex: number, { commit } = { commit: false }) {\n      const decimalCount = getDecimalCount(step);\n      const snapToStep = roundValue(Math.round((value - min) / step) * step + min, decimalCount);\n      const nextValue = clamp(snapToStep, [min, max]);\n\n      setValues((prevValues = []) => {\n        const nextValues = getNextSortedValues(prevValues, nextValue, atIndex);\n        if (hasMinStepsBetweenValues(nextValues, minStepsBetweenThumbs * step)) {\n          valueIndexToChangeRef.current = nextValues.indexOf(nextValue);\n          const hasChanged = String(nextValues) !== String(prevValues);\n          if (hasChanged && commit) onValueCommit(nextValues);\n          return hasChanged ? nextValues : prevValues;\n        } else {\n          return prevValues;\n        }\n      });\n    }\n\n    return (\n      <SliderProvider\n        scope={props.__scopeSlider}\n        name={name}\n        disabled={disabled}\n        min={min}\n        max={max}\n        valueIndexToChangeRef={valueIndexToChangeRef}\n        thumbs={thumbRefs.current}\n        values={values}\n        orientation={orientation}\n        form={form}\n      >\n        <Collection.Provider scope={props.__scopeSlider}>\n          <Collection.Slot scope={props.__scopeSlider}>\n            <SliderOrientation\n              aria-disabled={disabled}\n              data-disabled={disabled ? '' : undefined}\n              {...sliderProps}\n              ref={forwardedRef}\n              onPointerDown={composeEventHandlers(sliderProps.onPointerDown, () => {\n                if (!disabled) valuesBeforeSlideStartRef.current = values;\n              })}\n              min={min}\n              max={max}\n              inverted={inverted}\n              onSlideStart={disabled ? undefined : handleSlideStart}\n              onSlideMove={disabled ? undefined : handleSlideMove}\n              onSlideEnd={disabled ? undefined : handleSlideEnd}\n              onHomeKeyDown={() => !disabled && updateValues(min, 0, { commit: true })}\n              onEndKeyDown={() =>\n                !disabled && updateValues(max, values.length - 1, { commit: true })\n              }\n              onStepKeyDown={({ event, direction: stepDirection }) => {\n                if (!disabled) {\n                  const isPageKey = PAGE_KEYS.includes(event.key);\n                  const isSkipKey = isPageKey || (event.shiftKey && ARROW_KEYS.includes(event.key));\n                  const multiplier = isSkipKey ? 10 : 1;\n                  const atIndex = valueIndexToChangeRef.current;\n                  const value = values[atIndex]!;\n                  const stepInDirection = step * multiplier * stepDirection;\n                  updateValues(value + stepInDirection, atIndex, { commit: true });\n                }\n              }}\n            />\n          </Collection.Slot>\n        </Collection.Provider>\n      </SliderProvider>\n    );\n  }\n);\n\nSlider.displayName = SLIDER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderHorizontal\n * -----------------------------------------------------------------------------------------------*/\n\ntype Side = 'top' | 'right' | 'bottom' | 'left';\n\nconst [SliderOrientationProvider, useSliderOrientationContext] = createSliderContext<{\n  startEdge: Side;\n  endEdge: Side;\n  size: keyof NonNullable<ReturnType<typeof useSize>>;\n  direction: number;\n}>(SLIDER_NAME, {\n  startEdge: 'left',\n  endEdge: 'right',\n  size: 'width',\n  direction: 1,\n});\n\ntype SliderOrientationPrivateProps = {\n  min: number;\n  max: number;\n  inverted: boolean;\n  onSlideStart?(value: number): void;\n  onSlideMove?(value: number): void;\n  onSlideEnd?(): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(step: { event: React.KeyboardEvent; direction: number }): void;\n};\ninterface SliderOrientationProps\n  extends Omit<SliderImplProps, keyof SliderImplPrivateProps>,\n    SliderOrientationPrivateProps {}\n\ntype SliderHorizontalElement = SliderImplElement;\ninterface SliderHorizontalProps extends SliderOrientationProps {\n  dir?: Direction;\n}\n\nconst SliderHorizontal = React.forwardRef<SliderHorizontalElement, SliderHorizontalProps>(\n  (props: ScopedProps<SliderHorizontalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      dir,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const [slider, setSlider] = React.useState<SliderImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setSlider(node));\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const direction = useDirection(dir);\n    const isDirectionLTR = direction === 'ltr';\n    const isSlidingFromLeft = (isDirectionLTR && !inverted) || (!isDirectionLTR && inverted);\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || slider!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.width];\n      const output: [number, number] = isSlidingFromLeft ? [min, max] : [max, min];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.left);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromLeft ? 'left' : 'right'}\n        endEdge={isSlidingFromLeft ? 'right' : 'left'}\n        direction={isSlidingFromLeft ? 1 : -1}\n        size=\"width\"\n      >\n        <SliderImpl\n          dir={direction}\n          data-orientation=\"horizontal\"\n          {...sliderProps}\n          ref={composedRefs}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateX(-50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientX);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromLeft ? 'from-left' : 'from-right';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderVertical\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderVerticalElement = SliderImplElement;\ninterface SliderVerticalProps extends SliderOrientationProps {}\n\nconst SliderVertical = React.forwardRef<SliderVerticalElement, SliderVerticalProps>(\n  (props: ScopedProps<SliderVerticalProps>, forwardedRef) => {\n    const {\n      min,\n      max,\n      inverted,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const sliderRef = React.useRef<SliderImplElement>(null);\n    const ref = useComposedRefs(forwardedRef, sliderRef);\n    const rectRef = React.useRef<DOMRect>(undefined);\n    const isSlidingFromBottom = !inverted;\n\n    function getValueFromPointer(pointerPosition: number) {\n      const rect = rectRef.current || sliderRef.current!.getBoundingClientRect();\n      const input: [number, number] = [0, rect.height];\n      const output: [number, number] = isSlidingFromBottom ? [max, min] : [min, max];\n      const value = linearScale(input, output);\n\n      rectRef.current = rect;\n      return value(pointerPosition - rect.top);\n    }\n\n    return (\n      <SliderOrientationProvider\n        scope={props.__scopeSlider}\n        startEdge={isSlidingFromBottom ? 'bottom' : 'top'}\n        endEdge={isSlidingFromBottom ? 'top' : 'bottom'}\n        size=\"height\"\n        direction={isSlidingFromBottom ? 1 : -1}\n      >\n        <SliderImpl\n          data-orientation=\"vertical\"\n          {...sliderProps}\n          ref={ref}\n          style={{\n            ...sliderProps.style,\n            ['--radix-slider-thumb-transform' as any]: 'translateY(50%)',\n          }}\n          onSlideStart={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideStart?.(value);\n          }}\n          onSlideMove={(event) => {\n            const value = getValueFromPointer(event.clientY);\n            onSlideMove?.(value);\n          }}\n          onSlideEnd={() => {\n            rectRef.current = undefined;\n            onSlideEnd?.();\n          }}\n          onStepKeyDown={(event) => {\n            const slideDirection = isSlidingFromBottom ? 'from-bottom' : 'from-top';\n            const isBackKey = BACK_KEYS[slideDirection].includes(event.key);\n            onStepKeyDown?.({ event, direction: isBackKey ? -1 : 1 });\n          }}\n        />\n      </SliderOrientationProvider>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderImpl\n * -----------------------------------------------------------------------------------------------*/\n\ntype SliderImplElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ntype SliderImplPrivateProps = {\n  onSlideStart(event: React.PointerEvent): void;\n  onSlideMove(event: React.PointerEvent): void;\n  onSlideEnd(event: React.PointerEvent): void;\n  onHomeKeyDown(event: React.KeyboardEvent): void;\n  onEndKeyDown(event: React.KeyboardEvent): void;\n  onStepKeyDown(event: React.KeyboardEvent): void;\n};\ninterface SliderImplProps extends PrimitiveDivProps, SliderImplPrivateProps {}\n\nconst SliderImpl = React.forwardRef<SliderImplElement, SliderImplProps>(\n  (props: ScopedProps<SliderImplProps>, forwardedRef) => {\n    const {\n      __scopeSlider,\n      onSlideStart,\n      onSlideMove,\n      onSlideEnd,\n      onHomeKeyDown,\n      onEndKeyDown,\n      onStepKeyDown,\n      ...sliderProps\n    } = props;\n    const context = useSliderContext(SLIDER_NAME, __scopeSlider);\n\n    return (\n      <Primitive.span\n        {...sliderProps}\n        ref={forwardedRef}\n        onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n          if (event.key === 'Home') {\n            onHomeKeyDown(event);\n            // Prevent scrolling to page start\n            event.preventDefault();\n          } else if (event.key === 'End') {\n            onEndKeyDown(event);\n            // Prevent scrolling to page end\n            event.preventDefault();\n          } else if (PAGE_KEYS.concat(ARROW_KEYS).includes(event.key)) {\n            onStepKeyDown(event);\n            // Prevent scrolling for directional key presses\n            event.preventDefault();\n          }\n        })}\n        onPointerDown={composeEventHandlers(props.onPointerDown, (event) => {\n          const target = event.target as HTMLElement;\n          target.setPointerCapture(event.pointerId);\n          // Prevent browser focus behaviour because we focus a thumb manually when values change.\n          event.preventDefault();\n          // Touch devices have a delay before focusing so won't focus if touch immediately moves\n          // away from target (sliding). We want thumb to focus regardless.\n          if (context.thumbs.has(target)) {\n            target.focus();\n          } else {\n            onSlideStart(event);\n          }\n        })}\n        onPointerMove={composeEventHandlers(props.onPointerMove, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) onSlideMove(event);\n        })}\n        onPointerUp={composeEventHandlers(props.onPointerUp, (event) => {\n          const target = event.target as HTMLElement;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n            onSlideEnd(event);\n          }\n        })}\n      />\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * SliderTrack\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRACK_NAME = 'SliderTrack';\n\ntype SliderTrackElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SliderTrackProps extends PrimitiveSpanProps {}\n\nconst SliderTrack = React.forwardRef<SliderTrackElement, SliderTrackProps>(\n  (props: ScopedProps<SliderTrackProps>, forwardedRef) => {\n    const { __scopeSlider, ...trackProps } = props;\n    const context = useSliderContext(TRACK_NAME, __scopeSlider);\n    return (\n      <Primitive.span\n        data-disabled={context.disabled ? '' : undefined}\n        data-orientation={context.orientation}\n        {...trackProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nSliderTrack.displayName = TRACK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderRange\n * -----------------------------------------------------------------------------------------------*/\n\nconst RANGE_NAME = 'SliderRange';\n\ntype SliderRangeElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderRangeProps extends PrimitiveSpanProps {}\n\nconst SliderRange = React.forwardRef<SliderRangeElement, SliderRangeProps>(\n  (props: ScopedProps<SliderRangeProps>, forwardedRef) => {\n    const { __scopeSlider, ...rangeProps } = props;\n    const context = useSliderContext(RANGE_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(RANGE_NAME, __scopeSlider);\n    const ref = React.useRef<HTMLSpanElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const valuesCount = context.values.length;\n    const percentages = context.values.map((value) =>\n      convertValueToPercentage(value, context.min, context.max)\n    );\n    const offsetStart = valuesCount > 1 ? Math.min(...percentages) : 0;\n    const offsetEnd = 100 - Math.max(...percentages);\n\n    return (\n      <Primitive.span\n        data-orientation={context.orientation}\n        data-disabled={context.disabled ? '' : undefined}\n        {...rangeProps}\n        ref={composedRefs}\n        style={{\n          ...props.style,\n          [orientation.startEdge]: offsetStart + '%',\n          [orientation.endEdge]: offsetEnd + '%',\n        }}\n      />\n    );\n  }\n);\n\nSliderRange.displayName = RANGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderThumb\n * -----------------------------------------------------------------------------------------------*/\n\nconst THUMB_NAME = 'SliderThumb';\n\ntype SliderThumbElement = SliderThumbImplElement;\ninterface SliderThumbProps extends Omit<SliderThumbImplProps, 'index'> {}\n\nconst SliderThumb = React.forwardRef<SliderThumbElement, SliderThumbProps>(\n  (props: ScopedProps<SliderThumbProps>, forwardedRef) => {\n    const getItems = useCollection(props.__scopeSlider);\n    const [thumb, setThumb] = React.useState<SliderThumbImplElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    const index = React.useMemo(\n      () => (thumb ? getItems().findIndex((item) => item.ref.current === thumb) : -1),\n      [getItems, thumb]\n    );\n    return <SliderThumbImpl {...props} ref={composedRefs} index={index} />;\n  }\n);\n\ntype SliderThumbImplElement = React.ComponentRef<typeof Primitive.span>;\ninterface SliderThumbImplProps extends PrimitiveSpanProps {\n  index: number;\n  name?: string;\n}\n\nconst SliderThumbImpl = React.forwardRef<SliderThumbImplElement, SliderThumbImplProps>(\n  (props: ScopedProps<SliderThumbImplProps>, forwardedRef) => {\n    const { __scopeSlider, index, name, ...thumbProps } = props;\n    const context = useSliderContext(THUMB_NAME, __scopeSlider);\n    const orientation = useSliderOrientationContext(THUMB_NAME, __scopeSlider);\n    const [thumb, setThumb] = React.useState<HTMLSpanElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setThumb(node));\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    const isFormControl = thumb ? context.form || !!thumb.closest('form') : true;\n    const size = useSize(thumb);\n    // We cast because index could be `-1` which would return undefined\n    const value = context.values[index] as number | undefined;\n    const percent =\n      value === undefined ? 0 : convertValueToPercentage(value, context.min, context.max);\n    const label = getLabel(index, context.values.length);\n    const orientationSize = size?.[orientation.size];\n    const thumbInBoundsOffset = orientationSize\n      ? getThumbInBoundsOffset(orientationSize, percent, orientation.direction)\n      : 0;\n\n    React.useEffect(() => {\n      if (thumb) {\n        context.thumbs.add(thumb);\n        return () => {\n          context.thumbs.delete(thumb);\n        };\n      }\n    }, [thumb, context.thumbs]);\n\n    return (\n      <span\n        style={{\n          transform: 'var(--radix-slider-thumb-transform)',\n          position: 'absolute',\n          [orientation.startEdge]: `calc(${percent}% + ${thumbInBoundsOffset}px)`,\n        }}\n      >\n        <Collection.ItemSlot scope={props.__scopeSlider}>\n          <Primitive.span\n            role=\"slider\"\n            aria-label={props['aria-label'] || label}\n            aria-valuemin={context.min}\n            aria-valuenow={value}\n            aria-valuemax={context.max}\n            aria-orientation={context.orientation}\n            data-orientation={context.orientation}\n            data-disabled={context.disabled ? '' : undefined}\n            tabIndex={context.disabled ? undefined : 0}\n            {...thumbProps}\n            ref={composedRefs}\n            /**\n             * There will be no value on initial render while we work out the index so we hide thumbs\n             * without a value, otherwise SSR will render them in the wrong position before they\n             * snap into the correct position during hydration which would be visually jarring for\n             * slower connections.\n             */\n            style={value === undefined ? { display: 'none' } : props.style}\n            onFocus={composeEventHandlers(props.onFocus, () => {\n              context.valueIndexToChangeRef.current = index;\n            })}\n          />\n        </Collection.ItemSlot>\n\n        {isFormControl && (\n          <SliderBubbleInput\n            key={index}\n            name={\n              name ??\n              (context.name ? context.name + (context.values.length > 1 ? '[]' : '') : undefined)\n            }\n            form={context.form}\n            value={value}\n          />\n        )}\n      </span>\n    );\n  }\n);\n\nSliderThumb.displayName = THUMB_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SliderBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'RadioBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.input>;\ninterface SliderBubbleInputProps extends InputProps {}\n\nconst SliderBubbleInput = React.forwardRef<HTMLInputElement, SliderBubbleInputProps>(\n  ({ __scopeSlider, value, ...props }: ScopedProps<SliderBubbleInputProps>, forwardedRef) => {\n    const ref = React.useRef<HTMLInputElement>(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(inputProto, 'value') as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('input', { bubbles: true });\n        setValue.call(input, value);\n        input.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully do not use `type=\"hidden\"` here otherwise forms that\n     * wrap it will not be able to access its value via the FormData API.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange` event.\n     * Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     */\n    return (\n      <Primitive.input\n        style={{ display: 'none' }}\n        {...props}\n        ref={composedRefs}\n        defaultValue={value}\n      />\n    );\n  }\n);\n\nSliderBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getNextSortedValues(prevValues: number[] = [], nextValue: number, atIndex: number) {\n  const nextValues = [...prevValues];\n  nextValues[atIndex] = nextValue;\n  return nextValues.sort((a, b) => a - b);\n}\n\nfunction convertValueToPercentage(value: number, min: number, max: number) {\n  const maxSteps = max - min;\n  const percentPerStep = 100 / maxSteps;\n  const percentage = percentPerStep * (value - min);\n  return clamp(percentage, [0, 100]);\n}\n\n/**\n * Returns a label for each thumb when there are two or more thumbs\n */\nfunction getLabel(index: number, totalValues: number) {\n  if (totalValues > 2) {\n    return `Value ${index + 1} of ${totalValues}`;\n  } else if (totalValues === 2) {\n    return ['Minimum', 'Maximum'][index];\n  } else {\n    return undefined;\n  }\n}\n\n/**\n * Given a `values` array and a `nextValue`, determine which value in\n * the array is closest to `nextValue` and return its index.\n *\n * @example\n * // returns 1\n * getClosestValueIndex([10, 30], 25);\n */\nfunction getClosestValueIndex(values: number[], nextValue: number) {\n  if (values.length === 1) return 0;\n  const distances = values.map((value) => Math.abs(value - nextValue));\n  const closestDistance = Math.min(...distances);\n  return distances.indexOf(closestDistance);\n}\n\n/**\n * Offsets the thumb centre point while sliding to ensure it remains\n * within the bounds of the slider when reaching the edges\n */\nfunction getThumbInBoundsOffset(width: number, left: number, direction: number) {\n  const halfWidth = width / 2;\n  const halfPercent = 50;\n  const offset = linearScale([0, halfPercent], [0, halfWidth]);\n  return (halfWidth - offset(left) * direction) * direction;\n}\n\n/**\n * Gets an array of steps between each value.\n *\n * @example\n * // returns [1, 9]\n * getStepsBetweenValues([10, 11, 20]);\n */\nfunction getStepsBetweenValues(values: number[]) {\n  return values.slice(0, -1).map((value, index) => values[index + 1]! - value);\n}\n\n/**\n * Verifies the minimum steps between all values is greater than or equal\n * to the expected minimum steps.\n *\n * @example\n * // returns false\n * hasMinStepsBetweenValues([1,2,3], 2);\n *\n * @example\n * // returns true\n * hasMinStepsBetweenValues([1,2,3], 1);\n */\nfunction hasMinStepsBetweenValues(values: number[], minStepsBetweenValues: number) {\n  if (minStepsBetweenValues > 0) {\n    const stepsBetweenValues = getStepsBetweenValues(values);\n    const actualMinStepsBetweenValues = Math.min(...stepsBetweenValues);\n    return actualMinStepsBetweenValues >= minStepsBetweenValues;\n  }\n  return true;\n}\n\n// https://github.com/tmcw-up-for-adoption/simple-linear-scale/blob/master/index.js\nfunction linearScale(input: readonly [number, number], output: readonly [number, number]) {\n  return (value: number) => {\n    if (input[0] === input[1] || output[0] === output[1]) return output[0];\n    const ratio = (output[1] - output[0]) / (input[1] - input[0]);\n    return output[0] + ratio * (value - input[0]);\n  };\n}\n\nfunction getDecimalCount(value: number) {\n  return (String(value).split('.')[1] || '').length;\n}\n\nfunction roundValue(value: number, decimalCount: number) {\n  const rounder = Math.pow(10, decimalCount);\n  return Math.round(value * rounder) / rounder;\n}\n\nconst Root = Slider;\nconst Track = SliderTrack;\nconst Range = SliderRange;\nconst Thumb = SliderThumb;\n\nexport {\n  createSliderScope,\n  //\n  Slider,\n  SliderTrack,\n  SliderRange,\n  SliderThumb,\n  //\n  Root,\n  Track,\n  Range,\n  Thumb,\n};\nexport type { SliderProps, SliderTrackProps, SliderRangeProps, SliderThumbProps };\n"],"names":[],"mappings":"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","ignoreList":[6,12,13]}