{"version":3,"sources":["../../../../../versotech-portal/src/components/staff/partners/partner-detail-client.tsx/__nextjs-internal-proxy.mjs","../../../../../versotech-portal/src/app/%28staff%29/versotech/staff/partners/%5Bid%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PartnerDetailClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call PartnerDetailClient() from the server but PartnerDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/staff/partners/partner-detail-client.tsx\",\n    \"PartnerDetailClient\",\n);\n","import { notFound } from 'next/navigation'\nimport { createServiceClient } from '@/lib/supabase/server'\nimport { PartnerDetailClient } from '@/components/staff/partners/partner-detail-client'\n\nexport const dynamic = 'force-dynamic'\n\ntype PageProps = {\n  params: Promise<{ id: string }>\n}\n\nexport default async function PartnerDetailPage({ params }: PageProps) {\n  const { id } = await params\n  const supabase = createServiceClient()\n\n  // Fetch partner details\n  const { data: partner, error: partnerError } = await supabase\n    .from('partners')\n    .select('*')\n    .eq('id', id)\n    .single()\n\n  if (partnerError || !partner) {\n    console.error('Failed to fetch partner:', partnerError)\n    notFound()\n  }\n\n  // Get document count for this partner\n  const { count: documentCount } = await supabase\n    .from('documents')\n    .select('*', { count: 'exact', head: true })\n    .eq('entity_type', 'partner')\n    .eq('entity_id', id)\n\n  // Transform to client format\n  const partnerData = {\n    id: partner.id,\n    name: partner.name,\n    legal_name: partner.legal_name,\n    type: partner.type,\n    partner_type: partner.partner_type,\n    status: partner.status,\n    accreditation_status: partner.accreditation_status,\n    contact_name: partner.contact_name,\n    contact_email: partner.contact_email,\n    contact_phone: partner.contact_phone,\n    website: partner.website,\n    address_line_1: partner.address_line_1,\n    address_line_2: partner.address_line_2,\n    city: partner.city,\n    postal_code: partner.postal_code,\n    country: partner.country,\n    typical_investment_min: partner.typical_investment_min,\n    typical_investment_max: partner.typical_investment_max,\n    preferred_sectors: partner.preferred_sectors,\n    preferred_geographies: partner.preferred_geographies,\n    relationship_manager_id: partner.relationship_manager_id,\n    notes: partner.notes,\n    created_at: partner.created_at,\n    created_by: partner.created_by,\n    updated_at: partner.updated_at,\n    kyc_status: partner.kyc_status,\n    kyc_notes: partner.kyc_notes,\n    kyc_approved_at: partner.kyc_approved_at,\n    kyc_approved_by: partner.kyc_approved_by,\n    kyc_expires_at: partner.kyc_expires_at,\n    logo_url: partner.logo_url,\n  }\n\n  return (\n    <PartnerDetailClient\n      partner={partnerData}\n      metrics={{ documentCount: documentCount || 0 }}\n    />\n  )\n}\n"],"names":[],"mappings":"0aAEO,IAAM,EAAsB,CAAA,EAAA,AADnC,EAAA,CAAA,CAAA,QACmC,uBAAA,AAAuB,EACtD,WAAa,MAAM,AAAI,MAAM,oPAAsP,EACnR,yGACA,mFAHG,IAAM,EAAsB,CAAA,EAAA,AADnC,EAAA,CAAA,CAAA,QACmC,uBAAA,AAAuB,EACtD,WAAa,MAAM,AAAI,MAAM,oPAAsP,EACnR,qFACA,gICLJ,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAQe,eAAe,EAAkB,QAAE,CAAM,CAAa,EACnE,GAAM,IAAE,CAAE,CAAE,CAAG,MAAM,EACf,EAAW,CAAA,EAAA,EAAA,mBAAA,AAAmB,IAG9B,CAAE,KAAM,CAAO,CAAE,MAAO,CAAY,CAAE,CAAG,MAAM,EAClD,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,KAAM,GACT,MAAM,GAEL,IAAgB,CAAC,CAAA,GAAS,CAC5B,QAAQ,KAAK,CAAC,2BAA4B,GAC1C,CAAA,EAAA,EAAA,QAAA,AAAQ,KAIV,GAAM,CAAE,MAAO,CAAa,CAAE,CAAG,MAAM,EACpC,IAAI,CAAC,aACL,MAAM,CAAC,IAAK,CAAE,MAAO,QAAS,KAAM,EAAK,GACzC,EAAE,CAAC,cAAe,WAClB,EAAE,CAAC,YAAa,GAGb,EAAc,CAClB,GAAI,EAAQ,EAAE,CACd,KAAM,EAAQ,IAAI,CAClB,WAAY,EAAQ,UAAU,CAC9B,KAAM,EAAQ,IAAI,CAClB,aAAc,EAAQ,YAAY,CAClC,OAAQ,EAAQ,MAAM,CACtB,qBAAsB,EAAQ,oBAAoB,CAClD,aAAc,EAAQ,YAAY,CAClC,cAAe,EAAQ,aAAa,CACpC,cAAe,EAAQ,aAAa,CACpC,QAAS,EAAQ,OAAO,CACxB,eAAgB,EAAQ,cAAc,CACtC,eAAgB,EAAQ,cAAc,CACtC,KAAM,EAAQ,IAAI,CAClB,YAAa,EAAQ,WAAW,CAChC,QAAS,EAAQ,OAAO,CACxB,uBAAwB,EAAQ,sBAAsB,CACtD,uBAAwB,EAAQ,sBAAsB,CACtD,kBAAmB,EAAQ,iBAAiB,CAC5C,sBAAuB,EAAQ,qBAAqB,CACpD,wBAAyB,EAAQ,uBAAuB,CACxD,MAAO,EAAQ,KAAK,CACpB,WAAY,EAAQ,UAAU,CAC9B,WAAY,EAAQ,UAAU,CAC9B,WAAY,EAAQ,UAAU,CAC9B,WAAY,EAAQ,UAAU,CAC9B,UAAW,EAAQ,SAAS,CAC5B,gBAAiB,EAAQ,eAAe,CACxC,gBAAiB,EAAQ,eAAe,CACxC,eAAgB,EAAQ,cAAc,CACtC,SAAU,EAAQ,QAAQ,AAC5B,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAClB,QAAS,EACT,QAAS,CAAE,cAAe,GAAiB,CAAE,GAGnD,kCAtEuB","ignoreList":[0]}