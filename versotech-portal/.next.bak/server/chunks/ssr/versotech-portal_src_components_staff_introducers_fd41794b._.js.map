{"version":3,"sources":["../../../../../versotech-portal/src/components/staff/introducers/add-introducer-context.tsx","../../../../../versotech-portal/src/components/staff/introducers/introducers-dashboard.tsx","../../../../../versotech-portal/src/components/staff/introducers/add-introduction-dialog.tsx","../../../../../versotech-portal/src/components/staff/introducers/edit-introduction-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useCallback } from \"react\"\nimport { useRouter } from \"next/navigation\"\n\ninterface AddIntroducerContextValue {\n  open: boolean\n  setOpen: (open: boolean) => void\n  refresh: () => void\n}\n\nconst AddIntroducerContext = createContext<AddIntroducerContextValue | undefined>(undefined)\n\nexport function AddIntroducerProvider({ children }: { children: React.ReactNode }) {\n  const [open, setOpen] = useState(false)\n  const router = useRouter()\n\n  const refresh = useCallback(() => {\n    router.refresh()\n  }, [router])\n\n  return (\n    <AddIntroducerContext.Provider value={{ open, setOpen, refresh }}>\n      {children}\n    </AddIntroducerContext.Provider>\n  )\n}\n\nexport function useAddIntroducer() {\n  const context = useContext(AddIntroducerContext)\n  if (!context) {\n    throw new Error(\"useAddIntroducer must be used within a AddIntroducerProvider\")\n  }\n  return context\n}\n","'use client'\r\n\r\nimport { useMemo, useState, useTransition } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { toast } from 'sonner'\r\nimport Link from 'next/link'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  HandHeart,\r\n  Users,\r\n  DollarSign,\r\n  Clock,\r\n  Plus,\r\n  Filter,\r\n  Search,\r\n  TrendingUp,\r\n  Edit,\r\n  UserPlus,\r\n  FileText,\r\n  Send,\r\n  MoreHorizontal,\r\n} from 'lucide-react'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport FeePlanEditModal from '@/components/fees/FeePlanEditModal'\r\nimport { cn } from '@/lib/utils'\r\nimport { formatCurrency, formatDate, formatBps } from '@/lib/format'\r\nimport { CheckCircle2 } from 'lucide-react'\r\nimport { useAddIntroducer } from '@/components/staff/introducers/add-introducer-context'\r\nimport { EditIntroducerDialog } from '@/components/staff/introducers/edit-introducer-dialog'\r\nimport { AddIntroductionDialog } from '@/components/staff/introducers/add-introduction-dialog'\r\nimport { EditIntroductionDialog } from '@/components/staff/introducers/edit-introduction-dialog'\r\nimport { InviteUserDialog } from '@/components/users/invite-user-dialog'\r\n\r\nexport type IntroducersDashboardProps = {\r\n  summary: {\r\n    totalIntroducers: number\r\n    activeIntroducers: number\r\n    totalIntroductions: number\r\n    totalAllocations: number\r\n    totalCommissionPaid: number\r\n    pendingCommission: number\r\n  }\r\n  introducers: Array<{\r\n    id: string\r\n    legalName: string\r\n    contactName: string | null\r\n    email: string | null\r\n    defaultCommissionBps: number\r\n    commissionCapAmount: number | null\r\n    paymentTerms: string | null\r\n    status: string\r\n    createdAt: string | null\r\n    totalIntroductions: number\r\n    successfulAllocations: number\r\n    totalCommissionPaid: number\r\n    pendingCommission: number\r\n    lastIntroductionAt: string | null\r\n    feePlans?: {\r\n      total: number\r\n      accepted: number\r\n      pending: number\r\n    }\r\n  }>\r\n  recentIntroductions: Array<{\r\n    id: string\r\n    introducerId?: string\r\n    introducerName: string\r\n    prospectEmail: string\r\n    dealId?: string\r\n    dealName: string\r\n    status: string\r\n    introducedAt: string | null\r\n    commissionAmount: number | null\r\n    commissionStatus: string | null\r\n    commissionRateOverrideBps?: number | null\r\n    notes?: string | null\r\n  }>\r\n  deals?: Array<{ id: string; name: string }>\r\n  isDemo?: boolean\r\n  showAddButtons?: boolean\r\n}\r\n\r\nconst statusFilters = [\r\n  { label: 'All status', value: 'all' },\r\n  { label: 'Active', value: 'active' },\r\n  { label: 'Inactive', value: 'inactive' },\r\n  { label: 'Suspended', value: 'suspended' },\r\n]\r\n\r\nexport function IntroducersDashboard({ summary, introducers, recentIntroductions, deals = [], isDemo = false, showAddButtons = true }: IntroducersDashboardProps) {\r\n  const router = useRouter()\r\n  const [search, setSearch] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<string>('all')\r\n  const [editingIntroducer, setEditingIntroducer] = useState<IntroducersDashboardProps['introducers'][number] | null>(null)\r\n  const [editingIntroduction, setEditingIntroduction] = useState<IntroducersDashboardProps['recentIntroductions'][number] | null>(null)\r\n  const [addIntroductionOpen, setAddIntroductionOpen] = useState(false)\r\n  const [inviteDialogIntroducer, setInviteDialogIntroducer] = useState<IntroducersDashboardProps['introducers'][number] | null>(null)\r\n  const { setOpen } = useAddIntroducer()\r\n\r\n  // Fee plan modal state\r\n  const [feePlanModalOpen, setFeePlanModalOpen] = useState(false)\r\n  const [selectedIntroducerForFeePlan, setSelectedIntroducerForFeePlan] = useState<IntroducersDashboardProps['introducers'][number] | null>(null)\r\n\r\n  // Handler for creating a fee plan for an introducer\r\n  const handleCreateFeePlan = (introducer: IntroducersDashboardProps['introducers'][number]) => {\r\n    setSelectedIntroducerForFeePlan(introducer)\r\n    setFeePlanModalOpen(true)\r\n  }\r\n\r\n  const handleFeePlanSuccess = () => {\r\n    setFeePlanModalOpen(false)\r\n    setSelectedIntroducerForFeePlan(null)\r\n    toast.success('Fee plan created successfully')\r\n    router.refresh()\r\n  }\r\n\r\n  // Handler for dispatching investor through an introducer\r\n  const handleDispatchInvestor = (introducer: IntroducersDashboardProps['introducers'][number]) => {\r\n    // Navigate to dispatch page with introducer pre-selected\r\n    // For now, show toast with info - will implement full dispatch modal in next phase\r\n    toast.info(`To dispatch an investor through ${introducer.legalName}, go to a deal's Members tab and use \"Add Participant\"`)\r\n  }\r\n\r\n  const filteredIntroducers = useMemo(() => {\r\n    return introducers.filter((introducer) => {\r\n      const matchesStatus = statusFilter === 'all' || introducer.status === statusFilter\r\n      const matchesSearch = !search || introducer.legalName.toLowerCase().includes(search.toLowerCase())\r\n        || (introducer.contactName?.toLowerCase().includes(search.toLowerCase()) ?? false)\r\n        || (introducer.email?.toLowerCase().includes(search.toLowerCase()) ?? false)\r\n      return matchesStatus && matchesSearch\r\n    })\r\n  }, [introducers, statusFilter, search])\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">Introducer Management</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Manage introducer relationships, commissions, and performance tracking\r\n          </p>\r\n        </div>\r\n        {showAddButtons && (\r\n          <div className=\"flex items-center gap-3\">\r\n            <Button variant=\"outline\" onClick={() => setAddIntroductionOpen(true)}>\r\n              <UserPlus className=\"h-4 w-4 mr-2\" />\r\n              Record Introduction\r\n            </Button>\r\n            <Button onClick={() => setOpen(true)}>\r\n              <Plus className=\"h-4 w-4 mr-2\" />\r\n              Add Introducer\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n        <DashboardStatCard\r\n          icon={<HandHeart className=\"h-4 w-4\" />}\r\n          label=\"Active Introducers\"\r\n          primary={summary.activeIntroducers}\r\n          secondary={`${summary.totalIntroducers} total`}\r\n        />\r\n        <DashboardStatCard\r\n          icon={<Users className=\"h-4 w-4\" />}\r\n          label=\"Total Introductions\"\r\n          primary={summary.totalIntroductions}\r\n          secondary={`${summary.totalAllocations} allocated`}\r\n        />\r\n        <DashboardStatCard\r\n          icon={<DollarSign className=\"h-4 w-4\" />}\r\n          label=\"Commissions Paid\"\r\n          primary={formatCurrency(summary.totalCommissionPaid)}\r\n          secondary=\"All-time\"\r\n        />\r\n        <DashboardStatCard\r\n          icon={<Clock className=\"h-4 w-4\" />}\r\n          label=\"Pending Commission\"\r\n          primary={formatCurrency(summary.pendingCommission)}\r\n          secondary=\"Awaiting payment\"\r\n          primaryClassName=\"text-orange-500\"\r\n        />\r\n      </div>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Search & Filters</CardTitle>\r\n          <CardDescription>\r\n            Narrow down introducers by status, performance, or keywords\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"flex flex-col md:flex-row gap-4\">\r\n            <div className=\"flex-1\">\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Search introducers, contacts, emails...\"\r\n                  value={search}\r\n                  onChange={(event) => setSearch(event.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n              <SelectTrigger className=\"w-full md:w-48\">\r\n                <SelectValue placeholder=\"Filter status\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {statusFilters.map((option) => (\r\n                  <SelectItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          {isDemo && (\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n              <Filter className=\"h-4 w-4\" />\r\n              Showing demo dataset. Re-run with a staff session to load live data.\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Introducers</CardTitle>\r\n          <CardDescription>\r\n            Performance summary for each introducer partner\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {filteredIntroducers.length === 0 ? (\r\n            <EmptyState message={search ? 'No introducers match your filters.' : 'No introducers available yet.'} />\r\n          ) : (\r\n            filteredIntroducers.map((introducer) => (\r\n              <IntroducerRow\r\n                key={introducer.id}\r\n                introducer={introducer}\r\n                onEdit={() => setEditingIntroducer(introducer)}\r\n                onInvite={() => setInviteDialogIntroducer(introducer)}\r\n                onCreateFeePlan={() => handleCreateFeePlan(introducer)}\r\n                onDispatchInvestor={() => handleDispatchInvestor(introducer)}\r\n              />\r\n            ))\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Recent Introductions</CardTitle>\r\n          <CardDescription>\r\n            Latest introducer activity across deals\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {recentIntroductions.length === 0 ? (\r\n            <EmptyState message=\"No recent introductions \" />\r\n          ) : (\r\n            recentIntroductions.map((introduction) => (\r\n              <RecentIntroductionRow\r\n                key={introduction.id}\r\n                introduction={introduction}\r\n                onEdit={() => setEditingIntroduction(introduction)}\r\n              />\r\n            ))\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <EditIntroducerDialog\r\n        open={!!editingIntroducer}\r\n        onOpenChange={(open) => !open && setEditingIntroducer(null)}\r\n        introducer={editingIntroducer}\r\n      />\r\n\r\n      <AddIntroductionDialog\r\n        open={addIntroductionOpen}\r\n        onOpenChange={setAddIntroductionOpen}\r\n        introducers={introducers.map((i) => ({ id: i.id, legalName: i.legalName }))}\r\n        deals={deals}\r\n      />\r\n\r\n      <EditIntroductionDialog\r\n        open={!!editingIntroduction}\r\n        onOpenChange={(open) => !open && setEditingIntroduction(null)}\r\n        introduction={editingIntroduction}\r\n        introducers={introducers.map((i) => ({ id: i.id, legalName: i.legalName }))}\r\n        deals={deals}\r\n      />\r\n\r\n      {inviteDialogIntroducer && (\r\n        <InviteUserDialog\r\n          open={!!inviteDialogIntroducer}\r\n          onOpenChange={(open) => !open && setInviteDialogIntroducer(null)}\r\n          entityType=\"introducer\"\r\n          entityId={inviteDialogIntroducer.id}\r\n          entityName={inviteDialogIntroducer.legalName}\r\n        />\r\n      )}\r\n\r\n      {/* Fee Plan Modal for creating fee plans with pre-selected introducer */}\r\n      <FeePlanEditModal\r\n        open={feePlanModalOpen}\r\n        onClose={() => {\r\n          setFeePlanModalOpen(false)\r\n          setSelectedIntroducerForFeePlan(null)\r\n        }}\r\n        onSuccess={handleFeePlanSuccess}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DashboardStatCard({\r\n  icon,\r\n  label,\r\n  primary,\r\n  secondary,\r\n  primaryClassName,\r\n}: {\r\n  icon: React.ReactNode\r\n  label: string\r\n  primary: React.ReactNode\r\n  secondary: React.ReactNode\r\n  primaryClassName?: string\r\n}) {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n          {icon}\r\n          {label}\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className={cn('text-2xl font-bold', primaryClassName)}>{primary}</div>\r\n        <div className=\"text-sm text-muted-foreground mt-1\">{secondary}</div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction IntroducerRow({\r\n  introducer,\r\n  onEdit,\r\n  onInvite,\r\n  onCreateFeePlan,\r\n  onDispatchInvestor,\r\n}: {\r\n  introducer: IntroducersDashboardProps['introducers'][number]\r\n  onEdit: () => void\r\n  onInvite: () => void\r\n  onCreateFeePlan: () => void\r\n  onDispatchInvestor: () => void\r\n}) {\r\n  const statusStyles: Record<string, string> = {\r\n    active: 'bg-green-100 text-green-800',\r\n    inactive: 'bg-gray-100 text-gray-800',\r\n    suspended: 'bg-yellow-100 text-yellow-800',\r\n  }\r\n\r\n  return (\r\n    <div className=\"border border-border rounded-lg p-4 bg-background/60 hover:bg-background/80 transition-colors\">\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n        <div className=\"flex items-start gap-4 flex-1\">\r\n          <div className=\"w-12 h-12 rounded-lg border border-primary/30 bg-primary/10 flex items-center justify-center\">\r\n            <TrendingUp className=\"h-6 w-6 text-primary\" />\r\n          </div>\r\n          <div className=\"space-y-1 flex-1\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Link href={`/versotech_main/introducers/${introducer.id}`}>\r\n                <h3 className=\"text-lg font-semibold text-foreground hover:text-primary transition-colors cursor-pointer\">\r\n                  {introducer.legalName}\r\n                </h3>\r\n              </Link>\r\n              <DropdownMenu>\r\n                <DropdownMenuTrigger asChild>\r\n                  <Button variant=\"ghost\" size=\"sm\" className=\"h-7 w-7 p-0\">\r\n                    <MoreHorizontal className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </DropdownMenuTrigger>\r\n                <DropdownMenuContent align=\"start\">\r\n                  <DropdownMenuLabel>Actions</DropdownMenuLabel>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem onClick={onEdit}>\r\n                    <Edit className=\"mr-2 h-4 w-4\" />\r\n                    Edit Introducer\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem onClick={onInvite}>\r\n                    <UserPlus className=\"mr-2 h-4 w-4\" />\r\n                    Invite User\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem onClick={onCreateFeePlan}>\r\n                    <FileText className=\"mr-2 h-4 w-4\" />\r\n                    Create Fee Plan\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem onClick={onDispatchInvestor}>\r\n                    <Send className=\"mr-2 h-4 w-4\" />\r\n                    Dispatch Investor\r\n                  </DropdownMenuItem>\r\n                </DropdownMenuContent>\r\n              </DropdownMenu>\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              {introducer.contactName || 'No contact'} • {introducer.email || 'No email provided'}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground flex flex-wrap gap-2\">\r\n              <span>Default commission: {formatBps(introducer.defaultCommissionBps)}</span>\r\n              {introducer.commissionCapAmount ? (\r\n                <span>Cap: {formatCurrency(introducer.commissionCapAmount)}</span>\r\n              ) : null}\r\n              {introducer.paymentTerms ? <span>Terms: {introducer.paymentTerms}</span> : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-wrap items-center gap-6\">\r\n          <Stat label=\"Introductions\" value={introducer.totalIntroductions} />\r\n          <Stat label=\"Allocated\" value={introducer.successfulAllocations} />\r\n          {/* Fee Plans count with status indicator */}\r\n          {introducer.feePlans && (\r\n            <div className=\"text-center\">\r\n              <div className=\"flex items-center justify-center gap-1 font-semibold tabular-nums\">\r\n                <FileText className=\"h-3.5 w-3.5 text-muted-foreground\" />\r\n                <span>{introducer.feePlans.accepted}/{introducer.feePlans.total}</span>\r\n                {introducer.feePlans.accepted === introducer.feePlans.total && introducer.feePlans.total > 0 && (\r\n                  <CheckCircle2 className=\"h-3.5 w-3.5 text-green-400\" />\r\n                )}\r\n                {introducer.feePlans.pending > 0 && (\r\n                  <Clock className=\"h-3.5 w-3.5 text-yellow-400\" />\r\n                )}\r\n              </div>\r\n              <div className=\"text-xs text-muted-foreground uppercase tracking-wide\">Fee Plans</div>\r\n            </div>\r\n          )}\r\n          <Stat label=\"Paid\" value={formatCurrency(introducer.totalCommissionPaid)} />\r\n          <Stat label=\"Pending\" value={formatCurrency(introducer.pendingCommission)} className=\"text-orange-500\" />\r\n          <div className=\"flex flex-col items-start gap-2\">\r\n            <Badge className={cn('capitalize', statusStyles[introducer.status] ?? 'bg-gray-100 text-foreground')}>\r\n              {introducer.status}\r\n            </Badge>\r\n            <span className=\"text-xs text-muted-foreground\">\r\n              Last intro: {introducer.lastIntroductionAt ? formatDate(introducer.lastIntroductionAt) : '—'}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction Stat({ label, value, className }: { label: string; value: React.ReactNode; className?: string }) {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <div className={cn('font-semibold tabular-nums', className)}>{value}</div>\r\n      <div className=\"text-xs text-muted-foreground uppercase tracking-wide\">{label}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction RecentIntroductionRow({\r\n  introduction,\r\n  onEdit\r\n}: {\r\n  introduction: IntroducersDashboardProps['recentIntroductions'][number]\r\n  onEdit: () => void\r\n}) {\r\n  const [status, setStatus] = useState(introduction.status)\r\n  const [isPending, startTransition] = useTransition()\r\n  const router = useRouter()\r\n\r\n  const statusStyles: Record<string, string> = {\r\n    allocated: 'border-green-200 text-green-700',\r\n    joined: 'border-blue-200 text-blue-700',\r\n    invited: 'border-yellow-200 text-yellow-700',\r\n    lost: 'border-red-200 text-red-700',\r\n    inactive: 'border-gray-200 text-gray-700',\r\n  }\r\n\r\n  const handleStatusChange = (newStatus: string) => {\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/staff/introductions/${introduction.id}`, {\r\n          method: 'PATCH',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ status: newStatus }),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          toast.error('Failed to update introduction status')\r\n          return\r\n        }\r\n\r\n        setStatus(newStatus)\r\n        toast.success('Introduction status updated')\r\n        router.refresh()\r\n      } catch (err) {\r\n        toast.error('Failed to update introduction status')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 border border-border rounded-lg p-4\">\r\n      <div className=\"space-y-1 flex-1\">\r\n        <div className=\"flex items-center gap-2 flex-wrap\">\r\n          <h4 className=\"text-sm font-semibold text-foreground\">{introduction.prospectEmail}</h4>\r\n          <Select value={status} onValueChange={handleStatusChange} disabled={isPending}>\r\n            <SelectTrigger className={cn('w-32 h-7 text-xs capitalize', statusStyles[status] ?? 'border-gray-200 text-foreground')}>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"invited\">Invited</SelectItem>\r\n              <SelectItem value=\"joined\">Joined</SelectItem>\r\n              <SelectItem value=\"allocated\">Allocated</SelectItem>\r\n              <SelectItem value=\"lost\">Lost</SelectItem>\r\n              <SelectItem value=\"inactive\">Inactive</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          {introduction.introducerName} • {introduction.dealName}\r\n        </div>\r\n        <div className=\"text-xs text-muted-foreground\">\r\n          Introduced {introduction.introducedAt ? formatDate(introduction.introducedAt) : '—'}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"text-right\">\r\n          <div className=\"text-sm font-medium\">\r\n            {introduction.commissionAmount ? formatCurrency(introduction.commissionAmount) : 'Commission TBD'}\r\n          </div>\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            {introduction.commissionStatus ? `Status: ${introduction.commissionStatus}` : 'Awaiting accrual'}\r\n          </div>\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={onEdit}\r\n          className=\"h-8 w-8 p-0\"\r\n        >\r\n          <Edit className=\"h-4 w-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction EmptyState({ message }: { message: string }) {\r\n  return (\r\n    <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\r\n      <TrendingUp className=\"h-10 w-10 text-muted-foreground\" />\r\n      <p className=\"text-sm text-muted-foreground\">{message}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\n","'use client'\r\n\r\nimport { useState, useTransition, useEffect } from 'react'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { toast } from 'sonner'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Alert, AlertDescription } from '@/components/ui/alert'\r\nimport { AlertTriangle, CheckCircle2, Loader2, FileSignature } from 'lucide-react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport Link from 'next/link'\r\n\r\ntype AgreementStatus = 'loading' | 'valid' | 'invalid' | 'none'\r\n\r\ntype AddIntroductionDialogProps = {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  introducers: Array<{ id: string; legalName: string }>\r\n  deals: Array<{ id: string; name: string }>\r\n}\r\n\r\nexport function AddIntroductionDialog({ open, onOpenChange, introducers, deals }: AddIntroductionDialogProps) {\r\n  const [introducerId, setIntroducerId] = useState('')\r\n  const [prospectEmail, setProspectEmail] = useState('')\r\n  const [dealId, setDealId] = useState('')\r\n  const [commissionOverride, setCommissionOverride] = useState<number | ''>('')\r\n  const [notes, setNotes] = useState('')\r\n  const [isPending, startTransition] = useTransition()\r\n  const [agreementStatus, setAgreementStatus] = useState<AgreementStatus>('none')\r\n  const router = useRouter()\r\n\r\n  // Check if selected introducer has a valid agreement\r\n  useEffect(() => {\r\n    if (!introducerId) {\r\n      setAgreementStatus('none')\r\n      return\r\n    }\r\n\r\n    const checkAgreement = async () => {\r\n      setAgreementStatus('loading')\r\n      try {\r\n        const supabase = createClient()\r\n        const today = new Date().toISOString().split('T')[0]\r\n\r\n        const { data, error } = await supabase\r\n          .from('introducer_agreements')\r\n          .select('id, status, signed_date, expiry_date')\r\n          .eq('introducer_id', introducerId)\r\n          .eq('status', 'active')\r\n          .not('signed_date', 'is', null)\r\n          .or(`expiry_date.is.null,expiry_date.gte.${today}`)\r\n          .limit(1)\r\n\r\n        if (error) {\r\n          console.error('Error checking agreement:', error)\r\n          setAgreementStatus('invalid')\r\n          return\r\n        }\r\n\r\n        if (data && data.length > 0) {\r\n          setAgreementStatus('valid')\r\n        } else {\r\n          setAgreementStatus('invalid')\r\n        }\r\n      } catch (err) {\r\n        console.error('Error checking agreement:', err)\r\n        setAgreementStatus('invalid')\r\n      }\r\n    }\r\n\r\n    checkAgreement()\r\n  }, [introducerId])\r\n\r\n  const resetForm = () => {\r\n    setIntroducerId('')\r\n    setProspectEmail('')\r\n    setDealId('')\r\n    setCommissionOverride('')\r\n    setNotes('')\r\n    setAgreementStatus('none')\r\n  }\r\n\r\n  const handleCreate = () => {\r\n    startTransition(async () => {\r\n      if (!introducerId || introducerId.trim() === '') {\r\n        toast.error('Please select an introducer')\r\n        return\r\n      }\r\n\r\n      if (!prospectEmail.trim()) {\r\n        toast.error('Prospect email is required')\r\n        return\r\n      }\r\n\r\n      if (!dealId || dealId.trim() === '') {\r\n        toast.error('Please select a deal')\r\n        return\r\n      }\r\n\r\n      if (commissionOverride !== '' && (Number(commissionOverride) < 0 || Number(commissionOverride) > 300)) {\r\n        toast.error('Commission override must be between 0 and 300 bps')\r\n        return\r\n      }\r\n\r\n      try {\r\n        const payload = {\r\n          introducer_id: introducerId,\r\n          prospect_email: prospectEmail.trim(),\r\n          deal_id: dealId,\r\n          commission_rate_override_bps: commissionOverride === '' ? null : Number(commissionOverride),\r\n          notes: notes.trim() || null,\r\n        }\r\n\r\n        const response = await fetch('/api/staff/introductions', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(payload),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          const text = await response.text()\r\n\r\n          let data\r\n          try {\r\n            data = JSON.parse(text)\r\n          } catch (e) {\r\n            toast.error(`Failed to create introduction: ${text || 'Unknown error'}`)\r\n            return\r\n          }\r\n\r\n          if (data?.details) {\r\n            toast.error(`Validation failed: ${JSON.stringify(data.details.fieldErrors || data.details)}`)\r\n          } else {\r\n            toast.error(data?.error ?? 'Failed to create introduction')\r\n          }\r\n          return\r\n        }\r\n\r\n        toast.success('Introduction recorded')\r\n        onOpenChange(false)\r\n        resetForm()\r\n        router.refresh()\r\n      } catch (err) {\r\n        toast.error('Failed to create introduction')\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onOpenChange={(value) => {\r\n        onOpenChange(value)\r\n        if (!value) {\r\n          resetForm()\r\n        }\r\n      }}\r\n    >\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle>Record Introduction</DialogTitle>\r\n          <DialogDescription>Track a new referral from an introducer partner.</DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid gap-2\">\r\n            <Label>Introducer</Label>\r\n            <Select value={introducerId} onValueChange={setIntroducerId}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select introducer\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {introducers.map((intro) => (\r\n                  <SelectItem key={intro.id} value={intro.id}>\r\n                    {intro.legalName}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            {/* Agreement Status Warning */}\r\n            {introducerId && agreementStatus === 'loading' && (\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground mt-1\">\r\n                <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n                Checking agreement status...\r\n              </div>\r\n            )}\r\n            {introducerId && agreementStatus === 'valid' && (\r\n              <div className=\"flex items-center gap-2 text-sm text-green-600 mt-1\">\r\n                <CheckCircle2 className=\"h-3 w-3\" />\r\n                Valid signed agreement on file\r\n              </div>\r\n            )}\r\n            {introducerId && agreementStatus === 'invalid' && (\r\n              <Alert variant=\"destructive\" className=\"mt-2\">\r\n                <AlertTriangle className=\"h-4 w-4\" />\r\n                <AlertDescription className=\"flex items-center justify-between\">\r\n                  <span>This introducer does not have a valid signed agreement.</span>\r\n                  <Link\r\n                    href={`/versotech_main/introducers/${introducerId}?tab=agreements`}\r\n                    className=\"text-xs underline ml-2 whitespace-nowrap\"\r\n                  >\r\n                    Create Agreement\r\n                  </Link>\r\n                </AlertDescription>\r\n              </Alert>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"prospectEmail\">Prospect Email</Label>\r\n            <Input\r\n              id=\"prospectEmail\"\r\n              type=\"email\"\r\n              value={prospectEmail}\r\n              onChange={(event) => setProspectEmail(event.target.value)}\r\n              placeholder=\"prospect@example.com\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>Deal</Label>\r\n            <Select value={dealId} onValueChange={setDealId}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select deal\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {deals.map((deal) => (\r\n                  <SelectItem key={deal.id} value={deal.id}>\r\n                    {deal.name}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"commissionOverride\">Commission Rate Override (bps, optional)</Label>\r\n            <Input\r\n              id=\"commissionOverride\"\r\n              type=\"number\"\r\n              min={0}\r\n              max={300}\r\n              value={commissionOverride}\r\n              onChange={(event) =>\r\n                setCommissionOverride(event.target.value === '' ? '' : Number(event.target.value))\r\n              }\r\n              placeholder=\"Leave empty to use introducer's default rate\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"notes\">Notes</Label>\r\n            <Textarea\r\n              id=\"notes\"\r\n              value={notes}\r\n              onChange={(event) => setNotes(event.target.value)}\r\n              placeholder=\"Additional context about this introduction...\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n        </div>\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isPending}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleCreate}\r\n            disabled={isPending || agreementStatus === 'invalid' || agreementStatus === 'loading'}\r\n          >\r\n            {isPending ? 'Recording…' : 'Record Introduction'}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { useState, useTransition, useEffect } from 'react'\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { toast } from 'sonner'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ntype Introduction = {\r\n  id: string\r\n  introducerId?: string\r\n  introducerName: string\r\n  prospectEmail: string\r\n  dealId?: string\r\n  dealName: string\r\n  status: string\r\n  introducedAt: string | null\r\n  commissionAmount: number | null\r\n  commissionStatus: string | null\r\n  commissionRateOverrideBps?: number | null\r\n  notes?: string | null\r\n}\r\n\r\ntype EditIntroductionDialogProps = {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  introduction: Introduction | null\r\n  introducers?: Array<{ id: string; legalName: string }>\r\n  deals?: Array<{ id: string; name: string }>\r\n}\r\n\r\nexport function EditIntroductionDialog({\r\n  open,\r\n  onOpenChange,\r\n  introduction,\r\n  introducers = [],\r\n  deals = []\r\n}: EditIntroductionDialogProps) {\r\n  const [introducerId, setIntroducerId] = useState('')\r\n  const [prospectEmail, setProspectEmail] = useState('')\r\n  const [dealId, setDealId] = useState('')\r\n  const [status, setStatus] = useState('')\r\n  const [commissionOverride, setCommissionOverride] = useState<number | ''>('')\r\n  const [notes, setNotes] = useState('')\r\n  const [isPending, startTransition] = useTransition()\r\n  const router = useRouter()\r\n\r\n  useEffect(() => {\r\n    if (introduction) {\r\n      setIntroducerId(introduction.introducerId || '')\r\n      setProspectEmail(introduction.prospectEmail)\r\n      setDealId(introduction.dealId || '')\r\n      setStatus(introduction.status)\r\n      setCommissionOverride(introduction.commissionRateOverrideBps || '')\r\n      setNotes(introduction.notes || '')\r\n    }\r\n  }, [introduction])\r\n\r\n  const handleUpdate = () => {\r\n    if (!introduction) return\r\n\r\n    startTransition(async () => {\r\n      if (!prospectEmail.trim()) {\r\n        toast.error('Prospect email is required')\r\n        return\r\n      }\r\n\r\n      if (commissionOverride !== '' && (Number(commissionOverride) < 0 || Number(commissionOverride) > 300)) {\r\n        toast.error('Commission override must be between 0 and 300 bps')\r\n        return\r\n      }\r\n\r\n      try {\r\n        const payload: Record<string, any> = {\r\n          status,\r\n          commission_rate_override_bps: commissionOverride === '' ? null : Number(commissionOverride),\r\n          notes: notes.trim() || null,\r\n        }\r\n\r\n        // Only include changed fields\r\n        if (introducerId && introducerId !== introduction.introducerId) {\r\n          payload.introducer_id = introducerId\r\n        }\r\n        if (prospectEmail.trim() !== introduction.prospectEmail) {\r\n          payload.prospect_email = prospectEmail.trim()\r\n        }\r\n        if (dealId && dealId !== introduction.dealId) {\r\n          payload.deal_id = dealId\r\n        }\r\n\r\n        const response = await fetch(`/api/staff/introductions/${introduction.id}`, {\r\n          method: 'PATCH',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(payload),\r\n        })\r\n\r\n        if (!response.ok) {\r\n          const text = await response.text()\r\n\r\n          let data\r\n          try {\r\n            data = JSON.parse(text)\r\n          } catch (e) {\r\n            toast.error(`Failed to update introduction: ${text || 'Unknown error'}`)\r\n            return\r\n          }\r\n\r\n          if (data?.details) {\r\n            toast.error(`Validation failed: ${JSON.stringify(data.details.fieldErrors || data.details)}`)\r\n          } else {\r\n            toast.error(data?.error ?? 'Failed to update introduction')\r\n          }\r\n          return\r\n        }\r\n\r\n        toast.success('Introduction updated')\r\n        onOpenChange(false)\r\n        router.refresh()\r\n      } catch (err) {\r\n        toast.error('Failed to update introduction')\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    if (!introduction) return\r\n\r\n    if (!confirm('Are you sure you want to delete this introduction? This action cannot be undone.')) {\r\n      return\r\n    }\r\n\r\n    startTransition(async () => {\r\n      try {\r\n        const response = await fetch(`/api/staff/introductions/${introduction.id}`, {\r\n          method: 'DELETE',\r\n        })\r\n\r\n        if (!response.ok) {\r\n          const data = await response.json().catch(() => null)\r\n          toast.error(data?.error ?? 'Failed to delete introduction')\r\n          return\r\n        }\r\n\r\n        toast.success('Introduction deleted')\r\n        onOpenChange(false)\r\n        router.refresh()\r\n      } catch (err) {\r\n        toast.error('Failed to delete introduction')\r\n      }\r\n    })\r\n  }\r\n\r\n  if (!introduction) return null\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-lg\">\r\n        <DialogHeader>\r\n          <DialogTitle>Edit Introduction</DialogTitle>\r\n          <DialogDescription>Update introduction status and details.</DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid gap-2\">\r\n            <Label>Introducer</Label>\r\n            {introducers.length > 0 ? (\r\n              <Select value={introducerId} onValueChange={setIntroducerId}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select introducer\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {introducers.map((intro) => (\r\n                    <SelectItem key={intro.id} value={intro.id}>\r\n                      {intro.legalName}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            ) : (\r\n              <Input value={introduction.introducerName} disabled className=\"bg-muted\" />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"prospectEmail\">Prospect Email</Label>\r\n            <Input\r\n              id=\"prospectEmail\"\r\n              type=\"email\"\r\n              value={prospectEmail}\r\n              onChange={(e) => setProspectEmail(e.target.value)}\r\n              placeholder=\"prospect@example.com\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>Deal</Label>\r\n            {deals.length > 0 ? (\r\n              <Select value={dealId} onValueChange={setDealId}>\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select deal\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {deals.map((deal) => (\r\n                    <SelectItem key={deal.id} value={deal.id}>\r\n                      {deal.name}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            ) : (\r\n              <Input value={introduction.dealName} disabled className=\"bg-muted\" />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label>Status</Label>\r\n            <Select value={status} onValueChange={setStatus}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select status\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"invited\">Invited</SelectItem>\r\n                <SelectItem value=\"joined\">Joined</SelectItem>\r\n                <SelectItem value=\"allocated\">Allocated</SelectItem>\r\n                <SelectItem value=\"lost\">Lost</SelectItem>\r\n                <SelectItem value=\"inactive\">Inactive</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"commissionOverride\">Commission Rate Override (bps, optional)</Label>\r\n            <Input\r\n              id=\"commissionOverride\"\r\n              type=\"number\"\r\n              min={0}\r\n              max={300}\r\n              value={commissionOverride}\r\n              onChange={(event) =>\r\n                setCommissionOverride(event.target.value === '' ? '' : Number(event.target.value))\r\n              }\r\n              placeholder=\"Leave empty to use introducer's default rate\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"grid gap-2\">\r\n            <Label htmlFor=\"notes\">Notes</Label>\r\n            <Textarea\r\n              id=\"notes\"\r\n              value={notes}\r\n              onChange={(event) => setNotes(event.target.value)}\r\n              placeholder=\"Additional context about this introduction...\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n        </div>\r\n        <DialogFooter className=\"flex justify-between\">\r\n          <Button variant=\"destructive\" onClick={handleDelete} disabled={isPending}>\r\n            Delete\r\n          </Button>\r\n          <div className=\"flex gap-2\">\r\n            <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isPending}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleUpdate} disabled={isPending}>\r\n              {isPending ? 'Updating…' : 'Update Introduction'}\r\n            </Button>\r\n          </div>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}