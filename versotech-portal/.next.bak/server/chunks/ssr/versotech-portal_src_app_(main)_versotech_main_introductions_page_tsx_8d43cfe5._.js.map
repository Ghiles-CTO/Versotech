{"version":3,"sources":["../../../../../versotech-portal/src/app/%28main%29/versotech_main/introductions/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport type { DateRange } from 'react-day-picker'\nimport { DateRangePicker } from '@/components/ui/date-range-picker'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  UserPlus,\n  Users,\n  DollarSign,\n  CheckCircle2,\n  Clock,\n  Search,\n  Loader2,\n  AlertCircle,\n  ExternalLink,\n  Download,\n  FolderOpen,\n  Building2,\n  X,\n} from 'lucide-react'\nimport { toast } from 'sonner'\nimport { cn } from '@/lib/utils'\nimport { formatCurrency, formatDate, formatBps } from '@/lib/format'\nimport { createClient } from '@/lib/supabase/client'\nimport Link from 'next/link'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Label } from '@/components/ui/label'\nimport { Separator } from '@/components/ui/separator'\n\ntype Introduction = {\n  id: string\n  prospect_email: string\n  status: string\n  introduced_at: string | null\n  commission_rate_override_bps: number | null\n  notes: string | null\n  deal: {\n    id: string\n    name: string\n    company_name: string | null\n  } | null\n  investor: {\n    id: string\n    legal_name: string\n  } | null\n  commission: {\n    accrual_amount: number\n    currency: string\n    status: string\n  } | null\n}\n\ntype DealDetails = {\n  id: string\n  name: string\n  company_name: string | null\n  description: string | null\n  investment_thesis: string | null\n  sector: string | null\n  stage: string | null\n  location: string | null\n  deal_type: string | null\n  currency: string | null\n  minimum_investment: number | null\n  maximum_investment: number | null\n  target_amount: number | null\n  raised_amount: number | null\n  offer_unit_price: number | null\n  open_at: string | null\n  close_at: string | null\n  status: string\n  company_website: string | null\n  stock_type: string | null\n  deal_round: string | null\n}\n\ntype IntroducerInfo = {\n  id: string\n  legal_name: string\n  default_commission_bps: number\n  status: string\n}\n\ntype Summary = {\n  totalIntroductions: number\n  interestedCount: number\n  approvedCount: number\n  signedCount: number\n  fundedCount: number\n  passedCount: number\n  totalCommissionEarned: number\n  pendingCommission: number\n}\n\ntype JourneyStage = 'interested' | 'approved' | 'signed' | 'funded' | 'passed'\n\nconst JOURNEY_STAGE_RANK: Record<JourneyStage, number> = {\n  passed: 0,\n  interested: 1,\n  approved: 2,\n  signed: 3,\n  funded: 4,\n}\n\nfunction getStageFromSubscription(status: string | null): JourneyStage {\n  switch (status) {\n    case 'funded':\n    case 'active':\n    case 'completed':\n      return 'funded'\n    case 'signed':\n    case 'committed':\n      return 'signed'\n    case 'approved':\n    case 'pending':\n    case 'pending_review':\n      return 'approved'\n    case 'cancelled':\n    case 'rejected':\n    case 'withdrawn':\n      return 'passed'\n    default:\n      return 'interested'\n  }\n}\n\nfunction getStageFromIntroduction(status: string | null): JourneyStage {\n  switch (status) {\n    case 'allocated':\n      return 'signed'\n    case 'joined':\n      return 'approved'\n    case 'lost':\n    case 'inactive':\n      return 'passed'\n    case 'invited':\n    default:\n      return 'interested'\n  }\n}\n\nconst STATUS_STYLES: Record<JourneyStage, string> = {\n  interested: 'bg-blue-100 text-blue-800 border-blue-200',\n  approved: 'bg-purple-100 text-purple-800 border-purple-200',\n  signed: 'bg-amber-100 text-amber-800 border-amber-200',\n  funded: 'bg-green-100 text-green-800 border-green-200',\n  passed: 'bg-gray-100 text-gray-800 border-gray-200',\n}\n\nconst STATUS_FILTERS = [\n  { label: 'All Status', value: 'all' },\n  { label: 'Interested', value: 'interested' },\n  { label: 'Approved', value: 'approved' },\n  { label: 'Signed', value: 'signed' },\n  { label: 'Funded', value: 'funded' },\n  { label: 'Passed', value: 'passed' },\n]\n\nexport default function IntroductionsPage() {\n  const [introducerInfo, setIntroducerInfo] = useState<IntroducerInfo | null>(null)\n  const [introductions, setIntroductions] = useState<Introduction[]>([])\n  const [summary, setSummary] = useState<Summary>({\n    totalIntroductions: 0,\n    interestedCount: 0,\n    approvedCount: 0,\n    signedCount: 0,\n    fundedCount: 0,\n    passedCount: 0,\n    totalCommissionEarned: 0,\n    pendingCommission: 0,\n  })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [search, setSearch] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  const [dateRange, setDateRange] = useState<DateRange | undefined>(undefined)\n  const [exporting, setExporting] = useState(false)\n  const [selectedDeal, setSelectedDeal] = useState<DealDetails | null>(null)\n  const [dealDialogOpen, setDealDialogOpen] = useState(false)\n  const [loadingDeal, setLoadingDeal] = useState(false)\n\n  const handleViewDeal = async (dealId: string) => {\n    try {\n      setLoadingDeal(true)\n      setDealDialogOpen(true)\n\n      const supabase = createClient()\n      const { data: deal, error } = await supabase\n        .from('deals')\n        .select(`\n          id,\n          name,\n          company_name,\n          description,\n          investment_thesis,\n          sector,\n          stage,\n          location,\n          deal_type,\n          currency,\n          minimum_investment,\n          maximum_investment,\n          target_amount,\n          raised_amount,\n          offer_unit_price,\n          open_at,\n          close_at,\n          status,\n          company_website,\n          stock_type,\n          deal_round\n        `)\n        .eq('id', dealId)\n        .single()\n\n      if (error) throw error\n      setSelectedDeal(deal)\n    } catch (err) {\n      console.error('[IntroductionsPage] Error fetching deal:', err)\n      toast.error('Failed to load deal details')\n      setDealDialogOpen(false)\n    } finally {\n      setLoadingDeal(false)\n    }\n  }\n\n  const handleExport = async () => {\n    if (!introducerInfo) {\n      toast.error('Export is only available for introducer users')\n      return\n    }\n\n    try {\n      setExporting(true)\n      const response = await fetch('/api/introducers/me/introductions/export')\n\n      if (response.status === 429) {\n        toast.error('Please wait 1 minute between export requests')\n        return\n      }\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.error || 'Export failed')\n      }\n\n      // Download the CSV\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `introductions-${new Date().toISOString().split('T')[0]}.csv`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n\n      toast.success('Introductions exported successfully')\n    } catch (err) {\n      console.error('[IntroductionsPage] Export error:', err)\n      toast.error(err instanceof Error ? err.message : 'Failed to export introductions')\n    } finally {\n      setExporting(false)\n    }\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true)\n        const supabase = createClient()\n\n        // Get current user\n        const { data: { user } } = await supabase.auth.getUser()\n        if (!user) {\n          setError('Not authenticated')\n          return\n        }\n\n        // Check if user is an introducer\n        const { data: introducerUser, error: introducerUserError } = await supabase\n          .from('introducer_users')\n          .select('introducer_id')\n          .eq('user_id', user.id)\n          .single()\n\n        if (introducerUserError || !introducerUser) {\n          // Maybe they're staff - show all introductions\n          await fetchAllIntroductions(supabase)\n          return\n        }\n\n        // Fetch introducer info\n        const { data: introducer, error: introducerError } = await supabase\n          .from('introducers')\n          .select('id, legal_name, default_commission_bps, status')\n          .eq('id', introducerUser.introducer_id)\n          .single()\n\n        if (introducerError) throw introducerError\n        setIntroducerInfo(introducer)\n\n        // Fetch introductions for this introducer\n        const { data: introData, error: introError } = await supabase\n          .from('introductions')\n          .select(`\n            id,\n            prospect_email,\n            status,\n            introduced_at,\n            commission_rate_override_bps,\n            notes,\n            deal:deals (\n              id,\n              name,\n              company_name\n            ),\n            investor:prospect_investor_id (\n              id,\n              legal_name\n            )\n          `)\n          .eq('introducer_id', introducerUser.introducer_id)\n          .order('introduced_at', { ascending: false })\n\n        if (introError) throw introError\n\n        // Fetch subscription statuses for journey stage alignment\n        const investorIds = (introData || [])\n          .map(intro => {\n            const investor = Array.isArray(intro.investor) ? intro.investor[0] : intro.investor\n            return investor?.id || null\n          })\n          .filter(Boolean) as string[]\n\n        const dealIds = (introData || [])\n          .map(intro => {\n            const deal = Array.isArray(intro.deal) ? intro.deal[0] : intro.deal\n            return deal?.id || null\n          })\n          .filter(Boolean) as string[]\n\n        const subscriptionStageMap: Record<string, JourneyStage> = {}\n\n        if (investorIds.length > 0 && dealIds.length > 0) {\n          const { data: subs } = await supabase\n            .from('subscriptions')\n            .select('investor_id, deal_id, status')\n            .in('investor_id', investorIds)\n            .in('deal_id', dealIds)\n\n          for (const sub of subs || []) {\n            const stage = getStageFromSubscription(sub.status || null)\n            const key = `${sub.investor_id}:${sub.deal_id}`\n            const current = subscriptionStageMap[key]\n            if (!current || JOURNEY_STAGE_RANK[stage] > JOURNEY_STAGE_RANK[current]) {\n              subscriptionStageMap[key] = stage\n            }\n          }\n        }\n\n        // Fetch commissions for these introductions\n        const introIds = (introData || []).map(i => i.id)\n        let commissionsMap: Record<string, { accrual_amount: number; currency: string; status: string }> = {}\n\n        if (introIds.length > 0) {\n          const { data: commissions } = await supabase\n            .from('introducer_commissions')\n            .select('introduction_id, accrual_amount, currency, status')\n            .in('introduction_id', introIds)\n\n          for (const comm of commissions || []) {\n            if (comm.introduction_id) {\n              commissionsMap[comm.introduction_id] = {\n                accrual_amount: Number(comm.accrual_amount) || 0,\n                currency: comm.currency || 'USD',\n                status: comm.status || 'accrued',\n              }\n            }\n          }\n        }\n\n        // Combine data\n        const processedIntroductions: Introduction[] = (introData || []).map(intro => {\n          const deal = (Array.isArray(intro.deal) ? intro.deal[0] : intro.deal) as Introduction['deal']\n          const investor = (Array.isArray(intro.investor) ? intro.investor[0] : intro.investor) as Introduction['investor']\n          const stageKey = investor?.id && deal?.id ? `${investor.id}:${deal.id}` : null\n          const stageFromSubscription = stageKey ? subscriptionStageMap[stageKey] : null\n          let journeyStage = stageFromSubscription || getStageFromIntroduction(intro.status || null)\n          if (!stageFromSubscription && intro.status === 'allocated' && commissionsMap[intro.id]) {\n            journeyStage = 'funded'\n          }\n\n          return {\n            id: intro.id,\n            prospect_email: intro.prospect_email || '',\n            status: journeyStage,\n            introduced_at: intro.introduced_at,\n            commission_rate_override_bps: intro.commission_rate_override_bps,\n            notes: intro.notes,\n            deal,\n            investor,\n            commission: commissionsMap[intro.id] || null,\n          }\n        })\n\n        setIntroductions(processedIntroductions)\n\n        // Calculate summary\n        const interested = processedIntroductions.filter(i => i.status === 'interested').length\n        const approved = processedIntroductions.filter(i => i.status === 'approved').length\n        const signed = processedIntroductions.filter(i => i.status === 'signed').length\n        const funded = processedIntroductions.filter(i => i.status === 'funded').length\n        const passed = processedIntroductions.filter(i => i.status === 'passed').length\n\n        let totalEarned = 0\n        let pending = 0\n        for (const intro of processedIntroductions) {\n          if (intro.commission) {\n            if (intro.commission.status === 'paid') {\n              totalEarned += intro.commission.accrual_amount\n            } else if (intro.commission.status === 'accrued' || intro.commission.status === 'invoiced') {\n              pending += intro.commission.accrual_amount\n            }\n          }\n        }\n\n        setSummary({\n          totalIntroductions: processedIntroductions.length,\n          interestedCount: interested,\n          approvedCount: approved,\n          signedCount: signed,\n          fundedCount: funded,\n          passedCount: passed,\n          totalCommissionEarned: totalEarned,\n          pendingCommission: pending,\n        })\n\n        setError(null)\n      } catch (err) {\n        console.error('[IntroductionsPage] Error:', err)\n        setError(err instanceof Error ? err.message : 'Failed to load introductions')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    async function fetchAllIntroductions(supabase: any) {\n      // Staff view - show all introductions\n      const { data: introData, error: introError } = await supabase\n        .from('introductions')\n        .select(`\n          id,\n          prospect_email,\n          status,\n          introduced_at,\n          commission_rate_override_bps,\n          notes,\n          deal:deals (\n            id,\n            name,\n            company_name\n          ),\n          investor:prospect_investor_id (\n            id,\n            legal_name\n          )\n        `)\n        .order('introduced_at', { ascending: false })\n        .limit(100)\n\n      if (introError) throw introError\n\n      const processedIntroductions: Introduction[] = (introData || []).map((intro: any) => ({\n        id: intro.id,\n        prospect_email: intro.prospect_email || '',\n        status: getStageFromIntroduction(intro.status || null),\n        introduced_at: intro.introduced_at,\n        commission_rate_override_bps: intro.commission_rate_override_bps,\n        notes: intro.notes,\n        deal: intro.deal,\n        investor: intro.investor,\n        commission: null,\n      }))\n\n      setIntroductions(processedIntroductions)\n\n      const interested = processedIntroductions.filter(i => i.status === 'interested').length\n      const approved = processedIntroductions.filter(i => i.status === 'approved').length\n      const signed = processedIntroductions.filter(i => i.status === 'signed').length\n      const funded = processedIntroductions.filter(i => i.status === 'funded').length\n      const passed = processedIntroductions.filter(i => i.status === 'passed').length\n\n      setSummary({\n        totalIntroductions: processedIntroductions.length,\n        interestedCount: interested,\n        approvedCount: approved,\n        signedCount: signed,\n        fundedCount: funded,\n        passedCount: passed,\n        totalCommissionEarned: 0,\n        pendingCommission: 0,\n      })\n    }\n\n    fetchData()\n  }, [])\n\n  // Filter introductions\n  const filteredIntroductions = introductions.filter(intro => {\n    const matchesStatus = statusFilter === 'all' || intro.status === statusFilter\n    const matchesSearch = !search ||\n      intro.prospect_email.toLowerCase().includes(search.toLowerCase()) ||\n      intro.deal?.name?.toLowerCase().includes(search.toLowerCase()) ||\n      intro.deal?.company_name?.toLowerCase().includes(search.toLowerCase()) ||\n      intro.investor?.legal_name?.toLowerCase().includes(search.toLowerCase())\n\n    // Date range filter (PRD 6.6.4-01: view revenues between 2 DATES)\n    let matchesDateRange = true\n    if (dateRange?.from || dateRange?.to) {\n      if (!intro.introduced_at) {\n        matchesDateRange = false\n      } else {\n        const introDate = new Date(intro.introduced_at)\n        if (dateRange.from && introDate < dateRange.from) matchesDateRange = false\n        if (dateRange.to) {\n          const endOfDay = new Date(dateRange.to)\n          endOfDay.setHours(23, 59, 59, 999)\n          if (introDate > endOfDay) matchesDateRange = false\n        }\n      }\n    }\n\n    return matchesStatus && matchesSearch && matchesDateRange\n  })\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-16\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n        <span className=\"ml-3 text-muted-foreground\">Loading introductions...</span>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-16\">\n        <AlertCircle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-foreground mb-2\">Error Loading Introductions</h3>\n        <p className=\"text-muted-foreground\">{error}</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">My Introductions</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            {introducerInfo\n              ? `Track your introductions and commissions as ${introducerInfo.legal_name}`\n              : 'View all introductions across the platform'}\n          </p>\n        </div>\n        {introducerInfo && (\n          <Button\n            variant=\"outline\"\n            onClick={handleExport}\n            disabled={exporting || introductions.length === 0}\n          >\n            {exporting ? (\n              <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n            ) : (\n              <Download className=\"h-4 w-4 mr-2\" />\n            )}\n            Export CSV\n          </Button>\n        )}\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Users className=\"h-4 w-4\" />\n              Total Introductions\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.totalIntroductions}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              {summary.interestedCount} interested, {summary.approvedCount} approved\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              Funded\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">{summary.fundedCount}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              {summary.signedCount} signed\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <DollarSign className=\"h-4 w-4\" />\n              Commission Earned\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{formatCurrency(summary.totalCommissionEarned)}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Total paid out\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Clock className=\"h-4 w-4\" />\n              Pending Commission\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-orange-500\">{formatCurrency(summary.pendingCommission)}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Awaiting payment\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search by email, deal, or investor...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-48\">\n                <SelectValue placeholder=\"Filter by status\" />\n              </SelectTrigger>\n              <SelectContent>\n                {STATUS_FILTERS.map((option) => (\n                  <SelectItem key={option.value} value={option.value}>\n                    {option.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            {/* Date Range Filter - PRD 6.6.4-01 */}\n            <div className=\"flex items-center gap-2\">\n              <DateRangePicker\n                value={dateRange}\n                onChange={setDateRange}\n                className=\"w-auto\"\n              />\n              {dateRange && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setDateRange(undefined)}\n                  title=\"Clear date filter\"\n                >\n                  <X className=\"h-4 w-4\" />\n                </Button>\n              )}\n            </div>\n          </div>\n          {/* Active filter indicator */}\n          {(statusFilter !== 'all' || search || dateRange) && (\n            <div className=\"mt-3 pt-3 border-t\">\n              <Button\n                variant=\"link\"\n                size=\"sm\"\n                onClick={() => {\n                  setStatusFilter('all')\n                  setSearch('')\n                  setDateRange(undefined)\n                }}\n                className=\"text-muted-foreground p-0 h-auto\"\n              >\n                Clear all filters\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Introductions Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Introductions</CardTitle>\n          <CardDescription>\n            {filteredIntroductions.length} introduction{filteredIntroductions.length !== 1 ? 's' : ''} found\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {filteredIntroductions.length === 0 ? (\n            <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\n              <UserPlus className=\"h-10 w-10 text-muted-foreground\" />\n              <p className=\"text-sm text-muted-foreground\">\n                {search || statusFilter !== 'all'\n                  ? 'No introductions match your filters'\n                  : 'No introductions yet'}\n              </p>\n            </div>\n          ) : (\n            <div className=\"rounded-md border\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Prospect</TableHead>\n                    <TableHead>Deal</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead>Introduced</TableHead>\n                    <TableHead>Commission</TableHead>\n                    <TableHead className=\"text-right\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredIntroductions.map((intro) => (\n                    <TableRow key={intro.id}>\n                      <TableCell>\n                        <div>\n                          <div className=\"font-medium\">{intro.prospect_email}</div>\n                          {intro.investor && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              {intro.investor.legal_name}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {intro.deal ? (\n                          <div>\n                            <button\n                              onClick={() => handleViewDeal(intro.deal!.id)}\n                              className=\"font-medium text-left hover:text-primary hover:underline transition-colors\"\n                            >\n                              {intro.deal.name}\n                            </button>\n                            {intro.deal.company_name && (\n                              <div className=\"text-xs text-muted-foreground\">\n                                {intro.deal.company_name}\n                              </div>\n                            )}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted-foreground\">—</span>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <Badge\n                          variant=\"outline\"\n                          className={cn('capitalize', STATUS_STYLES[intro.status as JourneyStage] || STATUS_STYLES.passed)}\n                        >\n                          {intro.status}\n                        </Badge>\n                      </TableCell>\n                      <TableCell>\n                        {intro.introduced_at ? formatDate(intro.introduced_at) : '—'}\n                      </TableCell>\n                      <TableCell>\n                        {intro.commission ? (\n                          <div>\n                            <div className=\"font-medium\">\n                              {formatCurrency(intro.commission.accrual_amount, intro.commission.currency)}\n                            </div>\n                            <div className=\"text-xs text-muted-foreground capitalize\">\n                              {intro.commission.status}\n                            </div>\n                          </div>\n                        ) : intro.commission_rate_override_bps ? (\n                          <div className=\"text-xs text-muted-foreground\">\n                            Rate: {formatBps(intro.commission_rate_override_bps)}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted-foreground\">—</span>\n                        )}\n                      </TableCell>\n                      <TableCell className=\"text-right\">\n                        {intro.deal && (\n                          <div className=\"flex items-center justify-end gap-2\">\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={() => handleViewDeal(intro.deal!.id)}\n                              title=\"View Deal Details\"\n                            >\n                              <FolderOpen className=\"h-4 w-4 mr-1\" />\n                              View Deal\n                            </Button>\n                          </div>\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Deal Details Dialog */}\n      <Dialog open={dealDialogOpen} onOpenChange={setDealDialogOpen}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          {loadingDeal ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n              <span className=\"ml-3 text-muted-foreground\">Loading deal details...</span>\n            </div>\n          ) : selectedDeal ? (\n            <>\n              <DialogHeader>\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 rounded-lg bg-muted flex items-center justify-center flex-shrink-0\">\n                    <Building2 className=\"w-6 h-6 text-muted-foreground\" />\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <DialogTitle className=\"text-xl\">{selectedDeal.name}</DialogTitle>\n                    {selectedDeal.company_name && (\n                      <DialogDescription className=\"text-base\">\n                        {selectedDeal.company_name}\n                      </DialogDescription>\n                    )}\n                  </div>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    onClick={() => setDealDialogOpen(false)}\n                    className=\"flex-shrink-0\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </DialogHeader>\n\n              <div className=\"space-y-6 pt-4\">\n                {/* Key Badges */}\n                <div className=\"flex flex-wrap gap-2\">\n                  {selectedDeal.sector && (\n                    <Badge variant=\"secondary\">{selectedDeal.sector}</Badge>\n                  )}\n                  {selectedDeal.stage && (\n                    <Badge variant=\"outline\">{selectedDeal.stage}</Badge>\n                  )}\n                  {selectedDeal.location && (\n                    <Badge variant=\"outline\">{selectedDeal.location}</Badge>\n                  )}\n                  {selectedDeal.status && (\n                    <Badge\n                      variant=\"outline\"\n                      className={cn(\n                        'capitalize',\n                        selectedDeal.status === 'active' && 'bg-green-100 text-green-800 border-green-200',\n                        selectedDeal.status === 'draft' && 'bg-gray-100 text-gray-800 border-gray-200',\n                        selectedDeal.status === 'closed' && 'bg-red-100 text-red-800 border-red-200'\n                      )}\n                    >\n                      {selectedDeal.status}\n                    </Badge>\n                  )}\n                </div>\n\n                <Separator />\n\n                {/* Description */}\n                {selectedDeal.description && (\n                  <div>\n                    <Label className=\"text-base font-semibold\">Description</Label>\n                    <p className=\"mt-2 text-muted-foreground whitespace-pre-wrap\">\n                      {selectedDeal.description}\n                    </p>\n                  </div>\n                )}\n\n                {/* Investment Thesis */}\n                {selectedDeal.investment_thesis && (\n                  <div>\n                    <Label className=\"text-base font-semibold\">Investment Thesis</Label>\n                    <p className=\"mt-2 text-muted-foreground whitespace-pre-wrap\">\n                      {selectedDeal.investment_thesis}\n                    </p>\n                  </div>\n                )}\n\n                <Separator />\n\n                {/* Deal Details Grid */}\n                <div>\n                  <Label className=\"text-base font-semibold\">Deal Information</Label>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3\">\n                    {selectedDeal.deal_type && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Deal Type</Label>\n                        <p className=\"font-medium mt-1 capitalize\">\n                          {selectedDeal.deal_type.replace(/_/g, ' ')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.stock_type && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Stock Type</Label>\n                        <p className=\"font-medium mt-1 capitalize\">\n                          {selectedDeal.stock_type.replace(/_/g, ' ')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.deal_round && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Round</Label>\n                        <p className=\"font-medium mt-1\">{selectedDeal.deal_round}</p>\n                      </div>\n                    )}\n                    {selectedDeal.target_amount && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Target Raise</Label>\n                        <p className=\"font-medium mt-1\">\n                          {formatCurrency(selectedDeal.target_amount, selectedDeal.currency || 'USD')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.raised_amount !== null && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Raised</Label>\n                        <p className=\"font-medium mt-1\">\n                          {formatCurrency(selectedDeal.raised_amount, selectedDeal.currency || 'USD')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.minimum_investment && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Min Investment</Label>\n                        <p className=\"font-medium mt-1\">\n                          {formatCurrency(selectedDeal.minimum_investment, selectedDeal.currency || 'USD')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.maximum_investment && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Max Investment</Label>\n                        <p className=\"font-medium mt-1\">\n                          {formatCurrency(selectedDeal.maximum_investment, selectedDeal.currency || 'USD')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.offer_unit_price && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Unit Price</Label>\n                        <p className=\"font-medium mt-1\">\n                          {formatCurrency(selectedDeal.offer_unit_price, selectedDeal.currency || 'USD')}\n                        </p>\n                      </div>\n                    )}\n                    {selectedDeal.open_at && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Opens</Label>\n                        <p className=\"font-medium mt-1\">{formatDate(selectedDeal.open_at)}</p>\n                      </div>\n                    )}\n                    {selectedDeal.close_at && (\n                      <div>\n                        <Label className=\"text-xs text-muted-foreground\">Closes</Label>\n                        <p className=\"font-medium mt-1\">{formatDate(selectedDeal.close_at)}</p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Company Website */}\n                {selectedDeal.company_website && (\n                  <div>\n                    <Label className=\"text-base font-semibold\">Company Website</Label>\n                    <a\n                      href={selectedDeal.company_website}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"flex items-center gap-2 mt-2 text-primary hover:underline\"\n                    >\n                      {selectedDeal.company_website}\n                      <ExternalLink className=\"h-4 w-4\" />\n                    </a>\n                  </div>\n                )}\n\n                <Separator />\n\n                {/* Action Button */}\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-end gap-3\">\n                    <Button variant=\"outline\" onClick={() => setDealDialogOpen(false)}>\n                      Close\n                    </Button>\n                    <Button asChild>\n                      <Link href={`/versotech_main/opportunities/${selectedDeal.id}?from=introductions`}>\n                        <FolderOpen className=\"h-4 w-4 mr-2\" />\n                        View as Investor\n                      </Link>\n                    </Button>\n                  </div>\n                  <p className=\"text-xs text-muted-foreground text-right\">\n                    Data room access requires investor persona with deal membership\n                  </p>\n                </div>\n              </div>\n            </>\n          ) : (\n            <div className=\"text-center py-12\">\n              <AlertCircle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-foreground mb-2\">Deal Not Found</h3>\n              <p className=\"text-muted-foreground\">Unable to load deal details.</p>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}