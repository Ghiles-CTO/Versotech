module.exports=[883236,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(983639),e=a.i(429770),f=a.i(948624),g=a.i(579119),h=a.i(51540),i=a.i(256832),j=a.i(559387),k=a.i(311449),l=a.i(895834),m=a.i(994358),n="Radio",[o,p]=(0,f.createContextScope)(n),[q,r]=o(n),s=c.forwardRef((a,f)=>{let{__scopeRadio:h,name:i,checked:j=!1,required:k,disabled:l,value:m="on",onCheck:n,form:o,...p}=a,[r,s]=c.useState(null),t=(0,e.useComposedRefs)(f,a=>s(a)),u=c.useRef(!1),x=!r||o||!!r.closest("form");return(0,b.jsxs)(q,{scope:h,checked:j,disabled:l,children:[(0,b.jsx)(g.Primitive.button,{type:"button",role:"radio","aria-checked":j,"data-state":w(j),"data-disabled":l?"":void 0,disabled:l,value:m,...p,ref:t,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{j||n?.(),x&&(u.current=a.isPropagationStopped(),u.current||a.stopPropagation())})}),x&&(0,b.jsx)(v,{control:r,bubbles:!u.current,name:i,value:m,checked:j,required:k,disabled:l,form:o,style:{transform:"translateX(-100%)"}})]})});s.displayName=n;var t="RadioIndicator",u=c.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,h=r(t,d);return(0,b.jsx)(m.Presence,{present:e||h.checked,children:(0,b.jsx)(g.Primitive.span,{"data-state":w(h.checked),"data-disabled":h.disabled?"":void 0,...f,ref:c})})});u.displayName=t;var v=c.forwardRef(({__scopeRadio:a,control:d,checked:f,bubbles:h=!0,...i},j)=>{let m=c.useRef(null),n=(0,e.useComposedRefs)(m,j),o=(0,l.usePrevious)(f),p=(0,k.useSize)(d);return c.useEffect(()=>{let a=m.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==f&&b){let c=new Event("click",{bubbles:h});b.call(a,f),a.dispatchEvent(c)}},[o,f,h]),(0,b.jsx)(g.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:f,...i,tabIndex:-1,ref:n,style:{...i.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(a){return a?"checked":"unchecked"}v.displayName="RadioBubbleInput";var x=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],y="RadioGroup",[z,A]=(0,f.createContextScope)(y,[h.createRovingFocusGroupScope,p]),B=(0,h.createRovingFocusGroupScope)(),C=p(),[D,E]=z(y),F=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:k,required:l=!1,disabled:m=!1,orientation:n,dir:o,loop:p=!0,onValueChange:q,...r}=a,s=B(d),t=(0,j.useDirection)(o),[u,v]=(0,i.useControllableState)({prop:k,defaultProp:f??null,onChange:q,caller:y});return(0,b.jsx)(D,{scope:d,name:e,required:l,disabled:m,value:u,onValueChange:v,children:(0,b.jsx)(h.Root,{asChild:!0,...s,orientation:n,dir:t,loop:p,children:(0,b.jsx)(g.Primitive.div,{role:"radiogroup","aria-required":l,"aria-orientation":n,"data-disabled":m?"":void 0,dir:t,...r,ref:c})})})});F.displayName=y;var G="RadioGroupItem",H=c.forwardRef((a,f)=>{let{__scopeRadioGroup:g,disabled:i,...j}=a,k=E(G,g),l=k.disabled||i,m=B(g),n=C(g),o=c.useRef(null),p=(0,e.useComposedRefs)(f,o),q=k.value===j.value,r=c.useRef(!1);return c.useEffect(()=>{let a=a=>{x.includes(a.key)&&(r.current=!0)},b=()=>r.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(h.Item,{asChild:!0,...m,focusable:!l,active:q,children:(0,b.jsx)(s,{disabled:l,required:k.required,checked:q,...n,...j,name:k.name,ref:p,onCheck:()=>k.onValueChange(j.value),onKeyDown:(0,d.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,d.composeEventHandlers)(j.onFocus,()=>{r.current&&o.current?.click()})})})});H.displayName=G;var I=c.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=C(d);return(0,b.jsx)(u,{...f,...e,ref:c})});I.displayName="RadioGroupIndicator";var J=a.i(241376),J=J,K=a.i(888987);function L({className:a,...c}){return(0,b.jsx)(F,{"data-slot":"radio-group",className:(0,K.cn)("grid gap-3",a),...c})}function M({className:a,...c}){return(0,b.jsx)(H,{"data-slot":"radio-group-item",className:(0,K.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-5 md:size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(I,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,b.jsx)(J.default,{className:"fill-primary absolute top-1/2 left-1/2 size-2.5 md:size-2 -translate-x-1/2 -translate-y-1/2"})})})}a.s(["RadioGroup",()=>L,"RadioGroupItem",()=>M],883236)},203002,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(278541),e=a.i(806640),f=a.i(325866),g=a.i(816854),h=a.i(3321),i=a.i(421908),j=a.i(470305),k=a.i(663475),l=a.i(249464),m=a.i(191675),n=a.i(951870),o=a.i(899750);function p({open:a,onClose:p,onSuccess:q,entity:r}){let[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)({entity_type:"",legal_name:"",registration_number:"",jurisdiction:"",tax_id:"",formation_date:"",address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:"",representative_name:"",representative_title:"",representative_email:"",representative_phone:"",notes:""});(0,c.useEffect)(()=>{r?v({entity_type:r.entity_type||"",legal_name:r.legal_name||"",registration_number:r.registration_number||"",jurisdiction:r.jurisdiction||"",tax_id:r.tax_id||"",formation_date:r.formation_date||"",address_street:r.registered_address?.street||"",address_city:r.registered_address?.city||"",address_state:r.registered_address?.state||"",address_postal_code:r.registered_address?.postal_code||"",address_country:r.registered_address?.country||"",representative_name:r.representative_name||"",representative_title:r.representative_title||"",representative_email:r.representative_email||"",representative_phone:r.representative_phone||"",notes:r.notes||""}):v({entity_type:"",legal_name:"",registration_number:"",jurisdiction:"",tax_id:"",formation_date:"",address_street:"",address_city:"",address_state:"",address_postal_code:"",address_country:"",representative_name:"",representative_title:"",representative_email:"",representative_phone:"",notes:""})},[r,a]);let w=async a=>{if(a.preventDefault(),!u.entity_type||!u.legal_name)return void o.toast.error("Please fill in all required fields");t(!0);try{let a={entity_type:u.entity_type,legal_name:u.legal_name,registration_number:u.registration_number||null,jurisdiction:u.jurisdiction||null,tax_id:u.tax_id||null,formation_date:u.formation_date||null,registered_address:{street:u.address_street||void 0,city:u.address_city||void 0,state:u.address_state||void 0,postal_code:u.address_postal_code||void 0,country:u.address_country||void 0},representative_name:u.representative_name||null,representative_title:u.representative_title||null,representative_email:u.representative_email||null,representative_phone:u.representative_phone||null,notes:u.notes||null},b=r?`/api/investors/me/counterparty-entities/${r.id}`:"/api/investors/me/counterparty-entities",c=r?"PATCH":"POST",d=await fetch(b,{method:c,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!d.ok){let a=await d.json();throw Error(a.error||"Failed to save entity")}o.toast.success(r?"Entity updated successfully":"Entity created successfully"),q()}catch(a){console.error("Save error:",a),o.toast.error(a.message||"Failed to save entity")}finally{t(!1)}};return(0,b.jsx)(j.Dialog,{open:a,onOpenChange:p,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col p-0",children:[(0,b.jsx)(j.DialogHeader,{className:"px-8 pt-8 pb-6 border-b border-slate-100 bg-gradient-to-b from-slate-50/80 to-white",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:(0,b.jsx)(d.Building2,{className:"w-6 h-6 text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.DialogTitle,{className:"text-xl font-semibold text-slate-900",children:r?"Edit Entity":"Add New Entity"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:r?"Update the details of this legal entity":"Add a legal entity that you invest through"})]})]})}),(0,b.jsxs)("form",{onSubmit:w,className:"flex-1 overflow-y-auto",children:[(0,b.jsxs)("div",{className:"px-8 py-8 space-y-10",children:[(0,b.jsxs)("section",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:(0,b.jsx)(d.Building2,{className:"w-4 h-4 text-slate-600"})}),(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Entity Information"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"entity_type",className:"text-sm font-medium text-slate-700",children:["Entity Type ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsxs)(n.Select,{value:u.entity_type,onValueChange:a=>v({...u,entity_type:a}),children:[(0,b.jsx)(n.SelectTrigger,{className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20",children:(0,b.jsx)(n.SelectValue,{placeholder:"Select entity type"})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"trust",children:"Trust"}),(0,b.jsx)(n.SelectItem,{value:"llc",children:"LLC"}),(0,b.jsx)(n.SelectItem,{value:"partnership",children:"Partnership"}),(0,b.jsx)(n.SelectItem,{value:"family_office",children:"Family Office"}),(0,b.jsx)(n.SelectItem,{value:"law_firm",children:"Law Firm"}),(0,b.jsx)(n.SelectItem,{value:"investment_bank",children:"Investment Bank"}),(0,b.jsx)(n.SelectItem,{value:"fund",children:"Fund"}),(0,b.jsx)(n.SelectItem,{value:"corporation",children:"Corporation"}),(0,b.jsx)(n.SelectItem,{value:"other",children:"Other"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"legal_name",className:"text-sm font-medium text-slate-700",children:["Legal Name ",(0,b.jsx)("span",{className:"text-rose-500",children:"*"})]}),(0,b.jsx)(k.Input,{id:"legal_name",value:u.legal_name,onChange:a=>v({...u,legal_name:a.target.value}),placeholder:"Full legal name",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"registration_number",className:"text-sm font-medium text-slate-700",children:"Registration Number"}),(0,b.jsx)(k.Input,{id:"registration_number",value:u.registration_number,onChange:a=>v({...u,registration_number:a.target.value}),placeholder:"Company registration number",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"tax_id",className:"text-sm font-medium text-slate-700",children:"Tax ID / EIN"}),(0,b.jsx)(k.Input,{id:"tax_id",value:u.tax_id,onChange:a=>v({...u,tax_id:a.target.value}),placeholder:"Tax ID or EIN",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"jurisdiction",className:"text-sm font-medium text-slate-700",children:"Jurisdiction"}),(0,b.jsx)(k.Input,{id:"jurisdiction",value:u.jurisdiction,onChange:a=>v({...u,jurisdiction:a.target.value}),placeholder:"State or country of formation",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"formation_date",className:"text-sm font-medium text-slate-700",children:"Formation Date"}),(0,b.jsx)(k.Input,{id:"formation_date",type:"date",value:u.formation_date,onChange:a=>v({...u,formation_date:a.target.value}),className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]})]}),(0,b.jsxs)("section",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:(0,b.jsx)(e.MapPin,{className:"w-4 h-4 text-slate-600"})}),(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Registered Address"})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address_street",className:"text-sm font-medium text-slate-700",children:"Street Address"}),(0,b.jsx)(k.Input,{id:"address_street",value:u.address_street,onChange:a=>v({...u,address_street:a.target.value}),placeholder:"123 Main Street, Suite 100",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address_city",className:"text-sm font-medium text-slate-700",children:"City"}),(0,b.jsx)(k.Input,{id:"address_city",value:u.address_city,onChange:a=>v({...u,address_city:a.target.value}),placeholder:"City",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address_state",className:"text-sm font-medium text-slate-700",children:"State / Province"}),(0,b.jsx)(k.Input,{id:"address_state",value:u.address_state,onChange:a=>v({...u,address_state:a.target.value}),placeholder:"State or province",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address_postal_code",className:"text-sm font-medium text-slate-700",children:"Postal Code"}),(0,b.jsx)(k.Input,{id:"address_postal_code",value:u.address_postal_code,onChange:a=>v({...u,address_postal_code:a.target.value}),placeholder:"Postal code",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address_country",className:"text-sm font-medium text-slate-700",children:"Country"}),(0,b.jsx)(k.Input,{id:"address_country",value:u.address_country,onChange:a=>v({...u,address_country:a.target.value}),placeholder:"Country",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]})]})]}),(0,b.jsxs)("section",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:(0,b.jsx)(f.User,{className:"w-4 h-4 text-slate-600"})}),(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Authorized Representative"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"representative_name",className:"text-sm font-medium text-slate-700",children:"Full Name"}),(0,b.jsx)(k.Input,{id:"representative_name",value:u.representative_name,onChange:a=>v({...u,representative_name:a.target.value}),placeholder:"Representative's full name",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"representative_title",className:"text-sm font-medium text-slate-700",children:"Title / Role"}),(0,b.jsx)(k.Input,{id:"representative_title",value:u.representative_title,onChange:a=>v({...u,representative_title:a.target.value}),placeholder:"e.g., Managing Director",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"representative_email",className:"text-sm font-medium text-slate-700",children:"Email"}),(0,b.jsx)(k.Input,{id:"representative_email",type:"email",value:u.representative_email,onChange:a=>v({...u,representative_email:a.target.value}),placeholder:"email@example.com",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"representative_phone",className:"text-sm font-medium text-slate-700",children:"Phone"}),(0,b.jsx)(k.Input,{id:"representative_phone",value:u.representative_phone,onChange:a=>v({...u,representative_phone:a.target.value}),placeholder:"+1 (555) 123-4567",className:"h-11 bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20"})]})]})]}),(0,b.jsxs)("section",{className:"space-y-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 pb-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-slate-100 flex items-center justify-center",children:(0,b.jsx)(g.FileText,{className:"w-4 h-4 text-slate-600"})}),(0,b.jsx)("h3",{className:"font-medium text-slate-900",children:"Additional Notes"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(l.Label,{htmlFor:"notes",className:"text-sm font-medium text-slate-700",children:["Notes ",(0,b.jsx)("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),(0,b.jsx)(m.Textarea,{id:"notes",value:u.notes,onChange:a=>v({...u,notes:a.target.value}),placeholder:"Any additional notes about this entity...",rows:4,className:"bg-white border-slate-200 focus:border-emerald-500 focus:ring-emerald-500/20 resize-none"})]})]})]}),(0,b.jsxs)("div",{className:"sticky bottom-0 px-8 py-5 border-t border-slate-100 bg-slate-50/80 backdrop-blur-sm flex items-center justify-end gap-3",children:[(0,b.jsx)(i.Button,{type:"button",variant:"outline",onClick:p,disabled:s,className:"px-5 border-slate-200 hover:bg-white",children:"Cancel"}),(0,b.jsx)(i.Button,{type:"submit",disabled:s,className:"px-6 bg-emerald-600 hover:bg-emerald-700 text-white shadow-sm",children:s?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):r?"Update Entity":"Create Entity"})]})]})]})})}a.s(["EntityFormDialog",()=>p])}];

//# sourceMappingURL=versotech-portal_src_components_d32c12dc._.js.map