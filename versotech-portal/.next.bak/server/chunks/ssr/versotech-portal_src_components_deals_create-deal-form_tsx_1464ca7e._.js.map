{"version":3,"sources":["../../../../../versotech-portal/src/components/deals/create-deal-form.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { ArrowLeft, ArrowRight, Loader2, Upload } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\n\r\ninterface CreateDealFormProps {\r\n  entities: Array<{\r\n    id: string\r\n    name: string\r\n    type: string\r\n    currency: string\r\n    logo_url?: string | null\r\n    website_url?: string | null\r\n    arranger_entity_id?: string | null\r\n  }>\r\n  /** Arranger entities available for assignment */\r\n  arrangerEntities?: Array<{\r\n    id: string\r\n    legal_name: string\r\n    company_name?: string | null\r\n  }>\r\n  /** Base path for navigation (e.g., '/versotech/staff' or '/versotech_main') */\r\n  basePath?: string\r\n}\r\n\r\nexport function CreateDealForm({ entities, arrangerEntities = [], basePath = '/versotech/staff' }: CreateDealFormProps) {\r\n  const router = useRouter()\r\n  const [step, setStep] = useState(1)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const [formData, setFormData] = useState({\r\n    // Step 1: Basic Info\r\n    name: '',\r\n    company_name: '',\r\n    deal_type: 'equity_secondary',\r\n    stock_type: 'common',\r\n    vehicle_id: '',\r\n    arranger_entity_id: '',\r\n    sector: '',\r\n    stage: '',\r\n    location: '',\r\n\r\n    // Step 2: Pipeline & Currency\r\n    // Note: offer_unit_price, minimum_investment, maximum_investment\r\n    // are now ONLY set in the termsheet (source of truth)\r\n    currency: 'USD',\r\n    target_amount: '',\r\n\r\n    // Step 3: Timeline & Description\r\n    open_at: '',\r\n    close_at: '',\r\n    description: '',\r\n    investment_thesis: ''\r\n  })\r\n\r\n  // Logo upload state\r\n  const [logoUploading, setLogoUploading] = useState(false)\r\n  const [logoError, setLogoError] = useState<string | null>(null)\r\n  const [companyLogoUrl, setCompanyLogoUrl] = useState<string>('')\r\n  const [logoSource, setLogoSource] = useState<'entity' | 'manual' | 'none'>('none')\r\n\r\n  const selectedEntity = useMemo(\r\n    () => entities.find((entity) => entity.id === formData.vehicle_id),\r\n    [entities, formData.vehicle_id]\r\n  )\r\n  const entityLogo = selectedEntity?.logo_url ?? ''\r\n\r\n  useEffect(() => {\r\n    if (!selectedEntity) {\r\n      if (logoSource === 'entity') {\r\n        setLogoSource(companyLogoUrl ? 'manual' : 'none')\r\n      }\r\n      return\r\n    }\r\n\r\n    if (entityLogo) {\r\n      if (logoSource !== 'manual') {\r\n        if (companyLogoUrl !== entityLogo) {\r\n          setCompanyLogoUrl(entityLogo)\r\n        }\r\n        if (logoSource !== 'entity') {\r\n          setLogoSource('entity')\r\n        }\r\n        setLogoError(null)\r\n      }\r\n    } else if (logoSource === 'entity') {\r\n      setCompanyLogoUrl('')\r\n      setLogoSource('none')\r\n    }\r\n  }, [selectedEntity, entityLogo, logoSource, companyLogoUrl])\r\n\r\n  const updateField = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleVehicleSelect = (value: string) => {\r\n    const normalized = value === 'none' ? '' : value\r\n    updateField('vehicle_id', normalized)\r\n\r\n    // Auto-populate arranger from vehicle if available and arranger not already set\r\n    if (normalized) {\r\n      const vehicle = entities.find(e => e.id === normalized)\r\n      if (vehicle?.arranger_entity_id && !formData.arranger_entity_id) {\r\n        updateField('arranger_entity_id', vehicle.arranger_entity_id)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const payload = {\r\n        name: formData.name.trim(),\r\n        company_name: formData.company_name.trim() || null,\r\n        deal_type: formData.deal_type,\r\n        stock_type: formData.stock_type || null,\r\n        vehicle_id: formData.vehicle_id || null,\r\n        arranger_entity_id: formData.arranger_entity_id || null,\r\n        sector: formData.sector.trim() || null,\r\n        stage: formData.stage.trim() || null,\r\n        location: formData.location.trim() || null,\r\n        currency: formData.currency,\r\n        // Note: offer_unit_price, minimum_investment, maximum_investment are now ONLY in termsheet\r\n        target_amount: formData.target_amount ? parseFloat(formData.target_amount) : null,\r\n        open_at: formData.open_at || null,\r\n        close_at: formData.close_at || null,\r\n        description: formData.description.trim() || null,\r\n        investment_thesis: formData.investment_thesis.trim() || null,\r\n        company_logo_url: companyLogoUrl || undefined\r\n      }\r\n      \r\n      console.log('[CreateDealForm] Submitting payload:', payload)\r\n      \r\n      const response = await fetch('/api/deals', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        console.error('[CreateDealForm] Response not OK:', response.status, response.statusText)\r\n        \r\n        let data: any = {}\r\n        try {\r\n          data = await response.json()\r\n          console.error('[CreateDealForm] Error response:', data)\r\n        } catch (e) {\r\n          console.error('[CreateDealForm] Failed to parse error response:', e)\r\n          throw new Error(`Server error: ${response.status} ${response.statusText}`)\r\n        }\r\n        \r\n        // Show detailed validation errors if available\r\n        if (data.details && Array.isArray(data.details)) {\r\n          const errorMessages = data.details.map((e: any) => `${e.path.join('.')}: ${e.message}`).join(', ')\r\n          throw new Error(`Validation failed: ${errorMessages}`)\r\n        }\r\n        \r\n        throw new Error(data.error || data.details || `Failed to create deal (${response.status})`)\r\n      }\r\n\r\n      const { deal } = await response.json()\r\n      router.push(`${basePath}/deals/${deal.id}`)\r\n    } catch (err: any) {\r\n      setError(err.message)\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Create New Deal</h1>\r\n          <p className=\"text-muted-foreground mt-1\">Set up a new investment opportunity</p>\r\n        </div>\r\n        <Link href={`${basePath}/deals`}>\r\n          <Button variant=\"ghost\" className=\"gap-2\">\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            Back to Deals\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Progress Steps */}\r\n      <div className=\"flex items-center justify-center gap-4\">\r\n        {[1, 2, 3].map((s) => (\r\n          <div key={s} className=\"flex items-center gap-2\">\r\n            <div\r\n              className={`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${\r\n                s === step\r\n                  ? 'bg-emerald-500 text-white'\r\n                  : s < step\r\n                  ? 'bg-emerald-500/50 text-white'\r\n                  : 'bg-muted text-muted-foreground'\r\n              }`}\r\n            >\r\n              {s}\r\n            </div>\r\n            <span className={`text-sm ${s === step ? 'text-foreground font-medium' : 'text-muted-foreground'}`}>\r\n              {s === 1 ? 'Basic Info' : s === 2 ? 'Pipeline' : 'Timeline & Details'}\r\n            </span>\r\n            {s < 3 && <ArrowRight className=\"h-4 w-4 text-muted-foreground ml-2\" />}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Form Steps */}\r\n      <Card className=\"border-border bg-muted/50\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-foreground\">\r\n            {step === 1 ? 'Basic Information' : step === 2 ? 'Pipeline & Currency' : 'Timeline & Description'}\r\n          </CardTitle>\r\n          <CardDescription>\r\n            {step === 1\r\n              ? 'Enter the core details about this investment opportunity'\r\n              : step === 2\r\n              ? 'Set the target amount and currency. Investment limits (min/max) are defined in the termsheet.'\r\n              : 'Set dates and provide context about the deal'}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Step 1: Basic Info */}\r\n          {step === 1 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"name\" className=\"text-foreground\">Deal Name *</Label>\r\n                  <Input\r\n                    id=\"name\"\r\n                    placeholder=\"e.g., Concluder Secondary Q1 2025\"\r\n                    value={formData.name}\r\n                    onChange={(e) => updateField('name', e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"company_name\" className=\"text-foreground\">Company Name</Label>\r\n                  <Input\r\n                    id=\"company_name\"\r\n                    placeholder=\"e.g., Concluder Inc.\"\r\n                    value={formData.company_name}\r\n                    onChange={(e) => updateField('company_name', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"deal_type\" className=\"text-foreground\">Deal Type *</Label>\r\n                  <Select value={formData.deal_type} onValueChange={(v) => updateField('deal_type', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"equity_secondary\">Secondary Equity</SelectItem>\r\n                      <SelectItem value=\"equity_primary\">Primary Equity</SelectItem>\r\n                      <SelectItem value=\"credit_trade_finance\">Credit & Trade Finance</SelectItem>\r\n                      <SelectItem value=\"other\">Other</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"stock_type\" className=\"text-foreground\">Stock Type *</Label>\r\n                  <Select value={formData.stock_type} onValueChange={(v) => updateField('stock_type', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"common\">Common/Ordinary Shares</SelectItem>\r\n                      <SelectItem value=\"preferred\">Preferred Shares</SelectItem>\r\n                      <SelectItem value=\"convertible\">Convertible Notes</SelectItem>\r\n                      <SelectItem value=\"warrant\">Warrants</SelectItem>\r\n                      <SelectItem value=\"bond\">Bonds</SelectItem>\r\n                      <SelectItem value=\"note\">Notes</SelectItem>\r\n                      <SelectItem value=\"other\">Other</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <Label htmlFor=\"vehicle_id\" className=\"text-foreground\">\r\n                      Entity (Optional)\r\n                    </Label>\r\n                  </div>\r\n                  <Select value={formData.vehicle_id || 'none'} onValueChange={handleVehicleSelect}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select entity or skip\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">No entity - Direct deal</SelectItem>\r\n                      {entities.map((entity) => (\r\n                        <SelectItem key={entity.id} value={entity.id}>\r\n                          {entity.name} ({entity.type})\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Choose an entity for pooled investments, or \"No entity\" for direct ownership deals. Manage entities from{' '}\r\n                    <Link href={`${basePath}/entities`} className=\"text-emerald-300 hover:text-emerald-200 underline\">\r\n                      Entities\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"arranger_entity_id\" className=\"text-foreground\">Arranger (Optional)</Label>\r\n                  <Select\r\n                    value={formData.arranger_entity_id || 'none'}\r\n                    onValueChange={(v) => updateField('arranger_entity_id', v === 'none' ? '' : v)}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select arranger or skip\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">No Arranger</SelectItem>\r\n                      {arrangerEntities.map((arranger) => (\r\n                        <SelectItem key={arranger.id} value={arranger.id}>\r\n                          {arranger.company_name || arranger.legal_name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Assign an arranger to manage this deal (mandate)\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"sector\" className=\"text-foreground\">Sector</Label>\r\n                  <Input\r\n                    id=\"sector\"\r\n                    placeholder=\"e.g., SaaS, FinTech\"\r\n                    value={formData.sector}\r\n                    onChange={(e) => updateField('sector', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"stage\" className=\"text-foreground\">Stage</Label>\r\n                  <Input\r\n                    id=\"stage\"\r\n                    placeholder=\"e.g., Series B, Growth\"\r\n                    value={formData.stage}\r\n                    onChange={(e) => updateField('stage', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 md:col-span-2\">\r\n                  <Label htmlFor=\"location\" className=\"text-foreground\">Location</Label>\r\n                  <Input\r\n                    id=\"location\"\r\n                    placeholder=\"e.g., San Francisco, USA\"\r\n                    value={formData.location}\r\n                    onChange={(e) => updateField('location', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Company Logo Upload */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-foreground\">Company Logo</Label>\r\n                <div className=\"flex flex-col gap-3\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    {companyLogoUrl ? (\r\n                      <Image\r\n                        src={companyLogoUrl}\r\n                        alt={`${(selectedEntity?.name ?? formData.name) || 'Deal'} logo`}\r\n                        width={56}\r\n                        height={56}\r\n                        className=\"rounded-lg object-contain bg-white border border-gray-200 p-2\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"h-14 w-14 rounded-lg bg-muted border border-border flex items-center justify-center text-muted-foreground\">\r\n                        56×56\r\n                      </div>\r\n                    )}\r\n                    <div className=\"space-y-2\">\r\n                      <label\r\n                        className=\"inline-flex items-center gap-2 px-3 py-2 border rounded-md cursor-pointer text-sm\"\r\n                        onClick={() => {\r\n                          if (logoSource === 'entity') {\r\n                            setLogoSource('manual')\r\n                            setCompanyLogoUrl('')\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Upload className=\"h-4 w-4\" />\r\n                        <span>{logoSource === 'entity' ? 'Replace Logo' : 'Upload Logo'}</span>\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          className=\"hidden\"\r\n                          onChange={async (e) => {\r\n                            const file = e.target.files?.[0]\r\n                            if (!file) return\r\n                            setLogoError(null)\r\n                            setLogoUploading(true)\r\n                            try {\r\n                              const formData = new FormData()\r\n                              formData.append('file', file)\r\n                              formData.append('deal_id', 'new')\r\n                              const res = await fetch('/api/deals/logo-upload', {\r\n                                method: 'POST',\r\n                                body: formData\r\n                              })\r\n                              const payload = await res.json().catch(() => ({}))\r\n                              if (!res.ok || !payload?.url) {\r\n                                throw new Error(payload?.error || 'Failed to upload logo')\r\n                              }\r\n                              setCompanyLogoUrl(payload.url)\r\n                              setLogoSource('manual')\r\n                            } catch (err) {\r\n                              setLogoError(err instanceof Error ? err.message : 'Failed to upload logo')\r\n                            } finally {\r\n                              setLogoUploading(false)\r\n                              e.target.value = ''\r\n                            }\r\n                          }}\r\n                        />\r\n                      </label>\r\n                      {selectedEntity?.logo_url && logoSource === 'manual' && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          className=\"px-0 text-xs text-emerald-300 hover:text-emerald-200\"\r\n                          onClick={() => {\r\n                            setCompanyLogoUrl(selectedEntity.logo_url ?? '')\r\n                            setLogoSource('entity')\r\n                            setLogoError(null)\r\n                          }}\r\n                        >\r\n                          Use {selectedEntity.name} logo\r\n                        </Button>\r\n                      )}\r\n                      {logoUploading && (\r\n                        <span className=\"text-xs text-muted-foreground\">Uploading…</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {logoError && (\r\n                    <p className=\"text-xs text-rose-500\">{logoError}</p>\r\n                  )}\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {logoSource === 'entity' && selectedEntity?.name\r\n                      ? `Prefilled from ${selectedEntity.name}. Replace if you need a different logo.`\r\n                      : 'Optional branding shown to investors.'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Pipeline & Currency */}\r\n          {step === 2 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"currency\" className=\"text-foreground\">Currency *</Label>\r\n                  <Select value={formData.currency} onValueChange={(v) => updateField('currency', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"USD\">USD</SelectItem>\r\n                      <SelectItem value=\"EUR\">EUR</SelectItem>\r\n                      <SelectItem value=\"GBP\">GBP</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"target_amount\" className=\"text-foreground\">Target Amount</Label>\r\n                  <Input\r\n                    id=\"target_amount\"\r\n                    type=\"number\"\r\n                    step=\"1\"\r\n                    placeholder=\"5000000\"\r\n                    value={formData.target_amount}\r\n                    onChange={(e) => updateField('target_amount', e.target.value)}\r\n                  />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Total amount you aim to raise for this deal\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20\">\r\n                <p className=\"text-sm text-amber-700 dark:text-amber-200\">\r\n                  <strong>Note:</strong> Investment terms (price per share, minimum/maximum investment) are set in the Term Sheet\r\n                  after creating this deal. The termsheet is the source of truth for investor-facing financial details.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Timeline & Description */}\r\n          {step === 3 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"open_at\" className=\"text-foreground\">Open Date</Label>\r\n                  <Input\r\n                    id=\"open_at\"\r\n                    type=\"datetime-local\"\r\n                    value={formData.open_at}\r\n                    onChange={(e) => updateField('open_at', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"close_at\" className=\"text-foreground\">Close Date</Label>\r\n                  <Input\r\n                    id=\"close_at\"\r\n                    type=\"datetime-local\"\r\n                    value={formData.close_at}\r\n                    onChange={(e) => updateField('close_at', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\" className=\"text-foreground\">Description</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  placeholder=\"Provide a brief overview of this investment opportunity...\"\r\n                  rows={4}\r\n                  value={formData.description}\r\n                  onChange={(e) => updateField('description', e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"investment_thesis\" className=\"text-foreground\">Investment Thesis</Label>\r\n                <Textarea\r\n                  id=\"investment_thesis\"\r\n                  placeholder=\"Explain why this is an attractive investment...\"\r\n                  rows={6}\r\n                  value={formData.investment_thesis}\r\n                  onChange={(e) => updateField('investment_thesis', e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"p-4 rounded-lg bg-red-500/20 border border-red-400/30 text-red-700 dark:text-red-200\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Navigation Buttons */}\r\n          <div className=\"flex items-center justify-between pt-4 border-t border-border\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setStep(s => Math.max(1, s - 1))}\r\n              disabled={step === 1 || loading}\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Previous\r\n            </Button>\r\n\r\n            {step < 3 ? (\r\n              <Button\r\n                onClick={() => setStep(s => Math.min(3, s + 1))}\r\n                disabled={!formData.name}\r\n              >\r\n                Next\r\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n              </Button>\r\n            ) : (\r\n              <Button onClick={handleSubmit} disabled={loading || !formData.name}>\r\n                {loading ? (\r\n                  <>\r\n                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    Creating...\r\n                  </>\r\n                ) : (\r\n                  'Create Deal'\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}