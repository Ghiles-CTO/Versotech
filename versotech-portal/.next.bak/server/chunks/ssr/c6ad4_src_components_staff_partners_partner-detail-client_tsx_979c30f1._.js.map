{"version":3,"sources":["../../../../../versotech-portal/src/components/staff/partners/partner-detail-client.tsx","../../../../../versotech-portal/src/components/staff/partners/edit-partner-dialog.tsx","../../../../../versotech-portal/src/components/staff/partners/dispatch-partner-investor-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport Link from 'next/link'\r\nimport {\r\n  ArrowLeft,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Building2,\r\n  Calendar,\r\n  FileText,\r\n  Banknote,\r\n  Users,\r\n  Activity,\r\n  Shield,\r\n  Briefcase,\r\n  DollarSign,\r\n  Edit,\r\n  UserPlus,\r\n  Globe,\r\n  ExternalLink,\r\n  FileCheck,\r\n  User,\r\n} from 'lucide-react'\r\nimport { useState, useEffect, useCallback } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { KYCDocumentsTab } from '@/components/shared/kyc-documents-tab'\r\nimport { BankDetailsTab } from '@/components/shared/bank-details-tab'\r\nimport { ActivityTimelineTab } from '@/components/shared/activity-timeline-tab'\r\nimport { IndividualKycDisplay, EntityKYCEditDialog } from '@/components/shared'\r\nimport { StaffEntityMembersTab } from '@/components/staff/shared/staff-entity-members-tab'\r\nimport { EditPartnerDialog } from '@/components/staff/partners/edit-partner-dialog'\r\nimport { DispatchPartnerInvestorDialog } from '@/components/staff/partners/dispatch-partner-investor-dialog'\r\nimport { InviteUserDialog } from '@/components/users/invite-user-dialog'\r\nimport { formatCurrency, formatDate } from '@/lib/format'\r\nimport { statusStyles, kycStyles, getStatusStyle } from '@/lib/status-styles'\r\n\r\ntype PartnerDetail = {\r\n  id: string\r\n  name: string\r\n  legal_name: string | null\r\n  type: string\r\n  partner_type: string\r\n  status: string\r\n  accreditation_status: string | null\r\n  contact_name: string | null\r\n  contact_email: string | null\r\n  contact_phone: string | null\r\n  website: string | null\r\n  address_line_1: string | null\r\n  address_line_2: string | null\r\n  city: string | null\r\n  postal_code: string | null\r\n  country: string | null\r\n  typical_investment_min: number | null\r\n  typical_investment_max: number | null\r\n  preferred_sectors: string[] | null\r\n  preferred_geographies: string[] | null\r\n  relationship_manager_id: string | null\r\n  notes: string | null\r\n  created_at: string | null\r\n  created_by: string | null\r\n  updated_at: string | null\r\n  kyc_status: string | null\r\n  kyc_approved_at: string | null\r\n  kyc_approved_by: string | null\r\n  kyc_expires_at: string | null\r\n  kyc_notes: string | null\r\n  logo_url: string | null\r\n  // Individual KYC fields\r\n  first_name?: string | null\r\n  middle_name?: string | null\r\n  last_name?: string | null\r\n  name_suffix?: string | null\r\n  date_of_birth?: string | null\r\n  country_of_birth?: string | null\r\n  nationality?: string | null\r\n  phone_mobile?: string | null\r\n  phone_office?: string | null\r\n  is_us_citizen?: boolean | null\r\n  is_us_taxpayer?: boolean | null\r\n  us_taxpayer_id?: string | null\r\n  country_of_tax_residency?: string | null\r\n  id_type?: string | null\r\n  id_number?: string | null\r\n  id_issue_date?: string | null\r\n  id_expiry_date?: string | null\r\n  id_issuing_country?: string | null\r\n  residential_street?: string | null\r\n  residential_line_2?: string | null\r\n  residential_city?: string | null\r\n  residential_state?: string | null\r\n  residential_postal_code?: string | null\r\n  residential_country?: string | null\r\n  // New KYC fields\r\n  middle_initial?: string | null\r\n  proof_of_address_date?: string | null\r\n  proof_of_address_expiry?: string | null\r\n  tax_id_number?: string | null\r\n}\r\n\r\ntype PartnerMetrics = {\r\n  documentCount: number\r\n}\r\n\r\ntype PartnerFeePlan = {\r\n  id: string\r\n  name: string\r\n  status: 'draft' | 'sent' | 'pending_signature' | 'accepted' | 'rejected'\r\n  is_active: boolean\r\n  accepted_at: string | null\r\n  accepted_by: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  deal: {\r\n    id: string\r\n    name: string\r\n    status: string\r\n  } | null\r\n  term_sheet: {\r\n    id: string\r\n    version: number\r\n    status: string\r\n  } | null\r\n  investor_count: number\r\n}\r\n\r\ntype ReferredInvestor = {\r\n  id: string\r\n  investor_id: string | null\r\n  user_id: string | null\r\n  role: string\r\n  invited_at: string | null\r\n  accepted_at: string | null\r\n  profile: {\r\n    id: string\r\n    display_name: string | null\r\n    email: string | null\r\n  } | null\r\n  investor: {\r\n    id: string\r\n    legal_name: string\r\n    type: string | null\r\n  } | null\r\n  deal: {\r\n    id: string\r\n    name: string\r\n    status: string\r\n  } | null\r\n  fee_plan: {\r\n    id: string\r\n    name: string\r\n    status: string\r\n  } | null\r\n  subscription: {\r\n    status: string\r\n    amount: number | null\r\n    funded_at: string | null\r\n  } | null\r\n}\r\n\r\ninterface PartnerDetailClientProps {\r\n  partner: PartnerDetail\r\n  metrics: PartnerMetrics\r\n}\r\n\r\nexport function PartnerDetailClient({ partner, metrics }: PartnerDetailClientProps) {\r\n  const router = useRouter()\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\r\n  const [inviteDialogOpen, setInviteDialogOpen] = useState(false)\r\n  const [kycDialogOpen, setKycDialogOpen] = useState(false)\r\n  const [dispatchDialogOpen, setDispatchDialogOpen] = useState(false)\r\n\r\n  // Fee Plans and Referred Investors state\r\n  const [feePlans, setFeePlans] = useState<PartnerFeePlan[]>([])\r\n  const [feePlansLoading, setFeePlansLoading] = useState(false)\r\n  const [referredInvestors, setReferredInvestors] = useState<ReferredInvestor[]>([])\r\n  const [referredInvestorsLoading, setReferredInvestorsLoading] = useState(false)\r\n\r\n  // Fetch fee plans for this partner\r\n  const fetchFeePlans = useCallback(async () => {\r\n    setFeePlansLoading(true)\r\n    try {\r\n      const response = await fetch(`/api/partners/${partner.id}/fee-plans`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setFeePlans(data.fee_plans || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee plans:', error)\r\n    } finally {\r\n      setFeePlansLoading(false)\r\n    }\r\n  }, [partner.id])\r\n\r\n  // Fetch referred investors for this partner\r\n  const fetchReferredInvestors = useCallback(async () => {\r\n    setReferredInvestorsLoading(true)\r\n    try {\r\n      const response = await fetch(`/api/partners/${partner.id}/referred-investors`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setReferredInvestors(data.referred_investors || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching referred investors:', error)\r\n    } finally {\r\n      setReferredInvestorsLoading(false)\r\n    }\r\n  }, [partner.id])\r\n\r\n  // Load fee plans and referred investors on mount\r\n  useEffect(() => {\r\n    fetchFeePlans()\r\n    fetchReferredInvestors()\r\n  }, [fetchFeePlans, fetchReferredInvestors])\r\n\r\n  const feePlanStatusStyles: Record<string, string> = {\r\n    draft: 'bg-slate-500/20 text-slate-400',\r\n    sent: 'bg-blue-500/20 text-blue-400',\r\n    pending_signature: 'bg-purple-500/20 text-purple-400',\r\n    accepted: 'bg-green-500/20 text-green-400',\r\n    rejected: 'bg-red-500/20 text-red-400',\r\n  }\r\n\r\n  const typeLabels: Record<string, string> = {\r\n    'co-investor': 'Co-Investor',\r\n    'syndicate-lead': 'Syndicate Lead',\r\n    'family-office': 'Family Office',\r\n    'other': 'Other',\r\n  }\r\n\r\n  const formatAddress = () => {\r\n    const parts = [\r\n      partner.address_line_1,\r\n      partner.address_line_2,\r\n      partner.city,\r\n      partner.postal_code,\r\n      partner.country,\r\n    ].filter(Boolean)\r\n    return parts.join(', ')\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link href=\"/versotech_main/users\">\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"bg-gray-800 text-white hover:bg-gray-700\">\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Back to Users\r\n            </Button>\r\n          </Link>\r\n          <div className=\"flex items-center gap-3\">\r\n            {partner.logo_url ? (\r\n              <img\r\n                src={partner.logo_url}\r\n                alt={partner.name}\r\n                className=\"h-10 w-10 rounded-full object-cover\"\r\n              />\r\n            ) : (\r\n              <div className=\"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center\">\r\n                <Briefcase className=\"h-5 w-5 text-muted-foreground\" />\r\n              </div>\r\n            )}\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-foreground\">\r\n                {partner.name}\r\n              </h1>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {typeLabels[partner.partner_type] || partner.partner_type}\r\n                {partner.country && ` • ${partner.country}`}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\" size=\"sm\" onClick={() => setInviteDialogOpen(true)}>\r\n            <UserPlus className=\"h-4 w-4 mr-2\" />\r\n            Invite User\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"sm\" onClick={() => setEditDialogOpen(true)}>\r\n            <Edit className=\"h-4 w-4 mr-2\" />\r\n            Edit\r\n          </Button>\r\n          <Button variant=\"default\" size=\"sm\" onClick={() => setDispatchDialogOpen(true)}>\r\n            <UserPlus className=\"h-4 w-4 mr-2\" />\r\n            Dispatch Investor\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status Badges */}\r\n      <div className=\"flex gap-2 flex-wrap\">\r\n        <Badge className={getStatusStyle(partner.status, statusStyles)}>\r\n          {partner.status}\r\n        </Badge>\r\n        <Badge className={getStatusStyle(partner.kyc_status, kycStyles)}>\r\n          KYC: {partner.kyc_status || 'draft'}\r\n        </Badge>\r\n        <Badge variant=\"outline\">\r\n          {partner.type === 'entity' ? 'Entity' : 'Individual'}\r\n        </Badge>\r\n      </div>\r\n\r\n      {/* Metrics Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <DollarSign className=\"h-4 w-4\" />\r\n              Investment Range\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {partner.typical_investment_min && partner.typical_investment_max ? (\r\n                <>\r\n                  {formatCurrency(partner.typical_investment_min)} - {formatCurrency(partner.typical_investment_max)}\r\n                </>\r\n              ) : (\r\n                '-'\r\n              )}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Typical investment</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <FileText className=\"h-4 w-4\" />\r\n              Documents\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">{metrics.documentCount}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Uploaded</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Calendar className=\"h-4 w-4\" />\r\n              Created\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {partner.created_at ? formatDate(partner.created_at) : '-'}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Registration date</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabbed Content */}\r\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\" id={`partner-tabs-${partner.id}`}>\r\n        <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 lg:w-auto lg:inline-grid\">\r\n          <TabsTrigger value=\"overview\" className=\"gap-2\">\r\n            <Briefcase className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Overview</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"members\" className=\"gap-2\">\r\n            <User className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Members</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"fee-plans\" className=\"gap-2\">\r\n            <FileCheck className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Fee Plans</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"referred-investors\" className=\"gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Investors</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"kyc\" className=\"gap-2\">\r\n            <Shield className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">KYC</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"bank\" className=\"gap-2\">\r\n            <Banknote className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Bank</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"activity\" className=\"gap-2\">\r\n            <Activity className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Activity</span>\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Contact Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Contact Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {partner.contact_name && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Primary Contact</div>\r\n                      <div className=\"text-sm font-medium\">{partner.contact_name}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {partner.contact_email && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Email</div>\r\n                      <div className=\"text-sm font-medium\">{partner.contact_email}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {partner.contact_phone && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Phone</div>\r\n                      <div className=\"text-sm font-medium\">{partner.contact_phone}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {partner.website && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Website</div>\r\n                      <a\r\n                        href={partner.website}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"text-sm font-medium text-primary hover:underline flex items-center gap-1\"\r\n                      >\r\n                        {partner.website}\r\n                        <ExternalLink className=\"h-3 w-3\" />\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {formatAddress() && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <MapPin className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Address</div>\r\n                      <div className=\"text-sm font-medium\">{formatAddress()}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {!partner.contact_name && !partner.contact_email && !formatAddress() && (\r\n                  <p className=\"text-sm text-muted-foreground\">No contact information available</p>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Partner Details */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Partner Details</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {partner.legal_name && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Building2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Legal Name</div>\r\n                      <div className=\"text-sm font-medium\">{partner.legal_name}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Briefcase className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <div>\r\n                    <div className=\"text-sm text-muted-foreground\">Partner Type</div>\r\n                    <div className=\"text-sm font-medium\">\r\n                      {typeLabels[partner.partner_type] || partner.partner_type}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Building2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <div>\r\n                    <div className=\"text-sm text-muted-foreground\">Entity Type</div>\r\n                    <div className=\"text-sm font-medium\">\r\n                      {partner.type === 'entity' ? 'Entity' : 'Individual'}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {partner.accreditation_status && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Shield className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Accreditation</div>\r\n                      <div className=\"text-sm font-medium\">{partner.accreditation_status}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Investment Preferences */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Investment Preferences</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground\">Investment Range</div>\r\n                  <div className=\"text-sm font-medium\">\r\n                    {partner.typical_investment_min && partner.typical_investment_max ? (\r\n                      <>\r\n                        {formatCurrency(partner.typical_investment_min)} - {formatCurrency(partner.typical_investment_max)}\r\n                      </>\r\n                    ) : (\r\n                      'Not specified'\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              {partner.preferred_sectors && partner.preferred_sectors.length > 0 && (\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground mb-2\">Preferred Sectors</div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {partner.preferred_sectors.map((sector) => (\r\n                      <Badge key={sector} variant=\"outline\">\r\n                        {sector}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {partner.preferred_geographies && partner.preferred_geographies.length > 0 && (\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground mb-2\">Preferred Geographies</div>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {partner.preferred_geographies.map((geo) => (\r\n                      <Badge key={geo} variant=\"outline\">\r\n                        {geo}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {partner.notes && (\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground mb-1\">Notes</div>\r\n                  <div className=\"text-sm bg-white/5 rounded-lg p-3\">{partner.notes}</div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* KYC Status Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>KYC Status</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground\">Status</div>\r\n                  <Badge className={getStatusStyle(partner.kyc_status, kycStyles)}>\r\n                    {partner.kyc_status || 'draft'}\r\n                  </Badge>\r\n                </div>\r\n                {partner.kyc_approved_at && (\r\n                  <div>\r\n                    <div className=\"text-sm text-muted-foreground\">Approved At</div>\r\n                    <div className=\"text-sm font-medium\">{formatDate(partner.kyc_approved_at)}</div>\r\n                  </div>\r\n                )}\r\n                {partner.kyc_expires_at && (\r\n                  <div>\r\n                    <div className=\"text-sm text-muted-foreground\">Expires At</div>\r\n                    <div className=\"text-sm font-medium\">{formatDate(partner.kyc_expires_at)}</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              {partner.kyc_notes && (\r\n                <div>\r\n                  <div className=\"text-sm text-muted-foreground mb-1\">Notes</div>\r\n                  <div className=\"text-sm bg-white/5 rounded-lg p-3\">{partner.kyc_notes}</div>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Individual KYC Information (for individual partners) */}\r\n          {partner.type === 'individual' && (\r\n            <IndividualKycDisplay\r\n              data={{\r\n                first_name: partner.first_name,\r\n                middle_name: partner.middle_name,\r\n                last_name: partner.last_name,\r\n                name_suffix: partner.name_suffix,\r\n                date_of_birth: partner.date_of_birth,\r\n                country_of_birth: partner.country_of_birth,\r\n                nationality: partner.nationality,\r\n                email: partner.contact_email,\r\n                phone_mobile: partner.phone_mobile,\r\n                phone_office: partner.phone_office,\r\n                residential_street: partner.residential_street,\r\n                residential_line_2: partner.residential_line_2,\r\n                residential_city: partner.residential_city,\r\n                residential_state: partner.residential_state,\r\n                residential_postal_code: partner.residential_postal_code,\r\n                residential_country: partner.residential_country,\r\n                is_us_citizen: partner.is_us_citizen,\r\n                is_us_taxpayer: partner.is_us_taxpayer,\r\n                us_taxpayer_id: partner.us_taxpayer_id,\r\n                country_of_tax_residency: partner.country_of_tax_residency,\r\n                id_type: partner.id_type,\r\n                id_number: partner.id_number,\r\n                id_issue_date: partner.id_issue_date,\r\n                id_expiry_date: partner.id_expiry_date,\r\n                id_issuing_country: partner.id_issuing_country,\r\n                // Additional KYC fields\r\n                middle_initial: partner.middle_initial,\r\n                proof_of_address_date: partner.proof_of_address_date,\r\n                proof_of_address_expiry: partner.proof_of_address_expiry,\r\n                tax_id_number: partner.tax_id_number,\r\n              }}\r\n              showEditButton={true}\r\n              onEdit={() => setKycDialogOpen(true)}\r\n              title=\"Personal KYC Information\"\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Members Tab */}\r\n        <TabsContent value=\"members\">\r\n          <StaffEntityMembersTab\r\n            entityType=\"partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Fee Plans Tab */}\r\n        <TabsContent value=\"fee-plans\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Fee Plans</CardTitle>\r\n              <CardDescription>\r\n                All fee plans linked to {partner.name} across deals\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {feePlansLoading ? (\r\n                <div className=\"flex items-center justify-center py-8\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n                </div>\r\n              ) : feePlans.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n                  <div className=\"p-4 rounded-2xl bg-gradient-to-br from-blue-500/10 to-indigo-500/10 border border-blue-500/20 mb-4\">\r\n                    <FileCheck className=\"h-10 w-10 text-blue-400/60\" />\r\n                  </div>\r\n                  <p className=\"text-muted-foreground mb-1\">No fee plans yet</p>\r\n                  <p className=\"text-sm text-muted-foreground/70\">\r\n                    Fee plans will appear here when created from deals\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {feePlans.map((feePlan) => (\r\n                    <div\r\n                      key={feePlan.id}\r\n                      className=\"group flex items-center justify-between p-4 rounded-xl border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all cursor-pointer\"\r\n                      onClick={() => feePlan.deal?.id && router.push(`/versotech_main/deals/${feePlan.deal.id}?tab=fees`)}\r\n                    >\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <div className={`p-2.5 rounded-lg ${feePlan.status === 'accepted' ? 'bg-green-500/20' : 'bg-slate-500/20'}`}>\r\n                          <FileCheck className={`h-5 w-5 ${feePlan.status === 'accepted' ? 'text-green-400' : 'text-slate-400'}`} />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">{feePlan.name}</div>\r\n                          <div className=\"text-sm text-muted-foreground flex items-center gap-2 mt-0.5\">\r\n                            <Briefcase className=\"h-3 w-3\" />\r\n                            {feePlan.deal?.name || 'Unknown Deal'}\r\n                            {feePlan.term_sheet && (\r\n                              <span className=\"text-xs text-muted-foreground/70\">\r\n                                • Term Sheet v{feePlan.term_sheet.version}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        {feePlan.investor_count > 0 && (\r\n                          <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\r\n                            <Users className=\"h-4 w-4\" />\r\n                            {feePlan.investor_count}\r\n                          </div>\r\n                        )}\r\n                        <Badge className={feePlanStatusStyles[feePlan.status] || 'bg-gray-500/20 text-gray-400'}>\r\n                          {feePlan.status}\r\n                        </Badge>\r\n                        <ExternalLink className=\"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Referred Investors Tab */}\r\n        <TabsContent value=\"referred-investors\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Referred Investors</CardTitle>\r\n              <CardDescription>\r\n                Investors dispatched through {partner.name}\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {referredInvestorsLoading ? (\r\n                <div className=\"flex items-center justify-center py-8\">\r\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n                </div>\r\n              ) : referredInvestors.length === 0 ? (\r\n                <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n                  <div className=\"p-4 rounded-2xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 mb-4\">\r\n                    <Users className=\"h-10 w-10 text-purple-400/60\" />\r\n                  </div>\r\n                  <p className=\"text-muted-foreground mb-1\">No referred investors yet</p>\r\n                  <p className=\"text-sm text-muted-foreground/70\">\r\n                    Investors dispatched through this partner will appear here\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {referredInvestors.map((refInvestor) => (\r\n                    <div\r\n                      key={refInvestor.id}\r\n                      className=\"group flex items-center justify-between p-4 rounded-xl border border-white/10 hover:border-white/20 hover:bg-white/5 transition-all cursor-pointer\"\r\n                      onClick={() => {\r\n                      if (refInvestor.deal?.id) {\r\n                        router.push(`/versotech_main/deals/${refInvestor.deal.id}?tab=members`)\r\n                      } else if (refInvestor.investor?.id) {\r\n                        router.push(`/versotech_main/investors/${refInvestor.investor.id}`)\r\n                      }\r\n                    }}\r\n                    >\r\n                      <div className=\"flex items-center gap-4\">\r\n                        <div className=\"p-2.5 rounded-lg bg-purple-500/20\">\r\n                          <User className=\"h-5 w-5 text-purple-400\" />\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-medium text-foreground\">\r\n                            {refInvestor.investor?.legal_name || refInvestor.profile?.display_name || refInvestor.profile?.email || 'Unknown'}\r\n                          </div>\r\n                          <div className=\"text-sm text-muted-foreground flex items-center gap-2 mt-0.5\">\r\n                            <Briefcase className=\"h-3 w-3\" />\r\n                            {refInvestor.deal?.name || 'Unknown Deal'}\r\n                            {refInvestor.fee_plan && (\r\n                              <span className=\"text-xs text-muted-foreground/70\">\r\n                                • {refInvestor.fee_plan.name}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        {refInvestor.subscription?.amount && (\r\n                          <div className=\"text-sm font-medium text-foreground\">\r\n                            {formatCurrency(refInvestor.subscription.amount)}\r\n                          </div>\r\n                        )}\r\n                        <Badge className={\r\n                          refInvestor.subscription?.status === 'funded'\r\n                            ? 'bg-green-500/20 text-green-400'\r\n                            : refInvestor.subscription?.status\r\n                              ? 'bg-yellow-500/20 text-yellow-400'\r\n                              : 'bg-gray-500/20 text-gray-400'\r\n                        }>\r\n                          {refInvestor.subscription?.status || 'Invited'}\r\n                        </Badge>\r\n                        <ExternalLink className=\"h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* KYC Documents Tab */}\r\n        <TabsContent value=\"kyc\">\r\n          <KYCDocumentsTab\r\n            entityType=\"partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Bank Details Tab */}\r\n        <TabsContent value=\"bank\">\r\n          <BankDetailsTab\r\n            entityType=\"partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Activity Tab */}\r\n        <TabsContent value=\"activity\">\r\n          <ActivityTimelineTab\r\n            entityType=\"partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Dialogs */}\r\n      <EditPartnerDialog\r\n        open={editDialogOpen}\r\n        onOpenChange={setEditDialogOpen}\r\n        partner={partner}\r\n      />\r\n\r\n      <InviteUserDialog\r\n        open={inviteDialogOpen}\r\n        onOpenChange={setInviteDialogOpen}\r\n        entityType=\"partner\"\r\n        entityId={partner.id}\r\n        entityName={partner.name}\r\n      />\r\n\r\n      {/* KYC Edit Dialog for individual partners */}\r\n      {partner.type === 'individual' && (\r\n        <EntityKYCEditDialog\r\n          open={kycDialogOpen}\r\n          onOpenChange={setKycDialogOpen}\r\n          entityType=\"partner\"\r\n          entityId={partner.id}\r\n          entityName={partner.name}\r\n          apiEndpoint={`/api/admin/partners/${partner.id}`}\r\n          initialData={{\r\n            first_name: partner.first_name ?? undefined,\r\n            middle_name: partner.middle_name ?? undefined,\r\n            last_name: partner.last_name ?? undefined,\r\n            name_suffix: partner.name_suffix ?? undefined,\r\n            date_of_birth: partner.date_of_birth ?? undefined,\r\n            country_of_birth: partner.country_of_birth ?? undefined,\r\n            nationality: partner.nationality ?? undefined,\r\n            email: partner.contact_email ?? undefined,\r\n            phone_mobile: partner.phone_mobile ?? undefined,\r\n            phone_office: partner.phone_office ?? undefined,\r\n            residential_street: partner.residential_street ?? undefined,\r\n            residential_line_2: partner.residential_line_2 ?? undefined,\r\n            residential_city: partner.residential_city ?? undefined,\r\n            residential_state: partner.residential_state ?? undefined,\r\n            residential_postal_code: partner.residential_postal_code ?? undefined,\r\n            residential_country: partner.residential_country ?? undefined,\r\n            is_us_citizen: partner.is_us_citizen ?? undefined,\r\n            is_us_taxpayer: partner.is_us_taxpayer ?? undefined,\r\n            us_taxpayer_id: partner.us_taxpayer_id ?? undefined,\r\n            country_of_tax_residency: partner.country_of_tax_residency ?? undefined,\r\n            id_type: partner.id_type ?? undefined,\r\n            id_number: partner.id_number ?? undefined,\r\n            id_issue_date: partner.id_issue_date ?? undefined,\r\n            id_expiry_date: partner.id_expiry_date ?? undefined,\r\n            id_issuing_country: partner.id_issuing_country ?? undefined,\r\n            // Additional KYC fields\r\n            middle_initial: partner.middle_initial ?? undefined,\r\n            proof_of_address_date: partner.proof_of_address_date ?? undefined,\r\n            proof_of_address_expiry: partner.proof_of_address_expiry ?? undefined,\r\n            tax_id_number: partner.tax_id_number ?? undefined,\r\n          }}\r\n          onSuccess={() => router.refresh()}\r\n        />\r\n      )}\r\n\r\n      {/* Dispatch Investor Dialog */}\r\n      <DispatchPartnerInvestorDialog\r\n        open={dispatchDialogOpen}\r\n        onOpenChange={setDispatchDialogOpen}\r\n        partnerId={partner.id}\r\n        partnerName={partner.name}\r\n        feePlans={feePlans}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","'use client'\n\nimport { useState, useTransition, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { toast } from 'sonner'\n\ntype PartnerForEdit = {\n  id: string\n  name: string\n  legal_name: string | null\n  type: string\n  partner_type: string\n  status: string\n  accreditation_status: string | null\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  website: string | null\n  address_line_1: string | null\n  address_line_2: string | null\n  city: string | null\n  postal_code: string | null\n  country: string | null\n  typical_investment_min: number | null\n  typical_investment_max: number | null\n  preferred_sectors: string[] | null\n  preferred_geographies: string[] | null\n  notes: string | null\n  kyc_status: string | null\n  kyc_notes: string | null\n}\n\ninterface EditPartnerDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  partner: PartnerForEdit\n}\n\nconst entityTypes = [\n  { label: 'Entity', value: 'entity' },\n  { label: 'Individual', value: 'individual' },\n]\n\nconst partnerTypes = [\n  { label: 'Co-Investor', value: 'co-investor' },\n  { label: 'Syndicate Lead', value: 'syndicate-lead' },\n  { label: 'Family Office', value: 'family-office' },\n  { label: 'Other', value: 'other' },\n]\n\nconst statusOptions = [\n  { label: 'Active', value: 'active' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Inactive', value: 'inactive' },\n]\n\nconst kycStatuses = [\n  { label: 'Draft', value: 'draft' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Approved', value: 'approved' },\n  { label: 'Expired', value: 'expired' },\n  { label: 'Rejected', value: 'rejected' },\n]\n\nconst sectorOptions = [\n  'Technology',\n  'Healthcare',\n  'Real Estate',\n  'Energy',\n  'Finance',\n  'Consumer',\n  'Industrial',\n  'Infrastructure',\n]\n\nexport function EditPartnerDialog({ open, onOpenChange, partner }: EditPartnerDialogProps) {\n  const router = useRouter()\n  const [isPending, startTransition] = useTransition()\n\n  const [name, setName] = useState(partner.name)\n  const [legalName, setLegalName] = useState(partner.legal_name || '')\n  const [type, setType] = useState(partner.type)\n  const [partnerType, setPartnerType] = useState(partner.partner_type)\n  const [status, setStatus] = useState(partner.status)\n  const [contactName, setContactName] = useState(partner.contact_name || '')\n  const [contactEmail, setContactEmail] = useState(partner.contact_email || '')\n  const [contactPhone, setContactPhone] = useState(partner.contact_phone || '')\n  const [website, setWebsite] = useState(partner.website || '')\n  const [addressLine1, setAddressLine1] = useState(partner.address_line_1 || '')\n  const [addressLine2, setAddressLine2] = useState(partner.address_line_2 || '')\n  const [city, setCity] = useState(partner.city || '')\n  const [postalCode, setPostalCode] = useState(partner.postal_code || '')\n  const [country, setCountry] = useState(partner.country || '')\n  const [typicalInvestmentMin, setTypicalInvestmentMin] = useState<number | ''>(partner.typical_investment_min || '')\n  const [typicalInvestmentMax, setTypicalInvestmentMax] = useState<number | ''>(partner.typical_investment_max || '')\n  const [preferredSectors, setPreferredSectors] = useState<string[]>(partner.preferred_sectors || [])\n  const [notes, setNotes] = useState(partner.notes || '')\n  const [kycStatus, setKycStatus] = useState(partner.kyc_status || 'draft')\n  const [kycNotes, setKycNotes] = useState(partner.kyc_notes || '')\n\n  useEffect(() => {\n    if (open) {\n      setName(partner.name)\n      setLegalName(partner.legal_name || '')\n      setType(partner.type)\n      setPartnerType(partner.partner_type)\n      setStatus(partner.status)\n      setContactName(partner.contact_name || '')\n      setContactEmail(partner.contact_email || '')\n      setContactPhone(partner.contact_phone || '')\n      setWebsite(partner.website || '')\n      setAddressLine1(partner.address_line_1 || '')\n      setAddressLine2(partner.address_line_2 || '')\n      setCity(partner.city || '')\n      setPostalCode(partner.postal_code || '')\n      setCountry(partner.country || '')\n      setTypicalInvestmentMin(partner.typical_investment_min || '')\n      setTypicalInvestmentMax(partner.typical_investment_max || '')\n      setPreferredSectors(partner.preferred_sectors || [])\n      setNotes(partner.notes || '')\n      setKycStatus(partner.kyc_status || 'draft')\n      setKycNotes(partner.kyc_notes || '')\n    }\n  }, [open, partner])\n\n  const toggleSector = (sector: string) => {\n    setPreferredSectors((prev) =>\n      prev.includes(sector)\n        ? prev.filter((s) => s !== sector)\n        : [...prev, sector]\n    )\n  }\n\n  const handleSave = () => {\n    startTransition(async () => {\n      if (!name.trim()) {\n        toast.error('Partner name is required')\n        return\n      }\n\n      try {\n        const response = await fetch(`/api/admin/partners/${partner.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            name: name.trim(),\n            legal_name: legalName.trim() || null,\n            type,\n            partner_type: partnerType,\n            status,\n            contact_name: contactName.trim() || null,\n            contact_email: contactEmail.trim() || null,\n            contact_phone: contactPhone.trim() || null,\n            website: website.trim() || null,\n            address_line_1: addressLine1.trim() || null,\n            address_line_2: addressLine2.trim() || null,\n            city: city.trim() || null,\n            postal_code: postalCode.trim() || null,\n            country: country.trim() || null,\n            typical_investment_min: typicalInvestmentMin === '' ? null : Number(typicalInvestmentMin),\n            typical_investment_max: typicalInvestmentMax === '' ? null : Number(typicalInvestmentMax),\n            preferred_sectors: preferredSectors.length > 0 ? preferredSectors : null,\n            notes: notes.trim() || null,\n            kyc_status: kycStatus,\n            kyc_notes: kycNotes.trim() || null,\n          }),\n        })\n\n        if (!response.ok) {\n          const data = await response.json().catch(() => null)\n          console.error('[EditPartnerDialog] Failed to update partner:', data)\n          toast.error(data?.error ?? 'Failed to update partner')\n          return\n        }\n\n        toast.success('Partner updated successfully')\n        onOpenChange(false)\n        router.refresh()\n      } catch (err) {\n        console.error('[EditPartnerDialog] Error:', err)\n        toast.error('Failed to update partner')\n      }\n    })\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Edit Partner</DialogTitle>\n          <DialogDescription>\n            Update information for {partner.name}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Basic Information */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Basic Information</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"name\">Name *</Label>\n                <Input\n                  id=\"name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"legalName\">Legal Name</Label>\n                <Input\n                  id=\"legalName\"\n                  value={legalName}\n                  onChange={(e) => setLegalName(e.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label>Entity Type</Label>\n                <Select value={type} onValueChange={setType}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {entityTypes.map((t) => (\n                      <SelectItem key={t.value} value={t.value}>\n                        {t.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"grid gap-2\">\n                <Label>Partner Type</Label>\n                <Select value={partnerType} onValueChange={setPartnerType}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {partnerTypes.map((t) => (\n                      <SelectItem key={t.value} value={t.value}>\n                        {t.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"grid gap-2\">\n                <Label>Status</Label>\n                <Select value={status} onValueChange={setStatus}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {statusOptions.map((s) => (\n                      <SelectItem key={s.value} value={s.value}>\n                        {s.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </div>\n\n          {/* Contact Information */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Contact Information</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactName\">Contact Name</Label>\n                <Input\n                  id=\"contactName\"\n                  value={contactName}\n                  onChange={(e) => setContactName(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactEmail\">Email</Label>\n                <Input\n                  id=\"contactEmail\"\n                  type=\"email\"\n                  value={contactEmail}\n                  onChange={(e) => setContactEmail(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactPhone\">Phone</Label>\n                <Input\n                  id=\"contactPhone\"\n                  value={contactPhone}\n                  onChange={(e) => setContactPhone(e.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"website\">Website</Label>\n              <Input\n                id=\"website\"\n                value={website}\n                onChange={(e) => setWebsite(e.target.value)}\n                placeholder=\"https://\"\n              />\n            </div>\n          </div>\n\n          {/* Address */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Address</h4>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"addressLine1\">Address Line 1</Label>\n              <Input\n                id=\"addressLine1\"\n                value={addressLine1}\n                onChange={(e) => setAddressLine1(e.target.value)}\n              />\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"addressLine2\">Address Line 2</Label>\n              <Input\n                id=\"addressLine2\"\n                value={addressLine2}\n                onChange={(e) => setAddressLine2(e.target.value)}\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"city\">City</Label>\n                <Input\n                  id=\"city\"\n                  value={city}\n                  onChange={(e) => setCity(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"postalCode\">Postal Code</Label>\n                <Input\n                  id=\"postalCode\"\n                  value={postalCode}\n                  onChange={(e) => setPostalCode(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"country\">Country</Label>\n                <Input\n                  id=\"country\"\n                  value={country}\n                  onChange={(e) => setCountry(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Investment Profile */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Investment Profile</h4>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"investmentMin\">Min Investment ($)</Label>\n                <Input\n                  id=\"investmentMin\"\n                  type=\"number\"\n                  min={0}\n                  value={typicalInvestmentMin}\n                  onChange={(e) => setTypicalInvestmentMin(e.target.value === '' ? '' : Number(e.target.value))}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"investmentMax\">Max Investment ($)</Label>\n                <Input\n                  id=\"investmentMax\"\n                  type=\"number\"\n                  min={0}\n                  value={typicalInvestmentMax}\n                  onChange={(e) => setTypicalInvestmentMax(e.target.value === '' ? '' : Number(e.target.value))}\n                />\n              </div>\n            </div>\n            <div>\n              <Label className=\"mb-3 block\">Preferred Sectors</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {sectorOptions.map((sector) => (\n                  <button\n                    key={sector}\n                    type=\"button\"\n                    onClick={() => toggleSector(sector)}\n                    className={`px-3 py-1 text-xs rounded-full border transition-colors ${\n                      preferredSectors.includes(sector)\n                        ? 'bg-primary text-primary-foreground border-primary'\n                        : 'bg-transparent text-muted-foreground border-white/20 hover:border-white/40'\n                    }`}\n                  >\n                    {sector}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Status & KYC */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">KYC Status</h4>\n            <div className=\"grid gap-2\">\n              <Label>KYC Status</Label>\n              <Select value={kycStatus} onValueChange={setKycStatus}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {kycStatuses.map((s) => (\n                    <SelectItem key={s.value} value={s.value}>\n                      {s.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"kycNotes\">KYC Notes</Label>\n              <Textarea\n                id=\"kycNotes\"\n                value={kycNotes}\n                onChange={(e) => setKycNotes(e.target.value)}\n                rows={2}\n              />\n            </div>\n          </div>\n\n          {/* Notes */}\n          <div className=\"grid gap-2\">\n            <Label htmlFor=\"notes\">Notes</Label>\n            <Textarea\n              id=\"notes\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              rows={3}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={isPending}\n          >\n            Cancel\n          </Button>\n          <Button onClick={handleSave} disabled={isPending}>\n            {isPending ? 'Saving...' : 'Save Changes'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useState, useEffect, useMemo } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Loader2,\n  Users,\n  Briefcase,\n  AlertCircle,\n  CheckCircle2,\n  FileCheck,\n  ArrowRight,\n} from 'lucide-react'\nimport { useRouter } from 'next/navigation'\nimport { toast } from 'sonner'\nimport { Badge } from '@/components/ui/badge'\nimport { cn } from '@/lib/utils'\n\ninterface DispatchPartnerInvestorDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  partnerId: string\n  partnerName: string\n  feePlans: FeePlan[]\n}\n\ninterface FeePlan {\n  id: string\n  name: string\n  status: 'draft' | 'sent' | 'pending_signature' | 'accepted' | 'rejected'\n  is_active: boolean\n  deal: {\n    id: string\n    name: string\n    status: string\n  } | null\n  term_sheet: {\n    id: string\n    version: number\n  } | null\n}\n\ninterface LinkableInvestor {\n  user_id: string\n  investor_id: string\n  display_name: string\n  email: string\n  current_role: string\n}\n\nexport function DispatchPartnerInvestorDialog({\n  open,\n  onOpenChange,\n  partnerId,\n  partnerName,\n  feePlans,\n}: DispatchPartnerInvestorDialogProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Step 1: Select Deal (only deals with valid fee plans)\n  const [selectedDealId, setSelectedDealId] = useState<string>('')\n\n  // Step 2: Select Fee Plan (auto-populated from deal selection)\n  const [selectedFeePlanId, setSelectedFeePlanId] = useState<string>('')\n  const [selectedFeePlan, setSelectedFeePlan] = useState<FeePlan | null>(null)\n\n  // Step 3: Select Investor\n  const [linkableInvestors, setLinkableInvestors] = useState<LinkableInvestor[]>([])\n  const [linkableInvestorsLoading, setLinkableInvestorsLoading] = useState(false)\n  const [selectedInvestorId, setSelectedInvestorId] = useState<string>('')\n\n  // Filter fee plans to only show those with:\n  // 1. status='accepted' AND is_active=true\n  // 2. deal is not null\n  // SIMPLER than introducers - NO agreement check needed!\n  const validFeePlans = useMemo(() =>\n    feePlans.filter(fp =>\n      fp.status === 'accepted' &&\n      fp.is_active &&\n      fp.deal !== null\n    ),\n    [feePlans]\n  )\n\n  // Get unique deals from valid fee plans\n  const dealsWithValidPlans = useMemo(() =>\n    validFeePlans.reduce((acc, fp) => {\n      if (fp.deal && !acc.find(d => d.id === fp.deal!.id)) {\n        acc.push(fp.deal)\n      }\n      return acc\n    }, [] as { id: string; name: string; status: string }[]),\n    [validFeePlans]\n  )\n\n  // Get fee plans for selected deal\n  const feePlansForDeal = useMemo(() =>\n    selectedDealId\n      ? validFeePlans.filter(fp => fp.deal?.id === selectedDealId)\n      : [],\n    [selectedDealId, validFeePlans]\n  )\n\n  // Reset form when dialog closes\n  useEffect(() => {\n    if (!open) {\n      setSelectedDealId('')\n      setSelectedFeePlanId('')\n      setSelectedFeePlan(null)\n      setLinkableInvestors([])\n      setSelectedInvestorId('')\n      setError(null)\n    }\n  }, [open])\n\n  // When deal changes, reset fee plan and investor\n  useEffect(() => {\n    setSelectedFeePlanId('')\n    setSelectedFeePlan(null)\n    setLinkableInvestors([])\n    setSelectedInvestorId('')\n\n    // Auto-select if only one fee plan for this deal\n    if (feePlansForDeal.length === 1) {\n      setSelectedFeePlanId(feePlansForDeal[0].id)\n      setSelectedFeePlan(feePlansForDeal[0])\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedDealId]) // Only trigger on deal change\n\n  // Update selectedFeePlan when fee plan ID changes\n  useEffect(() => {\n    if (!selectedFeePlanId) {\n      setSelectedFeePlan(null)\n      setLinkableInvestors([])\n      setSelectedInvestorId('')\n      return\n    }\n\n    const fp = validFeePlans.find(p => p.id === selectedFeePlanId)\n    setSelectedFeePlan(fp || null)\n  }, [selectedFeePlanId, validFeePlans])\n\n  // Fetch linkable investors when fee plan is selected\n  useEffect(() => {\n    const dealId = selectedFeePlan?.deal?.id\n    const termSheetId = selectedFeePlan?.term_sheet?.id\n\n    if (!dealId || !termSheetId) {\n      setLinkableInvestors([])\n      setSelectedInvestorId('')\n      return\n    }\n\n    const abortController = new AbortController()\n\n    const fetchInvestors = async () => {\n      setLinkableInvestorsLoading(true)\n      setLinkableInvestors([])\n      setSelectedInvestorId('')\n\n      try {\n        const response = await fetch(\n          `/api/deals/${dealId}/linkable-investors?term_sheet_id=${termSheetId}`,\n          { signal: abortController.signal }\n        )\n        if (response.ok) {\n          const data = await response.json()\n          setLinkableInvestors(data.investors || [])\n        } else {\n          console.error('Failed to fetch linkable investors:', response.status, response.statusText)\n          setLinkableInvestors([])\n        }\n      } catch (err: unknown) {\n        if (err instanceof Error && err.name !== 'AbortError') {\n          console.error('Failed to fetch linkable investors:', err)\n        }\n      } finally {\n        if (!abortController.signal.aborted) {\n          setLinkableInvestorsLoading(false)\n        }\n      }\n    }\n\n    fetchInvestors()\n\n    return () => abortController.abort()\n  }, [selectedFeePlan])\n\n  const handleSubmit = async () => {\n    if (!selectedFeePlan || !selectedInvestorId) {\n      setError('Please complete all selections')\n      return\n    }\n\n    if (!selectedFeePlan.deal?.id) {\n      setError('Invalid fee plan selected - missing deal information')\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\n        `/api/deals/${selectedFeePlan.deal.id}/members/${selectedInvestorId}`,\n        {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            referred_by_entity_id: partnerId,\n            referred_by_entity_type: 'partner',\n            assigned_fee_plan_id: selectedFeePlanId,\n            role: 'partner_investor'\n          }),\n        }\n      )\n\n      if (!response.ok) {\n        const data = await response.json()\n        throw new Error(data.error || 'Failed to link investor to partner')\n      }\n\n      toast.success('Investor successfully linked to partner')\n      onOpenChange(false)\n      router.refresh()\n    } catch (err: unknown) {\n      if (err instanceof Error) {\n        setError(err.message)\n      } else {\n        setError('An unexpected error occurred')\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const isFormValid = selectedDealId && selectedFeePlanId && selectedInvestorId\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>Dispatch Investor for {partnerName}</DialogTitle>\n          <DialogDescription>\n            Link an investor to this partner using an accepted fee plan\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6 py-4\">\n          {/* No valid fee plans warning */}\n          {validFeePlans.length === 0 ? (\n            <div className=\"p-4 rounded-lg border border-amber-500/30 bg-amber-500/5\">\n              <div className=\"flex items-start gap-3\">\n                <AlertCircle className=\"h-5 w-5 text-amber-400 mt-0.5 flex-shrink-0\" />\n                <div>\n                  <p className=\"text-sm font-medium text-amber-300\">No accepted fee plans</p>\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    {partnerName} has no accepted fee plans.\n                    Create and send a fee plan from a deal first, then have the partner accept it.\n                  </p>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <>\n              {/* Step 1: Select Deal */}\n              <div className=\"space-y-2\">\n                <Label className=\"flex items-center gap-2\">\n                  <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium\">1</span>\n                  Select Deal\n                </Label>\n                <Select value={selectedDealId} onValueChange={setSelectedDealId}>\n                  <SelectTrigger className={cn(selectedDealId && 'border-primary/50')}>\n                    <SelectValue placeholder=\"Select a deal\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {dealsWithValidPlans.map((deal) => (\n                      <SelectItem key={deal.id} value={deal.id}>\n                        <div className=\"flex items-center gap-2\">\n                          <Briefcase className=\"h-4 w-4 text-muted-foreground\" />\n                          <span>{deal.name}</span>\n                        </div>\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n                <p className=\"text-xs text-muted-foreground\">\n                  Only deals with accepted fee plans are shown\n                </p>\n              </div>\n\n              {/* Step 2: Select Fee Plan */}\n              {selectedDealId && (\n                <div className=\"space-y-2\">\n                  <Label className=\"flex items-center gap-2\">\n                    <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium\">2</span>\n                    Select Fee Plan\n                  </Label>\n                  {feePlansForDeal.length === 1 ? (\n                    <div className=\"p-3 rounded-lg bg-muted/50 border border-primary/30\">\n                      <div className=\"flex items-center gap-3\">\n                        <FileCheck className=\"h-5 w-5 text-primary\" />\n                        <div>\n                          <p className=\"font-medium text-sm\">{feePlansForDeal[0].name}</p>\n                          {feePlansForDeal[0].term_sheet && (\n                            <p className=\"text-xs text-muted-foreground\">\n                              Term Sheet v{feePlansForDeal[0].term_sheet.version}\n                            </p>\n                          )}\n                        </div>\n                        <Badge className=\"ml-auto bg-green-500/20 text-green-400\">\n                          Accepted\n                        </Badge>\n                      </div>\n                    </div>\n                  ) : (\n                    <Select value={selectedFeePlanId} onValueChange={setSelectedFeePlanId}>\n                      <SelectTrigger className={cn(selectedFeePlanId && 'border-primary/50')}>\n                        <SelectValue placeholder=\"Select a fee plan\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {feePlansForDeal.map((fp) => (\n                          <SelectItem key={fp.id} value={fp.id}>\n                            <div className=\"flex flex-col\">\n                              <span className=\"font-medium\">{fp.name}</span>\n                              {fp.term_sheet && (\n                                <span className=\"text-xs text-muted-foreground\">\n                                  Term Sheet v{fp.term_sheet.version}\n                                </span>\n                              )}\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                </div>\n              )}\n\n              {/* Step 3: Select Investor */}\n              {selectedFeePlan && (\n                <div className=\"space-y-2\">\n                  <Label className=\"flex items-center gap-2\">\n                    <span className=\"flex items-center justify-center w-5 h-5 rounded-full bg-primary/20 text-primary text-xs font-medium\">3</span>\n                    Select Investor\n                  </Label>\n                  {linkableInvestorsLoading ? (\n                    <div className=\"flex items-center gap-2 py-3\">\n                      <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n                      <span className=\"text-sm text-muted-foreground\">Loading eligible investors...</span>\n                    </div>\n                  ) : linkableInvestors.length === 0 ? (\n                    <div className=\"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5\">\n                      <div className=\"flex items-start gap-2\">\n                        <AlertCircle className=\"h-4 w-4 text-blue-400 mt-0.5\" />\n                        <div>\n                          <p className=\"text-sm font-medium text-blue-300\">No eligible investors</p>\n                          <p className=\"text-xs text-blue-300/80 mt-1\">\n                            No investors on this term sheet are available.\n                            They may already be linked to a partner or introducer.\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  ) : (\n                    <Select value={selectedInvestorId} onValueChange={setSelectedInvestorId}>\n                      <SelectTrigger className={cn(selectedInvestorId && 'border-primary/50')}>\n                        <SelectValue placeholder=\"Select an investor\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {linkableInvestors.map((investor) => (\n                          <SelectItem key={investor.user_id} value={investor.user_id}>\n                            <div className=\"flex items-center gap-2\">\n                              <Users className=\"h-4 w-4 text-muted-foreground\" />\n                              <div className=\"flex flex-col\">\n                                <span>{investor.display_name}</span>\n                                {investor.email && (\n                                  <span className=\"text-xs text-muted-foreground\">{investor.email}</span>\n                                )}\n                              </div>\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                </div>\n              )}\n\n              {/* Summary */}\n              {isFormValid && (\n                <div className=\"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30\">\n                  <div className=\"flex items-start gap-2\">\n                    <CheckCircle2 className=\"h-5 w-5 text-emerald-400 mt-0.5\" />\n                    <div className=\"text-sm\">\n                      <p className=\"text-emerald-300 font-medium\">Ready to dispatch</p>\n                      <p className=\"text-emerald-300/80 text-xs mt-1\">\n                        The selected investor will be linked to <strong>{partnerName}</strong> using\n                        the <strong>{selectedFeePlan?.name}</strong> fee plan.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n\n          {/* Error Display */}\n          {error && (\n            <div className=\"p-3 rounded-lg bg-destructive/10 text-destructive text-sm\">\n              {error}\n            </div>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex justify-end gap-2 pt-4\">\n            <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={loading}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSubmit}\n              disabled={loading || !isFormValid || validFeePlans.length === 0}\n              className=\"gap-2\"\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  Linking...\n                </>\n              ) : (\n                <>\n                  <ArrowRight className=\"h-4 w-4\" />\n                  Dispatch Investor\n                </>\n              )}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}