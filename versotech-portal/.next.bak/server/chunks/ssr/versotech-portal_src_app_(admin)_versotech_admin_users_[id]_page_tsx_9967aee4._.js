module.exports=[894529,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(497412),f=a.i(380640),g=a.i(948153),h=a.i(899750),i=a.i(169091),j=a.i(601527),k=a.i(165936),l=a.i(421908),m=a.i(15788),n=a.i(105874),o=a.i(284169),p=a.i(211374),q=a.i(663475),r=a.i(249464),s=a.i(772998),t=a.i(181608),u=a.i(951870),v=a.i(216316),w=a.i(479612),x=a.i(470305),y=a.i(975965),z=a.i(264634),A=a.i(306226),B=a.i(586105),C=a.i(92881),D=a.i(686331),E=a.i(95799);let F=(0,E.default)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var G=a.i(635136),H=a.i(838086),I=a.i(439467),J=a.i(325866),K=a.i(871057),L=a.i(806640),M=a.i(231276),N=a.i(496392),O=a.i(47748),P=a.i(292209);let Q=(0,E.default)("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);var R=a.i(724070),S=a.i(42329),T=a.i(3321),U=a.i(278541),V=a.i(787957),W=a.i(478870),X=a.i(504839),Y=a.i(13289),Z=a.i(318525),$=a.i(203422),_=a.i(134303),aa=a.i(425622),ab=a.i(816854),ac=a.i(166457),ad=a.i(168118),ae=a.i(993009);let af=(0,E.default)("monitor-smartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]),ag=(0,E.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);var ah=a.i(908513),ai=a.i(771088);let aj={investor:U.Building2,partner:W.Users,lawyer:X.Scale,commercial_partner:Y.Handshake,introducer:Z.Globe,arranger:$.Landmark},ak={investor:"Investor",partner:"Partner",lawyer:"Law Firm",commercial_partner:"Commercial Partner",introducer:"Introducer",arranger:"Arranger"},al=k.z.object({display_name:k.z.string().min(1,"Display name is required").max(100,"Display name must be less than 100 characters"),title:k.z.string().max(100,"Title must be less than 100 characters").optional().or(k.z.literal("")),phone:k.z.string().max(50,"Phone must be less than 50 characters").optional().or(k.z.literal("")),office_location:k.z.string().max(100,"Office location must be less than 100 characters").optional().or(k.z.literal(""))}),am=a=>"ceo"===a?"default":a.startsWith("staff_")?"secondary":"outline",an=a=>({ceo:"CEO",staff_admin:"Staff Admin",staff_ops:"Staff Ops",staff_rm:"Staff RM",investor:"Investor"})[a]||a;function ao(){return(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsx)(p.Skeleton,{className:"h-24 w-24 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsx)(p.Skeleton,{className:"h-8 w-64"}),(0,b.jsx)(p.Skeleton,{className:"h-4 w-48"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)(p.Skeleton,{className:"h-6 w-20 rounded-full"}),(0,b.jsx)(p.Skeleton,{className:"h-6 w-24 rounded-full"})]}),(0,b.jsx)(p.Skeleton,{className:"h-4 w-32 mt-2"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Skeleton,{className:"h-9 w-20"}),(0,b.jsx)(p.Skeleton,{className:"h-9 w-9"})]})]})})})}function ap(){let a=(0,d.useParams)(),k=(0,d.useRouter)(),E=a.id,[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(!0),[$,ap]=(0,c.useState)(null),[aq,ar]=(0,c.useState)(!1),[as,at]=(0,c.useState)(!1),[au,av]=(0,c.useState)(!1),[aw,ax]=(0,c.useState)(!1),[ay,az]=(0,c.useState)(!1),[aA,aB]=(0,c.useState)(!1),[aC,aD]=(0,c.useState)(!1),[aE,aF]=(0,c.useState)(!1),[aG,aH]=(0,c.useState)(null),[aI,aJ]=(0,c.useState)(!1),[aK,aL]=(0,c.useState)([]),[aM,aN]=(0,c.useState)(!1),[aO,aP]=(0,c.useState)(!1),[aQ,aR]=(0,c.useState)(0),[aS,aT]=(0,c.useState)(0),[aU,aV]=(0,c.useState)([]),[aW,aX]=(0,c.useState)("all"),[aY,aZ]=(0,c.useState)(!1),[a$,a_]=(0,c.useState)(!1),[a0,a1]=(0,c.useState)(!1),[a2,a3]=(0,c.useState)(0),[a4,a5]=(0,c.useState)(0),[a6,a7]=(0,c.useState)(null),[a8,a9]=(0,c.useState)(!1),[ba,bb]=(0,c.useState)(!1),[bc,bd]=(0,c.useState)(!1),[be,bf]=(0,c.useState)(!1),[bg,bh]=(0,c.useState)("profile"),{register:bi,handleSubmit:bj,reset:bk,formState:{errors:bl}}=(0,i.useForm)({resolver:(0,j.zodResolver)(al),defaultValues:{display_name:"",title:"",phone:"",office_location:""}}),bm=(0,c.useCallback)(async()=>{try{Z(!0),ap(null);let a=await fetch(`/api/admin/users/${E}`),b=await a.json();if(!b.success)throw Error(b.error||"Failed to fetch user");X(b.data||null)}catch(a){ap(a instanceof Error?a.message:"An error occurred")}finally{Z(!1)}},[E]);(0,c.useEffect)(()=>{E&&bm()},[E,bm]);let bn=(0,c.useCallback)(async(a=!1)=>{try{aN(!0);let b=a?0:aS,c="all"!==aW?`&action=${encodeURIComponent(aW)}`:"",d=await fetch(`/api/admin/users/${E}/activity?offset=${b}&limit=20${c}`),e=await d.json();if(!e.success||!e.data)throw Error(e.error||"Failed to fetch activity");a?(aL(e.data.logs),aT(20)):(aL(a=>[...a,...e.data.logs]),aT(a=>a+20)),aP(e.data.hasMore),aR(e.data.total),aV(e.data.actionTypes),aZ(!0)}catch(a){console.error("Failed to fetch activity:",a),h.toast.error("Failed to load activity",{description:a instanceof Error?a.message:"An error occurred"})}finally{aN(!1)}},[E,aS,aW]),bo=(0,c.useCallback)(async()=>{try{a1(!0);let a=await fetch(`/api/admin/users/${E}/activity?limit=1000&action=LOGIN`),b=await a.json();if(b.success&&b.data){let a=new Date(Date.now()-2592e6),c=b.data.logs.filter(b=>new Date(b.timestamp)>a);a3(c.length)}let c=await fetch(`/api/admin/users/${E}/activity?limit=100&action=LOGIN_FAILED`),d=await c.json();if(d.success&&d.data){let a=new Date(Date.now()-864e5),b=d.data.logs.filter(b=>new Date(b.timestamp)>a);a5(b.length)}let e=await fetch(`/api/admin/users/${E}/activity?limit=1&action=PASSWORD_CHANGED`),f=await e.json();f.success&&f.data&&f.data.logs.length>0&&a7(f.data.logs[0].timestamp),a_(!0)}catch(a){console.error("Failed to fetch security data:",a)}finally{a1(!1)}},[E]),bp=async a=>{if(W){bd(!0);try{let b=a?`/api/admin/users/${E}/reactivate`:`/api/admin/users/${E}/deactivate`,c=await fetch(b,{method:"PATCH"}),d=await c.json();if(!d.success)throw Error(d.error||"Failed to update status");h.toast.success(a?"User activated":"User deactivated",{description:a?`${W.displayName} can now access the platform.`:`${W.displayName} can no longer access the platform.`}),bm()}catch(a){h.toast.error("Failed to update status",{description:a instanceof Error?a.message:"An error occurred"})}finally{bd(!1)}}},bq=async()=>{if(W){bf(!0);try{let a=await fetch(`/api/admin/users/${E}/toggle-lock`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to toggle lock status");let c=b.data?.is_locked;h.toast.success(c?"Account locked":"Account unlocked",{description:c?`${W.displayName}'s account has been locked.`:`${W.displayName}'s account has been unlocked.`}),bm()}catch(a){h.toast.error("Failed to toggle lock status",{description:a instanceof Error?a.message:"An error occurred"})}finally{bf(!1)}}},br=async()=>{if(W){bb(!0);try{let a=await fetch(`/api/admin/users/${E}/revoke-sessions`,{method:"POST",headers:{"Content-Type":"application/json"}}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to revoke sessions");h.toast.success("Sessions revoked",{description:`All active sessions for ${W.displayName} have been terminated.`}),a9(!1),a3(0)}catch(a){h.toast.error("Failed to revoke sessions",{description:a instanceof Error?a.message:"An error occurred"})}finally{bb(!1)}}};(0,c.useEffect)(()=>{aY&&bn(!0)},[aW]);let bs=(0,c.useCallback)(a=>{bh(a),"activity"!==a||aY||aM||bn(!0),"security"!==a||a$||a0||bo()},[aY,aM,bn,a$,a0,bo]),bt=async()=>{if(W){ar(!0);try{let a=await fetch(`/api/admin/users/${E}/deactivate`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to deactivate user");h.toast.success("User deactivated",{description:`${W.displayName} has been deactivated and can no longer access the platform.`}),at(!1),bm()}catch(a){h.toast.error("Failed to deactivate user",{description:a instanceof Error?a.message:"An error occurred"})}finally{ar(!1)}}},bu=async()=>{if(W){ar(!0);try{let a=await fetch(`/api/admin/users/${E}/reactivate`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to reactivate user");h.toast.success("User reactivated",{description:`${W.displayName} has been reactivated and can now access the platform.`}),av(!1),bm()}catch(a){h.toast.error("Failed to reactivate user",{description:a instanceof Error?a.message:"An error occurred"})}finally{ar(!1)}}},bv=async()=>{if(W){ar(!0);try{let a=await fetch(`/api/admin/users/${E}/toggle-lock`,{method:"PATCH"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to update lock status");let c=b.data?.is_locked;h.toast.success(c?"User locked":"User unlocked",{description:c?`${W.displayName} has been locked and cannot access the platform.`:`${W.displayName} has been unlocked and can now access the platform.`}),ax(!1),bm()}catch(a){h.toast.error("Failed to update lock status",{description:a instanceof Error?a.message:"An error occurred"})}finally{ar(!1)}}},bw=async()=>{if(W){ar(!0);try{let a=await fetch(`/api/admin/users/${E}/reset-password`,{method:"POST"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to send password reset");h.toast.success("Password reset email sent",{description:`A password reset link has been sent to ${W.email}.`}),az(!1)}catch(a){h.toast.error("Failed to send password reset",{description:a instanceof Error?a.message:"An error occurred"})}finally{ar(!1)}}},bx=async a=>{aD(!0);try{let b=await fetch(`/api/admin/users/${E}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:a.display_name,title:a.title||null,phone:a.phone||null,office_location:a.office_location||null})}),c=await b.json();if(!c.success)throw Error(c.error||"Failed to update user");h.toast.success("Profile updated",{description:"User profile has been updated successfully."}),aB(!1),bm()}catch(a){h.toast.error("Failed to update profile",{description:a instanceof Error?a.message:"An error occurred"})}finally{aD(!1)}},by=async()=>{if(aG&&W){aJ(!0);try{let a=await fetch(`/api/admin/users/${E}/entities/${aG.id}?type=${aG.type}`,{method:"DELETE"}),b=await a.json();if(!b.success)throw Error(b.error||"Failed to remove entity");h.toast.success("Entity removed",{description:`${aG.name} has been unlinked from ${W.displayName}.`}),aF(!1),aH(null),bm()}catch(a){h.toast.error("Failed to remove entity",{description:a instanceof Error?a.message:"An error occurred"})}finally{aJ(!1)}}};return $?(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)(e.default,{href:"/versotech_admin/users",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-6",children:[(0,b.jsx)(y.ArrowLeft,{className:"h-4 w-4 mr-1"}),"Back to Users"]}),(0,b.jsxs)("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-6",children:[(0,b.jsx)("h3",{className:"font-medium text-destructive",children:"Error loading user"}),(0,b.jsx)("p",{className:"text-sm text-destructive/80 mt-1",children:$}),(0,b.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,b.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>bm(),children:"Try Again"}),(0,b.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>k.push("/versotech_admin/users"),children:"Back to Users"})]})]})]}):(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)(e.default,{href:"/versotech_admin/users",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground",children:[(0,b.jsx)(y.ArrowLeft,{className:"h-4 w-4 mr-1"}),"Back to Users"]}),Y?(0,b.jsx)(ao,{}):W?(0,b.jsx)(o.Card,{children:(0,b.jsx)(o.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start gap-6",children:[(0,b.jsxs)(n.Avatar,{className:"h-24 w-24 text-2xl",children:[(0,b.jsx)(n.AvatarImage,{src:W.avatarUrl||void 0,alt:W.displayName}),(0,b.jsx)(n.AvatarFallback,{className:"text-xl font-medium",children:W.displayName.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:W.displayName}),W.isSuperAdmin&&(0,b.jsx)(m.Badge,{variant:"default",className:"bg-purple-500 hover:bg-purple-500/80",children:"Super Admin"})]}),(0,b.jsxs)("p",{className:"text-muted-foreground flex items-center gap-1 mt-1",children:[(0,b.jsx)(I.Mail,{className:"h-4 w-4"}),W.email]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(()=>{let{variant:a,className:c}=(a=>{if(a.isDeleted)return{variant:"destructive"};let b=new Date(Date.now()-2592e6);return a.lastLoginAt&&new Date(a.lastLoginAt)>b?{variant:"default",className:"bg-green-500 hover:bg-green-500/80"}:a.lastLoginAt?{variant:"outline"}:{variant:"secondary",className:"bg-yellow-500 text-white hover:bg-yellow-500/80"}})(W);return(0,b.jsx)(m.Badge,{variant:a,className:c,children:(a=>{if(a.isDeleted)return"Deactivated";let b=new Date(Date.now()-2592e6);return a.lastLoginAt&&new Date(a.lastLoginAt)>b?"Active":a.lastLoginAt?"Inactive":"Pending"})(W)})})(),(0,b.jsx)(m.Badge,{variant:am(W.systemRole),children:an(W.systemRole)}),W.entityCount>0&&(0,b.jsxs)(m.Badge,{variant:"outline",children:[W.entityCount," ",1===W.entityCount?"Entity":"Entities"]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:W.lastLoginAt?(0,b.jsxs)(b.Fragment,{children:["Last seen: ",(0,f.formatDistanceToNow)(new Date(W.lastLoginAt),{addSuffix:!0})]}):(0,b.jsx)(b.Fragment,{children:"Never logged in"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{W&&(bk({display_name:W.displayName||"",title:W.title||"",phone:W.phone||"",office_location:W.officeLocation||""}),aB(!0))},children:[(0,b.jsx)(A.Pencil,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(v.DropdownMenu,{children:[(0,b.jsx)(v.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(l.Button,{variant:"outline",size:"icon",children:[(0,b.jsx)(z.MoreVertical,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"More actions"})]})}),(0,b.jsxs)(v.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsx)(v.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(v.DropdownMenuSeparator,{}),W.isDeleted?(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>av(!0),className:"text-green-600",children:[(0,b.jsx)(C.UserCheck,{className:"mr-2 h-4 w-4"}),"Reactivate"]}):(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>at(!0),className:"text-destructive",children:[(0,b.jsx)(B.UserX,{className:"mr-2 h-4 w-4"}),"Deactivate"]}),(0,b.jsx)(v.DropdownMenuItem,{onClick:()=>ax(!0),className:"text-yellow-600",children:W.isDeleted?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F,{className:"mr-2 h-4 w-4"}),"Unlock"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Lock,{className:"mr-2 h-4 w-4"}),"Lock"]})}),(0,b.jsx)(v.DropdownMenuSeparator,{}),(0,b.jsxs)(v.DropdownMenuItem,{onClick:()=>az(!0),disabled:W.isDeleted,children:[(0,b.jsx)(G.KeyRound,{className:"mr-2 h-4 w-4"}),"Reset Password"]})]})]})]})]})})}):null,W&&!Y&&(0,b.jsxs)(t.Tabs,{value:bg,onValueChange:bs,className:"w-full",children:[(0,b.jsxs)(t.TabsList,{className:"grid w-full grid-cols-4 md:w-auto md:inline-grid",children:[(0,b.jsxs)(t.TabsTrigger,{value:"profile",className:"flex items-center gap-2",children:[(0,b.jsx)(J.User,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Profile"})]}),(0,b.jsxs)(t.TabsTrigger,{value:"entities",className:"flex items-center gap-2",children:[(0,b.jsx)(U.Building2,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Entities"})]}),(0,b.jsxs)(t.TabsTrigger,{value:"activity",className:"flex items-center gap-2",children:[(0,b.jsx)(V.Activity,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Activity"})]}),(0,b.jsxs)(t.TabsTrigger,{value:"security",className:"flex items-center gap-2",children:[(0,b.jsx)(N.Shield,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Security"})]})]}),(0,b.jsxs)(t.TabsContent,{value:"profile",className:"mt-6 space-y-6",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(J.User,{className:"h-5 w-5"}),"Personal Information"]})}),(0,b.jsxs)(o.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Display Name"}),(0,b.jsx)("p",{className:"font-medium",children:W.displayName||"—"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Email"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(I.Mail,{className:"h-4 w-4 text-muted-foreground"}),W.email||"—"]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Phone"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(M.Phone,{className:"h-4 w-4 text-muted-foreground"}),W.phone||"—"]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Title"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(K.Briefcase,{className:"h-4 w-4 text-muted-foreground"}),W.title||"—"]})]}),(0,b.jsxs)("div",{className:"space-y-1 md:col-span-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Office Location"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(L.MapPin,{className:"h-4 w-4 text-muted-foreground"}),W.officeLocation||"—"]})]})]})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(N.Shield,{className:"h-5 w-5"}),"Account Settings"]})}),(0,b.jsxs)(o.CardContent,{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"System Role"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Badge,{variant:am(W.systemRole),children:an(W.systemRole)}),W.isSuperAdmin&&(0,b.jsx)(m.Badge,{variant:"default",className:"bg-purple-500 hover:bg-purple-500/80",children:"Super Admin"})]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"MFA Status"}),(0,b.jsx)("p",{className:"font-medium flex items-center gap-2",children:W.passwordSet?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.ShieldCheck,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{className:"text-green-600",children:"Enabled"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(N.Shield,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"Not Configured"})]})})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Account Created"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(R.Calendar,{className:"h-4 w-4 text-muted-foreground"}),W.createdAt?(0,g.format)(new Date(W.createdAt),"MMM d, yyyy"):"—"]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Last Login"}),(0,b.jsxs)("p",{className:"font-medium flex items-center gap-2",children:[(0,b.jsx)(S.Clock,{className:"h-4 w-4 text-muted-foreground"}),W.lastLoginAt?(0,b.jsxs)(b.Fragment,{children:[(0,g.format)(new Date(W.lastLoginAt),"MMM d, yyyy"),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:["(",(0,f.formatDistanceToNow)(new Date(W.lastLoginAt),{addSuffix:!0}),")"]})]}):"Never logged in"]})]})]})]})]}),(0,b.jsx)(t.TabsContent,{value:"entities",className:"mt-6",children:(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{className:"pb-4",children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(U.Building2,{className:"h-5 w-5"}),"Linked Entities"]})}),(0,b.jsx)(o.CardContent,{children:0===W.entities.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,b.jsx)(U.Building2,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No linked entities"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"This user is not associated with any entities. Entity associations are created during the invitation process."})]}):(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(ai.Table,{children:[(0,b.jsx)(ai.TableHeader,{children:(0,b.jsxs)(ai.TableRow,{children:[(0,b.jsx)(ai.TableHead,{className:"w-[50px]",children:"Type"}),(0,b.jsx)(ai.TableHead,{children:"Entity Name"}),(0,b.jsx)(ai.TableHead,{children:"Entity Type"}),(0,b.jsx)(ai.TableHead,{children:"Role"}),(0,b.jsx)(ai.TableHead,{className:"w-[100px] text-right",children:"Actions"})]})}),(0,b.jsx)(ai.TableBody,{children:W.entities.map(a=>{let c=aj[a.type];return(0,b.jsxs)(ai.TableRow,{children:[(0,b.jsx)(ai.TableCell,{children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)(c,{className:"h-5 w-5 text-muted-foreground"})})}),(0,b.jsx)(ai.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(ai.TableCell,{children:(0,b.jsx)(m.Badge,{variant:"outline",children:ak[a.type]})}),(0,b.jsxs)(ai.TableCell,{children:[(0,b.jsx)(m.Badge,{variant:a.isPrimary?"default":"secondary",children:a.isPrimary?"Primary":"Member"}),a.canSign&&(0,b.jsx)(m.Badge,{variant:"outline",className:"ml-2",children:"Can Sign"})]}),(0,b.jsx)(ai.TableCell,{className:"text-right",children:(0,b.jsxs)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>{aH(a),aF(!0)},children:[(0,b.jsx)(_.Trash2,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Remove entity"})]})})]},`${a.type}-${a.id}`)})})]})})})]})}),(0,b.jsx)(t.TabsContent,{value:"activity",className:"mt-6",children:(0,b.jsxs)(o.Card,{children:[(0,b.jsxs)(o.CardHeader,{className:"flex flex-col sm:flex-row sm:items-center justify-between space-y-4 sm:space-y-0 pb-4",children:[(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(ae.History,{className:"h-5 w-5"}),"Activity History",aQ>0&&(0,b.jsxs)(m.Badge,{variant:"secondary",className:"ml-2",children:[aQ," ",1===aQ?"event":"events"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(u.Select,{value:aW,onValueChange:a=>{aX(a),aT(0)},children:[(0,b.jsxs)(u.SelectTrigger,{className:"w-[180px]",children:[(0,b.jsx)(ac.Filter,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(u.SelectValue,{placeholder:"Filter by action"})]}),(0,b.jsxs)(u.SelectContent,{children:[(0,b.jsx)(u.SelectItem,{value:"all",children:"All Actions"}),aU.map(a=>(0,b.jsx)(u.SelectItem,{value:a,children:a.replace(/_/g," ")},a))]})]}),(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{if(0===aK.length)return;let a=new Blob([["Timestamp,Action,Entity Type,Entity ID,IP Address",...aK.map(a=>[new Date(a.timestamp).toISOString(),a.action,a.entity_type||"",a.entity_id||"",a.ip_address||""]).map(a=>a.map(a=>`"${a}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${W?.displayName||"user"}_activity_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(b),h.toast.success("Activity exported",{description:`${aK.length} activities exported to CSV`})},disabled:0===aK.length,children:[(0,b.jsx)(aa.Download,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),(0,b.jsxs)(o.CardContent,{children:[!aY&&!aM&&(0,b.jsx)("div",{className:"flex flex-col items-center justify-center py-12",children:(0,b.jsxs)(l.Button,{variant:"outline",onClick:()=>bn(!0),children:[(0,b.jsx)(V.Activity,{className:"h-4 w-4 mr-2"}),"Load Activity"]})}),aM&&0===aK.length&&(0,b.jsx)("div",{className:"space-y-4 py-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(p.Skeleton,{className:"h-10 w-10 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(p.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(p.Skeleton,{className:"h-3 w-1/2"})]})]},c))}),aY&&0===aK.length&&!aM&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,b.jsx)(ab.FileText,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No activity recorded"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"all"!==aW?`No "${aW.replace(/_/g," ")}" actions found. Try selecting a different filter.`:"This user has no recorded activity in the system."}),"all"!==aW&&(0,b.jsx)(l.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>aX("all"),children:"Clear Filter"})]}),aK.length>0&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-5 top-0 bottom-0 w-px bg-border"}),aK.map((a,c)=>{let d,e,g,h;return(0,b.jsxs)("div",{className:"relative flex items-start gap-4 py-4 first:pt-0",children:[(0,b.jsx)("div",{className:"relative z-10 flex h-10 w-10 items-center justify-center rounded-full bg-background border-2 border-border",children:(0,b.jsx)(V.Activity,{className:"h-4 w-4 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:(e=(d=a.rawAction.split("_"))[0],g=d.slice(1).join(" ").toLowerCase(),h=({LOGIN:"Logged in",LOGOUT:"Logged out",VIEW:"Viewed",CREATE:"Created",UPDATE:"Updated",DELETE:"Deleted",APPROVE:"Approved",REJECT:"Rejected",SUBMIT:"Submitted",DOWNLOAD:"Downloaded",UPLOAD:"Uploaded",SIGN:"Signed",INVITE:"Invited"})[e]||a.action,a.entity_type?`${h} ${a.entity_type.replace(/_/g," ")}`:g?`${h} ${g}`:h)}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:(0,f.formatDistanceToNow)(new Date(a.timestamp),{addSuffix:!0})})]}),a.entity_type&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[(0,b.jsx)(m.Badge,{variant:"outline",className:"text-xs font-normal mr-2",children:a.entity_type.replace(/_/g," ")}),a.entity_id&&(0,b.jsxs)("span",{className:"text-xs font-mono",children:["ID: ",a.entity_id.slice(0,8),"..."]})]}),a.ip_address&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["IP: ",a.ip_address]})]})]},a.id)})]}),aO&&(0,b.jsx)("div",{className:"flex justify-center pt-4 mt-4 border-t",children:(0,b.jsx)(l.Button,{variant:"outline",onClick:()=>bn(!1),disabled:aM,children:aM?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(T.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ad.ChevronDown,{className:"h-4 w-4 mr-2"}),"Load More"]})})}),!aO&&aK.length>0&&(0,b.jsxs)("p",{className:"text-center text-xs text-muted-foreground pt-4 mt-4 border-t",children:["Showing all ",aQ," ",1===aQ?"activity":"activities"]})]})]})]})}),(0,b.jsxs)(t.TabsContent,{value:"security",className:"mt-6 space-y-6",children:[(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(ag,{className:"h-5 w-5"}),"Account Status"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Active Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:W.isDeleted?"Account is currently deactivated. User cannot access the platform.":"Account is active. User can access the platform normally."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.Badge,{variant:W.isDeleted?"destructive":"default",className:W.isDeleted?"":"bg-green-500 hover:bg-green-500/80",children:W.isDeleted?"Inactive":"Active"}),(0,b.jsx)(s.Switch,{checked:!W.isDeleted,onCheckedChange:bp,disabled:bc}),bc&&(0,b.jsx)(T.Loader2,{className:"h-4 w-4 animate-spin"})]})]})})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[W.isDeleted?(0,b.jsx)(D.Lock,{className:"h-5 w-5 text-destructive"}):(0,b.jsx)(F,{className:"h-5 w-5 text-green-500"}),"Account Lock"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Lock Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:W.isDeleted?"Account is locked. User is temporarily blocked from accessing the platform.":"Account is unlocked. User has normal access to the platform."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.Badge,{variant:W.isDeleted?"destructive":"outline",children:W.isDeleted?"Locked":"Unlocked"}),(0,b.jsx)(s.Switch,{checked:W.isDeleted,onCheckedChange:bq,disabled:be}),be&&(0,b.jsx)(T.Loader2,{className:"h-4 w-4 animate-spin"})]})]})})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(G.KeyRound,{className:"h-5 w-5"}),"Password"]})}),(0,b.jsx)(o.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Password Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:W.passwordSet?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.ShieldCheck,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{children:"Password is set."}),a6&&(0,b.jsxs)("span",{className:"text-xs",children:["Last changed ",(0,f.formatDistanceToNow)(new Date(a6),{addSuffix:!0})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P.ShieldAlert,{className:"h-4 w-4 text-yellow-500"}),(0,b.jsx)("span",{children:"No password set (uses magic link login)"})]})})]}),(0,b.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>az(!0),disabled:W.isDeleted||aq,children:[(0,b.jsx)(ah.RefreshCw,{className:"h-4 w-4 mr-2"}),"Reset Password"]})]})})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(af,{className:"h-5 w-5"}),"Sessions"]})}),(0,b.jsx)(o.CardContent,{children:a$||a0?a0?(0,b.jsx)("div",{className:"flex items-center justify-center py-6",children:(0,b.jsx)(T.Loader2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Active Sessions"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a2>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Badge,{variant:"secondary",className:"mr-2",children:a2}),"recent login",1!==a2?"s":""," in the last 30 days"]}):"No recent session activity recorded"})]}),(0,b.jsxs)(l.Button,{variant:"destructive",size:"sm",onClick:()=>a9(!0),disabled:0===a2||W.isDeleted,children:[(0,b.jsx)(Q,{className:"h-4 w-4 mr-2"}),"Revoke All"]})]}):(0,b.jsx)("div",{className:"flex flex-col items-center justify-center py-6",children:(0,b.jsxs)(l.Button,{variant:"outline",onClick:bo,children:[(0,b.jsx)(ah.RefreshCw,{className:"h-4 w-4 mr-2"}),"Load Security Data"]})})})]}),(0,b.jsxs)(o.Card,{children:[(0,b.jsx)(o.CardHeader,{children:(0,b.jsxs)(o.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(H.AlertTriangle,{className:"h-5 w-5"}),"Failed Logins"]})}),(0,b.jsx)(o.CardContent,{children:a$||a0?a0?(0,b.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,b.jsx)(T.Loader2,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"Failed Attempts (Last 24 Hours)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Badge,{variant:a4>5?"destructive":a4>0?"secondary":"outline",className:0===a4?"bg-green-500/10 text-green-600 border-green-500/20":"",children:a4}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:0===a4?"No failed login attempts":a4>5?"High number of failed attempts - consider locking account":`failed attempt${1!==a4?"s":""} recorded`})]})]}):(0,b.jsx)("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Load security data to view failed login attempts"})})]})]})]}),(0,b.jsx)(w.AlertDialog,{open:as,onOpenChange:at,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(H.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Deactivate User"]}),(0,b.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to deactivate ",(0,b.jsx)("strong",{children:W?.displayName}),"? They will no longer be able to access the platform."]})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:aq,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:bt,disabled:aq,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:aq?"Deactivating...":"Deactivate"})]})]})}),(0,b.jsx)(w.AlertDialog,{open:au,onOpenChange:av,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(C.UserCheck,{className:"h-5 w-5 text-green-600"}),"Reactivate User"]}),(0,b.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to reactivate ",(0,b.jsx)("strong",{children:W?.displayName}),"? They will regain access to the platform."]})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:aq,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:bu,disabled:aq,className:"bg-green-600 text-white hover:bg-green-600/90",children:aq?"Reactivating...":"Reactivate"})]})]})}),(0,b.jsx)(w.AlertDialog,{open:aw,onOpenChange:ax,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsx)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:W?.isDeleted?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F,{className:"h-5 w-5 text-yellow-600"}),"Unlock User"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Lock,{className:"h-5 w-5 text-yellow-600"}),"Lock User"]})}),(0,b.jsx)(w.AlertDialogDescription,{children:W?.isDeleted?(0,b.jsxs)(b.Fragment,{children:["Are you sure you want to unlock ",(0,b.jsx)("strong",{children:W?.displayName}),"? They will be able to access the platform again."]}):(0,b.jsxs)(b.Fragment,{children:["Are you sure you want to lock ",(0,b.jsx)("strong",{children:W?.displayName}),"? They will be temporarily unable to access the platform."]})})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:aq,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:bv,disabled:aq,className:"bg-yellow-600 text-white hover:bg-yellow-600/90",children:aq?"Processing...":W?.isDeleted?"Unlock":"Lock"})]})]})}),(0,b.jsx)(w.AlertDialog,{open:ay,onOpenChange:az,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(G.KeyRound,{className:"h-5 w-5"}),"Reset Password"]}),(0,b.jsxs)(w.AlertDialogDescription,{children:["This will send a password reset email to ",(0,b.jsx)("strong",{children:W?.email}),". The user will need to click the link in the email to set a new password."]})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:aq,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:bw,disabled:aq,children:aq?"Sending...":"Send Reset Email"})]})]})}),(0,b.jsx)(x.Dialog,{open:aA,onOpenChange:aB,children:(0,b.jsxs)(x.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(x.DialogHeader,{children:[(0,b.jsxs)(x.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(A.Pencil,{className:"h-5 w-5"}),"Edit Profile"]}),(0,b.jsxs)(x.DialogDescription,{children:["Update profile information for ",W?.displayName,"."]})]}),(0,b.jsxs)("form",{onSubmit:bj(bx),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"display_name",children:"Display Name *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(J.User,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(q.Input,{id:"display_name",placeholder:"John Smith",className:"pl-10",...bi("display_name")})]}),bl.display_name&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:bl.display_name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"title",children:"Title"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(K.Briefcase,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(q.Input,{id:"title",placeholder:"Managing Director",className:"pl-10",...bi("title")})]}),bl.title&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:bl.title.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(M.Phone,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(q.Input,{id:"phone",placeholder:"+1 (555) 123-4567",className:"pl-10",...bi("phone")})]}),bl.phone&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:bl.phone.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"office_location",children:"Office Location"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(L.MapPin,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(q.Input,{id:"office_location",placeholder:"New York, NY",className:"pl-10",...bi("office_location")})]}),bl.office_location&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:bl.office_location.message})]}),(0,b.jsxs)(x.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,b.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>aB(!1),disabled:aC,children:"Cancel"}),(0,b.jsx)(l.Button,{type:"submit",disabled:aC,children:aC?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}),(0,b.jsx)(w.AlertDialog,{open:aE,onOpenChange:aF,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(H.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Remove Entity Link"]}),(0,b.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to unlink ",(0,b.jsx)("strong",{children:aG?.name})," from ",W?.displayName,"? The user will no longer have access to this entity's data."]})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:aI,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:by,disabled:aI,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:aI?"Removing...":"Remove"})]})]})}),(0,b.jsx)(w.AlertDialog,{open:a8,onOpenChange:a9,children:(0,b.jsxs)(w.AlertDialogContent,{children:[(0,b.jsxs)(w.AlertDialogHeader,{children:[(0,b.jsxs)(w.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(Q,{className:"h-5 w-5 text-destructive"}),"Revoke All Sessions"]}),(0,b.jsxs)(w.AlertDialogDescription,{children:["Are you sure you want to revoke all active sessions for ",(0,b.jsx)("strong",{children:W?.displayName}),"? This will immediately log them out from all devices and browsers."]})]}),(0,b.jsxs)(w.AlertDialogFooter,{children:[(0,b.jsx)(w.AlertDialogCancel,{disabled:ba,children:"Cancel"}),(0,b.jsx)(w.AlertDialogAction,{onClick:br,disabled:ba,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ba?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(T.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoking..."]}):"Revoke All Sessions"})]})]})})]})}a.s(["default",()=>ap],894529)}];

//# sourceMappingURL=versotech-portal_src_app_%28admin%29_versotech_admin_users_%5Bid%5D_page_tsx_9967aee4._.js.map