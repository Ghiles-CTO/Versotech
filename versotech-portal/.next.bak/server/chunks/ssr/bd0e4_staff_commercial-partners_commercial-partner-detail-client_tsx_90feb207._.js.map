{"version":3,"sources":["../../../../../versotech-portal/src/components/staff/commercial-partners/commercial-partner-detail-client.tsx","../../../../../versotech-portal/src/components/staff/commercial-partners/edit-commercial-partner-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport Link from 'next/link'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  ArrowLeft,\r\n  Building2,\r\n  Mail,\r\n  Phone,\r\n  Globe,\r\n  MapPin,\r\n  FileText,\r\n  Clock,\r\n  Shield,\r\n  Edit,\r\n  Users,\r\n  Landmark,\r\n  FileCheck,\r\n  CreditCard,\r\n} from 'lucide-react'\r\nimport { formatDistanceToNow, format } from 'date-fns'\r\nimport { EditCommercialPartnerDialog } from '@/components/staff/commercial-partners/edit-commercial-partner-dialog'\r\nimport { KYCDocumentsTab } from '@/components/shared/kyc-documents-tab'\r\nimport { BankDetailsTab } from '@/components/shared/bank-details-tab'\r\nimport { ActivityTimelineTab } from '@/components/shared/activity-timeline-tab'\r\nimport { IndividualKycDisplay, EntityKYCEditDialog } from '@/components/shared'\r\nimport { StaffEntityMembersTab } from '@/components/staff/shared/staff-entity-members-tab'\r\nimport { InviteUserDialog } from '@/components/users/invite-user-dialog'\r\nimport { statusStyles, kycStyles, getStatusStyle } from '@/lib/status-styles'\r\n\r\ntype CommercialPartner = {\r\n  id: string\r\n  name: string\r\n  legal_name: string | null\r\n  type: string\r\n  cp_type: string\r\n  status: string\r\n  regulatory_status: string | null\r\n  regulatory_number: string | null\r\n  jurisdiction: string | null\r\n  contact_name: string | null\r\n  contact_email: string | null\r\n  contact_phone: string | null\r\n  website: string | null\r\n  address_line_1: string | null\r\n  address_line_2: string | null\r\n  city: string | null\r\n  postal_code: string | null\r\n  country: string | null\r\n  payment_terms: string | null\r\n  contract_start_date: string | null\r\n  contract_end_date: string | null\r\n  notes: string | null\r\n  kyc_status: string | null\r\n  kyc_notes: string | null\r\n  kyc_approved_at: string | null\r\n  kyc_expires_at: string | null\r\n  logo_url: string | null\r\n  created_at: string\r\n  updated_at: string\r\n  // Individual KYC fields\r\n  first_name?: string | null\r\n  middle_name?: string | null\r\n  last_name?: string | null\r\n  name_suffix?: string | null\r\n  date_of_birth?: string | null\r\n  country_of_birth?: string | null\r\n  nationality?: string | null\r\n  email?: string | null\r\n  phone_mobile?: string | null\r\n  phone_office?: string | null\r\n  is_us_citizen?: boolean | null\r\n  is_us_taxpayer?: boolean | null\r\n  us_taxpayer_id?: string | null\r\n  country_of_tax_residency?: string | null\r\n  id_type?: string | null\r\n  id_number?: string | null\r\n  id_issue_date?: string | null\r\n  id_expiry_date?: string | null\r\n  id_issuing_country?: string | null\r\n  residential_street?: string | null\r\n  residential_line_2?: string | null\r\n  residential_city?: string | null\r\n  residential_state?: string | null\r\n  residential_postal_code?: string | null\r\n  residential_country?: string | null\r\n  // New KYC fields\r\n  middle_initial?: string | null\r\n  proof_of_address_date?: string | null\r\n  proof_of_address_expiry?: string | null\r\n  tax_id_number?: string | null\r\n}\r\n\r\ntype LinkedUser = {\r\n  userId: string\r\n  email: string\r\n  displayName: string | null\r\n  title: string | null\r\n  role: string\r\n  isPrimary: boolean\r\n  canSign: boolean\r\n  canExecuteForClients: boolean\r\n  createdAt: string\r\n}\r\n\r\ninterface CommercialPartnerDetailClientProps {\r\n  partner: CommercialPartner\r\n  linkedUsers: LinkedUser[]\r\n  documentCount: number\r\n}\r\n\r\nconst cpTypeLabels: Record<string, string> = {\r\n  'bank': 'Bank',\r\n  'insurance': 'Insurance',\r\n  'wealth-manager': 'Wealth Manager',\r\n  'broker': 'Broker',\r\n  'custodian': 'Custodian',\r\n  'other': 'Other',\r\n}\r\n\r\nexport function CommercialPartnerDetailClient({\r\n  partner,\r\n  linkedUsers,\r\n  documentCount,\r\n}: CommercialPartnerDetailClientProps) {\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\r\n  const [inviteDialogOpen, setInviteDialogOpen] = useState(false)\r\n  const [kycDialogOpen, setKycDialogOpen] = useState(false)\r\n\r\n  const fullAddress = [\r\n    partner.address_line_1,\r\n    partner.address_line_2,\r\n    partner.city,\r\n    partner.postal_code,\r\n    partner.country,\r\n  ].filter(Boolean).join(', ')\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link href=\"/versotech_main/users\">\r\n            <Button variant=\"ghost\" size=\"icon\">\r\n              <ArrowLeft className=\"h-5 w-5\" />\r\n            </Button>\r\n          </Link>\r\n          <div className=\"h-16 w-16 rounded-full bg-white/10 flex items-center justify-center\">\r\n            {partner.logo_url ? (\r\n              <img\r\n                src={partner.logo_url}\r\n                alt={partner.name}\r\n                className=\"h-16 w-16 rounded-full object-cover\"\r\n              />\r\n            ) : (\r\n              <Landmark className=\"h-8 w-8 text-muted-foreground\" />\r\n            )}\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-foreground\">{partner.name}</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              {cpTypeLabels[partner.cp_type] || partner.cp_type}\r\n              {partner.jurisdiction && ` â€¢ ${partner.jurisdiction}`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Badge className={getStatusStyle(partner.status, statusStyles)}>\r\n            {partner.status}\r\n          </Badge>\r\n          {partner.kyc_status && (\r\n            <Badge className={getStatusStyle(partner.kyc_status, kycStyles)}>\r\n              KYC: {partner.kyc_status.replace('_', ' ')}\r\n            </Badge>\r\n          )}\r\n          <Button onClick={() => setEditDialogOpen(true)}>\r\n            <Edit className=\"h-4 w-4 mr-2\" />\r\n            Edit\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Linked Users\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{linkedUsers.length}</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <FileText className=\"h-4 w-4\" />\r\n              Documents\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold\">{documentCount}</div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Shield className=\"h-4 w-4\" />\r\n              KYC Status\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg font-bold capitalize\">\r\n              {partner.kyc_status?.replace('_', ' ') || 'Not Started'}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              Created\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg font-bold\">\r\n              {formatDistanceToNow(new Date(partner.created_at), { addSuffix: true })}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\" id={`commercial-partner-tabs-${partner.id}`}>\r\n        <TabsList>\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"members\">Members</TabsTrigger>\r\n          <TabsTrigger value=\"kyc-documents\">KYC Documents</TabsTrigger>\r\n          <TabsTrigger value=\"bank-details\">Bank Details</TabsTrigger>\r\n          <TabsTrigger value=\"activity\">Activity</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Basic Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-base flex items-center gap-2\">\r\n                  <Building2 className=\"h-4 w-4\" />\r\n                  Basic Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Legal Name</p>\r\n                    <p className=\"font-medium\">{partner.legal_name || partner.name}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Entity Type</p>\r\n                    <p className=\"font-medium capitalize\">{partner.type}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Partner Type</p>\r\n                    <p className=\"font-medium\">{cpTypeLabels[partner.cp_type] || partner.cp_type}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Status</p>\r\n                    <Badge className={getStatusStyle(partner.status, statusStyles)}>\r\n                      {partner.status}\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Regulatory Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-base flex items-center gap-2\">\r\n                  <FileCheck className=\"h-4 w-4\" />\r\n                  Regulatory Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Regulatory Status</p>\r\n                    <p className=\"font-medium\">{partner.regulatory_status || 'Not specified'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Regulatory Number</p>\r\n                    <p className=\"font-medium\">{partner.regulatory_number || 'Not specified'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Jurisdiction</p>\r\n                    <p className=\"font-medium\">{partner.jurisdiction || 'Not specified'}</p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Contact Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-base flex items-center gap-2\">\r\n                  <Mail className=\"h-4 w-4\" />\r\n                  Contact Information\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-3\">\r\n                {partner.contact_name && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{partner.contact_name}</span>\r\n                  </div>\r\n                )}\r\n                {partner.contact_email && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <a href={`mailto:${partner.contact_email}`} className=\"text-primary hover:underline\">\r\n                      {partner.contact_email}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n                {partner.contact_phone && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <span>{partner.contact_phone}</span>\r\n                  </div>\r\n                )}\r\n                {partner.website && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <a href={partner.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary hover:underline\">\r\n                      {partner.website}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n                {fullAddress && (\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <MapPin className=\"h-4 w-4 text-muted-foreground mt-1\" />\r\n                    <span>{fullAddress}</span>\r\n                  </div>\r\n                )}\r\n                {!partner.contact_name && !partner.contact_email && !partner.contact_phone && (\r\n                  <p className=\"text-muted-foreground text-sm\">No contact information available</p>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Business Terms */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"text-base flex items-center gap-2\">\r\n                  <CreditCard className=\"h-4 w-4\" />\r\n                  Business Terms\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Payment Terms</p>\r\n                    <p className=\"font-medium\">{partner.payment_terms || 'Not specified'}</p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Contract Start</p>\r\n                    <p className=\"font-medium\">\r\n                      {partner.contract_start_date\r\n                        ? format(new Date(partner.contract_start_date), 'dd MMM yyyy')\r\n                        : 'Not specified'}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-sm text-muted-foreground\">Contract End</p>\r\n                    <p className=\"font-medium\">\r\n                      {partner.contract_end_date\r\n                        ? format(new Date(partner.contract_end_date), 'dd MMM yyyy')\r\n                        : 'Not specified'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Linked Users */}\r\n            <Card>\r\n              <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                <CardTitle className=\"text-base flex items-center gap-2\">\r\n                  <Users className=\"h-4 w-4\" />\r\n                  Linked Users\r\n                </CardTitle>\r\n                <Button variant=\"outline\" size=\"sm\" onClick={() => setInviteDialogOpen(true)}>\r\n                  Invite User\r\n                </Button>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {linkedUsers.length === 0 ? (\r\n                  <p className=\"text-muted-foreground text-sm\">No users linked to this commercial partner</p>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {linkedUsers.map((user) => (\r\n                      <div\r\n                        key={user.userId}\r\n                        className=\"flex items-center justify-between p-3 rounded-lg border border-white/10\"\r\n                      >\r\n                        <div>\r\n                          <p className=\"font-medium\">{user.displayName || user.email}</p>\r\n                          <p className=\"text-sm text-muted-foreground\">{user.email}</p>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Badge variant=\"outline\" className=\"text-xs\">\r\n                            {user.role}\r\n                          </Badge>\r\n                          {user.isPrimary && (\r\n                            <Badge className=\"bg-blue-500/20 text-blue-400 text-xs\">Primary</Badge>\r\n                          )}\r\n                          {user.canSign && (\r\n                            <Badge className=\"bg-purple-500/20 text-purple-400 text-xs\">Can Sign</Badge>\r\n                          )}\r\n                          {user.canExecuteForClients && (\r\n                            <Badge className=\"bg-green-500/20 text-green-400 text-xs\">Execute</Badge>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Notes */}\r\n            {partner.notes && (\r\n              <Card className=\"lg:col-span-2\">\r\n                <CardHeader>\r\n                  <CardTitle className=\"text-base flex items-center gap-2\">\r\n                    <FileText className=\"h-4 w-4\" />\r\n                    Notes\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm whitespace-pre-wrap\">{partner.notes}</p>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n\r\n          {/* Individual KYC Information (for individual commercial partners) */}\r\n          {partner.type === 'individual' && (\r\n            <IndividualKycDisplay\r\n              data={{\r\n                first_name: partner.first_name,\r\n                middle_name: partner.middle_name,\r\n                last_name: partner.last_name,\r\n                name_suffix: partner.name_suffix,\r\n                date_of_birth: partner.date_of_birth,\r\n                country_of_birth: partner.country_of_birth,\r\n                nationality: partner.nationality,\r\n                email: partner.email || partner.contact_email,\r\n                phone_mobile: partner.phone_mobile,\r\n                phone_office: partner.phone_office,\r\n                residential_street: partner.residential_street,\r\n                residential_line_2: partner.residential_line_2,\r\n                residential_city: partner.residential_city,\r\n                residential_state: partner.residential_state,\r\n                residential_postal_code: partner.residential_postal_code,\r\n                residential_country: partner.residential_country,\r\n                is_us_citizen: partner.is_us_citizen,\r\n                is_us_taxpayer: partner.is_us_taxpayer,\r\n                us_taxpayer_id: partner.us_taxpayer_id,\r\n                country_of_tax_residency: partner.country_of_tax_residency,\r\n                id_type: partner.id_type,\r\n                id_number: partner.id_number,\r\n                id_issue_date: partner.id_issue_date,\r\n                id_expiry_date: partner.id_expiry_date,\r\n                id_issuing_country: partner.id_issuing_country,\r\n              }}\r\n              showEditButton={true}\r\n              onEdit={() => setKycDialogOpen(true)}\r\n              title=\"Personal KYC Information\"\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Members Tab */}\r\n        <TabsContent value=\"members\">\r\n          <StaffEntityMembersTab\r\n            entityType=\"commercial_partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* KYC Documents Tab */}\r\n        <TabsContent value=\"kyc-documents\">\r\n          <KYCDocumentsTab\r\n            entityType=\"commercial_partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Bank Details Tab */}\r\n        <TabsContent value=\"bank-details\">\r\n          <BankDetailsTab entityType=\"commercial_partner\" entityId={partner.id} entityName={partner.name} />\r\n        </TabsContent>\r\n\r\n        {/* Activity Tab */}\r\n        <TabsContent value=\"activity\">\r\n          <ActivityTimelineTab\r\n            entityType=\"commercial_partner\"\r\n            entityId={partner.id}\r\n            entityName={partner.name}\r\n          />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Dialogs */}\r\n      <EditCommercialPartnerDialog\r\n        open={editDialogOpen}\r\n        onOpenChange={setEditDialogOpen}\r\n        partner={partner}\r\n      />\r\n\r\n      <InviteUserDialog\r\n        open={inviteDialogOpen}\r\n        onOpenChange={setInviteDialogOpen}\r\n        entityType=\"commercial_partner\"\r\n        entityId={partner.id}\r\n        entityName={partner.name}\r\n      />\r\n\r\n      {partner.type === 'individual' && (\r\n        <EntityKYCEditDialog\r\n          open={kycDialogOpen}\r\n          onOpenChange={setKycDialogOpen}\r\n          entityType=\"commercial_partner\"\r\n          entityId={partner.id}\r\n          entityName={partner.name}\r\n          apiEndpoint={`/api/admin/commercial-partners/${partner.id}`}\r\n          initialData={{\r\n            first_name: partner.first_name ?? undefined,\r\n            middle_name: partner.middle_name ?? undefined,\r\n            last_name: partner.last_name ?? undefined,\r\n            name_suffix: partner.name_suffix ?? undefined,\r\n            date_of_birth: partner.date_of_birth ?? undefined,\r\n            country_of_birth: partner.country_of_birth ?? undefined,\r\n            nationality: partner.nationality ?? undefined,\r\n            email: (partner.email || partner.contact_email) ?? undefined,\r\n            phone_mobile: partner.phone_mobile ?? undefined,\r\n            phone_office: partner.phone_office ?? undefined,\r\n            residential_street: partner.residential_street ?? undefined,\r\n            residential_line_2: partner.residential_line_2 ?? undefined,\r\n            residential_city: partner.residential_city ?? undefined,\r\n            residential_state: partner.residential_state ?? undefined,\r\n            residential_postal_code: partner.residential_postal_code ?? undefined,\r\n            residential_country: partner.residential_country ?? undefined,\r\n            is_us_citizen: partner.is_us_citizen ?? undefined,\r\n            is_us_taxpayer: partner.is_us_taxpayer ?? undefined,\r\n            us_taxpayer_id: partner.us_taxpayer_id ?? undefined,\r\n            country_of_tax_residency: partner.country_of_tax_residency ?? undefined,\r\n            id_type: partner.id_type ?? undefined,\r\n            id_number: partner.id_number ?? undefined,\r\n            id_issue_date: partner.id_issue_date ?? undefined,\r\n            id_expiry_date: partner.id_expiry_date ?? undefined,\r\n            id_issuing_country: partner.id_issuing_country ?? undefined,\r\n          }}\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\n\nimport { useState, useTransition, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { toast } from 'sonner'\n\ntype CommercialPartnerForEdit = {\n  id: string\n  name: string\n  legal_name: string | null\n  type: string\n  cp_type: string\n  status: string\n  regulatory_status: string | null\n  regulatory_number: string | null\n  jurisdiction: string | null\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  website: string | null\n  address_line_1: string | null\n  address_line_2: string | null\n  city: string | null\n  postal_code: string | null\n  country: string | null\n  payment_terms: string | null\n  notes: string | null\n  kyc_status: string | null\n  kyc_notes: string | null\n}\n\ninterface EditCommercialPartnerDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  partner: CommercialPartnerForEdit\n}\n\nconst entityTypes = [\n  { label: 'Entity', value: 'entity' },\n  { label: 'Individual', value: 'individual' },\n]\n\nconst cpTypes = [\n  { label: 'Bank', value: 'bank' },\n  { label: 'Insurance', value: 'insurance' },\n  { label: 'Wealth Manager', value: 'wealth-manager' },\n  { label: 'Broker', value: 'broker' },\n  { label: 'Custodian', value: 'custodian' },\n  { label: 'Other', value: 'other' },\n]\n\nconst statusOptions = [\n  { label: 'Active', value: 'active' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Inactive', value: 'inactive' },\n]\n\nconst kycStatuses = [\n  { label: 'Not Started', value: 'not_started' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Approved', value: 'approved' },\n  { label: 'Expired', value: 'expired' },\n  { label: 'Rejected', value: 'rejected' },\n]\n\nexport function EditCommercialPartnerDialog({ open, onOpenChange, partner }: EditCommercialPartnerDialogProps) {\n  const router = useRouter()\n  const [isPending, startTransition] = useTransition()\n\n  const [name, setName] = useState(partner.name)\n  const [legalName, setLegalName] = useState(partner.legal_name || '')\n  const [type, setType] = useState(partner.type)\n  const [cpType, setCpType] = useState(partner.cp_type)\n  const [status, setStatus] = useState(partner.status)\n  const [regulatoryStatus, setRegulatoryStatus] = useState(partner.regulatory_status || '')\n  const [regulatoryNumber, setRegulatoryNumber] = useState(partner.regulatory_number || '')\n  const [jurisdiction, setJurisdiction] = useState(partner.jurisdiction || '')\n  const [contactName, setContactName] = useState(partner.contact_name || '')\n  const [contactEmail, setContactEmail] = useState(partner.contact_email || '')\n  const [contactPhone, setContactPhone] = useState(partner.contact_phone || '')\n  const [website, setWebsite] = useState(partner.website || '')\n  const [addressLine1, setAddressLine1] = useState(partner.address_line_1 || '')\n  const [addressLine2, setAddressLine2] = useState(partner.address_line_2 || '')\n  const [city, setCity] = useState(partner.city || '')\n  const [postalCode, setPostalCode] = useState(partner.postal_code || '')\n  const [country, setCountry] = useState(partner.country || '')\n  const [paymentTerms, setPaymentTerms] = useState(partner.payment_terms || '')\n  const [notes, setNotes] = useState(partner.notes || '')\n  const [kycStatus, setKycStatus] = useState(partner.kyc_status || 'not_started')\n  const [kycNotes, setKycNotes] = useState(partner.kyc_notes || '')\n\n  useEffect(() => {\n    if (open) {\n      setName(partner.name)\n      setLegalName(partner.legal_name || '')\n      setType(partner.type)\n      setCpType(partner.cp_type)\n      setStatus(partner.status)\n      setRegulatoryStatus(partner.regulatory_status || '')\n      setRegulatoryNumber(partner.regulatory_number || '')\n      setJurisdiction(partner.jurisdiction || '')\n      setContactName(partner.contact_name || '')\n      setContactEmail(partner.contact_email || '')\n      setContactPhone(partner.contact_phone || '')\n      setWebsite(partner.website || '')\n      setAddressLine1(partner.address_line_1 || '')\n      setAddressLine2(partner.address_line_2 || '')\n      setCity(partner.city || '')\n      setPostalCode(partner.postal_code || '')\n      setCountry(partner.country || '')\n      setPaymentTerms(partner.payment_terms || '')\n      setNotes(partner.notes || '')\n      setKycStatus(partner.kyc_status || 'not_started')\n      setKycNotes(partner.kyc_notes || '')\n    }\n  }, [open, partner])\n\n  const handleSave = () => {\n    startTransition(async () => {\n      if (!name.trim()) {\n        toast.error('Partner name is required')\n        return\n      }\n\n      try {\n        const response = await fetch(`/api/admin/commercial-partners/${partner.id}`, {\n          method: 'PATCH',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            name: name.trim(),\n            legal_name: legalName.trim() || null,\n            type,\n            cp_type: cpType,\n            status,\n            regulatory_status: regulatoryStatus.trim() || null,\n            regulatory_number: regulatoryNumber.trim() || null,\n            jurisdiction: jurisdiction.trim() || null,\n            contact_name: contactName.trim() || null,\n            contact_email: contactEmail.trim() || null,\n            contact_phone: contactPhone.trim() || null,\n            website: website.trim() || null,\n            address_line_1: addressLine1.trim() || null,\n            address_line_2: addressLine2.trim() || null,\n            city: city.trim() || null,\n            postal_code: postalCode.trim() || null,\n            country: country.trim() || null,\n            payment_terms: paymentTerms.trim() || null,\n            notes: notes.trim() || null,\n            kyc_status: kycStatus,\n            kyc_notes: kycNotes.trim() || null,\n          }),\n        })\n\n        if (!response.ok) {\n          const data = await response.json().catch(() => null)\n          console.error('[EditCommercialPartnerDialog] Failed to update partner:', data)\n          toast.error(data?.error ?? 'Failed to update partner')\n          return\n        }\n\n        toast.success('Commercial partner updated successfully')\n        onOpenChange(false)\n        router.refresh()\n      } catch (err) {\n        console.error('[EditCommercialPartnerDialog] Error:', err)\n        toast.error('Failed to update partner')\n      }\n    })\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Edit Commercial Partner</DialogTitle>\n          <DialogDescription>\n            Update information for {partner.name}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* Basic Information */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Basic Information</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"name\">Name *</Label>\n                <Input\n                  id=\"name\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"legalName\">Legal Name</Label>\n                <Input\n                  id=\"legalName\"\n                  value={legalName}\n                  onChange={(e) => setLegalName(e.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label>Entity Type</Label>\n                <Select value={type} onValueChange={setType}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {entityTypes.map((t) => (\n                      <SelectItem key={t.value} value={t.value}>\n                        {t.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"grid gap-2\">\n                <Label>Partner Type</Label>\n                <Select value={cpType} onValueChange={setCpType}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {cpTypes.map((t) => (\n                      <SelectItem key={t.value} value={t.value}>\n                        {t.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n              <div className=\"grid gap-2\">\n                <Label>Status</Label>\n                <Select value={status} onValueChange={setStatus}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {statusOptions.map((s) => (\n                      <SelectItem key={s.value} value={s.value}>\n                        {s.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </div>\n\n          {/* Regulatory Information */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Regulatory Information</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"regulatoryStatus\">Regulatory Status</Label>\n                <Input\n                  id=\"regulatoryStatus\"\n                  value={regulatoryStatus}\n                  onChange={(e) => setRegulatoryStatus(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"regulatoryNumber\">Regulatory Number</Label>\n                <Input\n                  id=\"regulatoryNumber\"\n                  value={regulatoryNumber}\n                  onChange={(e) => setRegulatoryNumber(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"jurisdiction\">Jurisdiction</Label>\n                <Input\n                  id=\"jurisdiction\"\n                  value={jurisdiction}\n                  onChange={(e) => setJurisdiction(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Contact Information */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Contact Information</h4>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactName\">Contact Name</Label>\n                <Input\n                  id=\"contactName\"\n                  value={contactName}\n                  onChange={(e) => setContactName(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactEmail\">Email</Label>\n                <Input\n                  id=\"contactEmail\"\n                  type=\"email\"\n                  value={contactEmail}\n                  onChange={(e) => setContactEmail(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"contactPhone\">Phone</Label>\n                <Input\n                  id=\"contactPhone\"\n                  value={contactPhone}\n                  onChange={(e) => setContactPhone(e.target.value)}\n                />\n              </div>\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"website\">Website</Label>\n              <Input\n                id=\"website\"\n                value={website}\n                onChange={(e) => setWebsite(e.target.value)}\n                placeholder=\"https://\"\n              />\n            </div>\n          </div>\n\n          {/* Address */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Address</h4>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"addressLine1\">Address Line 1</Label>\n              <Input\n                id=\"addressLine1\"\n                value={addressLine1}\n                onChange={(e) => setAddressLine1(e.target.value)}\n              />\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"addressLine2\">Address Line 2</Label>\n              <Input\n                id=\"addressLine2\"\n                value={addressLine2}\n                onChange={(e) => setAddressLine2(e.target.value)}\n              />\n            </div>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"city\">City</Label>\n                <Input\n                  id=\"city\"\n                  value={city}\n                  onChange={(e) => setCity(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"postalCode\">Postal Code</Label>\n                <Input\n                  id=\"postalCode\"\n                  value={postalCode}\n                  onChange={(e) => setPostalCode(e.target.value)}\n                />\n              </div>\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"country\">Country</Label>\n                <Input\n                  id=\"country\"\n                  value={country}\n                  onChange={(e) => setCountry(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Business Terms */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">Business Terms</h4>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"paymentTerms\">Payment Terms</Label>\n              <Input\n                id=\"paymentTerms\"\n                value={paymentTerms}\n                onChange={(e) => setPaymentTerms(e.target.value)}\n                placeholder=\"e.g. Net 30\"\n              />\n            </div>\n          </div>\n\n          {/* KYC Status */}\n          <div className=\"space-y-4\">\n            <h4 className=\"text-sm font-medium border-b pb-2\">KYC Status</h4>\n            <div className=\"grid gap-2\">\n              <Label>KYC Status</Label>\n              <Select value={kycStatus} onValueChange={setKycStatus}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {kycStatuses.map((s) => (\n                    <SelectItem key={s.value} value={s.value}>\n                      {s.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"grid gap-2\">\n              <Label htmlFor=\"kycNotes\">KYC Notes</Label>\n              <Textarea\n                id=\"kycNotes\"\n                value={kycNotes}\n                onChange={(e) => setKycNotes(e.target.value)}\n                rows={2}\n              />\n            </div>\n          </div>\n\n          {/* Notes */}\n          <div className=\"grid gap-2\">\n            <Label htmlFor=\"notes\">Notes</Label>\n            <Textarea\n              id=\"notes\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              rows={3}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button\n            variant=\"outline\"\n            onClick={() => onOpenChange(false)}\n            disabled={isPending}\n          >\n            Cancel\n          </Button>\n          <Button onClick={handleSave} disabled={isPending}>\n            {isPending ? 'Saving...' : 'Save Changes'}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAgBA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QCrBA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QASA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAOA,EAAA,EAAA,CAAA,CAAA,QAiCA,IAAM,EAAc,CAClB,CAAE,MAAO,SAAU,MAAO,QAAS,EACnC,CAAE,MAAO,aAAc,MAAO,YAAa,EAC5C,CAEK,EAAU,CACd,CAAE,MAAO,OAAQ,MAAO,MAAO,EAC/B,CAAE,MAAO,YAAa,MAAO,WAAY,EACzC,CAAE,MAAO,iBAAkB,MAAO,gBAAiB,EACnD,CAAE,MAAO,SAAU,MAAO,QAAS,EACnC,CAAE,MAAO,YAAa,MAAO,WAAY,EACzC,CAAE,MAAO,QAAS,MAAO,OAAQ,EAClC,CAEK,EAAgB,CACpB,CAAE,MAAO,SAAU,MAAO,QAAS,EACnC,CAAE,MAAO,UAAW,MAAO,SAAU,EACrC,CAAE,MAAO,WAAY,MAAO,UAAW,EACxC,CAEK,EAAc,CAClB,CAAE,MAAO,cAAe,MAAO,aAAc,EAC7C,CAAE,MAAO,UAAW,MAAO,SAAU,EACrC,CAAE,MAAO,WAAY,MAAO,UAAW,EACvC,CAAE,MAAO,UAAW,MAAO,SAAU,EACrC,CAAE,MAAO,WAAY,MAAO,UAAW,EACxC,CAEM,SAAS,EAA4B,MAAE,CAAI,cAAE,CAAY,SAAE,CAAO,CAAoC,EAC3G,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAW,EAAgB,CAAG,CAAA,EAAA,EAAA,aAAA,AAAa,IAE5C,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,IAAI,EACvC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,UAAU,EAAI,IAC3D,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,IAAI,EACvC,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,OAAO,EAC9C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,MAAM,EAC7C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,iBAAiB,EAAI,IAChF,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,iBAAiB,EAAI,IAChF,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,YAAY,EAAI,IACnE,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,YAAY,EAAI,IACjE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,aAAa,EAAI,IACpE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,aAAa,EAAI,IACpE,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,OAAO,EAAI,IACpD,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,EAAQ,cAAc,EAAI,IACrE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,cAAc,EAAI,IACrE,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,IAAI,EAAI,IAC3C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,WAAW,EAAI,IAC9D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,OAAO,EAAI,IACpD,CAAC,GAAc,GAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,aAAa,EAAI,IACpE,CAAC,GAAO,GAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,EAAQ,KAAK,EAAI,IAC9C,CAAC,GAAW,GAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,UAAU,EAAI,eAC3D,CAAC,GAAU,GAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAQ,SAAS,EAAI,UAE9D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,IACF,EAAQ,AADA,EACQ,IAAI,EACpB,EAAa,EAAQ,UAAU,EAAI,IACnC,EAAQ,EAAQ,IAAI,EACpB,EAAU,EAAQ,OAAO,EACzB,EAAU,EAAQ,MAAM,EACxB,EAAoB,EAAQ,iBAAiB,EAAI,IACjD,EAAoB,EAAQ,iBAAiB,EAAI,IACjD,EAAgB,EAAQ,YAAY,EAAI,IACxC,EAAe,EAAQ,YAAY,EAAI,IACvC,EAAgB,EAAQ,aAAa,EAAI,IACzC,EAAgB,EAAQ,aAAa,EAAI,IACzC,EAAW,EAAQ,OAAO,EAAI,IAC9B,EAAgB,EAAQ,cAAc,EAAI,IAC1C,EAAgB,EAAQ,cAAc,EAAI,IAC1C,EAAQ,EAAQ,IAAI,EAAI,IACxB,EAAc,EAAQ,WAAW,EAAI,IACrC,EAAW,EAAQ,OAAO,EAAI,IAC9B,GAAgB,EAAQ,aAAa,EAAI,IACzC,GAAS,EAAQ,KAAK,EAAI,IAC1B,GAAa,EAAQ,UAAU,EAAI,eACnC,GAAY,EAAQ,SAAS,EAAI,IAErC,EAAG,CAAC,EAAM,EAAQ,EAwDhB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAM,aAAc,WAChC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,mDACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WAAC,0BACO,EAAQ,IAAI,OAIxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,sBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,gBAAO,WACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,OAG3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAY,eAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,YACH,MAAO,EACP,SAAW,AAAD,GAAO,EAAa,EAAE,MAAM,CAAC,KAAK,UAIlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,gBACP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAM,cAAe,YAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAY,GAAG,CAAE,AAAD,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAe,MAAO,EAAE,KAAK,UACrC,EAAE,KAAK,EADO,EAAE,KAAK,WAOhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,iBACP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAQ,cAAe,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAQ,GAAG,CAAC,AAAC,GACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAe,MAAO,EAAE,KAAK,UACrC,EAAE,KAAK,EADO,EAAE,KAAK,WAOhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,WACP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,EAAQ,cAAe,YACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAc,GAAG,CAAE,AAAD,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAe,MAAO,EAAE,KAAK,UACrC,EAAE,KAAK,EADO,EAAE,KAAK,iBAWpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,2BAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,4BAAmB,sBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,mBACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAoB,EAAE,MAAM,CAAC,KAAK,OAGvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,4BAAmB,sBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,mBACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAoB,EAAE,MAAM,CAAC,KAAK,OAGvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,iBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,MAAO,EACP,SAAW,AAAD,GAAO,EAAgB,EAAE,MAAM,CAAC,KAAK,aAOvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,wBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,iBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,cACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAe,EAAE,MAAM,CAAC,KAAK,OAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,KAAK,QACL,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,OAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,UAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,UAIrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,YACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,UACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,YAAY,mBAMlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,YAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,mBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,OAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,mBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAgB,EAAE,MAAM,CAAC,KAAK,OAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,gBAAO,SACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,OAG3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,sBAAa,gBAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,aACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,OAGjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,YACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,UACH,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,aAOlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,mBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAe,kBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,eACH,MAAO,GACP,SAAU,AAAC,GAAM,GAAgB,EAAE,MAAM,CAAC,KAAK,EAC/C,YAAY,sBAMlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,eAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UAAC,eACP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAO,GAAW,cAAe,aACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAY,GAAG,CAAE,AAAD,GACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAe,MAAO,EAAE,KAAK,UACrC,EAAE,KAAK,EADO,EAAE,KAAK,WAOhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,WACH,MAAO,GACP,SAAU,AAAC,GAAM,GAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,KAAM,UAMZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,GAAG,QACH,MAAO,GACP,SAAU,AAAC,GAAM,GAAS,EAAE,MAAM,CAAC,KAAK,EACxC,KAAM,UAKZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,QAAS,IAAM,GAAa,GAC5B,SAAU,WACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QA5TG,CA4TM,IA3TvB,EAAgB,UACd,GAAI,CAAC,EAAK,IAAI,GAAI,YAChB,EAAA,KAAK,CAAC,KAAK,CAAC,4BAId,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAC,+BAA+B,EAAE,EAAQ,EAAE,CAAA,CAAE,CAAE,CAC3E,OAAQ,QACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CACnB,KAAM,EAAK,IAAI,GACf,WAAY,EAAU,IAAI,IAAM,UAChC,EACA,QAAS,SACT,EACA,kBAAmB,EAAiB,IAAI,IAAM,KAC9C,kBAAmB,EAAiB,IAAI,IAAM,KAC9C,aAAc,EAAa,IAAI,IAAM,KACrC,aAAc,EAAY,IAAI,IAAM,KACpC,cAAe,EAAa,IAAI,IAAM,KACtC,cAAe,EAAa,IAAI,IAAM,KACtC,QAAS,EAAQ,IAAI,IAAM,KAC3B,eAAgB,EAAa,IAAI,IAAM,KACvC,eAAgB,EAAa,IAAI,IAAM,KACvC,KAAM,EAAK,IAAI,IAAM,KACrB,YAAa,EAAW,IAAI,IAAM,KAClC,QAAS,EAAQ,IAAI,IAAM,KAC3B,cAAe,GAAa,IAAI,IAAM,KACtC,MAAO,GAAM,IAAI,IAAM,KACvB,WAAY,GACZ,UAAW,GAAS,IAAI,IAAM,IAChC,EACF,GAEA,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAO,MAAM,EAAS,IAAI,GAAG,KAAK,CAAC,IAAM,MAC/C,QAAQ,KAAK,CAAC,0DAA2D,GACzE,EAAA,KAAK,CAAC,KAAK,CAAC,GAAM,OAAS,4BAC3B,MACF,CAEA,EAAA,KAAK,CAAC,OAAO,CAAC,2CACd,GAAa,GACb,EAAO,OAAO,EAChB,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,uCAAwC,GACtD,EAAA,KAAK,CAAC,KAAK,CAAC,2BACd,CACF,EACF,EAyQqC,SAAU,WACpC,EAAY,YAAc,wBAMvC,CDjbA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAmFA,IAAM,EAAuC,CAC3C,KAAQ,OACR,UAAa,YACb,iBAAkB,iBAClB,OAAU,SACV,UAAa,YACb,MAAS,OACX,EAEO,SAAS,EAA8B,SAC5C,CAAO,aACP,CAAW,eACX,CAAa,CACsB,EACnC,GAAM,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE7C,EAAc,CAClB,EAAQ,cAAc,CACtB,EAAQ,cAAc,CACtB,EAAQ,IAAI,CACZ,EAAQ,WAAW,CACnB,EAAQ,OAAO,CAChB,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,MAEvB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,iCACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,KAAK,gBAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,gBAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAQ,QAAQ,CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EAAQ,QAAQ,CACrB,IAAK,EAAQ,IAAI,CACjB,UAAU,wCAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,oCAGxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAsC,EAAQ,IAAI,GAChE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCACV,CAAY,CAAC,EAAQ,OAAO,CAAC,EAAI,EAAQ,OAAO,CAChD,EAAQ,YAAY,EAAI,CAAC,GAAG,EAAE,EAAQ,YAAY,CAAA,CAAE,UAI3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,cAAc,AAAd,EAAe,EAAQ,MAAM,CAAE,EAAA,YAAY,WAC1D,EAAQ,MAAM,GAEhB,EAAQ,UAAU,EACjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAQ,UAAU,CAAE,EAAA,SAAS,YAAG,QACzD,EAAQ,UAAU,CAAC,OAAO,CAAC,IAAK,QAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,GAAkB,aACvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,gBAOvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,oBAIjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAsB,EAAY,MAAM,QAI3D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,iBAIpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAsB,SAIzC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,kBAIlC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACZ,EAAQ,UAAU,EAAE,QAAQ,IAAK,MAAQ,qBAKhD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,eAIjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACZ,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,IAAI,KAAK,EAAQ,UAAU,EAAG,CAAE,WAAW,CAAK,aAO7E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,WAAW,UAAU,YAAY,GAAI,CAAC,wBAAwB,EAAE,EAAQ,EAAE,CAAA,CAAE,WAC7F,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,oBAAW,aAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,mBAAU,YAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,yBAAgB,kBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,wBAAe,iBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,oBAAW,gBAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,WAAW,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,yBAIrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,eAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,UAAU,EAAI,EAAQ,IAAI,MAEhE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,gBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAQ,IAAI,MAErD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,iBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,CAAY,CAAC,EAAQ,OAAO,CAAC,EAAI,EAAQ,OAAO,MAE9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,WAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,cAAc,AAAd,EAAe,EAAQ,MAAM,CAAE,EAAA,YAAY,WAC1D,EAAQ,MAAM,cAQzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,8BAIrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,sBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,iBAAiB,EAAI,qBAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,sBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,iBAAiB,EAAI,qBAE3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,iBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,YAAY,EAAI,6BAO5D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,2BAIhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,EAAQ,YAAY,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kCACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAQ,YAAY,MAG9B,EAAQ,aAAa,EACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,kCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,CAAC,OAAO,EAAE,EAAQ,aAAa,CAAA,CAAE,CAAE,UAAU,wCACnD,EAAQ,aAAa,MAI3B,EAAQ,aAAa,EACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kCACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAQ,aAAa,MAG/B,EAAQ,OAAO,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kCACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAQ,OAAO,CAAE,OAAO,SAAS,IAAI,sBAAsB,UAAU,wCAC3E,EAAQ,OAAO,MAIrB,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,uCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,OAGV,CAAC,EAAQ,YAAY,EAAI,CAAC,EAAQ,aAAa,EAAI,CAAC,EAAQ,aAAa,EACxE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,2CAMnD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,YAAY,sBAItC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,kBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAQ,aAAa,EAAI,qBAEvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,mBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBACV,EAAQ,mBAAmB,CACxB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAQ,mBAAmB,EAAG,eAC9C,qBAGR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,iBAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBACV,EAAQ,iBAAiB,CACtB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAQ,iBAAiB,EAAG,eAC5C,6BAQd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,uDACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,kBAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,KAAK,QAAS,IAAM,GAAoB,YAAO,mBAIhF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACc,IAAvB,EAAY,MAAM,CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,+CAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAY,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,oFAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAe,EAAK,WAAW,EAAI,EAAK,KAAK,GAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAK,KAAK,MAE1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAK,IAAI,GAEX,EAAK,SAAS,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,gDAAuC,YAEzD,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,oDAA2C,aAE7D,EAAK,oBAAoB,EACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kDAAyC,iBAlBzD,EAAK,MAAM,UA6B3B,EAAQ,KAAK,EACZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0BACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,8CACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,aAIpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA+B,EAAQ,KAAK,WAO/C,eAAjB,EAAQ,IAAI,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,oBAAoB,CAAA,CACnB,KAAM,CACJ,WAAY,EAAQ,UAAU,CAC9B,YAAa,EAAQ,WAAW,CAChC,UAAW,EAAQ,SAAS,CAC5B,YAAa,EAAQ,WAAW,CAChC,cAAe,EAAQ,aAAa,CACpC,iBAAkB,EAAQ,gBAAgB,CAC1C,YAAa,EAAQ,WAAW,CAChC,MAAO,EAAQ,KAAK,EAAI,EAAQ,aAAa,CAC7C,aAAc,EAAQ,YAAY,CAClC,aAAc,EAAQ,YAAY,CAClC,mBAAoB,EAAQ,kBAAkB,CAC9C,mBAAoB,EAAQ,kBAAkB,CAC9C,iBAAkB,EAAQ,gBAAgB,CAC1C,kBAAmB,EAAQ,iBAAiB,CAC5C,wBAAyB,EAAQ,uBAAuB,CACxD,oBAAqB,EAAQ,mBAAmB,CAChD,cAAe,EAAQ,aAAa,CACpC,eAAgB,EAAQ,cAAc,CACtC,eAAgB,EAAQ,cAAc,CACtC,yBAA0B,EAAQ,wBAAwB,CAC1D,QAAS,EAAQ,OAAO,CACxB,UAAW,EAAQ,SAAS,CAC5B,cAAe,EAAQ,aAAa,CACpC,eAAgB,EAAQ,cAAc,CACtC,mBAAoB,EAAQ,kBAAkB,AAChD,EACA,gBAAgB,EAChB,OAAQ,IAAM,GAAiB,GAC/B,MAAM,gCAMZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,mBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,qBAAqB,CAAA,CACpB,WAAW,qBACX,SAAU,EAAQ,EAAE,CACpB,WAAY,EAAQ,IAAI,KAK5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,yBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACd,WAAW,qBACX,SAAU,EAAQ,EAAE,CACpB,WAAY,EAAQ,IAAI,KAK5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,wBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,WAAW,qBAAqB,SAAU,EAAQ,EAAE,CAAE,WAAY,EAAQ,IAAI,KAIhG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,oBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAClB,WAAW,qBACX,SAAU,EAAQ,EAAE,CACpB,WAAY,EAAQ,IAAI,QAM9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,aAAc,EACd,QAAS,IAGX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,KAAM,EACN,aAAc,EACd,WAAW,qBACX,SAAU,EAAQ,EAAE,CACpB,WAAY,EAAQ,IAAI,GAGR,eAAjB,EAAQ,IAAI,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAClB,KAAM,EACN,aAAc,EACd,WAAW,qBACX,SAAU,EAAQ,EAAE,CACpB,WAAY,EAAQ,IAAI,CACxB,YAAa,CAAC,+BAA+B,EAAE,EAAQ,EAAE,CAAA,CAAE,CAC3D,YAAa,CACX,WAAY,EAAQ,UAAU,OAAI,EAClC,YAAa,EAAQ,WAAW,OAAI,EACpC,UAAW,EAAQ,SAAS,OAAI,EAChC,YAAa,EAAQ,WAAW,OAAI,EACpC,cAAe,EAAQ,aAAa,EAAI,OACxC,iBAAkB,EAAQ,gBAAgB,OAAI,EAC9C,YAAa,EAAQ,WAAW,OAAI,EACpC,MAAO,CAAC,EAAQ,KAAK,EAAI,EAAQ,aAAA,AAAa,GAAK,OACnD,aAAc,EAAQ,YAAY,OAAI,EACtC,aAAc,EAAQ,YAAY,OAAI,EACtC,mBAAoB,EAAQ,kBAAkB,OAAI,EAClD,mBAAoB,EAAQ,kBAAkB,OAAI,EAClD,iBAAkB,EAAQ,gBAAgB,OAAI,EAC9C,kBAAmB,EAAQ,iBAAiB,OAAI,EAChD,wBAAyB,EAAQ,uBAAuB,OAAI,EAC5D,oBAAqB,EAAQ,mBAAmB,OAAI,EACpD,cAAe,EAAQ,aAAa,OAAI,EACxC,eAAgB,EAAQ,cAAc,OAAI,EAC1C,eAAgB,EAAQ,cAAc,OAAI,EAC1C,yBAA0B,EAAQ,wBAAwB,OAAI,EAC9D,QAAS,EAAQ,OAAO,OAAI,EAC5B,UAAW,EAAQ,SAAS,EAAI,OAChC,cAAe,EAAQ,aAAa,OAAI,EACxC,eAAgB,EAAQ,cAAc,OAAI,EAC1C,mBAAoB,EAAQ,kBAAkB,OAAI,CACpD,EACA,UAAW,IAAM,OAAO,QAAQ,CAAC,MAAM,OAKjD"}