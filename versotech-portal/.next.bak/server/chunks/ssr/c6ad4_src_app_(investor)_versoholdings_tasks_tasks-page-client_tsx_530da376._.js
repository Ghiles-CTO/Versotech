module.exports=[90506,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(289633),e=a.i(58834),f=a.i(284169),g=a.i(421908),h=a.i(15788),i=a.i(470305),j=a.i(399580),k=a.i(42329),l=a.i(877918),m=a.i(672606),n=a.i(278541),o=a.i(816854),p=a.i(724070),q=a.i(325866),r=a.i(168118),s=a.i(711903),t=a.i(691064),u=a.i(966494),v=a.i(823879),w=a.i(429306),x=a.i(175846),y=a.i(675167),z=a.i(468095),A=a.i(618287),B=a.i(888987),C=a.i(899750);function D({userId:a,investorIds:D=[],tasksByVehicle:E,onboardingTasks:F,staffCreatedTasks:G,generalComplianceTasks:H,signatureTasks:I}){let[J,K]=(0,c.useState)(E),[L,M]=(0,c.useState)(F),[N,O]=(0,c.useState)(G),[P,Q]=(0,c.useState)(H),[R,S]=(0,c.useState)(I),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)({onboarding:!0,staffCreated:!0,kyc:!0,signatures:!0}),ab=(0,d.useRouter)(),ac=(0,c.useCallback)(async()=>{let b=(0,e.createClient)().from("tasks").select("*");b=D.length>0?b.or(`owner_user_id.eq.${a},owner_investor_id.in.(${D.join(",")})`):b.eq("owner_user_id",a);let{data:c}=await b.order("due_at",{ascending:!0,nullsFirst:!1}).order("created_at",{ascending:!0});if(c){let a={high:0,medium:1,low:2},b=c.sort((b,c)=>{let d=a[b.priority]??99,e=a[c.priority]??99;return d!==e?d-e:b.due_at!==c.due_at?b.due_at?c.due_at?new Date(b.due_at).getTime()-new Date(c.due_at).getTime():-1:1:new Date(b.created_at).getTime()-new Date(c.created_at).getTime()});M(b.filter(a=>"onboarding"===a.category&&!a.related_entity_id)),O(b.filter(a=>!a.category&&!a.related_entity_id)),Q(b.filter(a=>("kyc"===a.category||"compliance"===a.category||"investment_setup"===a.category)&&(!a.related_entity_id||"signature_request"===a.related_entity_type||"subscription"===a.related_entity_type))),S(b.filter(a=>"signatures"===a.category&&(!a.related_entity_id||"signature_request"===a.related_entity_type))),K(a=>a.map(a=>({...a,tasks:b.filter(b=>"vehicle"===b.related_entity_type&&b.related_entity_id===a.vehicle.id)})))}},[a,D]);async function ad(a,b){W(!0);let c=(0,e.createClient)(),{error:d}=await c.from("tasks").update({status:"in_progress",started_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",a);if(d){console.error("Failed to start task:",d),C.toast.error("Failed to start task. Please try again."),W(!1);return}W(!1),U(null),b?ab.push(b):await ac()}async function ae(b){W(!0);let c=(0,e.createClient)(),{error:d}=await c.from("tasks").update({status:"completed",completed_at:new Date().toISOString(),completed_by:a,updated_at:new Date().toISOString()}).eq("id",b);if(d){console.error("Failed to complete task:",d),C.toast.error("Failed to complete task. Please try again."),W(!1);return}C.toast.success("Task completed successfully"),W(!1),U(null),await ac()}async function af(a){W(!0);let b=(0,e.createClient)(),{error:c}=await b.from("tasks").update({status:"pending",started_at:null,updated_at:new Date().toISOString()}).eq("id",a);if(c){console.error("Failed to cancel task:",c),C.toast.error("Failed to cancel task. Please try again."),W(!1);return}W(!1),U(null),await ac()}async function ag(a,b){Y(!0),$(null);try{let c=ah(b);if(!c){$("Unable to determine document type for this task"),Y(!1);return}let d=new FormData;d.append("file",a),d.append("documentType",c),d.append("taskId",b.id);let e=await fetch("/api/investors/me/documents/upload",{method:"POST",body:d});if(!e.ok){let a=await e.json();throw Error(a.error||"Upload failed")}let f=await e.json();C.toast.success(f.task_completed?"Document uploaded successfully and task completed":"Document uploaded successfully and is pending review"),await ac(),U(null)}catch(a){console.error("Upload error:",a),$(a.message||"Failed to upload document"),C.toast.error(a.message||"Failed to upload document")}finally{Y(!1)}}function ah(a){let b=a.title.toLowerCase();return b.includes("government id")||b.includes("passport")||b.includes("driver")?"government_id":b.includes("proof of address")||b.includes("utility bill")?"proof_of_address":b.includes("accreditation")?"accreditation_letter":b.includes("bank statement")?"bank_statement":b.includes("entity formation")||b.includes("incorporation")?"entity_formation_docs":b.includes("beneficial ownership")?"beneficial_ownership":null}(0,c.useEffect)(()=>{let b=(0,e.createClient)(),c=b.channel("tasks_updates").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`owner_user_id=eq.${a}`},()=>{ac()}).subscribe();return()=>{b.removeChannel(c)}},[a,ac]);let ai=a=>{let c={pending:{label:"Pending",className:"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"},in_progress:{label:"In Progress",className:"bg-blue-50 dark:bg-blue-950 text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-800"},completed:{label:"Completed",className:"bg-green-50 dark:bg-green-950 text-green-700 dark:text-green-300 border-green-200 dark:border-green-800"},overdue:{label:"Overdue",className:"bg-red-50 dark:bg-red-950 text-red-700 dark:text-red-300 border-red-200 dark:border-red-800"},blocked:{label:"Blocked",className:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-300 dark:border-gray-700"}},d=c[a]||c.pending;return(0,b.jsx)(h.Badge,{variant:"outline",className:(0,B.cn)("text-xs font-normal",d.className),children:d.label})},aj=a=>a.due_at&&new Date(a.due_at)<new Date&&"completed"!==a.status,ak=({task:a})=>{var c;let d=aj(a),e="completed"===a.status||"waived"===a.status;return(0,b.jsxs)("div",{className:(0,B.cn)("group flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-zinc-800 hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",e&&"bg-green-50/30 dark:bg-green-950/20"),children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0 cursor-pointer",onClick:()=>U(a),children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:e?(0,b.jsx)(j.CheckCircle2,{className:"h-5 w-5 text-green-600 dark:text-green-400"}):d?(0,b.jsx)(l.AlertCircle,{className:"h-5 w-5 text-red-600 dark:text-red-400"}):(0,b.jsx)(k.Clock,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["high"===(c=a.priority)?(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}):"medium"===c?(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}):(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 dark:bg-gray-600"}),(0,b.jsx)("h3",{className:(0,B.cn)("text-sm font-medium text-gray-900 dark:text-gray-100 truncate",e&&"text-gray-500 dark:text-gray-400"),children:a.title})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[a.due_at&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.Calendar,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:(0,B.cn)(d&&"text-red-600 font-medium"),children:new Date(a.due_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),a.estimated_minutes&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Clock,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:[a.estimated_minutes," min"]})]}),a.started_at&&!e&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-blue-600",children:[(0,b.jsx)(w.Play,{className:"h-3 w-3"}),(0,b.jsxs)("span",{children:["Started ",new Date(a.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:ai(a.status)})]}),!e&&(0,b.jsxs)(g.Button,{size:"sm",onClick:b=>{b.stopPropagation(),U(a)},className:"ml-3 bg-blue-600 hover:bg-blue-700 text-white",disabled:"blocked"===a.status,children:["in_progress"===a.status?"Continue":"Start",(0,b.jsx)(m.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})},al=({title:a,icon:c,tasks:d,sectionKey:e,badge:g})=>{let i=d.filter(a=>"completed"!==a.status&&"waived"!==a.status),k=d.filter(a=>"completed"===a.status||"waived"===a.status),l=_[e]??!0;return 0===d.length?null:(0,b.jsxs)(f.Card,{className:"border border-gray-200 dark:border-zinc-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors border-b border-gray-100 dark:border-zinc-800",onClick:()=>{aa(a=>({...a,[e]:!a[e]}))},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-50 dark:bg-blue-950 rounded-lg flex items-center justify-center",children:(0,b.jsx)(c,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:a}),g]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:[i.length," pending · ",k.length," completed"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-white dark:bg-zinc-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-zinc-700",children:d.length}),l?(0,b.jsx)(s.ChevronUp,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"}):(0,b.jsx)(r.ChevronDown,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})]})]}),l&&(0,b.jsxs)(f.CardContent,{className:"p-0",children:[i.length>0?(0,b.jsx)("div",{children:i.map(a=>(0,b.jsx)(ak,{task:a},a.id))}):(0,b.jsx)("div",{className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:"All tasks completed"}),k.length>0&&(0,b.jsxs)("details",{className:"border-t border-gray-100 dark:border-zinc-800",children:[(0,b.jsxs)("summary",{className:"px-6 py-3 text-sm text-gray-600 dark:text-gray-400 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-800/50 flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),(0,b.jsxs)("span",{children:["Completed (",k.length,")"]})]}),(0,b.jsx)("div",{children:k.map(a=>(0,b.jsx)(ak,{task:a},a.id))})]})]})]})},am=[...L,...N,...P,...R,...J.flatMap(a=>a.tasks)],an=am.filter(a=>"completed"!==a.status&&"waived"!==a.status).length,ao=am.filter(a=>"completed"===a.status||"waived"===a.status).length,ap=am.filter(a=>"in_progress"===a.status).length,aq=am.filter(aj).length,ar=am.length>0?Math.round(ao/am.length*100):0;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"border-b border-gray-200 dark:border-zinc-700 pb-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Tasks & Onboarding"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your investment tasks and requirements"})]}),aq>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,b.jsx)(l.AlertCircle,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),(0,b.jsxs)("span",{className:"text-sm font-medium text-red-900 dark:text-red-200",children:[aq," Overdue"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,b.jsx)(f.Card,{className:"border border-gray-200 dark:border-zinc-700",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)(t.ListChecks,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Total"})]}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:am.length})]})}),(0,b.jsx)(f.Card,{className:"border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-950",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-1",children:[(0,b.jsx)(k.Clock,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Pending"})]}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-blue-900 dark:text-blue-200",children:an})]})}),(0,b.jsx)(f.Card,{className:"border border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-950",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-yellow-600 dark:text-yellow-400 mb-1",children:[(0,b.jsx)(u.TrendingUp,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Active"})]}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-yellow-900 dark:text-yellow-200",children:ap})]})}),(0,b.jsx)(f.Card,{className:"border border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 mb-1",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Done"})]}),(0,b.jsx)("div",{className:"text-2xl font-semibold text-green-900 dark:text-green-200",children:ao})]})}),(0,b.jsx)(f.Card,{className:"border border-gray-200 dark:border-zinc-700",children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)(u.TrendingUp,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide",children:"Progress"})]}),(0,b.jsxs)("div",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:[ar,"%"]})]})})]})]}),N.length>0&&(0,b.jsx)(al,{title:"Created by VERSO Holdings for you",icon:q.User,tasks:N,sectionKey:"staffCreated",badge:(0,b.jsx)(h.Badge,{className:"bg-blue-600 text-white text-xs",children:"Custom"})}),(0,b.jsx)(al,{title:"Account Onboarding",icon:o.FileText,tasks:L,sectionKey:"onboarding"}),P.length>0&&(0,b.jsx)(al,{title:"KYC & Compliance",icon:y.FileCheck,tasks:P,sectionKey:"kyc"}),R.length>0&&(0,b.jsx)(al,{title:"Signatures",icon:o.FileText,tasks:R,sectionKey:"signatures"}),J.map(a=>(0,b.jsx)(al,{title:a.vehicle.name,icon:n.Building2,tasks:a.tasks,sectionKey:`vehicle-${a.vehicle.id}`,badge:(0,b.jsx)(h.Badge,{variant:"outline",className:"bg-gray-50 dark:bg-zinc-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-zinc-700 text-xs",children:a.vehicle.type.toUpperCase()})},a.vehicle.id)),0===an&&(0,b.jsx)(f.Card,{className:"border-2 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950",children:(0,b.jsxs)(f.CardContent,{className:"p-12 text-center",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-16 w-16 text-green-600 dark:text-green-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"All Tasks Completed"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Excellent work! You've completed all your pending tasks."})]})})]}),(0,b.jsx)(i.Dialog,{open:!!T,onOpenChange:a=>!a&&U(null),children:(0,b.jsxs)(i.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between pr-6",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(i.DialogTitle,{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:T?.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[T&&ai(T.status),T?.priority&&(0,b.jsxs)(h.Badge,{variant:"outline",className:(0,B.cn)("text-xs","high"===T.priority&&"border-red-200 text-red-700","medium"===T.priority&&"border-yellow-200 text-yellow-700"),children:[T.priority," priority"]})]})]})})}),(0,b.jsxs)("div",{className:"space-y-6",children:[T?.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Overview"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:T.description})]}),T?.instructions&&(0,b.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,b.jsx)(x.CheckCheck,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"Task Breakdown"]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Steps to Complete"}),(0,b.jsx)("ol",{className:"space-y-1.5 text-sm text-gray-700 dark:text-gray-300",children:T.instructions.steps.map((a,c)=>(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsxs)("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:[c+1,"."]}),(0,b.jsx)("span",{children:a})]},c))})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Requirements"}),(0,b.jsx)("ul",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:T.instructions.requirements.map((a,c)=>(0,b.jsxs)("li",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"•"}),(0,b.jsx)("span",{children:a})]},c))})]}),T.instructions.wire_details&&(0,b.jsxs)("div",{className:"bg-white dark:bg-zinc-900 border border-blue-200 dark:border-blue-800 rounded p-3",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Wire Transfer Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),(0,b.jsx)("span",{className:"ml-2 font-semibold text-foreground",children:T.instructions.wire_details.amount})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Bank:"}),(0,b.jsx)("span",{className:"ml-2 font-semibold text-foreground",children:T.instructions.wire_details.bank})]})]})]}),T.instructions.assigned_by&&(0,b.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 pt-2 border-t border-blue-200 dark:border-blue-800",children:[(0,b.jsx)("span",{children:"Assigned by: "}),(0,b.jsx)("span",{className:"font-medium",children:T.instructions.assigned_by})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[T?.due_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Due Date"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.Calendar,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),(0,b.jsx)("span",{className:(0,B.cn)("font-medium",aj(T)?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100"),children:new Date(T.due_at).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]}),T?.estimated_minutes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Time Required"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Clock,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),(0,b.jsxs)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:[T.estimated_minutes," minutes"]})]})]}),T?.started_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Started On"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(w.Play,{className:"h-4 w-4 text-blue-400"}),(0,b.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:new Date(T.started_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),T?.completed_at&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-1",children:"Completed On"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 text-green-400"}),(0,b.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:new Date(T.completed_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]}),T&&(T.title.toLowerCase().includes("upload")||null!==ah(T))&&"completed"!==T.status&&"waived"!==T.status&&(0,b.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-3 flex items-center gap-2",children:[(0,b.jsx)(z.Upload,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),"Upload Document"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:["Upload your ",ah(T)?.replace(/_/g," ")," to complete this task automatically."]}),(0,b.jsx)("input",{type:"file",id:"task-document-upload",className:"hidden",accept:".pdf,.jpg,.jpeg,.png,.heic,.webp",onChange:a=>{let b=a.target.files?.[0];b&&T&&ag(b,T)},disabled:X}),(0,b.jsx)("label",{htmlFor:"task-document-upload",children:(0,b.jsx)(g.Button,{variant:"outline",className:"w-full border-blue-300 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900",disabled:X,asChild:!0,children:(0,b.jsxs)("span",{children:[(0,b.jsx)(z.Upload,{className:"h-4 w-4 mr-2"}),X?"Uploading...":"Choose File to Upload"]})})}),Z&&(0,b.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:Z}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Accepted formats: PDF, JPG, PNG, HEIC, WEBP (Max 10MB)"})]}),T?.related_entity_type==="signature_request"&&T?.instructions?.action_url&&(0,b.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/50 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Ready to Sign"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:"Click below to open the signature page and complete your signature."}),(0,b.jsxs)("a",{href:T.instructions.action_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:["Open Signature Page",(0,b.jsx)(A.ExternalLink,{className:"h-4 w-4"})]})]}),T&&"completed"!==T.status&&"waived"!==T.status&&(0,b.jsx)("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200 dark:border-zinc-700",children:"pending"===T.status?(0,b.jsxs)(g.Button,{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>ad(T.id,T.action_url),disabled:V,children:[(0,b.jsx)(w.Play,{className:"h-4 w-4 mr-2"}),T.action_url?"Go to Task":"Start Task"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Button,{variant:"outline",className:"border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-800",onClick:()=>af(T.id),disabled:V,children:[(0,b.jsx)(v.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),T.action_url&&(0,b.jsxs)(g.Button,{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>ab.push(T.action_url),children:[(0,b.jsx)(w.Play,{className:"h-4 w-4 mr-2"}),"Continue Task"]}),(0,b.jsxs)(g.Button,{className:"flex-1 bg-green-600 hover:bg-green-700 text-white",onClick:()=>ae(T.id),disabled:V,children:[(0,b.jsx)(j.CheckCircle2,{className:"h-4 w-4 mr-2"}),"Complete"]})]})})]})]})})]})}a.s(["TasksPageClient",()=>D])}];

//# sourceMappingURL=c6ad4_src_app_%28investor%29_versoholdings_tasks_tasks-page-client_tsx_530da376._.js.map