module.exports=[296432,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(497412),e=a.i(284169),f=a.i(15788),g=a.i(421908),h=a.i(181608),i=a.i(975965),j=a.i(278541),k=a.i(439467),l=a.i(231276),m=a.i(318525),n=a.i(806640),o=a.i(816854),p=a.i(42329),q=a.i(496392),r=a.i(405398),s=a.i(478870),t=a.i(203422),u=a.i(675167),v=a.i(13542),w=a.i(380640),x=a.i(948153),y=a.i(289633),z=a.i(470305),A=a.i(663475),B=a.i(249464),C=a.i(191675),D=a.i(951870),E=a.i(899750);let F=[{label:"Entity",value:"entity"},{label:"Individual",value:"individual"}],G=[{label:"Bank",value:"bank"},{label:"Insurance",value:"insurance"},{label:"Wealth Manager",value:"wealth-manager"},{label:"Broker",value:"broker"},{label:"Custodian",value:"custodian"},{label:"Other",value:"other"}],H=[{label:"Active",value:"active"},{label:"Pending",value:"pending"},{label:"Inactive",value:"inactive"}],I=[{label:"Not Started",value:"not_started"},{label:"Pending",value:"pending"},{label:"Approved",value:"approved"},{label:"Expired",value:"expired"},{label:"Rejected",value:"rejected"}];function J({open:a,onOpenChange:d,partner:e}){let f=(0,y.useRouter)(),[h,i]=(0,c.useTransition)(),[j,k]=(0,c.useState)(e.name),[l,m]=(0,c.useState)(e.legal_name||""),[n,o]=(0,c.useState)(e.type),[p,q]=(0,c.useState)(e.cp_type),[r,s]=(0,c.useState)(e.status),[t,u]=(0,c.useState)(e.regulatory_status||""),[v,w]=(0,c.useState)(e.regulatory_number||""),[x,J]=(0,c.useState)(e.jurisdiction||""),[K,L]=(0,c.useState)(e.contact_name||""),[M,N]=(0,c.useState)(e.contact_email||""),[O,P]=(0,c.useState)(e.contact_phone||""),[Q,R]=(0,c.useState)(e.website||""),[S,T]=(0,c.useState)(e.address_line_1||""),[U,V]=(0,c.useState)(e.address_line_2||""),[W,X]=(0,c.useState)(e.city||""),[Y,Z]=(0,c.useState)(e.postal_code||""),[$,_]=(0,c.useState)(e.country||""),[aa,ab]=(0,c.useState)(e.payment_terms||""),[ac,ad]=(0,c.useState)(e.notes||""),[ae,af]=(0,c.useState)(e.kyc_status||"not_started"),[ag,ah]=(0,c.useState)(e.kyc_notes||"");return(0,c.useEffect)(()=>{a&&(k(e.name),m(e.legal_name||""),o(e.type),q(e.cp_type),s(e.status),u(e.regulatory_status||""),w(e.regulatory_number||""),J(e.jurisdiction||""),L(e.contact_name||""),N(e.contact_email||""),P(e.contact_phone||""),R(e.website||""),T(e.address_line_1||""),V(e.address_line_2||""),X(e.city||""),Z(e.postal_code||""),_(e.country||""),ab(e.payment_terms||""),ad(e.notes||""),af(e.kyc_status||"not_started"),ah(e.kyc_notes||""))},[a,e]),(0,b.jsx)(z.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(z.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(z.DialogHeader,{children:[(0,b.jsx)(z.DialogTitle,{children:"Edit Commercial Partner"}),(0,b.jsxs)(z.DialogDescription,{children:["Update information for ",e.name]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(A.Input,{id:"name",value:j,onChange:a=>k(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"legalName",children:"Legal Name"}),(0,b.jsx)(A.Input,{id:"legalName",value:l,onChange:a=>m(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{children:"Entity Type"}),(0,b.jsxs)(D.Select,{value:n,onValueChange:o,children:[(0,b.jsx)(D.SelectTrigger,{children:(0,b.jsx)(D.SelectValue,{})}),(0,b.jsx)(D.SelectContent,{children:F.map(a=>(0,b.jsx)(D.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{children:"Partner Type"}),(0,b.jsxs)(D.Select,{value:p,onValueChange:q,children:[(0,b.jsx)(D.SelectTrigger,{children:(0,b.jsx)(D.SelectValue,{})}),(0,b.jsx)(D.SelectContent,{children:G.map(a=>(0,b.jsx)(D.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{children:"Status"}),(0,b.jsxs)(D.Select,{value:r,onValueChange:s,children:[(0,b.jsx)(D.SelectTrigger,{children:(0,b.jsx)(D.SelectValue,{})}),(0,b.jsx)(D.SelectContent,{children:H.map(a=>(0,b.jsx)(D.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Regulatory Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"regulatoryStatus",children:"Regulatory Status"}),(0,b.jsx)(A.Input,{id:"regulatoryStatus",value:t,onChange:a=>u(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"regulatoryNumber",children:"Regulatory Number"}),(0,b.jsx)(A.Input,{id:"regulatoryNumber",value:v,onChange:a=>w(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"jurisdiction",children:"Jurisdiction"}),(0,b.jsx)(A.Input,{id:"jurisdiction",value:x,onChange:a=>J(a.target.value)})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"contactName",children:"Contact Name"}),(0,b.jsx)(A.Input,{id:"contactName",value:K,onChange:a=>L(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"contactEmail",children:"Email"}),(0,b.jsx)(A.Input,{id:"contactEmail",type:"email",value:M,onChange:a=>N(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"contactPhone",children:"Phone"}),(0,b.jsx)(A.Input,{id:"contactPhone",value:O,onChange:a=>P(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"website",children:"Website"}),(0,b.jsx)(A.Input,{id:"website",value:Q,onChange:a=>R(a.target.value),placeholder:"https://"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Address"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"addressLine1",children:"Address Line 1"}),(0,b.jsx)(A.Input,{id:"addressLine1",value:S,onChange:a=>T(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"addressLine2",children:"Address Line 2"}),(0,b.jsx)(A.Input,{id:"addressLine2",value:U,onChange:a=>V(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(A.Input,{id:"city",value:W,onChange:a=>X(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"postalCode",children:"Postal Code"}),(0,b.jsx)(A.Input,{id:"postalCode",value:Y,onChange:a=>Z(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"country",children:"Country"}),(0,b.jsx)(A.Input,{id:"country",value:$,onChange:a=>_(a.target.value)})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"Business Terms"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,b.jsx)(A.Input,{id:"paymentTerms",value:aa,onChange:a=>ab(a.target.value),placeholder:"e.g. Net 30"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h4",{className:"text-sm font-medium border-b pb-2",children:"KYC Status"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{children:"KYC Status"}),(0,b.jsxs)(D.Select,{value:ae,onValueChange:af,children:[(0,b.jsx)(D.SelectTrigger,{children:(0,b.jsx)(D.SelectValue,{})}),(0,b.jsx)(D.SelectContent,{children:I.map(a=>(0,b.jsx)(D.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"kycNotes",children:"KYC Notes"}),(0,b.jsx)(C.Textarea,{id:"kycNotes",value:ag,onChange:a=>ah(a.target.value),rows:2})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(B.Label,{htmlFor:"notes",children:"Notes"}),(0,b.jsx)(C.Textarea,{id:"notes",value:ac,onChange:a=>ad(a.target.value),rows:3})]})]}),(0,b.jsxs)(z.DialogFooter,{children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>d(!1),disabled:h,children:"Cancel"}),(0,b.jsx)(g.Button,{onClick:()=>{i(async()=>{if(!j.trim())return void E.toast.error("Partner name is required");try{let a=await fetch(`/api/admin/commercial-partners/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:j.trim(),legal_name:l.trim()||null,type:n,cp_type:p,status:r,regulatory_status:t.trim()||null,regulatory_number:v.trim()||null,jurisdiction:x.trim()||null,contact_name:K.trim()||null,contact_email:M.trim()||null,contact_phone:O.trim()||null,website:Q.trim()||null,address_line_1:S.trim()||null,address_line_2:U.trim()||null,city:W.trim()||null,postal_code:Y.trim()||null,country:$.trim()||null,payment_terms:aa.trim()||null,notes:ac.trim()||null,kyc_status:ae,kyc_notes:ag.trim()||null})});if(!a.ok){let b=await a.json().catch(()=>null);console.error("[EditCommercialPartnerDialog] Failed to update partner:",b),E.toast.error(b?.error??"Failed to update partner");return}E.toast.success("Commercial partner updated successfully"),d(!1),f.refresh()}catch(a){console.error("[EditCommercialPartnerDialog] Error:",a),E.toast.error("Failed to update partner")}})},disabled:h,children:h?"Saving...":"Save Changes"})]})]})})}var K=a.i(872287),L=a.i(326486),M=a.i(162477);a.i(73475);var N=a.i(493469),O=a.i(108284),P=a.i(108868),Q=a.i(698004),R=a.i(310702);let S={bank:"Bank",insurance:"Insurance","wealth-manager":"Wealth Manager",broker:"Broker",custodian:"Custodian",other:"Other"};function T({partner:a,linkedUsers:y,documentCount:z}){let[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),G=[a.address_line_1,a.address_line_2,a.city,a.postal_code,a.country].filter(Boolean).join(", ");return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/versotech_main/users",children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(i.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsx)("div",{className:"h-16 w-16 rounded-full bg-white/10 flex items-center justify-center",children:a.logo_url?(0,b.jsx)("img",{src:a.logo_url,alt:a.name,className:"h-16 w-16 rounded-full object-cover"}):(0,b.jsx)(t.Landmark,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[S[a.cp_type]||a.cp_type,a.jurisdiction&&` â€¢ ${a.jurisdiction}`]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Badge,{className:(0,R.getStatusStyle)(a.status,R.statusStyles),children:a.status}),a.kyc_status&&(0,b.jsxs)(f.Badge,{className:(0,R.getStatusStyle)(a.kyc_status,R.kycStyles),children:["KYC: ",a.kyc_status.replace("_"," ")]}),(0,b.jsxs)(g.Button,{onClick:()=>B(!0),children:[(0,b.jsx)(r.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(s.Users,{className:"h-4 w-4"}),"Linked Users"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:y.length})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(o.FileText,{className:"h-4 w-4"}),"Documents"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:z})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(q.Shield,{className:"h-4 w-4"}),"KYC Status"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-lg font-bold capitalize",children:a.kyc_status?.replace("_"," ")||"Not Started"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{className:"pb-2",children:(0,b.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(p.Clock,{className:"h-4 w-4"}),"Created"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-lg font-bold",children:(0,w.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0})})})]})]}),(0,b.jsxs)(h.Tabs,{defaultValue:"overview",className:"space-y-6",id:`commercial-partner-tabs-${a.id}`,children:[(0,b.jsxs)(h.TabsList,{children:[(0,b.jsx)(h.TabsTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(h.TabsTrigger,{value:"members",children:"Members"}),(0,b.jsx)(h.TabsTrigger,{value:"kyc-documents",children:"KYC Documents"}),(0,b.jsx)(h.TabsTrigger,{value:"bank-details",children:"Bank Details"}),(0,b.jsx)(h.TabsTrigger,{value:"activity",children:"Activity"})]}),(0,b.jsxs)(h.TabsContent,{value:"overview",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(j.Building2,{className:"h-4 w-4"}),"Basic Information"]})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Legal Name"}),(0,b.jsx)("p",{className:"font-medium",children:a.legal_name||a.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Entity Type"}),(0,b.jsx)("p",{className:"font-medium capitalize",children:a.type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Partner Type"}),(0,b.jsx)("p",{className:"font-medium",children:S[a.cp_type]||a.cp_type})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Status"}),(0,b.jsx)(f.Badge,{className:(0,R.getStatusStyle)(a.status,R.statusStyles),children:a.status})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(u.FileCheck,{className:"h-4 w-4"}),"Regulatory Information"]})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Regulatory Status"}),(0,b.jsx)("p",{className:"font-medium",children:a.regulatory_status||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Regulatory Number"}),(0,b.jsx)("p",{className:"font-medium",children:a.regulatory_number||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Jurisdiction"}),(0,b.jsx)("p",{className:"font-medium",children:a.jurisdiction||"Not specified"})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(k.Mail,{className:"h-4 w-4"}),"Contact Information"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[a.contact_name&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.Users,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.contact_name})]}),a.contact_email&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("a",{href:`mailto:${a.contact_email}`,className:"text-primary hover:underline",children:a.contact_email})]}),a.contact_phone&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(l.Phone,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.contact_phone})]}),a.website&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.Globe,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:a.website})]}),G&&(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(n.MapPin,{className:"h-4 w-4 text-muted-foreground mt-1"}),(0,b.jsx)("span",{children:G})]}),!a.contact_name&&!a.contact_email&&!a.contact_phone&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No contact information available"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(v.CreditCard,{className:"h-4 w-4"}),"Business Terms"]})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Payment Terms"}),(0,b.jsx)("p",{className:"font-medium",children:a.payment_terms||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract Start"}),(0,b.jsx)("p",{className:"font-medium",children:a.contract_start_date?(0,x.format)(new Date(a.contract_start_date),"dd MMM yyyy"):"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Contract End"}),(0,b.jsx)("p",{className:"font-medium",children:a.contract_end_date?(0,x.format)(new Date(a.contract_end_date),"dd MMM yyyy"):"Not specified"})]})]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(s.Users,{className:"h-4 w-4"}),"Linked Users"]}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>D(!0),children:"Invite User"})]}),(0,b.jsx)(e.CardContent,{children:0===y.length?(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No users linked to this commercial partner"}):(0,b.jsx)("div",{className:"space-y-3",children:y.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-white/10",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.displayName||a.email}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Badge,{variant:"outline",className:"text-xs",children:a.role}),a.isPrimary&&(0,b.jsx)(f.Badge,{className:"bg-blue-500/20 text-blue-400 text-xs",children:"Primary"}),a.canSign&&(0,b.jsx)(f.Badge,{className:"bg-purple-500/20 text-purple-400 text-xs",children:"Can Sign"}),a.canExecuteForClients&&(0,b.jsx)(f.Badge,{className:"bg-green-500/20 text-green-400 text-xs",children:"Execute"})]})]},a.userId))})})]}),a.notes&&(0,b.jsxs)(e.Card,{className:"lg:col-span-2",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,b.jsx)(o.FileText,{className:"h-4 w-4"}),"Notes"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.notes})})]})]}),"individual"===a.type&&(0,b.jsx)(N.IndividualKycDisplay,{data:{first_name:a.first_name,middle_name:a.middle_name,last_name:a.last_name,name_suffix:a.name_suffix,date_of_birth:a.date_of_birth,country_of_birth:a.country_of_birth,nationality:a.nationality,email:a.email||a.contact_email,phone_mobile:a.phone_mobile,phone_office:a.phone_office,residential_street:a.residential_street,residential_line_2:a.residential_line_2,residential_city:a.residential_city,residential_state:a.residential_state,residential_postal_code:a.residential_postal_code,residential_country:a.residential_country,is_us_citizen:a.is_us_citizen,is_us_taxpayer:a.is_us_taxpayer,us_taxpayer_id:a.us_taxpayer_id,country_of_tax_residency:a.country_of_tax_residency,id_type:a.id_type,id_number:a.id_number,id_issue_date:a.id_issue_date,id_expiry_date:a.id_expiry_date,id_issuing_country:a.id_issuing_country},showEditButton:!0,onEdit:()=>F(!0),title:"Personal KYC Information"})]}),(0,b.jsx)(h.TabsContent,{value:"members",children:(0,b.jsx)(P.StaffEntityMembersTab,{entityType:"commercial_partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(h.TabsContent,{value:"kyc-documents",children:(0,b.jsx)(K.KYCDocumentsTab,{entityType:"commercial_partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(h.TabsContent,{value:"bank-details",children:(0,b.jsx)(L.BankDetailsTab,{entityType:"commercial_partner",entityId:a.id,entityName:a.name})}),(0,b.jsx)(h.TabsContent,{value:"activity",children:(0,b.jsx)(M.ActivityTimelineTab,{entityType:"commercial_partner",entityId:a.id,entityName:a.name})})]}),(0,b.jsx)(J,{open:A,onOpenChange:B,partner:a}),(0,b.jsx)(Q.InviteUserDialog,{open:C,onOpenChange:D,entityType:"commercial_partner",entityId:a.id,entityName:a.name}),"individual"===a.type&&(0,b.jsx)(O.EntityKYCEditDialog,{open:E,onOpenChange:F,entityType:"commercial_partner",entityId:a.id,entityName:a.name,apiEndpoint:`/api/admin/commercial-partners/${a.id}`,initialData:{first_name:a.first_name??void 0,middle_name:a.middle_name??void 0,last_name:a.last_name??void 0,name_suffix:a.name_suffix??void 0,date_of_birth:a.date_of_birth??void 0,country_of_birth:a.country_of_birth??void 0,nationality:a.nationality??void 0,email:(a.email||a.contact_email)??void 0,phone_mobile:a.phone_mobile??void 0,phone_office:a.phone_office??void 0,residential_street:a.residential_street??void 0,residential_line_2:a.residential_line_2??void 0,residential_city:a.residential_city??void 0,residential_state:a.residential_state??void 0,residential_postal_code:a.residential_postal_code??void 0,residential_country:a.residential_country??void 0,is_us_citizen:a.is_us_citizen??void 0,is_us_taxpayer:a.is_us_taxpayer??void 0,us_taxpayer_id:a.us_taxpayer_id??void 0,country_of_tax_residency:a.country_of_tax_residency??void 0,id_type:a.id_type??void 0,id_number:a.id_number??void 0,id_issue_date:a.id_issue_date??void 0,id_expiry_date:a.id_expiry_date??void 0,id_issuing_country:a.id_issuing_country??void 0},onSuccess:()=>window.location.reload()})]})}a.s(["CommercialPartnerDetailClient",()=>T],296432)}];

//# sourceMappingURL=bd0e4_staff_commercial-partners_commercial-partner-detail-client_tsx_90feb207._.js.map