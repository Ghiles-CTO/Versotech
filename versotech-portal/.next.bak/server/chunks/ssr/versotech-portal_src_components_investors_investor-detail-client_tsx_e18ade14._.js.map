{"version":3,"sources":["../../../../../versotech-portal/src/components/investors/investor-detail-client.tsx","../../../../../versotech-portal/src/components/investors/edit-investor-modal.tsx","../../../../../versotech-portal/src/components/investors/add-user-to-investor-modal.tsx","../../../../../versotech-portal/src/components/investors/investor-detail-actions.tsx","../../../../../versotech-portal/src/components/investors/portal-users-list.tsx","../../../../../versotech-portal/src/components/investors/portal-users-section.tsx","../../../../../versotech-portal/src/components/investors/subscriptions-tab.tsx","../../../../../versotech-portal/src/components/investors/activity-timeline.tsx","../../../../../versotech-portal/src/components/investors/activity-timeline-wrapper.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport Link from 'next/link'\r\nimport { ArrowLeft, Mail, Phone, Globe, Building2, Calendar, User, DollarSign, FileText, Banknote, Users, Activity } from 'lucide-react'\r\nimport { InvestorDetailActions } from '@/components/investors/investor-detail-actions'\r\nimport { PortalUsersSection } from '@/components/investors/portal-users-section'\r\nimport { SubscriptionsTab } from '@/components/investors/subscriptions-tab'\r\nimport { ActivityTimelineWrapper } from '@/components/investors/activity-timeline-wrapper'\r\nimport { KYCDocumentsTab } from '@/components/shared/kyc-documents-tab'\r\nimport { BankDetailsTab } from '@/components/shared/bank-details-tab'\r\nimport { IndividualKycDisplay, EntityKYCEditDialog } from '@/components/shared'\r\nimport { StaffEntityMembersTab } from '@/components/staff/shared/staff-entity-members-tab'\r\n\r\ntype InvestorDetail = {\r\n  id: string\r\n  legal_name: string\r\n  display_name: string | null\r\n  type: string\r\n  email: string | null\r\n  phone: string | null\r\n  country: string | null\r\n  country_of_incorporation: string | null\r\n  tax_residency: string | null\r\n  kyc_status: string\r\n  status: string\r\n  onboarding_status: string\r\n  aml_risk_rating: string | null\r\n  is_pep: boolean\r\n  is_sanctioned: boolean\r\n  created_at: string\r\n  primary_rm_profile: {\r\n    id: string\r\n    display_name: string\r\n    email: string\r\n  } | null\r\n  investor_users: Array<{\r\n    user_id: string\r\n    profiles: {\r\n      id: string\r\n      display_name: string\r\n      email: string\r\n      title: string\r\n      role: string\r\n    } | null\r\n  }>\r\n  // Individual KYC fields\r\n  first_name?: string | null\r\n  middle_name?: string | null\r\n  last_name?: string | null\r\n  name_suffix?: string | null\r\n  date_of_birth?: string | null\r\n  country_of_birth?: string | null\r\n  nationality?: string | null\r\n  phone_mobile?: string | null\r\n  phone_office?: string | null\r\n  // US Tax compliance\r\n  is_us_citizen?: boolean | null\r\n  is_us_taxpayer?: boolean | null\r\n  us_taxpayer_id?: string | null\r\n  country_of_tax_residency?: string | null\r\n  // ID Document\r\n  id_type?: string | null\r\n  id_number?: string | null\r\n  id_issue_date?: string | null\r\n  id_expiry_date?: string | null\r\n  id_issuing_country?: string | null\r\n  // Residential Address\r\n  residential_street?: string | null\r\n  residential_line_2?: string | null\r\n  residential_city?: string | null\r\n  residential_state?: string | null\r\n  residential_postal_code?: string | null\r\n  residential_country?: string | null\r\n  // New KYC fields\r\n  middle_initial?: string | null\r\n  proof_of_address_date?: string | null\r\n  proof_of_address_expiry?: string | null\r\n  tax_id_number?: string | null\r\n}\r\n\r\ntype CapitalMetrics = {\r\n  total_commitment: number\r\n  total_contributed: number\r\n  total_distributed: number\r\n  unfunded_commitment: number\r\n  current_nav: number\r\n  vehicle_count: number\r\n}\r\n\r\ninterface InvestorDetailClientProps {\r\n  investor: InvestorDetail\r\n  capitalMetrics: CapitalMetrics\r\n  metricsAvailable?: boolean\r\n}\r\n\r\nexport function InvestorDetailClient({ investor, capitalMetrics, metricsAvailable }: InvestorDetailClientProps) {\r\n  const [tabsReady, setTabsReady] = useState(false)\r\n  const [kycDialogOpen, setKycDialogOpen] = useState(false)\r\n  const hasMetrics = metricsAvailable !== false\r\n\r\n  useEffect(() => {\r\n    setTabsReady(true)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link href=\"/versotech_main/users\">\r\n            <Button variant=\"ghost\" size=\"sm\" className=\"bg-gray-800 text-white hover:bg-gray-700\">\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Back to Users\r\n            </Button>\r\n          </Link>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-foreground\">\r\n              {investor.legal_name}\r\n            </h1>\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Investor ID: {investor.id.slice(0, 8)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <InvestorDetailActions investor={investor} />\r\n      </div>\r\n\r\n      {/* Status Badges */}\r\n      <div className=\"flex gap-2 flex-wrap\">\r\n        <Badge variant={investor.kyc_status === 'completed' || investor.kyc_status === 'approved' ? 'default' : 'secondary'}>\r\n          KYC: {investor.kyc_status}\r\n        </Badge>\r\n        <Badge variant={investor.status === 'active' ? 'default' : 'secondary'}>\r\n          {investor.status}\r\n        </Badge>\r\n        <Badge variant=\"outline\" className=\"capitalize\">\r\n          {investor.type}\r\n        </Badge>\r\n        {investor.aml_risk_rating && (\r\n          <Badge variant={investor.aml_risk_rating === 'low' ? 'default' : investor.aml_risk_rating === 'high' ? 'destructive' : 'secondary'}>\r\n            Risk: {investor.aml_risk_rating}\r\n          </Badge>\r\n        )}\r\n        {investor.is_pep && (\r\n          <Badge variant=\"destructive\">PEP</Badge>\r\n        )}\r\n      </div>\r\n\r\n      {/* Capital Metrics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Commitment</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={hasMetrics ? \"text-2xl font-bold text-foreground\" : \"text-2xl font-semibold text-muted-foreground\"}>\r\n              {hasMetrics\r\n                ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(capitalMetrics.total_commitment)\r\n                : 'Pending'}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {hasMetrics ? (\r\n                capitalMetrics.vehicle_count > 0 ? (\r\n                  <>Across {capitalMetrics.vehicle_count} vehicle{capitalMetrics.vehicle_count !== 1 ? 's' : ''}</>\r\n                ) : (\r\n                  <>No subscriptions yet</>\r\n                )\r\n              ) : (\r\n                <>Metrics pending</>\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Contributed / Unfunded</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={hasMetrics ? \"text-2xl font-bold text-green-400\" : \"text-2xl font-semibold text-muted-foreground\"}>\r\n              {hasMetrics\r\n                ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(capitalMetrics.total_contributed)\r\n                : 'Pending'}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {hasMetrics\r\n                ? <>Unfunded: {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(capitalMetrics.unfunded_commitment)}</>\r\n                : <>Metrics pending</>}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Current NAV</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className={hasMetrics ? \"text-2xl font-bold text-blue-400\" : \"text-2xl font-semibold text-muted-foreground\"}>\r\n              {hasMetrics\r\n                ? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(capitalMetrics.current_nav)\r\n                : 'Pending'}\r\n            </div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {hasMetrics\r\n                ? <>Distributed: {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(capitalMetrics.total_distributed)}</>\r\n                : <>Metrics pending</>}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabbed Content */}\r\n      {tabsReady ? (\r\n      <Tabs defaultValue=\"overview\" className=\"space-y-6\" id={`investor-tabs-${investor.id}`}>\r\n        <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 lg:w-auto lg:inline-grid\">\r\n          <TabsTrigger value=\"overview\" className=\"gap-2\">\r\n            <Building2 className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Overview</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"members\" className=\"gap-2\">\r\n            <User className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Members</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"subscriptions\" className=\"gap-2\">\r\n            <DollarSign className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Subscriptions</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"kyc\" className=\"gap-2\">\r\n            <FileText className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">KYC Documents</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"bank\" className=\"gap-2\">\r\n            <Banknote className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Bank Details</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"users\" className=\"gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Portal Users</span>\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"activity\" className=\"gap-2\">\r\n            <Activity className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline\">Activity</span>\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Contact Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Contact Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {investor.email && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Email</div>\r\n                      <div className=\"text-sm font-medium\">{investor.email}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {investor.phone && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Phone</div>\r\n                      <div className=\"text-sm font-medium\">{investor.phone}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {investor.country && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Country</div>\r\n                      <div className=\"text-sm font-medium\">{investor.country}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {investor.primary_rm_profile && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <User className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Relationship Manager</div>\r\n                      <div className=\"text-sm font-medium\">{investor.primary_rm_profile.display_name}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Entity Information */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Entity Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {investor.display_name && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Building2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Display Name</div>\r\n                      <div className=\"text-sm font-medium\">{investor.display_name}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {investor.country_of_incorporation && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Country of Incorporation</div>\r\n                      <div className=\"text-sm font-medium\">{investor.country_of_incorporation}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                {investor.tax_residency && (\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <div>\r\n                      <div className=\"text-sm text-muted-foreground\">Tax Residency</div>\r\n                      <div className=\"text-sm font-medium\">{investor.tax_residency}</div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <div>\r\n                    <div className=\"text-sm text-muted-foreground\">Created</div>\r\n                    <div className=\"text-sm font-medium\">\r\n                      {new Date(investor.created_at).toLocaleDateString()}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Individual KYC Information (for individual investors) */}\r\n          {investor.type === 'individual' && (\r\n            <IndividualKycDisplay\r\n              data={{\r\n                first_name: investor.first_name,\r\n                middle_name: investor.middle_name,\r\n                last_name: investor.last_name,\r\n                name_suffix: investor.name_suffix,\r\n                date_of_birth: investor.date_of_birth,\r\n                country_of_birth: investor.country_of_birth,\r\n                nationality: investor.nationality,\r\n                email: investor.email,\r\n                phone_mobile: investor.phone_mobile,\r\n                phone_office: investor.phone_office,\r\n                residential_street: investor.residential_street,\r\n                residential_line_2: investor.residential_line_2,\r\n                residential_city: investor.residential_city,\r\n                residential_state: investor.residential_state,\r\n                residential_postal_code: investor.residential_postal_code,\r\n                residential_country: investor.residential_country,\r\n                is_us_citizen: investor.is_us_citizen,\r\n                is_us_taxpayer: investor.is_us_taxpayer,\r\n                us_taxpayer_id: investor.us_taxpayer_id,\r\n                country_of_tax_residency: investor.country_of_tax_residency,\r\n                id_type: investor.id_type,\r\n                id_number: investor.id_number,\r\n                id_issue_date: investor.id_issue_date,\r\n                id_expiry_date: investor.id_expiry_date,\r\n                id_issuing_country: investor.id_issuing_country,\r\n              }}\r\n              showEditButton={true}\r\n              onEdit={() => setKycDialogOpen(true)}\r\n              title=\"Personal KYC Information\"\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Members Tab */}\r\n        <TabsContent value=\"members\">\r\n          <StaffEntityMembersTab\r\n            entityType=\"investor\"\r\n            entityId={investor.id}\r\n            entityName={investor.legal_name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Subscriptions Tab */}\r\n        <TabsContent value=\"subscriptions\">\r\n          <SubscriptionsTab investorId={investor.id} />\r\n        </TabsContent>\r\n\r\n        {/* KYC Documents Tab */}\r\n        <TabsContent value=\"kyc\">\r\n          <KYCDocumentsTab\r\n            entityType=\"investor\"\r\n            entityId={investor.id}\r\n            entityName={investor.legal_name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Bank Details Tab */}\r\n        <TabsContent value=\"bank\">\r\n          <BankDetailsTab\r\n            entityType=\"investor\"\r\n            entityId={investor.id}\r\n            entityName={investor.legal_name}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Portal Users Tab */}\r\n        <TabsContent value=\"users\">\r\n          <PortalUsersSection\r\n            investorId={investor.id}\r\n            users={investor.investor_users || []}\r\n          />\r\n        </TabsContent>\r\n\r\n        {/* Activity Tab */}\r\n        <TabsContent value=\"activity\">\r\n          <ActivityTimelineWrapper investorId={investor.id} />\r\n        </TabsContent>\r\n      </Tabs>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"h-10 rounded-md bg-muted/50\" />\r\n          <div className=\"h-64 rounded-lg border border-dashed border-muted-foreground/30 bg-muted/20\" />\r\n        </div>\r\n      )}\r\n\r\n      {/* KYC Edit Dialog */}\r\n      {investor.type === 'individual' && (\r\n        <EntityKYCEditDialog\r\n          open={kycDialogOpen}\r\n          onOpenChange={setKycDialogOpen}\r\n          entityType=\"investor\"\r\n          entityId={investor.id}\r\n          entityName={investor.legal_name}\r\n          apiEndpoint={`/api/staff/investors/${investor.id}`}\r\n          initialData={{\r\n            first_name: investor.first_name ?? undefined,\r\n            middle_name: investor.middle_name ?? undefined,\r\n            last_name: investor.last_name ?? undefined,\r\n            name_suffix: investor.name_suffix ?? undefined,\r\n            date_of_birth: investor.date_of_birth ?? undefined,\r\n            country_of_birth: investor.country_of_birth ?? undefined,\r\n            nationality: investor.nationality ?? undefined,\r\n            email: investor.email ?? undefined,\r\n            phone_mobile: investor.phone_mobile ?? undefined,\r\n            phone_office: investor.phone_office ?? undefined,\r\n            residential_street: investor.residential_street ?? undefined,\r\n            residential_line_2: investor.residential_line_2 ?? undefined,\r\n            residential_city: investor.residential_city ?? undefined,\r\n            residential_state: investor.residential_state ?? undefined,\r\n            residential_postal_code: investor.residential_postal_code ?? undefined,\r\n            residential_country: investor.residential_country ?? undefined,\r\n            is_us_citizen: investor.is_us_citizen ?? undefined,\r\n            is_us_taxpayer: investor.is_us_taxpayer ?? undefined,\r\n            us_taxpayer_id: investor.us_taxpayer_id ?? undefined,\r\n            country_of_tax_residency: investor.country_of_tax_residency ?? undefined,\r\n            id_type: investor.id_type ?? undefined,\r\n            id_number: investor.id_number ?? undefined,\r\n            id_issue_date: investor.id_issue_date ?? undefined,\r\n            id_expiry_date: investor.id_expiry_date ?? undefined,\r\n            id_issuing_country: investor.id_issuing_country ?? undefined,\r\n          }}\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, Building2, User } from 'lucide-react'\nimport { toast } from 'sonner'\n\ntype StaffMember = {\n  id: string\n  display_name: string\n  email: string\n  role: string\n}\n\n// Helper to check if type is individual\nconst isIndividualType = (type: string) => type === 'individual'\n\n// Helper to check if type is entity-like\nconst isEntityType = (type: string) => ['entity', 'institutional', 'family_office', 'fund'].includes(type)\n\ntype EditInvestorModalProps = {\n  investor: {\n    id: string\n    legal_name: string\n    display_name?: string | null\n    type: string\n    email?: string | null\n    phone?: string | null\n    country?: string | null\n    country_of_incorporation?: string | null\n    tax_residency?: string | null\n    primary_rm?: string | null\n    // Individual-specific fields\n    first_name?: string | null\n    middle_name?: string | null\n    last_name?: string | null\n    // Entity-specific fields\n    representative_name?: string | null\n    representative_title?: string | null\n  }\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function EditInvestorModal({ investor, open, onOpenChange }: EditInvestorModalProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [staffMembers, setStaffMembers] = useState<StaffMember[]>([])\n  const [formData, setFormData] = useState({\n    type: investor.type || 'individual',\n    email: investor.email || '',\n    phone: investor.phone || '',\n    country: investor.country || '',\n    tax_residency: investor.tax_residency || '',\n    primary_rm: investor.primary_rm || '',\n    // Individual fields\n    first_name: investor.first_name || '',\n    middle_name: investor.middle_name || '',\n    last_name: investor.last_name || '',\n    // Entity fields\n    legal_name: investor.legal_name || '',\n    display_name: investor.display_name || '',\n    country_of_incorporation: investor.country_of_incorporation || '',\n    representative_name: investor.representative_name || '',\n    representative_title: investor.representative_title || '',\n  })\n\n  useEffect(() => {\n    if (open) {\n      fetchStaffMembers()\n      // Reset form data when modal opens\n      setFormData({\n        type: investor.type || 'individual',\n        email: investor.email || '',\n        phone: investor.phone || '',\n        country: investor.country || '',\n        tax_residency: investor.tax_residency || '',\n        primary_rm: investor.primary_rm || '',\n        first_name: investor.first_name || '',\n        middle_name: investor.middle_name || '',\n        last_name: investor.last_name || '',\n        legal_name: investor.legal_name || '',\n        display_name: investor.display_name || '',\n        country_of_incorporation: investor.country_of_incorporation || '',\n        representative_name: investor.representative_name || '',\n        representative_title: investor.representative_title || '',\n      })\n    }\n  }, [open, investor])\n\n  const fetchStaffMembers = async () => {\n    try {\n      const response = await fetch('/api/staff/available')\n      if (response.ok) {\n        const data = await response.json()\n        setStaffMembers(data.staff || [])\n      }\n    } catch (error) {\n      console.error('Failed to fetch staff members:', error)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    // Validation based on type\n    if (isIndividualType(formData.type)) {\n      if (!formData.first_name.trim()) {\n        toast.error('First name is required for individuals')\n        return\n      }\n    } else {\n      if (!formData.legal_name.trim()) {\n        toast.error('Legal name is required')\n        return\n      }\n    }\n\n    setLoading(true)\n\n    try {\n      // Prepare data for API\n      const submitData = { ...formData }\n\n      if (isIndividualType(formData.type)) {\n        // Compute legal_name from structured name fields\n        const nameParts = [\n          formData.first_name.trim(),\n          formData.middle_name.trim(),\n          formData.last_name.trim(),\n        ].filter(Boolean)\n        submitData.legal_name = nameParts.join(' ')\n        if (!submitData.display_name.trim()) {\n          submitData.display_name = submitData.legal_name\n        }\n      }\n\n      const response = await fetch(`/api/staff/investors/${investor.id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(submitData),\n      })\n\n      if (!response.ok) {\n        const data = await response.json()\n        throw new Error(data.error || 'Failed to update investor')\n      }\n\n      toast.success('Investor updated successfully')\n      onOpenChange(false)\n      router.refresh()\n    } catch (error: unknown) {\n      const message = error instanceof Error ? error.message : 'Failed to update investor'\n      toast.error(message)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">Edit Investor</DialogTitle>\n          <DialogDescription className=\"text-gray-300\">\n            Update investor profile information\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Investor Type - FIRST FIELD */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"type\" className=\"text-white\">\n              Investor Type <span className=\"text-red-400\">*</span>\n            </Label>\n            <Select\n              value={formData.type}\n              onValueChange={(value) => setFormData({ ...formData, type: value })}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"individual\">\n                  <div className=\"flex items-center gap-2\">\n                    <User className=\"h-4 w-4\" />\n                    Individual\n                  </div>\n                </SelectItem>\n                <SelectItem value=\"entity\">\n                  <div className=\"flex items-center gap-2\">\n                    <Building2 className=\"h-4 w-4\" />\n                    Entity\n                  </div>\n                </SelectItem>\n                <SelectItem value=\"institutional\">Institutional</SelectItem>\n                <SelectItem value=\"family_office\">Family Office</SelectItem>\n                <SelectItem value=\"fund\">Fund</SelectItem>\n              </SelectContent>\n            </Select>\n            <p className=\"text-xs text-gray-400\">\n              {isIndividualType(formData.type)\n                ? 'A natural person investing in their own name'\n                : 'A company, fund, or institutional entity'}\n            </p>\n          </div>\n\n          {/* INDIVIDUAL-SPECIFIC FIELDS */}\n          {isIndividualType(formData.type) && (\n            <div className=\"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900/50\">\n              <div className=\"flex items-center gap-2 text-sm font-medium text-gray-300\">\n                <User className=\"h-4 w-4\" />\n                Personal Information\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"first_name\" className=\"text-white\">\n                    First Name <span className=\"text-red-400\">*</span>\n                  </Label>\n                  <Input\n                    id=\"first_name\"\n                    value={formData.first_name}\n                    onChange={(e) => setFormData({ ...formData, first_name: e.target.value })}\n                    placeholder=\"John\"\n                    className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"middle_name\" className=\"text-white\">Middle Name</Label>\n                  <Input\n                    id=\"middle_name\"\n                    value={formData.middle_name}\n                    onChange={(e) => setFormData({ ...formData, middle_name: e.target.value })}\n                    placeholder=\"Michael\"\n                    className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"last_name\" className=\"text-white\">Last Name</Label>\n                <Input\n                  id=\"last_name\"\n                  value={formData.last_name}\n                  onChange={(e) => setFormData({ ...formData, last_name: e.target.value })}\n                  placeholder=\"Smith\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              {/* Preview computed legal name */}\n              {(formData.first_name || formData.last_name) && (\n                <div className=\"text-xs text-gray-400 bg-zinc-800/50 px-3 py-2 rounded\">\n                  Legal name will be: <span className=\"text-white font-medium\">\n                    {[formData.first_name, formData.middle_name, formData.last_name].filter(Boolean).join(' ')}\n                  </span>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ENTITY-SPECIFIC FIELDS */}\n          {isEntityType(formData.type) && (\n            <div className=\"space-y-4 p-4 rounded-lg border border-zinc-800 bg-zinc-900/50\">\n              <div className=\"flex items-center gap-2 text-sm font-medium text-gray-300\">\n                <Building2 className=\"h-4 w-4\" />\n                Entity Information\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"legal_name\" className=\"text-white\">\n                  Legal Name <span className=\"text-red-400\">*</span>\n                </Label>\n                <Input\n                  id=\"legal_name\"\n                  value={formData.legal_name}\n                  onChange={(e) => setFormData({ ...formData, legal_name: e.target.value })}\n                  placeholder=\"Acme Investment Holdings LP\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"display_name\" className=\"text-white\">Display Name</Label>\n                <Input\n                  id=\"display_name\"\n                  value={formData.display_name}\n                  onChange={(e) => setFormData({ ...formData, display_name: e.target.value })}\n                  placeholder=\"Acme Holdings (optional short name)\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"country_of_incorporation\" className=\"text-white\">Country of Incorporation</Label>\n                <Input\n                  id=\"country_of_incorporation\"\n                  value={formData.country_of_incorporation}\n                  onChange={(e) => setFormData({ ...formData, country_of_incorporation: e.target.value })}\n                  placeholder=\"Cayman Islands\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"representative_name\" className=\"text-white\">Representative Name</Label>\n                  <Input\n                    id=\"representative_name\"\n                    value={formData.representative_name}\n                    onChange={(e) => setFormData({ ...formData, representative_name: e.target.value })}\n                    placeholder=\"Jane Doe\"\n                    className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"representative_title\" className=\"text-white\">Representative Title</Label>\n                  <Input\n                    id=\"representative_title\"\n                    value={formData.representative_title}\n                    onChange={(e) => setFormData({ ...formData, representative_title: e.target.value })}\n                    placeholder=\"Managing Director\"\n                    className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* COMMON FIELDS - Contact Information */}\n          <div className=\"space-y-4\">\n            <div className=\"text-sm font-medium text-gray-300\">Contact Information</div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-white\">Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  placeholder=\"investor@email.com\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"phone\" className=\"text-white\">Phone</Label>\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                  placeholder=\"+1 (555) 123-4567\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"country\" className=\"text-white\">\n                  {isIndividualType(formData.type) ? 'Country of Residence' : 'Country'}\n                </Label>\n                <Input\n                  id=\"country\"\n                  value={formData.country}\n                  onChange={(e) => setFormData({ ...formData, country: e.target.value })}\n                  placeholder=\"United States\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"tax_residency\" className=\"text-white\">Tax Residency</Label>\n                <Input\n                  id=\"tax_residency\"\n                  value={formData.tax_residency}\n                  onChange={(e) => setFormData({ ...formData, tax_residency: e.target.value })}\n                  placeholder=\"United States\"\n                  className=\"bg-zinc-900 border-zinc-700 text-white placeholder:text-gray-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Relationship Manager */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"primary_rm\" className=\"text-white\">Relationship Manager</Label>\n            <Select\n              value={formData.primary_rm || undefined}\n              onValueChange={(value) => setFormData({ ...formData, primary_rm: value || '' })}\n            >\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select a relationship manager (optional)\" />\n              </SelectTrigger>\n              <SelectContent>\n                {staffMembers.length > 0 ? (\n                  staffMembers.map((staff) => (\n                    <SelectItem key={staff.id} value={staff.id}>\n                      {staff.display_name} ({staff.role})\n                    </SelectItem>\n                  ))\n                ) : (\n                  <SelectItem value=\"loading\" disabled>\n                    Loading staff...\n                  </SelectItem>\n                )}\n              </SelectContent>\n            </Select>\n            {formData.primary_rm && (\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setFormData({ ...formData, primary_rm: '' })}\n                className=\"text-xs\"\n              >\n                Clear selection\n              </Button>\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n              Save Changes\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, Users } from 'lucide-react'\nimport { toast } from 'sonner'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\n\ntype ExistingUser = {\n  id: string\n  display_name: string\n  email: string\n  role: string\n}\n\ntype AddUserToInvestorModalProps = {\n  investorId: string\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nexport function AddUserToInvestorModal({ investorId, open, onOpenChange }: AddUserToInvestorModalProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(false)\n  const [loadingUsers, setLoadingUsers] = useState(false)\n  const [mode, setMode] = useState<'existing' | 'invite'>('existing')\n  const [email, setEmail] = useState('')\n  const [selectedUserId, setSelectedUserId] = useState('')\n  const [existingUsers, setExistingUsers] = useState<ExistingUser[]>([])\n\n  // Fetch existing users when modal opens\n  useEffect(() => {\n    if (open) {\n      fetchExistingUsers()\n    }\n  }, [open])\n\n  const fetchExistingUsers = async () => {\n    setLoadingUsers(true)\n    try {\n      const response = await fetch('/api/profiles?role=investor')\n      if (response.ok) {\n        const data = await response.json()\n        setExistingUsers(data.profiles || [])\n      }\n    } catch (error) {\n      console.error('Failed to fetch users:', error)\n    } finally {\n      setLoadingUsers(false)\n    }\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    // Validate based on mode\n    if (mode === 'existing' && !selectedUserId) {\n      toast.error('Please select a user')\n      return\n    }\n    \n    if (mode === 'invite' && (!email || !email.includes('@'))) {\n      toast.error('Valid email is required')\n      return\n    }\n\n    setLoading(true)\n\n    try {\n      const submitEmail = mode === 'existing' \n        ? existingUsers.find(u => u.id === selectedUserId)?.email \n        : email\n\n      console.log('[AddUser] Sending request:', { mode, email: submitEmail, userId: selectedUserId })\n      \n      const response = await fetch(`/api/staff/investors/${investorId}/users`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ \n          email: submitEmail?.trim().toLowerCase(),\n          user_id: mode === 'existing' ? selectedUserId : undefined\n        }),\n      })\n\n      const data = await response.json()\n      console.log('[AddUser] Response:', data)\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to add user')\n      }\n\n      if (data.invited) {\n        toast.success(`Invitation sent to ${submitEmail}. They will receive an email to set up their account.`)\n      } else {\n        toast.success(`User ${submitEmail} has been linked to this investor.`)\n      }\n      \n      setEmail('')\n      setSelectedUserId('')\n      setMode('existing')\n      onOpenChange(false)\n      \n      // Force hard refresh to show new user\n      window.location.reload()\n    } catch (error: any) {\n      console.error('[AddUser] Error:', error)\n      toast.error(error.message || 'Failed to add user')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"bg-zinc-950 border-white/10 text-white\">\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">Add Portal User</DialogTitle>\n          <DialogDescription className=\"text-gray-400\">\n            Link an existing user or send an invitation to create a new account\n          </DialogDescription>\n        </DialogHeader>\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Mode Selection with Tabs */}\n          <Tabs value={mode} onValueChange={(value: any) => setMode(value)}>\n            <TabsList className=\"grid w-full grid-cols-2 bg-white/5 border-white/10\">\n              <TabsTrigger value=\"existing\" className=\"data-[state=active]:bg-white/10 data-[state=active]:text-white\">\n                Select Existing User\n              </TabsTrigger>\n              <TabsTrigger value=\"invite\" className=\"data-[state=active]:bg-white/10 data-[state=active]:text-white\">\n                Send Invitation\n              </TabsTrigger>\n            </TabsList>\n\n            {/* Existing User Selection */}\n            <TabsContent value=\"existing\" className=\"space-y-4 mt-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"user_select\" className=\"text-white\">\n                  Select User <span className=\"text-red-400\">*</span>\n                </Label>\n                <Select\n                  value={selectedUserId}\n                  onValueChange={setSelectedUserId}\n                  disabled={loadingUsers}\n                >\n                  <SelectTrigger className=\"bg-white/5 border-white/10 text-white\">\n                    <SelectValue placeholder={loadingUsers ? \"Loading users...\" : \"Choose a user\"} />\n                  </SelectTrigger>\n                  <SelectContent className=\"max-h-[300px] bg-zinc-950 border-white/10\">\n                    {existingUsers.length > 0 ? (\n                      existingUsers.map((user) => (\n                        <SelectItem key={user.id} value={user.id} className=\"text-white\">\n                          <div className=\"flex items-center gap-2\">\n                            <Users className=\"h-3 w-3\" />\n                            <span>{user.display_name}</span>\n                            <span className=\"text-xs text-gray-400\">({user.email})</span>\n                          </div>\n                        </SelectItem>\n                      ))\n                    ) : (\n                      <SelectItem value=\"no-users\" disabled className=\"text-gray-400\">\n                        {loadingUsers ? \"Loading...\" : \"No users found\"}\n                      </SelectItem>\n                    )}\n                  </SelectContent>\n                </Select>\n                <p className=\"text-xs text-gray-400\">\n                  Select from existing users in the system\n                </p>\n              </div>\n\n              {/* Info Box */}\n              <div className=\"rounded-md bg-blue-500/10 border border-blue-400/20 p-3 text-xs text-blue-100\">\n                <strong className=\"text-blue-100\">How it works:</strong>\n                <ul className=\"list-disc list-inside mt-1 space-y-1 text-blue-200\">\n                  <li>User is immediately linked to this investor</li>\n                  <li>They can access this investor's data in the portal</li>\n                </ul>\n              </div>\n            </TabsContent>\n\n            {/* New Email Invitation */}\n            <TabsContent value=\"invite\" className=\"space-y-4 mt-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" className=\"text-white\">\n                  Email Address <span className=\"text-red-400\">*</span>\n                </Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  placeholder=\"newuser@email.com\"\n                  className=\"bg-white/5 border-white/10 text-white placeholder:text-gray-500\"\n                />\n                <p className=\"text-xs text-gray-400\">\n                  An invitation email will be sent to this address\n                </p>\n              </div>\n\n              {/* Info Box */}\n              <div className=\"rounded-md bg-blue-500/10 border border-blue-400/20 p-3 text-xs text-blue-100\">\n                <strong className=\"text-blue-100\">How it works:</strong>\n                <ul className=\"list-disc list-inside mt-1 space-y-1 text-blue-200\">\n                  <li>Invitation email sent with signup link</li>\n                  <li>They create account and get portal access</li>\n                  <li>Automatically linked to this investor</li>\n                </ul>\n              </div>\n            </TabsContent>\n          </Tabs>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => onOpenChange(false)}\n              disabled={loading}\n              className=\"border-white/10 text-white hover:bg-white/10 bg-white/5\"\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading} className=\"bg-blue-600 hover:bg-blue-700 text-white\">\n              {loading && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n              Add User\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useState } from 'react'\nimport { Button } from '@/components/ui/button'\nimport { EditInvestorModal } from './edit-investor-modal'\nimport { AddUserToInvestorModal } from './add-user-to-investor-modal'\nimport { Edit, UserPlus, List } from 'lucide-react'\nimport { useRouter } from 'next/navigation'\n\ntype InvestorDetailActionsProps = {\n  investor: {\n    id: string\n    legal_name: string\n    display_name?: string | null\n    type: string\n    email?: string | null\n    phone?: string | null\n    country?: string | null\n    country_of_incorporation?: string | null\n    tax_residency?: string | null\n    primary_rm?: string | null\n  }\n}\n\nexport function InvestorDetailActions({ investor }: InvestorDetailActionsProps) {\n  const router = useRouter()\n  const [editOpen, setEditOpen] = useState(false)\n  const [addUserOpen, setAddUserOpen] = useState(false)\n\n  const handleSuccess = () => {\n    router.refresh()\n  }\n\n  return (\n    <div className=\"flex gap-2 flex-wrap\">\n      <Button\n        variant=\"outline\"\n        className=\"bg-white text-gray-900 hover:bg-gray-100 border-gray-300\"\n        onClick={() => setEditOpen(true)}\n      >\n        <Edit className=\"h-4 w-4 mr-2\" />\n        Edit Investor\n      </Button>\n\n      <Button\n        className=\"bg-blue-600 text-white hover:bg-blue-700\"\n        onClick={() => setAddUserOpen(true)}\n      >\n        <UserPlus className=\"h-4 w-4 mr-2\" />\n        Add User\n      </Button>\n\n      <Button\n        className=\"bg-green-600 text-white hover:bg-green-700\"\n        onClick={() => router.push('/versotech_main/subscriptions')}\n      >\n        <List className=\"h-4 w-4 mr-2\" />\n        Manage Subscriptions\n      </Button>\n\n      <EditInvestorModal\n        investor={investor}\n        open={editOpen}\n        onOpenChange={setEditOpen}\n      />\n\n      <AddUserToInvestorModal\n        investorId={investor.id}\n        open={addUserOpen}\n        onOpenChange={setAddUserOpen}\n      />\n    </div>\n  )\n}\n","'use client'\r\n\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Users } from 'lucide-react'\r\nimport { toast } from 'sonner'\r\nimport { useRouter } from 'next/navigation'\r\n\r\ntype PortalUsersListProps = {\r\n  investorId: string\r\n  users: Array<{\r\n    user_id: string\r\n    profiles: {\r\n      id: string\r\n      display_name: string\r\n      email: string\r\n      title: string\r\n      role: string\r\n    } | null\r\n  }>\r\n}\r\n\r\nexport function PortalUsersList({ investorId, users }: PortalUsersListProps) {\r\n  const router = useRouter()\r\n\r\n  const handleRemoveUser = async (userId: string, userName: string) => {\r\n    if (!confirm(`Remove ${userName} from the investor portal?`)) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/staff/investors/${investorId}/users/${userId}`, {\r\n        method: 'DELETE',\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json()\r\n        throw new Error(data.error || 'Failed to remove user')\r\n      }\r\n\r\n      toast.success('User removed successfully')\r\n      \r\n      // Force hard refresh to show updated list\r\n      window.location.reload()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to remove user')\r\n    }\r\n  }\r\n\r\n  if (!users || users.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-8 text-muted-foreground\">\r\n        <Users className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n        <p>No portal users assigned</p>\r\n        <p className=\"text-sm mt-1\">Click \"Add User\" to invite someone to access the portal</p>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {users.map((iu) => (\r\n        <div key={iu.user_id} className=\"flex items-center justify-between border border-gray-800 rounded-lg p-3\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n            <div>\r\n              <div className=\"text-sm font-medium\">{iu.profiles?.display_name || 'Unknown User'}</div>\r\n              <div className=\"text-xs text-muted-foreground\">{iu.profiles?.email}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <Badge variant=\"outline\" className=\"text-xs\">{iu.profiles?.role}</Badge>\r\n            <Button \r\n              variant=\"ghost\" \r\n              size=\"sm\" \r\n              className=\"hover:bg-red-100 hover:text-red-600\"\r\n              onClick={() => handleRemoveUser(iu.user_id, iu.profiles?.display_name || 'this user')}\r\n            >\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","'use client'\r\n\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { PortalUsersList } from './portal-users-list'\r\n\r\ntype PortalUsersSectionProps = {\r\n  investorId: string\r\n  users: Array<{\r\n    user_id: string\r\n    profiles: {\r\n      id: string\r\n      display_name: string\r\n      email: string\r\n      title: string\r\n      role: string\r\n    } | null\r\n  }>\r\n}\r\n\r\nexport function PortalUsersSection({ investorId, users }: PortalUsersSectionProps) {\r\n  return (\r\n    <Card id=\"portal-users-section\">\r\n      <CardHeader>\r\n        <div>\r\n          <CardTitle>Portal Users</CardTitle>\r\n          <CardDescription>Users with access to the investor portal. Use \"Add User\" button in the page header to add new users.</CardDescription>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <PortalUsersList\r\n          investorId={investorId}\r\n          users={users}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\n","'use client'\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Building2, DollarSign, Calendar, Hash, ArrowRight } from 'lucide-react'\nimport { useRouter } from 'next/navigation'\n\ntype Subscription = {\n  id: string\n  subscription_number: number\n  vehicle_id: string\n  commitment: number\n  currency: string\n  status: string\n  committed_at: string | null\n  created_at: string\n  acknowledgement_notes: string | null\n  effective_date: string | null\n  funding_due_at: string | null\n\n  // Share/Unit fields\n  price_per_share: number | null\n  cost_per_share: number | null\n  num_shares: number | null\n  spread_per_share: number | null\n  units: number | null\n\n  // Fee fields\n  subscription_fee_percent: number | null\n  subscription_fee_amount: number | null\n  bd_fee_percent: number | null\n  bd_fee_amount: number | null\n  finra_fee_amount: number | null\n  spread_fee_amount: number | null\n  performance_fee_tier1_percent: number | null\n  performance_fee_tier1_threshold: number | null\n  performance_fee_tier2_percent: number | null\n  performance_fee_tier2_threshold: number | null\n\n  // Financial tracking\n  funded_amount: number\n  outstanding_amount: number | null\n  capital_calls_total: number\n  distributions_total: number\n  current_nav: number | null\n\n  // Business context\n  opportunity_name: string | null\n\n  vehicle?: {\n    id: string\n    name: string\n    type: string | null\n  }\n}\n\ntype GroupedSubscriptions = {\n  vehicle: {\n    id: string\n    name: string\n  } | null\n  subscriptions: Subscription[]\n  total_commitment: number\n  currency: string\n}\n\ntype SubscriptionsData = {\n  investor: {\n    id: string\n    legal_name: string\n  }\n  subscriptions: Subscription[]\n  grouped_by_vehicle: GroupedSubscriptions[]\n  summary: {\n    total_vehicles: number\n    total_subscriptions: number\n    total_commitment_by_currency: Record<string, number>\n  }\n}\n\nexport function SubscriptionsTab({ investorId }: { investorId: string }) {\n  const router = useRouter()\n  const [data, setData] = useState<SubscriptionsData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const fetchSubscriptions = useCallback(async () => {\n    try {\n      setLoading(true)\n      const res = await fetch(`/api/investors/${investorId}/subscriptions`)\n\n      if (!res.ok) {\n        let message = `Failed to fetch subscriptions (status ${res.status})`\n\n        try {\n          const errorBody = await res.json()\n          if (errorBody?.error) {\n            message = errorBody.details\n              ? `${errorBody.error}: ${errorBody.details}`\n              : errorBody.error\n          }\n        } catch {\n          // Ignore JSON parse errors and keep default message\n        }\n\n        throw new Error(message)\n      }\n\n      const result = await res.json()\n      setData(result)\n      setError(null)\n    } catch (err) {\n      console.error('Failed to fetch subscriptions:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load subscriptions')\n    } finally {\n      setLoading(false)\n    }\n  }, [investorId])\n\n  useEffect(() => {\n    fetchSubscriptions()\n  }, [investorId, fetchSubscriptions])\n\n  const formatCurrency = (amount: number, currency: string) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: currency || 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount)\n  }\n\n  const formatDate = (date: string | null) => {\n    if (!date) return '-'\n    return new Date(date).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    })\n  }\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'active':\n        return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\n      case 'committed':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200'\n      case 'closed':\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'\n      case 'cancelled':\n        return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200'\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <Skeleton className=\"h-8 w-48\" />\n        <Skeleton className=\"h-64 w-full\" />\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <p className=\"text-destructive\">{error}</p>\n          <Button onClick={fetchSubscriptions} className=\"mt-4\">\n            Retry\n          </Button>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (!data) {\n    return null\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl font-bold\">\n          Subscriptions ({data.summary.total_subscriptions})\n        </h2>\n        <p className=\"text-muted-foreground\">\n          {data.summary.total_vehicles} vehicles. Use \"Manage Subscriptions\" button to view and manage all subscriptions.\n        </p>\n      </div>\n\n      {data.grouped_by_vehicle.length === 0 ? (\n        <Card>\n          <CardContent className=\"pt-6 text-center\">\n            <p className=\"text-muted-foreground\">\n              No subscriptions yet. Use the \"Manage Subscriptions\" button to navigate to the subscriptions page.\n            </p>\n          </CardContent>\n        </Card>\n      ) : (\n        <>\n          {data.grouped_by_vehicle.map((group, index) => (\n            <Card key={group.vehicle?.id ?? `no-vehicle-${index}`}>\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Building2 className=\"h-5 w-5\" />\n                      {group.vehicle?.name ?? 'No Vehicle Assigned'}\n                    </CardTitle>\n                    <CardDescription className=\"mt-1\">\n                      {group.subscriptions.length} subscription\n                      {group.subscriptions.length !== 1 ? 's' : ''}\n                    </CardDescription>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-sm font-medium text-muted-foreground\">\n                      Total Commitment\n                    </p>\n                    <p className=\"text-2xl font-bold\">\n                      {formatCurrency(group.total_commitment, group.currency)}\n                    </p>\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {group.subscriptions.map((sub) => {\n                    const percentFunded = sub.commitment > 0 ? (sub.funded_amount / sub.commitment) * 100 : 0\n                    const hasFees = sub.subscription_fee_amount || sub.bd_fee_amount || sub.spread_fee_amount || sub.finra_fee_amount\n                    const totalFees = [\n                      sub.subscription_fee_amount,\n                      sub.bd_fee_amount,\n                      sub.spread_fee_amount,\n                      sub.finra_fee_amount\n                    ].reduce((sum: number, fee) => sum + (fee || 0), 0)\n                    const moic = sub.funded_amount > 0 && sub.current_nav ? sub.current_nav / sub.funded_amount : null\n\n                    return (\n                      <div\n                        key={sub.id}\n                        className=\"p-4 border rounded-lg hover:bg-accent/50 transition-colors\"\n                      >\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <div className=\"flex items-center gap-4\">\n                            <div className=\"flex items-center gap-2\">\n                              <Hash className=\"h-4 w-4 text-muted-foreground\" />\n                              <span className=\"font-mono font-semibold text-lg\">\n                                {sub.subscription_number}\n                              </span>\n                            </div>\n                            <Badge className={getStatusColor(sub.status)}>\n                              {sub.status}\n                            </Badge>\n                            {sub.opportunity_name && (\n                              <span className=\"text-sm text-muted-foreground italic\">\n                                {sub.opportunity_name}\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => router.push('/versotech_main/subscriptions')}\n                            >\n                              View Details\n                              <ArrowRight className=\"h-4 w-4 ml-2\" />\n                            </Button>\n                          </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                          {/* Commitment & Funded */}\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Commitment</p>\n                            <p className=\"font-semibold\">{formatCurrency(sub.commitment, sub.currency)}</p>\n                            <p className=\"text-xs text-muted-foreground mt-1\">\n                              Funded: {formatCurrency(sub.funded_amount, sub.currency)} ({percentFunded.toFixed(0)}%)\n                            </p>\n                            {sub.outstanding_amount != null && sub.outstanding_amount > 0 && (\n                              <p className=\"text-xs text-yellow-600 font-medium\">\n                                Outstanding: {formatCurrency(sub.outstanding_amount, sub.currency)}\n                              </p>\n                            )}\n                          </div>\n\n                          {/* Dates */}\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Important Dates</p>\n                            {sub.committed_at && (\n                              <p className=\"text-sm\">Committed: {formatDate(sub.committed_at)}</p>\n                            )}\n                            {sub.created_at && (\n                              <p className=\"text-sm\">Created: {formatDate(sub.created_at)}</p>\n                            )}\n                            {!sub.committed_at && !sub.created_at && (\n                              <p className=\"text-sm text-muted-foreground\">No dates set</p>\n                            )}\n                          </div>\n\n                          {/* Share Structure */}\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Share Structure</p>\n                            {sub.num_shares != null ? (\n                              <>\n                                <p className=\"text-sm font-medium\">{sub.num_shares.toLocaleString()} shares</p>\n                                {sub.price_per_share != null && (\n                                  <p className=\"text-xs\">@ {formatCurrency(sub.price_per_share, sub.currency)}</p>\n                                )}\n                                {sub.spread_per_share != null && sub.spread_per_share > 0 && (\n                                  <p className=\"text-xs text-green-600\">\n                                    Spread: {formatCurrency(sub.spread_per_share, sub.currency)}\n                                  </p>\n                                )}\n                              </>\n                            ) : (\n                              <p className=\"text-sm text-muted-foreground\">No share data</p>\n                            )}\n                          </div>\n\n                          {/* Fees & Performance */}\n                          <div>\n                            <p className=\"text-xs text-muted-foreground mb-1\">Fees & Performance</p>\n                            {hasFees ? (\n                              <>\n                                <p className=\"text-sm font-medium\">Total Fees: {formatCurrency(totalFees, sub.currency)}</p>\n                                {sub.subscription_fee_percent && (\n                                  <p className=\"text-xs\">Sub: {sub.subscription_fee_percent.toFixed(2)}%</p>\n                                )}\n                                {sub.bd_fee_percent && (\n                                  <p className=\"text-xs\">BD: {sub.bd_fee_percent.toFixed(2)}%</p>\n                                )}\n                              </>\n                            ) : (\n                              <p className=\"text-sm text-muted-foreground\">No fees</p>\n                            )}\n                            {moic != null && (\n                              <p className={`text-xs font-medium mt-1 ${moic >= 1 ? 'text-green-600' : 'text-red-600'}`}>\n                                MOIC: {moic.toFixed(2)}x\n                              </p>\n                            )}\n                          </div>\n                        </div>\n\n                        {/* Additional Financial Info */}\n                        {(sub.capital_calls_total > 0 || sub.distributions_total > 0 || sub.current_nav != null) && (\n                          <div className=\"mt-3 pt-3 border-t grid grid-cols-3 gap-4 text-sm\">\n                            {sub.capital_calls_total > 0 && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Capital Calls</p>\n                                <p className=\"font-medium\">{formatCurrency(sub.capital_calls_total, sub.currency)}</p>\n                              </div>\n                            )}\n                            {sub.distributions_total > 0 && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Distributions</p>\n                                <p className=\"font-medium text-green-600\">{formatCurrency(sub.distributions_total, sub.currency)}</p>\n                              </div>\n                            )}\n                            {sub.current_nav != null && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Current NAV</p>\n                                <p className={`font-medium ${moic && moic >= 1 ? 'text-green-600' : 'text-red-600'}`}>\n                                  {formatCurrency(sub.current_nav, sub.currency)}\n                                </p>\n                              </div>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    )\n                  })}\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n\n          <Card>\n            <CardHeader>\n              <CardTitle>Grand Total</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-2\">\n                {Object.entries(data.summary.total_commitment_by_currency).map(\n                  ([currency, amount]) => (\n                    <div key={currency} className=\"flex justify-between text-lg\">\n                      <span className=\"font-medium\">{currency}:</span>\n                      <span className=\"font-bold\">\n                        {formatCurrency(amount, currency)}\n                      </span>\n                    </div>\n                  )\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </>\n      )}\n    </div>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { ScrollArea } from '@/components/ui/scroll-area'\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\nimport {\n  FileText,\n  DollarSign,\n  TrendingUp,\n  UserCheck,\n  MessageSquare,\n  Upload,\n  CheckCircle2,\n  AlertCircle,\n  Info,\n  Clock,\n  Filter,\n  Download\n} from 'lucide-react'\nimport { formatDistanceToNow, format } from 'date-fns'\n\ninterface ActivityEvent {\n  id: string\n  type: 'subscription' | 'capital_call' | 'distribution' | 'kyc' | 'document' | 'message' | 'profile' | 'system'\n  action: string\n  description: string\n  metadata?: Record<string, any>\n  created_at: string\n  created_by?: {\n    id: string\n    display_name: string\n    email: string\n  }\n}\n\ninterface ActivityTimelineProps {\n  investorId: string\n  compact?: boolean\n  maxHeight?: string\n}\n\nconst activityIcons = {\n  subscription: FileText,\n  capital_call: DollarSign,\n  distribution: TrendingUp,\n  kyc: UserCheck,\n  document: Upload,\n  message: MessageSquare,\n  profile: UserCheck,\n  system: Info\n}\n\nconst activityColors = {\n  subscription: 'text-blue-600',\n  capital_call: 'text-orange-600',\n  distribution: 'text-green-600',\n  kyc: 'text-purple-600',\n  document: 'text-indigo-600',\n  message: 'text-pink-600',\n  profile: 'text-gray-600',\n  system: 'text-gray-500'\n}\n\nconst activityBgColors = {\n  subscription: 'bg-blue-50',\n  capital_call: 'bg-orange-50',\n  distribution: 'bg-green-50',\n  kyc: 'bg-purple-50',\n  document: 'bg-indigo-50',\n  message: 'bg-pink-50',\n  profile: 'bg-gray-50',\n  system: 'bg-gray-50'\n}\n\nexport function ActivityTimeline({ investorId, compact = false, maxHeight = '600px' }: ActivityTimelineProps) {\n  const [activities, setActivities] = useState<ActivityEvent[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [filter, setFilter] = useState<string>('all')\n\n  useEffect(() => {\n    const fetchActivities = async () => {\n      try {\n        setLoading(true)\n        const response = await fetch(`/api/staff/investors/${investorId}/activity?type=${filter}`)\n\n        if (!response.ok) {\n          // If it&apos;s a 404 or table doesn&apos;t exist, show empty state instead of error\n          if (response.status === 404 || response.status === 500) {\n            const errorData = await response.json().catch(() => ({}))\n\n            // Check if it&apos;s a \"table doesn&apos;t exist\" error\n            if (errorData.error?.includes('relation') || errorData.error?.includes('does not exist')) {\n              setActivities([])\n              setError(null)\n              setLoading(false)\n              return\n            }\n          }\n          throw new Error('Failed to fetch activity timeline')\n        }\n\n        const data = await response.json()\n        setActivities(data.activities || [])\n        setError(null)\n      } catch (err) {\n        console.error('Failed to fetch activities:', err)\n        // Show empty state instead of error for better UX\n        setActivities([])\n        setError(null)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchActivities()\n  }, [investorId, filter])\n\n  const handleExport = async () => {\n    try {\n      const response = await fetch(`/api/staff/investors/${investorId}/activity/export`)\n      const blob = await response.blob()\n      const url = window.URL.createObjectURL(blob)\n      const a = document.createElement('a')\n      a.href = url\n      a.download = `investor-${investorId}-activity-${format(new Date(), 'yyyy-MM-dd')}.csv`\n      document.body.appendChild(a)\n      a.click()\n      window.URL.revokeObjectURL(url)\n      document.body.removeChild(a)\n    } catch (err) {\n      console.error('Failed to export activities:', err)\n    }\n  }\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader>\n          <Skeleton className=\"h-6 w-32\" />\n          <Skeleton className=\"h-4 w-48\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4, 5].map((i) => (\n              <div key={i} className=\"flex gap-4\">\n                <Skeleton className=\"h-10 w-10 rounded-full\" />\n                <div className=\"flex-1 space-y-2\">\n                  <Skeleton className=\"h-4 w-3/4\" />\n                  <Skeleton className=\"h-3 w-1/2\" />\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex items-center gap-2 text-destructive\">\n            <AlertCircle className=\"h-4 w-4\" />\n            <p>{error}</p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5\" />\n              Activity Timeline\n            </CardTitle>\n            <CardDescription>\n              Chronological history of all investor interactions\n            </CardDescription>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Select value={filter} onValueChange={setFilter}>\n              <SelectTrigger className=\"w-[180px]\">\n                <Filter className=\"h-4 w-4 mr-2\" />\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Activities</SelectItem>\n                <SelectItem value=\"subscription\">Subscriptions</SelectItem>\n                <SelectItem value=\"capital_call\">Capital Calls</SelectItem>\n                <SelectItem value=\"distribution\">Distributions</SelectItem>\n                <SelectItem value=\"kyc\">KYC Changes</SelectItem>\n                <SelectItem value=\"document\">Documents</SelectItem>\n                <SelectItem value=\"message\">Messages</SelectItem>\n              </SelectContent>\n            </Select>\n            <Button variant=\"outline\" size=\"sm\" onClick={handleExport}>\n              <Download className=\"h-4 w-4 mr-2\" />\n              Export\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <ScrollArea style={{ height: maxHeight }} className=\"pr-4\">\n          {activities.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Clock className=\"h-12 w-12 mx-auto text-muted-foreground mb-4\" />\n              <p className=\"text-muted-foreground\">No activities found</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {activities.map((activity, index) => {\n                const Icon = activityIcons[activity.type]\n                const iconColor = activityColors[activity.type]\n                const bgColor = activityBgColors[activity.type]\n                const isLast = index === activities.length - 1\n\n                return (\n                  <div key={activity.id} className=\"relative\">\n                    {/* Timeline line */}\n                    {!isLast && (\n                      <div className=\"absolute left-5 top-12 bottom-0 w-px bg-border\" />\n                    )}\n\n                    {/* Activity item */}\n                    <div className=\"flex gap-4\">\n                      {/* Icon */}\n                      <div className={`flex-shrink-0 w-10 h-10 rounded-full ${bgColor} flex items-center justify-center relative z-10`}>\n                        <Icon className={`h-5 w-5 ${iconColor}`} />\n                      </div>\n\n                      {/* Content */}\n                      <div className=\"flex-1 pb-8\">\n                        <div className=\"flex items-start justify-between gap-4\">\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-1\">\n                              <p className=\"font-semibold text-sm\">{activity.action}</p>\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                {activity.type.replace('_', ' ')}\n                              </Badge>\n                            </div>\n                            <p className=\"text-sm text-muted-foreground mb-2\">\n                              {activity.description}\n                            </p>\n\n                            {/* Metadata */}\n                            {activity.metadata && Object.keys(activity.metadata).length > 0 && (\n                              <div className=\"flex flex-wrap gap-2 mb-2\">\n                                {Object.entries(activity.metadata).map(([key, value]) => (\n                                  <div\n                                    key={key}\n                                    className=\"text-xs bg-muted px-2 py-1 rounded\"\n                                  >\n                                    <span className=\"font-medium\">{key}:</span>{' '}\n                                    <span>{String(value)}</span>\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n\n                            {/* Footer */}\n                            <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                              {activity.created_by && (\n                                <>\n                                  <span>by {activity.created_by.display_name}</span>\n                                  <span></span>\n                                </>\n                              )}\n                              <span title={format(new Date(activity.created_at), 'PPpp')}>\n                                {formatDistanceToNow(new Date(activity.created_at), {\n                                  addSuffix: true\n                                })}\n                              </span>\n                            </div>\n                          </div>\n\n                          {/* Status indicator */}\n                          {activity.metadata?.status === 'success' && (\n                            <CheckCircle2 className=\"h-4 w-4 text-green-600 flex-shrink-0\" />\n                          )}\n                          {activity.metadata?.status === 'error' && (\n                            <AlertCircle className=\"h-4 w-4 text-red-600 flex-shrink-0\" />\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          )}\n        </ScrollArea>\n      </CardContent>\n    </Card>\n  )\n}\n","'use client'\n\nimport { ActivityTimeline } from './activity-timeline'\n\ninterface ActivityTimelineWrapperProps {\n  investorId: string\n}\n\nexport function ActivityTimelineWrapper({ investorId }: ActivityTimelineWrapperProps) {\n  return <ActivityTimeline investorId={investorId} />\n}\n"],"names":[],"mappings":"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"}