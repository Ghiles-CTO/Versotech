{"version":3,"sources":["../../../../../versotech-portal/src/hooks/useDocumentViewer.ts","../../../../../versotech-portal/src/constants/document-preview.constants.ts","../../../../../versotech-portal/src/components/documents/DocumentViewerFullscreen.tsx","../../../../../versotech-portal/src/types/document-viewer.types.ts","../../../../../versotech-portal/src/services/document.service.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/folder-open.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/folder.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/file-spreadsheet.ts","../../../../../versotech-portal/node_modules/lucide-react/src/icons/house.ts","../../../../../versotech-portal/src/components/documents/document-card.tsx","../../../../../versotech-portal/node_modules/lucide-react/src/icons/clipboard.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useCallback } from 'react'\r\nimport { toast } from 'sonner'\r\nimport { DocumentService } from '@/services/document.service'\r\nimport { DocumentReference, DocumentError } from '@/types/document-viewer.types'\r\nimport {\r\n  PREVIEW_CONFIG,\r\n  PREVIEW_ERROR_MESSAGES,\r\n  isPreviewableExtension,\r\n  isPreviewableMimeType,\r\n  isWithinSizeLimit,\r\n} from '@/constants/document-preview.constants'\r\n\r\n/**\r\n * Hook for managing document preview state and operations\r\n */\r\nexport function useDocumentViewer() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [document, setDocument] = useState<DocumentReference | null>(null)\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  /**\r\n   * Validate if document can be previewed\r\n   */\r\n  const validateDocument = (doc: DocumentReference): string | null => {\r\n    // Check file size\r\n    if (doc.file_size_bytes && !isWithinSizeLimit(doc.file_size_bytes)) {\r\n      return PREVIEW_ERROR_MESSAGES.FILE_TOO_LARGE\r\n    }\r\n\r\n    // Check file type by extension\r\n    const fileName = doc.file_name || doc.name || ''\r\n    const canPreviewByExtension = fileName ? isPreviewableExtension(fileName) : false\r\n\r\n    // Check file type by MIME type if available\r\n    const mimeType = doc.mime_type || ''\r\n    const canPreviewByMimeType = mimeType\r\n      ? isPreviewableMimeType(mimeType)\r\n      : false // If no MIME type, must fail validation (was incorrectly true)\r\n\r\n    // Explicitly check for Office documents that cannot be previewed\r\n    const fileExt = fileName.split('.').pop()?.toLowerCase() || ''\r\n    const officeExtensions = ['docx', 'doc', 'xlsx', 'xls', 'pptx', 'ppt', 'odt', 'ods', 'odp']\r\n    const isOfficeByExtension = officeExtensions.includes(fileExt)\r\n\r\n    const isOfficeDocument = isOfficeByExtension || (mimeType && (\r\n      mimeType.includes('officedocument') || // Office 2007+ formats\r\n      mimeType.includes('msword') || // Old Word format\r\n      mimeType.includes('ms-excel') || // Old Excel format\r\n      mimeType.includes('ms-powerpoint') || // Old PowerPoint format\r\n      mimeType.includes('opendocument') // OpenOffice/LibreOffice formats\r\n    ))\r\n\r\n    if (isOfficeDocument) {\r\n      return 'Office documents cannot be previewed. Please download to view.'\r\n    }\r\n\r\n    if (!canPreviewByExtension && !canPreviewByMimeType) {\r\n      return PREVIEW_ERROR_MESSAGES.UNSUPPORTED_TYPE\r\n    }\r\n\r\n    return null // Valid for preview\r\n  }\r\n\r\n  /**\r\n   * Open document preview\r\n   */\r\n  const openPreview = useCallback(async (doc: DocumentReference, dealId?: string) => {\r\n    // Reset state\r\n    setError(null)\r\n    setPreviewUrl(null)\r\n\r\n    // Validate document\r\n    const validationError = validateDocument(doc)\r\n    if (validationError) {\r\n      toast.error(validationError)\r\n      return\r\n    }\r\n\r\n    // Set document and open immediately (for better UX)\r\n    setDocument(doc)\r\n    setIsOpen(true)\r\n    setIsLoading(true)\r\n\r\n    try {\r\n      // Fetch preview URL based on document type\r\n      const response = dealId\r\n        ? await DocumentService.getDealDocumentPreviewUrl(dealId, doc.id)\r\n        : await DocumentService.getPreviewUrl(doc.id)\r\n\r\n      // Set preview URL\r\n      setPreviewUrl(response.download_url)\r\n      setIsLoading(false)\r\n    } catch (err) {\r\n      console.error('Failed to load document preview:', err)\r\n\r\n      const errorMessage =\r\n        err instanceof DocumentError\r\n          ? DocumentService.getErrorMessage(err)\r\n          : PREVIEW_ERROR_MESSAGES.LOAD_FAILED\r\n\r\n      setError(errorMessage)\r\n      setIsLoading(false)\r\n\r\n      // Also show toast for immediate feedback\r\n      toast.error(errorMessage)\r\n    }\r\n  }, [])\r\n\r\n  /**\r\n   * Close document preview\r\n   */\r\n  const closePreview = useCallback(() => {\r\n    setIsOpen(false)\r\n    // Delay cleanup to allow closing animation\r\n    setTimeout(() => {\r\n      setDocument(null)\r\n      setPreviewUrl(null)\r\n      setError(null)\r\n      setIsLoading(false)\r\n    }, 300)\r\n  }, [])\r\n\r\n  /**\r\n   * Download document from preview\r\n   */\r\n  const downloadDocument = useCallback(async () => {\r\n    if (!document) return\r\n\r\n    try {\r\n      // Use previewUrl if available (already fetched)\r\n      if (previewUrl) {\r\n        window.open(previewUrl, '_blank')\r\n        return\r\n      }\r\n\r\n      // Otherwise fetch download URL\r\n      const response = await DocumentService.getDownloadUrl(document.id)\r\n      window.open(response.download_url, '_blank')\r\n    } catch (err) {\r\n      console.error('Failed to download document:', err)\r\n\r\n      const errorMessage =\r\n        err instanceof DocumentError\r\n          ? DocumentService.getErrorMessage(err)\r\n          : 'Failed to download document'\r\n\r\n      toast.error(errorMessage)\r\n    }\r\n  }, [document, previewUrl])\r\n\r\n  return {\r\n    // State\r\n    isOpen,\r\n    document,\r\n    previewUrl,\r\n    isLoading,\r\n    error,\r\n\r\n    // Methods\r\n    openPreview,\r\n    closePreview,\r\n    downloadDocument,\r\n  }\r\n}\r\n","/**\r\n * Document Preview Configuration\r\n * Defines limits and supported types for the document preview system\r\n */\r\n\r\nexport const PREVIEW_CONFIG = {\r\n  /** Maximum file size for preview (10MB) */\r\n  MAX_FILE_SIZE_BYTES: 10 * 1024 * 1024,\r\n\r\n  /** Timeout for iframe loading (30 seconds) */\r\n  IFRAME_TIMEOUT_MS: 30000,\r\n\r\n  /** Supported MIME types for preview */\r\n  SUPPORTED_MIME_TYPES: [\r\n    'application/pdf',\r\n    'image/png',\r\n    'image/jpeg',\r\n    'image/jpg',\r\n    'image/gif',\r\n    'image/webp',\r\n    'text/plain',\r\n  ] as const,\r\n\r\n  /** Supported file extensions for preview */\r\n  SUPPORTED_EXTENSIONS: [\r\n    'pdf',\r\n    'png',\r\n    'jpeg',\r\n    'jpg',\r\n    'gif',\r\n    'webp',\r\n    'txt',\r\n    'text',\r\n  ] as const,\r\n} as const\r\n\r\n/**\r\n * User-friendly error messages for document preview\r\n */\r\nexport const PREVIEW_ERROR_MESSAGES = {\r\n  FILE_TOO_LARGE: 'File is too large for preview (maximum 10MB). Please download to view.',\r\n  UNSUPPORTED_TYPE: 'Preview not supported for this file type. Please download to view.',\r\n  LOAD_FAILED: 'Failed to load document preview. Please try downloading instead.',\r\n  UNAUTHORIZED: 'You do not have permission to view this document.',\r\n  NOT_FOUND: 'Document not found or has been deleted.',\r\n  NETWORK_ERROR: 'Network error while loading preview. Please check your connection.',\r\n  INVALID_URL: 'Invalid preview URL received. Please try again.',\r\n  TIMEOUT: 'Preview loading timed out. The file may be too large or your connection too slow.',\r\n} as const\r\n\r\n/**\r\n * Check if a file extension is supported for preview\r\n */\r\nexport function isPreviewableExtension(filename: string): boolean {\r\n  const extension = filename.split('.').pop()?.toLowerCase()\r\n  if (!extension) return false\r\n\r\n  return (PREVIEW_CONFIG.SUPPORTED_EXTENSIONS as readonly string[]).includes(extension)\r\n}\r\n\r\n/**\r\n * Check if a MIME type is supported for preview\r\n */\r\nexport function isPreviewableMimeType(mimeType: string): boolean {\r\n  return (PREVIEW_CONFIG.SUPPORTED_MIME_TYPES as readonly string[]).includes(mimeType)\r\n}\r\n\r\n/**\r\n * Check if a file is within size limits for preview\r\n */\r\nexport function isWithinSizeLimit(sizeBytes: number): boolean {\r\n  return sizeBytes <= PREVIEW_CONFIG.MAX_FILE_SIZE_BYTES\r\n}\r\n","'use client'\r\n\r\nimport { useEffect, useState, useMemo } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { X, Download, Loader2, AlertCircle, FileText } from 'lucide-react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { formatFileSize } from '@/lib/utils'\r\nimport { DocumentReference } from '@/types/document-viewer.types'\r\n\r\ninterface DocumentViewerFullscreenProps {\r\n  isOpen: boolean\r\n  document: DocumentReference | null\r\n  previewUrl: string | null\r\n  isLoading: boolean\r\n  error: string | null\r\n  onClose: () => void\r\n  onDownload: () => void\r\n}\r\n\r\n/**\r\n * Check if a file is a PDF based on filename or URL\r\n */\r\nfunction isPdfFile(fileName?: string | null, url?: string | null): boolean {\r\n  if (fileName?.toLowerCase().endsWith('.pdf')) return true\r\n  if (url?.toLowerCase().includes('.pdf')) return true\r\n  // Supabase signed URLs have the file path in them\r\n  if (url?.includes('deal-documents') && url?.includes('.pdf')) return true\r\n  return false\r\n}\r\n\r\n/**\r\n * Append PDF viewer parameters to URL to fix browser rendering issues\r\n * - navpanes=0: Hide thumbnail sidebar (fixes Brave issue)\r\n * - view=FitH: Fit to width for better viewing\r\n * - pagemode=none: Don't show bookmarks/thumbnails\r\n */\r\nfunction getPdfViewerUrl(url: string): string {\r\n  // Don't add hash if URL already has one\r\n  if (url.includes('#')) return url\r\n  return `${url}#navpanes=0&view=FitH&pagemode=none`\r\n}\r\n\r\nexport function DocumentViewerFullscreen({\r\n  isOpen,\r\n  document,\r\n  previewUrl,\r\n  isLoading,\r\n  error,\r\n  onClose,\r\n  onDownload,\r\n}: DocumentViewerFullscreenProps) {\r\n  const [iframeError, setIframeError] = useState(false)\r\n  const [mounted, setMounted] = useState(false)\r\n\r\n  // Track mount state for portal rendering\r\n  useEffect(() => {\r\n    setMounted(true)\r\n    return () => setMounted(false)\r\n  }, [])\r\n\r\n  // Compute the final iframe URL with PDF parameters if needed\r\n  const iframeSrc = useMemo(() => {\r\n    if (!previewUrl) return null\r\n    const fileName = document?.file_name || document?.name\r\n    if (isPdfFile(fileName, previewUrl)) {\r\n      return getPdfViewerUrl(previewUrl)\r\n    }\r\n    return previewUrl\r\n  }, [previewUrl, document])\r\n\r\n  // Handle ESC key to close\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'Escape') {\r\n        onClose()\r\n      }\r\n      if (e.ctrlKey && e.key === 'd') {\r\n        e.preventDefault()\r\n        onDownload()\r\n      }\r\n    }\r\n\r\n    if (isOpen && typeof window !== 'undefined') {\r\n      window.addEventListener('keydown', handleKeyDown)\r\n      // Prevent body scroll when viewer is open\r\n      if (window.document?.body) {\r\n        window.document.body.style.overflow = 'hidden'\r\n      }\r\n\r\n      return () => {\r\n        window.removeEventListener('keydown', handleKeyDown)\r\n        if (window.document?.body) {\r\n          window.document.body.style.overflow = ''\r\n        }\r\n      }\r\n    }\r\n  }, [isOpen, onClose, onDownload])\r\n\r\n  // Reset iframe error when URL changes\r\n  useEffect(() => {\r\n    setIframeError(false)\r\n  }, [previewUrl])\r\n\r\n  // Don't render until mounted (for portal) or if not open\r\n  if (!isOpen || !mounted) return null\r\n\r\n  // Use portal to render at body level, escaping backdrop-blur containing blocks\r\n  const modalContent = (\r\n    <div className=\"fixed inset-0 z-[9999] bg-black/95 overflow-hidden\">\r\n      {/* Toolbar */}\r\n      <div className=\"h-16 bg-white border-b shadow-md flex items-center justify-between px-6\">\r\n        <div className=\"flex items-center gap-4 flex-1 min-w-0\">\r\n          <FileText className=\"h-5 w-5 text-gray-500 flex-shrink-0\" />\r\n          <div className=\"min-w-0 flex-1\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 truncate\">\r\n              {document?.file_name || document?.name || 'Document Preview'}\r\n            </h2>\r\n            <div className=\"flex items-center gap-3 text-sm text-gray-500\">\r\n              {document?.type && (\r\n                <span className=\"capitalize\">{document.type}</span>\r\n              )}\r\n              {document?.file_size_bytes && (\r\n                <>\r\n                  <span>•</span>\r\n                  <span>{formatFileSize(document.file_size_bytes)}</span>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={onDownload}\r\n            className=\"gap-2\"\r\n          >\r\n            <Download className=\"h-4 w-4\" />\r\n            Download\r\n          </Button>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={onClose}\r\n            className=\"gap-2\"\r\n          >\r\n            <X className=\"h-4 w-4\" />\r\n            Close\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main viewport */}\r\n      <div className=\"h-[calc(100vh-4rem)] bg-gray-900\">\r\n        {/* Loading/error states need centering */}\r\n        {(isLoading || error || iframeError) && (\r\n          <div className=\"w-full h-full flex items-center justify-center\">\r\n            {isLoading && (\r\n              <div className=\"flex flex-col items-center gap-4 text-white\">\r\n                <Loader2 className=\"h-12 w-12 animate-spin\" />\r\n                <p className=\"text-lg\">Loading document...</p>\r\n              </div>\r\n            )}\r\n\r\n            {error && !isLoading && (\r\n              <div className=\"flex flex-col items-center gap-4 text-white max-w-md mx-auto px-4\">\r\n                <AlertCircle className=\"h-16 w-16 text-red-400\" />\r\n                <h3 className=\"text-xl font-semibold\">Failed to Load Preview</h3>\r\n                <p className=\"text-gray-300 text-center\">{error}</p>\r\n                <Button\r\n                  onClick={onDownload}\r\n                  variant=\"secondary\"\r\n                  className=\"gap-2 mt-4\"\r\n                >\r\n                  <Download className=\"h-4 w-4\" />\r\n                  Download Instead\r\n                </Button>\r\n              </div>\r\n            )}\r\n\r\n            {iframeError && !isLoading && !error && (\r\n              <div className=\"flex flex-col items-center gap-4 text-white max-w-md mx-auto px-4\">\r\n                <AlertCircle className=\"h-16 w-16 text-red-400\" />\r\n                <h3 className=\"text-xl font-semibold\">Preview Unavailable</h3>\r\n                <p className=\"text-gray-300 text-center\">\r\n                  This document cannot be previewed in your browser.\r\n                </p>\r\n                <Button\r\n                  onClick={onDownload}\r\n                  variant=\"secondary\"\r\n                  className=\"gap-2 mt-4\"\r\n                >\r\n                  <Download className=\"h-4 w-4\" />\r\n                  Download to View\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Iframe fills the entire viewport when ready */}\r\n        {iframeSrc && !isLoading && !error && !iframeError && (\r\n          <iframe\r\n            src={iframeSrc}\r\n            className=\"w-full h-full border-0\"\r\n            title=\"Document Preview\"\r\n            onError={() => {\r\n              console.error('iframe failed to load preview')\r\n              setIframeError(true)\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {/* Footer hint */}\r\n      {!isLoading && !error && (\r\n        <div className=\"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/60 text-sm bg-black/50 px-4 py-2 rounded-full\">\r\n          Press <kbd className=\"px-2 py-1 bg-white/10 rounded mx-1\">ESC</kbd> to close\r\n          or <kbd className=\"px-2 py-1 bg-white/10 rounded mx-1\">Ctrl+D</kbd> to download\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  // Render portal to document.body to escape backdrop-blur containing blocks\r\n  const portalTarget = typeof window !== 'undefined' ? window.document.body : null\r\n  if (!portalTarget) return null\r\n  return createPortal(modalContent, portalTarget)\r\n}\r\n","/**\r\n * Type definitions for the document viewer system\r\n */\r\n\r\n/**\r\n * Minimal document reference needed for preview\r\n * Flexible to support different document sources (general docs, entity docs, deal docs, etc.)\r\n */\r\nexport interface DocumentReference {\r\n  id: string\r\n  file_name?: string | null  // Optional to support different document types\r\n  name?: string | null       // Some documents use 'name' instead of 'file_name'\r\n  mime_type?: string | null\r\n  file_size_bytes?: number | null\r\n  type?: string | null\r\n  [key: string]: any // Allow additional properties\r\n}\r\n\r\n/**\r\n * Response from document download/preview API endpoints\r\n */\r\nexport interface DocumentUrlResponse {\r\n  download_url: string\r\n  mode?: 'preview' | 'download'\r\n  document: {\r\n    id: string\r\n    name: string\r\n    type: string\r\n    file_key?: string\r\n    external_url?: string\r\n    [key: string]: any\r\n  }\r\n  watermark?: {\r\n    uploaded_by?: string\r\n    uploaded_at?: string\r\n    document_classification?: string\r\n    [key: string]: any\r\n  }\r\n  expires_in_seconds: number\r\n}\r\n\r\n/**\r\n * State shape for document viewer\r\n */\r\nexport interface DocumentViewerState {\r\n  isOpen: boolean\r\n  document: DocumentReference | null\r\n  previewUrl: string | null\r\n  isLoading: boolean\r\n  error: string | null\r\n}\r\n\r\n/**\r\n * Custom error class for document operations\r\n */\r\nexport class DocumentError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public statusCode: number,\r\n    public originalError?: any\r\n  ) {\r\n    super(message)\r\n    this.name = 'DocumentError'\r\n  }\r\n}\r\n\r\n/**\r\n * Options for opening a document preview\r\n */\r\nexport interface PreviewOptions {\r\n  /** Force download mode instead of preview */\r\n  forceDownload?: boolean\r\n  /** Custom error handler */\r\n  onError?: (error: DocumentError) => void\r\n  /** Success callback after preview opens */\r\n  onSuccess?: () => void\r\n}\r\n","/**\r\n * Document Service\r\n * Centralized service for all document-related API operations\r\n */\r\n\r\nimport { DocumentError, DocumentUrlResponse } from '@/types/document-viewer.types'\r\n\r\nexport class DocumentService {\r\n  /**\r\n   * Validate that a URL is a valid storage URL from Supabase\r\n   */\r\n  private static isValidStorageUrl(url: string): boolean {\r\n    if (!url) return false\r\n\r\n    // Check if it's a valid HTTPS URL\r\n    if (!url.startsWith('https://')) return false\r\n\r\n    // Check if it's from Supabase storage or a blob URL\r\n    return (\r\n      url.includes('supabase.co/storage') ||\r\n      url.includes('supabase.com/storage') ||\r\n      url.startsWith('blob:')\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Parse and validate API response\r\n   */\r\n  private static async parseResponse(\r\n    response: Response\r\n  ): Promise<DocumentUrlResponse> {\r\n    let data: any\r\n\r\n    try {\r\n      data = await response.json()\r\n    } catch (e) {\r\n      throw new DocumentError(\r\n        'Invalid response from server',\r\n        response.status,\r\n        e\r\n      )\r\n    }\r\n\r\n    // Check for error response\r\n    if (!response.ok) {\r\n      const errorMessage = data.error || data.message || 'Failed to load document'\r\n      throw new DocumentError(errorMessage, response.status, data)\r\n    }\r\n\r\n    // Validate required fields - check for both 'url' and 'download_url' for compatibility\r\n    const downloadUrl = data.url || data.download_url\r\n    if (!downloadUrl) {\r\n      throw new DocumentError(\r\n        'No download URL in response',\r\n        500,\r\n        data\r\n      )\r\n    }\r\n\r\n    // Validate URL format\r\n    if (!this.isValidStorageUrl(downloadUrl)) {\r\n      throw new DocumentError(\r\n        'Invalid download URL format',\r\n        500,\r\n        data\r\n      )\r\n    }\r\n\r\n    // Normalize response to always have both fields for compatibility\r\n    data.url = downloadUrl\r\n    data.download_url = downloadUrl\r\n\r\n    return data as DocumentUrlResponse\r\n  }\r\n\r\n  /**\r\n   * Get preview URL for a general document\r\n   */\r\n  static async getPreviewUrl(documentId: string): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/documents/${documentId}/download?mode=preview`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading preview',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get download URL for a general document\r\n   */\r\n  static async getDownloadUrl(documentId: string): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/documents/${documentId}/download?mode=download`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading download',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get preview URL for a deal data room document\r\n   */\r\n  static async getDealDocumentPreviewUrl(\r\n    dealId: string,\r\n    documentId: string\r\n  ): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/deals/${dealId}/documents/${documentId}/download?mode=preview`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading deal document preview',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get download URL for a deal data room document\r\n   */\r\n  static async getDealDocumentDownloadUrl(\r\n    dealId: string,\r\n    documentId: string\r\n  ): Promise<DocumentUrlResponse> {\r\n    try {\r\n      const response = await fetch(\r\n        `/api/deals/${dealId}/documents/${documentId}/download?mode=download`,\r\n        {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      )\r\n\r\n      return await this.parseResponse(response)\r\n    } catch (error) {\r\n      if (error instanceof DocumentError) {\r\n        throw error\r\n      }\r\n\r\n      throw new DocumentError(\r\n        'Network error while loading deal document download',\r\n        0,\r\n        error\r\n      )\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Map HTTP status codes to user-friendly error messages\r\n   */\r\n  static getErrorMessage(error: DocumentError): string {\r\n    switch (error.statusCode) {\r\n      case 401:\r\n        return 'You do not have permission to view this document.'\r\n      case 403:\r\n        return 'Access to this document is forbidden.'\r\n      case 404:\r\n        return 'Document not found or has been deleted.'\r\n      case 413:\r\n        return 'File is too large to process.'\r\n      case 500:\r\n        return 'Server error while loading document. Please try again.'\r\n      case 0:\r\n        return 'Network error. Please check your connection and try again.'\r\n      default:\r\n        return error.message || 'Failed to load document preview.'\r\n    }\r\n  }\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2',\n      key: 'usdka0',\n    },\n  ],\n];\n\n/**\n * @component @name FolderOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNiAxNCAxLjUtMi45QTIgMiAwIDAgMSA5LjI0IDEwSDIwYTIgMiAwIDAgMSAxLjk0IDIuNWwtMS41NCA2YTIgMiAwIDAgMS0xLjk1IDEuNUg0YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDMuOWEyIDIgMCAwIDEgMS42OS45bC44MSAxLjJhMiAyIDAgMCAwIDEuNjcuOUgxOGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/folder-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FolderOpen = createLucideIcon('folder-open', __iconNode);\n\nexport default FolderOpen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z',\n      key: '1kt360',\n    },\n  ],\n];\n\n/**\n * @component @name Folder\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMjBhMiAyIDAgMCAwIDItMlY4YTIgMiAwIDAgMC0yLTJoLTcuOWEyIDIgMCAwIDEtMS42OS0uOUw5LjYgMy45QTIgMiAwIDAgMCA3LjkzIDNINGEyIDIgMCAwIDAtMiAydjEzYTIgMiAwIDAgMCAyIDJaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/folder\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Folder = createLucideIcon('folder', __iconNode);\n\nexport default Folder;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z', key: '1rqfz7' }],\n  ['path', { d: 'M14 2v4a2 2 0 0 0 2 2h4', key: 'tnqrlb' }],\n  ['path', { d: 'M8 13h2', key: 'yr2amv' }],\n  ['path', { d: 'M14 13h2', key: 'un5t4a' }],\n  ['path', { d: 'M8 17h2', key: '2yhykz' }],\n  ['path', { d: 'M14 17h2', key: '10kma7' }],\n];\n\n/**\n * @component @name FileSpreadsheet\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMkg2YTIgMiAwIDAgMC0yIDJ2MTZhMiAyIDAgMCAwIDIgMmgxMmEyIDIgMCAwIDAgMi0yVjdaIiAvPgogIDxwYXRoIGQ9Ik0xNCAydjRhMiAyIDAgMCAwIDIgMmg0IiAvPgogIDxwYXRoIGQ9Ik04IDEzaDIiIC8+CiAgPHBhdGggZD0iTTE0IDEzaDIiIC8+CiAgPHBhdGggZD0iTTggMTdoMiIgLz4KICA8cGF0aCBkPSJNMTQgMTdoMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/file-spreadsheet\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileSpreadsheet = createLucideIcon('file-spreadsheet', __iconNode);\n\nexport default FileSpreadsheet;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8', key: '5wwlr5' }],\n  [\n    'path',\n    {\n      d: 'M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z',\n      key: 'r6nss1',\n    },\n  ],\n];\n\n/**\n * @component @name House\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgMjF2LThhMSAxIDAgMCAwLTEtMWgtNGExIDEgMCAwIDAtMSAxdjgiIC8+CiAgPHBhdGggZD0iTTMgMTBhMiAyIDAgMCAxIC43MDktMS41MjhsNy02YTIgMiAwIDAgMSAyLjU4MiAwbDcgNkEyIDIgMCAwIDEgMjEgMTB2OWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/house\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst House = createLucideIcon('house', __iconNode);\n\nexport default House;\n","'use client'\r\n\r\nimport { Document, DocumentType } from '@/types/documents'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Download,\r\n  Shield,\r\n  Clock,\r\n  Building2,\r\n  Folder,\r\n  Eye,\r\n  FileText,\r\n  FileSpreadsheet,\r\n  FileCheck,\r\n  Scale,\r\n  Receipt,\r\n  Lock,\r\n  FileSignature,\r\n  Clipboard,\r\n  UserCheck,\r\n  MoreVertical,\r\n  Edit,\r\n  Trash2,\r\n} from 'lucide-react'\r\nimport { useState } from 'react'\r\nimport { toast } from 'sonner'\r\nimport { cn } from '@/lib/utils'\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\n\r\ninterface DocumentCardProps {\r\n  document: Document\r\n  onPreview?: (document: Document) => void\r\n  onRename?: (documentId: string) => void\r\n  onDelete?: (documentId: string) => void\r\n  variant?: 'default' | 'compact'\r\n  className?: string\r\n}\r\n\r\n/**\r\n * Get professional icon for document type (no emojis)\r\n */\r\nfunction getDocumentIcon(type: string) {\r\n  const iconMap: Record<string, typeof FileText> = {\r\n    statement: FileSpreadsheet,\r\n    report: FileCheck,\r\n    legal: Scale,\r\n    tax: Receipt,\r\n    nda: Lock,\r\n    subscription: FileSignature,\r\n    agreement: FileSignature,\r\n    term_sheet: Clipboard,\r\n    kyc: UserCheck,\r\n    other: FileText,\r\n  }\r\n  const IconComponent = iconMap[type.toLowerCase()] || FileText\r\n  return IconComponent\r\n}\r\n\r\nfunction formatFileSize(bytes?: number): string {\r\n  if (!bytes) return 'Unknown size'\r\n  if (bytes < 1024) return bytes + ' B'\r\n  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB'\r\n  return (bytes / (1024 * 1024)).toFixed(1) + ' MB'\r\n}\r\n\r\nfunction formatDocumentType(type: DocumentType | string) {\r\n  const normalized = (type || 'Document').toString().replace(/_/g, ' ')\r\n  return normalized\r\n    .split(' ')\r\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n    .join(' ')\r\n}\r\n\r\n\r\n/**\r\n * DocumentCard - Professional Document Display Component\r\n *\r\n * Refined institutional design matching FolderCard aesthetic.\r\n * Features:\r\n * - Clean iconography (no emojis)\r\n * - Muted professional colors\r\n * - Subtle hover states\r\n * - Context menu actions\r\n *\r\n * Design: Financial Terminal Elegance\r\n */\r\nexport function DocumentCard({\r\n  document,\r\n  onPreview,\r\n  onRename,\r\n  onDelete,\r\n  variant = 'default',\r\n  className,\r\n}: DocumentCardProps) {\r\n  const [isDownloading, setIsDownloading] = useState(false)\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\r\n\r\n  const handleDownload = async () => {\r\n    setIsDownloading(true)\r\n\r\n    try {\r\n      const response = await fetch(`/api/documents/${document.id}/download`)\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 404) {\r\n          toast.error('Document not found or access denied')\r\n        } else if (response.status === 401) {\r\n          toast.error('Please sign in to download documents')\r\n        } else {\r\n          toast.error('Failed to generate download link')\r\n        }\r\n        return\r\n      }\r\n\r\n      const { download_url, watermark, expires_in_seconds } = await response.json()\r\n\r\n      if (watermark) {\r\n        toast.info(`Document will be watermarked with: ${watermark.downloaded_by}`, {\r\n          duration: 5000,\r\n        })\r\n      }\r\n\r\n      window.open(download_url, '_blank')\r\n\r\n      toast.success(\r\n        `Download link generated. Expires in ${Math.floor(expires_in_seconds / 60)} minutes`,\r\n        { duration: 5000 }\r\n      )\r\n    } catch (error) {\r\n      toast.error('Failed to download document. Please try again.')\r\n    } finally {\r\n      setIsDownloading(false)\r\n    }\r\n  }\r\n\r\n  // Handle both file_name and name (for different document types)\r\n  const displayName = document.file_name || (document as any).name || 'Untitled Document'\r\n\r\n  const formattedSize = formatFileSize(document.file_size_bytes)\r\n  const formattedType = formatDocumentType(document.type)\r\n  const vehicle = document.scope?.vehicle\r\n  const formattedDate = new Date(document.created_at).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n  })\r\n  const DocIcon = getDocumentIcon(document.type)\r\n\r\n  // Compact variant for list view\r\n  if (variant === 'compact') {\r\n    return (\r\n      <button\r\n        onClick={() => onPreview?.(document)}\r\n        className={cn(\r\n          'group flex items-center gap-3 w-full px-4 py-3 rounded-md',\r\n          'hover:bg-muted transition-colors duration-150',\r\n          'focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1',\r\n          className\r\n        )}\r\n      >\r\n        <DocIcon className=\"w-5 h-5 text-primary flex-shrink-0\" strokeWidth={2} />\r\n        <span className=\"text-sm font-medium text-foreground flex-1 text-left break-words line-clamp-1\">\r\n          {displayName}\r\n        </span>\r\n        <span className=\"text-sm text-muted-foreground flex-shrink-0\">{formattedSize}</span>\r\n      </button>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'group relative bg-card border border-border rounded-lg shadow-sm',\r\n        'hover:bg-muted/50 hover:border-border hover:shadow-md',\r\n        'transition-all duration-200',\r\n        'cursor-pointer',\r\n        className\r\n      )}\r\n      onClick={() => onPreview?.(document)}\r\n    >\r\n      <div className=\"p-5\">\r\n        <div className=\"flex items-start gap-4\">\r\n          {/* Document Icon */}\r\n          <div\r\n            className={cn(\r\n              'w-14 h-14 rounded-lg border border-border flex items-center justify-center',\r\n              'flex-shrink-0 transition-all duration-200',\r\n              'bg-muted/50'\r\n            )}\r\n          >\r\n            <DocIcon className=\"w-6 h-6 text-primary\" strokeWidth={2} />\r\n          </div>\r\n\r\n          {/* Document Info */}\r\n          <div className=\"flex-1 min-w-0 overflow-hidden\">\r\n            {/* File Name - Allow wrapping for long names */}\r\n            <h3 className=\"font-semibold text-foreground text-sm leading-tight mb-2 break-words line-clamp-2\">\r\n              {displayName}\r\n            </h3>\r\n\r\n            {/* Type & Size */}\r\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground mb-2\">\r\n              <span>{formattedType}</span>\r\n              <span>•</span>\r\n              <span>{formattedSize}</span>\r\n              <span>•</span>\r\n              <span className=\"flex items-center gap-1\">\r\n                <Clock className=\"w-3.5 h-3.5\" strokeWidth={2} />\r\n                {formattedDate}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Badges */}\r\n            <div className=\"flex flex-wrap items-center gap-1.5\">\r\n              {vehicle && (\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className=\"text-xs border-blue-200 bg-blue-50 text-blue-700\"\r\n                >\r\n                  <Building2 className=\"w-3.5 h-3.5 mr-1\" strokeWidth={2} />\r\n                  {vehicle.name}\r\n                </Badge>\r\n              )}\r\n              {document.folder && (\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className=\"text-xs border-purple-200 bg-purple-50 text-purple-700\"\r\n                >\r\n                  <Folder className=\"w-3.5 h-3.5 mr-1\" strokeWidth={2} />\r\n                  {document.folder.path}\r\n                </Badge>\r\n              )}\r\n              {document.watermark && (\r\n                <Badge\r\n                  variant=\"outline\"\r\n                  className=\"text-xs border-emerald-200 bg-emerald-50 text-emerald-700\"\r\n                >\r\n                  <Shield className=\"w-3.5 h-3.5 mr-1\" strokeWidth={2} />\r\n                  Watermarked\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Context Menu */}\r\n          <DropdownMenu open={isMenuOpen} onOpenChange={setIsMenuOpen}>\r\n            <DropdownMenuTrigger\r\n              className={cn(\r\n                'opacity-0 group-hover:opacity-100 transition-opacity duration-150',\r\n                'p-1 rounded hover:bg-muted',\r\n                'focus:outline-none focus:ring-2 focus:ring-primary',\r\n                isMenuOpen && 'opacity-100'\r\n              )}\r\n              onClick={(e) => e.stopPropagation()}\r\n            >\r\n              <MoreVertical className=\"w-4 h-4 text-muted-foreground\" strokeWidth={2} />\r\n              <span className=\"sr-only\">Document actions</span>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-48\">\r\n              {onPreview && (\r\n                <DropdownMenuItem\r\n                  onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    onPreview(document)\r\n                  }}\r\n                >\r\n                  <Eye className=\"w-4 h-4 mr-2 text-primary\" strokeWidth={2} />\r\n                  <span>Preview</span>\r\n                </DropdownMenuItem>\r\n              )}\r\n              <DropdownMenuItem\r\n                onClick={(e) => {\r\n                  e.stopPropagation()\r\n                  handleDownload()\r\n                }}\r\n                disabled={isDownloading}\r\n              >\r\n                {isDownloading ? (\r\n                  <>\r\n                    <Clock className=\"w-4 h-4 mr-2 animate-spin text-muted-foreground\" strokeWidth={2} />\r\n                    <span>Generating...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Download className=\"w-4 h-4 mr-2 text-muted-foreground\" strokeWidth={2} />\r\n                    <span>Download</span>\r\n                  </>\r\n                )}\r\n              </DropdownMenuItem>\r\n              {onRename && (\r\n                <DropdownMenuItem\r\n                  onClick={(e) => {\r\n                    e.stopPropagation()\r\n                    onRename(document.id)\r\n                  }}\r\n                >\r\n                  <Edit className=\"w-4 h-4 mr-2 text-muted-foreground\" strokeWidth={2} />\r\n                  <span>Rename</span>\r\n                </DropdownMenuItem>\r\n              )}\r\n              {onDelete && (\r\n                <>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem\r\n                    onClick={(e) => {\r\n                      e.stopPropagation()\r\n                      onDelete(document.id)\r\n                    }}\r\n                    className=\"text-destructive focus:text-destructive\"\r\n                  >\r\n                    <Trash2 className=\"w-4 h-4 mr-2\" strokeWidth={2} />\r\n                    <span>Delete</span>\r\n                  </DropdownMenuItem>\r\n                </>\r\n              )}\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Hover Indicator (subtle bottom border) */}\r\n      <div\r\n        className={cn(\r\n          'absolute bottom-0 left-0 right-0 h-0.5 bg-primary',\r\n          'transform scale-x-0 group-hover:scale-x-100',\r\n          'transition-transform duration-200 origin-left',\r\n          'rounded-b-lg'\r\n        )}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\n/**\r\n * Document Card Skeleton (for loading states)\r\n */\r\nexport function DocumentCardSkeleton({ className }: { className?: string }) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'bg-card border border-border rounded-lg p-4 shadow-sm',\r\n        'animate-pulse',\r\n        className\r\n      )}\r\n    >\r\n      <div className=\"flex items-start gap-3\">\r\n        <div className=\"w-11 h-11 rounded-lg bg-muted flex-shrink-0\" />\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"h-4 bg-muted rounded w-3/4 mb-2\" />\r\n          <div className=\"h-3 bg-muted rounded w-1/2\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '8', height: '4', x: '8', y: '2', rx: '1', ry: '1', key: 'tgr4d6' }],\n  [\n    'path',\n    {\n      d: 'M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2',\n      key: '116196',\n    },\n  ],\n];\n\n/**\n * @component @name Clipboard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB4PSI4IiB5PSIyIiByeD0iMSIgcnk9IjEiIC8+CiAgPHBhdGggZD0iTTE2IDRoMmEyIDIgMCAwIDEgMiAydjE0YTIgMiAwIDAgMS0yIDJINmEyIDIgMCAwIDEtMi0yVjZhMiAyIDAgMCAxIDItMmgyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clipboard\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clipboard = createLucideIcon('clipboard', __iconNode);\n\nexport default Clipboard;\n"],"names":[],"mappings":"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","ignoreList":[5,6,7,8,10]}