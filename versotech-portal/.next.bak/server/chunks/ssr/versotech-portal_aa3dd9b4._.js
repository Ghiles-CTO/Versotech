module.exports=[155508,a=>{"use strict";let b=(0,a.i(95799).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],155508)},908513,a=>{"use strict";let b=(0,a.i(95799).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],908513)},201986,a=>{"use strict";a.s(["formatBps",0,a=>null==a?"—":`${a} bps`,"formatCurrency",0,(a,b="USD")=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:b,maximumFractionDigits:0}).format(a):"$0","formatDate",0,a=>{if(!a)return"—";let b="string"==typeof a?new Date(a):a;return Number.isNaN(b?.getTime?.())?"—":b.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}])},84818,a=>{"use strict";let b=(0,a.i(95799).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],84818)},599499,a=>{"use strict";let b=(0,a.i(95799).default)("file-warning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["FileWarning",()=>b],599499)},660599,a=>{"use strict";let b=["passport","national_id","drivers_license","signatory_id","id_card","residence_permit","visa","government_id","member_id","director_id","ubo_id"],c=["proof_of_address","signatory_proof_of_address","utility_bill","bank_statement","tax_bill","council_tax","rental_agreement","mortgage_statement","member_proof_of_address"];function d(a){return b.includes(a)||a.includes("_id")||a.includes("passport")||a.includes("license")}function e(a){return c.includes(a)||a.includes("proof_of_address")||a.includes("utility")||a.includes("statement")}function f(a){return({valid:"Valid",expired:"Expired",expiring_soon:"Expiring Soon",stale:"Stale",pending:"Pending Review",rejected:"Rejected"})[a]||"Unknown"}function g(a){return({valid:"bg-green-500/20 text-green-400",expired:"bg-red-500/20 text-red-400",expiring_soon:"bg-amber-500/20 text-amber-400",stale:"bg-orange-500/20 text-orange-400",pending:"bg-blue-500/20 text-blue-400",rejected:"bg-red-500/20 text-red-400"})[a]||"bg-gray-500/20 text-gray-400"}function h(a){return a<0?`Expired ${Math.abs(a)} days ago`:0===a?"Expires today":1===a?"Expires tomorrow":a<=7?`Expires in ${a} days`:a<=30?`Expires in ${Math.ceil(a/7)} weeks`:`Expires in ${Math.ceil(a/30)} months`}a.s(["formatExpiryCountdown",()=>h,"getValidationStatusColor",()=>g,"getValidationStatusLabel",()=>f,"isIdDocument",()=>d,"isProofOfAddress",()=>e])},211374,a=>{"use strict";var b=a.i(352584),c=a.i(888987);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",a),...d})}a.s(["Skeleton",()=>d])},316629,433888,a=>{"use strict";var b=a.i(949119);function c(a,c,d){let[e,f]=(0,b.normalizeDates)(d?.in,a,c);return 12*(e.getFullYear()-f.getFullYear())+(e.getMonth()-f.getMonth())}a.s(["differenceInCalendarMonths",()=>c],316629);var d=a.i(665635);function e(a,b){let c=(0,d.toDate)(a,b?.in),e=c.getMonth();return c.setFullYear(c.getFullYear(),e+1,0),c.setHours(23,59,59,999),c}a.s(["endOfMonth",()=>e],433888)},380640,a=>{"use strict";var b=a.i(79486),c=a.i(197837),d=a.i(399624),e=a.i(628608),f=a.i(949119),g=a.i(665635);function h(a,b){let c=(0,g.toDate)(a)-(0,g.toDate)(b);return c<0?-1:c>0?1:c}var i=a.i(709358),j=a.i(316629),k=a.i(433888);function l(a,l){return function(a,b,l){var m;let n,o=(0,d.getDefaultOptions)(),p=l?.locale??o.locale??c.defaultLocale,q=h(a,b);if(isNaN(q))throw RangeError("Invalid time value");let r=Object.assign({},l,{addSuffix:l?.addSuffix,comparison:q}),[s,t]=(0,f.normalizeDates)(l?.in,...q>0?[b,a]:[a,b]),u=(m=void 0,a=>{let b=(m?Math[m]:Math.trunc)(a);return 0===b?0:b})(((0,g.toDate)(t)-(0,g.toDate)(s))/1e3),v=Math.round((u-((0,e.getTimezoneOffsetInMilliseconds)(t)-(0,e.getTimezoneOffsetInMilliseconds)(s))/1e3)/60);if(v<2)if(l?.includeSeconds)if(u<5)return p.formatDistance("lessThanXSeconds",5,r);else if(u<10)return p.formatDistance("lessThanXSeconds",10,r);else if(u<20)return p.formatDistance("lessThanXSeconds",20,r);else if(u<40)return p.formatDistance("halfAMinute",0,r);else if(u<60)return p.formatDistance("lessThanXMinutes",1,r);else return p.formatDistance("xMinutes",1,r);else if(0===v)return p.formatDistance("lessThanXMinutes",1,r);else return p.formatDistance("xMinutes",v,r);if(v<45)return p.formatDistance("xMinutes",v,r);if(v<90)return p.formatDistance("aboutXHours",1,r);if(v<i.minutesInDay){let a=Math.round(v/60);return p.formatDistance("aboutXHours",a,r)}if(v<2520)return p.formatDistance("xDays",1,r);else if(v<i.minutesInMonth){let a=Math.round(v/i.minutesInDay);return p.formatDistance("xDays",a,r)}else if(v<2*i.minutesInMonth)return n=Math.round(v/i.minutesInMonth),p.formatDistance("aboutXMonths",n,r);if((n=function(a,b,c){var d;let e,i,[l,m,n]=(0,f.normalizeDates)(void 0,a,a,b),o=h(m,n),p=Math.abs((0,j.differenceInCalendarMonths)(m,n));if(p<1)return 0;1===m.getMonth()&&m.getDate()>27&&m.setDate(30),m.setMonth(m.getMonth()-o*p);let q=h(m,n)===-o;+(e=(0,g.toDate)(l,void 0),d=void 0,(i=(0,g.toDate)(e,d?.in)).setHours(23,59,59,999),i)==+(0,k.endOfMonth)(e,void 0)&&1===p&&1===h(l,n)&&(q=!1);let r=o*(p-q);return 0===r?0:r}(t,s))<12){let a=Math.round(v/i.minutesInMonth);return p.formatDistance("xMonths",a,r)}{let a=n%12,b=Math.trunc(n/12);return a<3?p.formatDistance("aboutXYears",b,r):a<9?p.formatDistance("overXYears",b,r):p.formatDistance("almostXYears",b+1,r)}}(a,(0,b.constructFrom)(a,Date.now()),l)}a.s(["formatDistanceToNow",()=>l],380640)},458332,a=>{"use strict";let b=(0,a.i(95799).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>b],458332)},137708,a=>{"use strict";var b=a.i(949119),c=a.i(128428);function d(a,d,f){let[g,h]=(0,b.normalizeDates)(f?.in,a,d),i=e(g,h),j=Math.abs((0,c.differenceInCalendarDays)(g,h));g.setDate(g.getDate()-i*j);let k=Number(e(g,h)===-i),l=i*(j-k);return 0===l?0:l}function e(a,b){let c=a.getFullYear()-b.getFullYear()||a.getMonth()-b.getMonth()||a.getDate()-b.getDate()||a.getHours()-b.getHours()||a.getMinutes()-b.getMinutes()||a.getSeconds()-b.getSeconds()||a.getMilliseconds()-b.getMilliseconds();return c<0?-1:c>0?1:c}a.s(["differenceInDays",()=>d])},709151,a=>{"use strict";let b=(0,a.i(95799).default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);a.s(["default",()=>b])},90516,a=>{"use strict";var b=a.i(709151);a.s(["Banknote",()=>b.default])},43569,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(470305),e=a.i(421908),f=a.i(663475),g=a.i(249464),h=a.i(191675),i=a.i(951870),j=a.i(899750),k=a.i(289633);function l({open:a,onOpenChange:l,arranger:m}){let[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("active"),[H,I]=(0,c.useTransition)(),J=(0,k.useRouter)();return((0,c.useEffect)(()=>{m&&(o(m.legalName),q(m.registrationNumber||""),s(m.taxId||""),u(m.regulator||"none"),w(m.licenseNumber||""),y(m.licenseType||""),A(m.email||""),C(m.phone||""),E(m.address||""),G(m.status))},[m]),m)?(0,b.jsx)(d.Dialog,{open:a,onOpenChange:l,children:(0,b.jsxs)(d.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(d.DialogHeader,{children:[(0,b.jsx)(d.DialogTitle,{children:"Edit Arranger Entity"}),(0,b.jsxs)(d.DialogDescription,{children:["Update information for ",m.legalName]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"legalName",children:"Legal Name *"}),(0,b.jsx)(f.Input,{id:"legalName",value:n,onChange:a=>o(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"registrationNumber",children:"Registration Number"}),(0,b.jsx)(f.Input,{id:"registrationNumber",value:p,onChange:a=>q(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"taxId",children:"Tax ID"}),(0,b.jsx)(f.Input,{id:"taxId",value:r,onChange:a=>s(a.target.value)})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Regulatory Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"regulator",children:"Regulator"}),(0,b.jsxs)(i.Select,{value:t,onValueChange:u,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select regulator"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"none",children:"None / Not Specified"}),(0,b.jsx)(i.SelectItem,{value:"FCA",children:"FCA (UK)"}),(0,b.jsx)(i.SelectItem,{value:"SEC",children:"SEC (US)"}),(0,b.jsx)(i.SelectItem,{value:"FINMA",children:"FINMA (Switzerland)"}),(0,b.jsx)(i.SelectItem,{value:"MAS",children:"MAS (Singapore)"}),(0,b.jsx)(i.SelectItem,{value:"ASIC",children:"ASIC (Australia)"}),(0,b.jsx)(i.SelectItem,{value:"Other",children:"Other"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"licenseNumber",children:"License Number"}),(0,b.jsx)(f.Input,{id:"licenseNumber",value:v,onChange:a=>w(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"licenseType",children:"License Type"}),(0,b.jsx)(f.Input,{id:"licenseType",value:x,onChange:a=>y(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(f.Input,{id:"email",type:"email",value:z,onChange:a=>A(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(f.Input,{id:"phone",type:"tel",value:B,onChange:a=>C(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{htmlFor:"address",children:"Registered Address"}),(0,b.jsx)(h.Textarea,{id:"address",value:D,onChange:a=>E(a.target.value),rows:2})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)(g.Label,{children:"Status"}),(0,b.jsxs)(i.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"})]})]})]})]}),(0,b.jsxs)(d.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>l(!1),disabled:H,children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{m&&I(async()=>{if(!n.trim())return void j.toast.error("Legal name is required");try{let a=await fetch(`/api/admin/arrangers/${m.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({legal_name:n.trim(),registration_number:p.trim()||null,tax_id:r.trim()||null,regulator:"none"===t?null:t.trim()||null,license_number:v.trim()||null,license_type:x.trim()||null,email:z.trim()||null,phone:B.trim()||null,address:D.trim()||null,status:F})});if(!a.ok){let b=await a.json().catch(()=>null);console.error("[EditArrangerDialog] Failed to update arranger",b),j.toast.error(b?.error??"Failed to update arranger entity");return}j.toast.success("Arranger entity updated successfully"),l(!1),J.refresh()}catch(a){console.error("[EditArrangerDialog] Unexpected error",a),j.toast.error("Failed to update arranger entity")}})},disabled:H,children:H?"Updating…":"Update"})]})]})}):null}a.s(["EditArrangerDialog",()=>l])}];

//# sourceMappingURL=versotech-portal_aa3dd9b4._.js.map