{"version":3,"sources":["../../../../../versotech-portal/src/app/%28main%29/versotech_main/my-introducers/page.tsx","../../../../../versotech-portal/src/components/introducers/introducer-detail-drawer.tsx","../../../../../versotech-portal/src/components/introducers/record-commission-dialog.tsx","../../../../../versotech-portal/src/components/introducers/request-invoice-dialog.tsx","../../../../../versotech-portal/src/components/introducers/request-payment-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  UserPlus,\n  Building2,\n  CheckCircle2,\n  Search,\n  Loader2,\n  AlertCircle,\n  ExternalLink,\n  Mail,\n  Handshake,\n  Percent,\n  FileText,\n  PenTool,\n  Clock,\n  Plus,\n  Wallet,\n  CreditCard,\n  TrendingUp,\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { cn } from '@/lib/utils'\nimport { formatCurrency, formatDate } from '@/lib/format'\nimport { createClient } from '@/lib/supabase/client'\nimport { CreateAgreementDialog } from '@/components/staff/introducers/create-agreement-dialog'\nimport { IntroducerDetailDrawer } from '@/components/introducers/introducer-detail-drawer'\nimport { CommissionSummary } from '@/components/common/commission-summary'\nimport type { CommissionSummary as CommissionSummaryType } from '@/components/common/commission-summary'\n\ntype ArrangerInfo = {\n  id: string\n  legal_name: string\n  status: string\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  is_active: boolean\n}\n\ntype Introducer = {\n  id: string\n  legal_name: string\n  contact_name: string | null\n  email: string | null\n  status: string\n  default_commission_bps: number | null\n  commission_cap_amount: number | null\n  agreement_expiry_date: string | null\n  logo_url: string | null\n  deals_count: number\n  referrals_count: number\n  total_referral_value: number\n  fee_plans: FeePlan[]\n  commission_summary: CommissionSummaryType\n}\n\ntype Deal = {\n  id: string\n  name: string\n}\n\ntype Summary = {\n  totalIntroducers: number\n  activeIntroducers: number\n  totalReferrals: number\n  totalFeesOwed: number\n  totalFeesPaid: number\n  totalCommissions: number\n}\n\ntype PendingAgreement = {\n  id: string\n  introducer_name: string\n  introducer_id: string\n  agreement_type: string\n  created_at: string\n  status: string\n  signing_url: string | null\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst STATUS_FILTERS = [\n  { label: 'All Status', value: 'all' },\n  { label: 'Active', value: 'active' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Inactive', value: 'inactive' },\n]\n\nexport default function MyIntroducersPage() {\n  const [arrangerInfo, setArrangerInfo] = useState<ArrangerInfo | null>(null)\n  const [introducers, setIntroducers] = useState<Introducer[]>([])\n  const [deals, setDeals] = useState<Deal[]>([])\n  const [pendingAgreements, setPendingAgreements] = useState<PendingAgreement[]>([])\n  const [summary, setSummary] = useState<Summary>({\n    totalIntroducers: 0,\n    activeIntroducers: 0,\n    totalReferrals: 0,\n    totalFeesOwed: 0,\n    totalFeesPaid: 0,\n    totalCommissions: 0,\n  })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [search, setSearch] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  const [dealFilter, setDealFilter] = useState('all')\n  const [createAgreementOpen, setCreateAgreementOpen] = useState(false)\n  const [selectedIntroducerForAgreement, setSelectedIntroducerForAgreement] = useState<Introducer | null>(null)\n  const [drawerOpen, setDrawerOpen] = useState(false)\n  const [selectedIntroducerId, setSelectedIntroducerId] = useState<string | null>(null)\n\n  const fetchData = async () => {\n    try {\n      setLoading(true)\n      const supabase = createClient()\n\n      const { data: { user } } = await supabase.auth.getUser()\n      if (!user) {\n        setError('Not authenticated')\n        return\n      }\n\n      const { data: arrangerUser, error: arrangerUserError } = await supabase\n        .from('arranger_users')\n        .select('arranger_id')\n        .eq('user_id', user.id)\n        .single()\n\n      if (arrangerUserError || !arrangerUser) {\n        await fetchAllIntroducers(supabase)\n        return\n      }\n\n      const { data: arranger, error: arrangerError } = await supabase\n        .from('arranger_entities')\n        .select('id, legal_name, status')\n        .eq('id', arrangerUser.arranger_id)\n        .single()\n\n      if (arrangerError) throw arrangerError\n      setArrangerInfo(arranger)\n\n      // Fetch pending introducer agreements for this arranger\n      const { data: pendingAgreementsData } = await supabase\n        .from('introducer_agreements')\n        .select(`\n          id,\n          agreement_type,\n          status,\n          created_at,\n          arranger_signature_request_id,\n          introducer:introducer_id (id, legal_name)\n        `)\n        .eq('arranger_id', arrangerUser.arranger_id)\n        .in('status', ['approved', 'pending_arranger_signature'])\n        .order('created_at', { ascending: false })\n\n      const pendingList: PendingAgreement[] = []\n      for (const agreement of pendingAgreementsData || []) {\n        const introducer = Array.isArray(agreement.introducer) ? agreement.introducer[0] : agreement.introducer\n        let signingUrl = null\n\n        if (agreement.arranger_signature_request_id) {\n          const { data: sigReq } = await supabase\n            .from('signature_requests')\n            .select('signing_token, status, token_expires_at')\n            .eq('id', agreement.arranger_signature_request_id)\n            .eq('status', 'pending')\n            .single()\n\n          if (sigReq && new Date(sigReq.token_expires_at) > new Date()) {\n            signingUrl = `/versotech_main/versosign/sign/${sigReq.signing_token}`\n          }\n        }\n\n        pendingList.push({\n          id: agreement.id,\n          introducer_name: introducer?.legal_name || 'Unknown Introducer',\n          introducer_id: introducer?.id || '',\n          agreement_type: agreement.agreement_type,\n          created_at: agreement.created_at,\n          status: agreement.status,\n          signing_url: signingUrl,\n        })\n      }\n      setPendingAgreements(pendingList)\n\n      // Fetch arranger's deals\n      const { data: dealsData, error: dealsError } = await supabase\n        .from('deals')\n        .select('id, name')\n        .eq('arranger_entity_id', arrangerUser.arranger_id)\n\n      if (dealsError) throw dealsError\n\n      setDeals(dealsData || [])\n\n      if (!dealsData || dealsData.length === 0) {\n        setIntroducers([])\n        setSummary({ totalIntroducers: 0, activeIntroducers: 0, totalReferrals: 0, totalFeesOwed: 0, totalFeesPaid: 0, totalCommissions: 0 })\n        return\n      }\n\n      const dealIds = dealsData.map(d => d.id)\n\n      // Fetch referrals from all deals\n      const { data: referrals, error: refError } = await supabase\n        .from('deal_memberships')\n        .select(`referred_by_entity_id, investor_id, deal_id`)\n        .in('deal_id', dealIds)\n        .eq('referred_by_entity_type', 'introducer')\n        .not('referred_by_entity_id', 'is', null)\n\n      if (refError) throw refError\n\n      const introducerIds = [...new Set((referrals || []).map(r => r.referred_by_entity_id))]\n\n      if (introducerIds.length === 0) {\n        setIntroducers([])\n        setSummary({ totalIntroducers: 0, activeIntroducers: 0, totalReferrals: 0, totalFeesOwed: 0, totalFeesPaid: 0, totalCommissions: 0 })\n        return\n      }\n\n      // Fetch introducer data\n      const { data: introducersData, error: introducersError } = await supabase\n        .from('introducers')\n        .select('*')\n        .in('id', introducerIds)\n        .order('legal_name')\n\n      if (introducersError) throw introducersError\n\n      // Fetch fee plans for each introducer\n      const { data: feePlansData } = await supabase\n        .from('fee_plans')\n        .select('id, name, is_active, introducer_id')\n        .eq('created_by_arranger_id', arrangerUser.arranger_id)\n        .in('introducer_id', introducerIds)\n\n      // Group fee plans by introducer\n      const feePlansByIntroducer = new Map<string, FeePlan[]>()\n      ;(feePlansData || []).forEach((fp: any) => {\n        const existing = feePlansByIntroducer.get(fp.introducer_id) || []\n        existing.push({ id: fp.id, name: fp.name, is_active: fp.is_active })\n        feePlansByIntroducer.set(fp.introducer_id, existing)\n      })\n\n      // Fetch commissions for each introducer\n      const { data: commissionsData } = await supabase\n        .from('introducer_commissions')\n        .select('introducer_id, status, accrual_amount, currency')\n        .eq('arranger_id', arrangerUser.arranger_id)\n        .in('introducer_id', introducerIds)\n\n      // Group commissions by introducer\n      const commissionsByIntroducer = new Map<string, CommissionSummaryType>()\n      introducerIds.forEach(id => {\n        commissionsByIntroducer.set(id, {\n          accrued: 0,\n          invoice_requested: 0,\n          invoice_submitted: 0,\n          invoiced: 0,\n          paid: 0,\n          cancelled: 0,\n          total_owed: 0,\n          currency: 'USD',\n        })\n      })\n\n      ;(commissionsData || []).forEach((c: any) => {\n        const summary = commissionsByIntroducer.get(c.introducer_id)\n        if (summary) {\n          const amount = Number(c.accrual_amount) || 0\n          if (c.status === 'accrued') summary.accrued += amount\n          else if (c.status === 'invoice_requested') summary.invoice_requested += amount\n          else if (c.status === 'invoice_submitted') summary.invoice_submitted = (summary.invoice_submitted || 0) + amount\n          else if (c.status === 'invoiced') summary.invoiced += amount\n          else if (c.status === 'paid') summary.paid += amount\n          else if (c.status === 'cancelled') summary.cancelled += amount\n          if (c.currency) summary.currency = c.currency\n        }\n      })\n\n      // Calculate total_owed for each\n      commissionsByIntroducer.forEach((summary) => {\n        summary.total_owed = summary.accrued + summary.invoice_requested + (summary.invoice_submitted || 0) + summary.invoiced\n      })\n\n      // Get subscription values for referral value calculation\n      const investorIds = [...new Set((referrals || []).filter(r => r.investor_id).map(r => r.investor_id))]\n      const { data: subs } = await supabase\n        .from('subscriptions')\n        .select('investor_id, commitment')\n        .in('investor_id', investorIds)\n\n      const subsByInvestor = new Map<string, number>()\n      ;(subs || []).forEach((s: any) => {\n        const current = subsByInvestor.get(s.investor_id) || 0\n        subsByInvestor.set(s.investor_id, current + (Number(s.commitment) || 0))\n      })\n\n      // Build introducer objects\n      const processedIntroducers: Introducer[] = (introducersData || []).map((i: any) => {\n        const introRefs = (referrals || []).filter(r => r.referred_by_entity_id === i.id)\n        const dealsInvolved = [...new Set(introRefs.map(r => r.deal_id).filter(Boolean))]\n        const totalValue = introRefs.reduce((sum, r) => {\n          if (r.investor_id) return sum + (subsByInvestor.get(r.investor_id) || 0)\n          return sum\n        }, 0)\n\n        const commissionSummary = commissionsByIntroducer.get(i.id) || {\n          accrued: 0,\n          invoice_requested: 0,\n          invoice_submitted: 0,\n          invoiced: 0,\n          paid: 0,\n          cancelled: 0,\n          total_owed: 0,\n          currency: 'USD',\n        }\n\n        return {\n          id: i.id,\n          legal_name: i.legal_name || 'Unknown Introducer',\n          contact_name: i.contact_name,\n          email: i.email,\n          status: i.status || 'active',\n          default_commission_bps: i.default_commission_bps,\n          commission_cap_amount: i.commission_cap_amount ? Number(i.commission_cap_amount) : null,\n          agreement_expiry_date: i.agreement_expiry_date,\n          logo_url: i.logo_url,\n          deals_count: dealsInvolved.length,\n          referrals_count: introRefs.length,\n          total_referral_value: totalValue,\n          fee_plans: feePlansByIntroducer.get(i.id) || [],\n          commission_summary: commissionSummary,\n        }\n      })\n\n      setIntroducers(processedIntroducers)\n\n      // Calculate overall summary\n      let totalFeesOwed = 0\n      let totalFeesPaid = 0\n      processedIntroducers.forEach(i => {\n        totalFeesOwed += i.commission_summary.total_owed\n        totalFeesPaid += i.commission_summary.paid\n      })\n\n      setSummary({\n        totalIntroducers: processedIntroducers.length,\n        activeIntroducers: processedIntroducers.filter(i => i.status === 'active').length,\n        totalReferrals: processedIntroducers.reduce((sum, i) => sum + i.referrals_count, 0),\n        totalFeesOwed,\n        totalFeesPaid,\n        totalCommissions: totalFeesOwed + totalFeesPaid,\n      })\n      setError(null)\n    } catch (err) {\n      console.error('[MyIntroducersPage] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load introducers')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function fetchAllIntroducers(supabase: any) {\n    const { data: introducersData, error: introducersError } = await supabase\n      .from('introducers')\n      .select('*')\n      .order('legal_name')\n      .limit(100)\n\n    if (introducersError) throw introducersError\n\n    const processedIntroducers: Introducer[] = (introducersData || []).map((i: any) => ({\n      id: i.id,\n      legal_name: i.legal_name || 'Unknown Introducer',\n      contact_name: i.contact_name,\n      email: i.email,\n      status: i.status || 'active',\n      default_commission_bps: i.default_commission_bps,\n      commission_cap_amount: i.commission_cap_amount ? Number(i.commission_cap_amount) : null,\n      agreement_expiry_date: i.agreement_expiry_date,\n      logo_url: i.logo_url,\n      deals_count: 0,\n      referrals_count: 0,\n      total_referral_value: 0,\n      fee_plans: [],\n      commission_summary: {\n        accrued: 0,\n        invoice_requested: 0,\n        invoiced: 0,\n        paid: 0,\n        cancelled: 0,\n        total_owed: 0,\n        currency: 'USD',\n      },\n    }))\n\n    setIntroducers(processedIntroducers)\n    setSummary({\n      totalIntroducers: processedIntroducers.length,\n      activeIntroducers: processedIntroducers.filter(i => i.status === 'active').length,\n      totalReferrals: 0,\n      totalFeesOwed: 0,\n      totalFeesPaid: 0,\n      totalCommissions: 0,\n    })\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  // Filter introducers by deal (check if they have referrals on selected deal)\n  const filteredIntroducers = introducers.filter(introducer => {\n    const matchesStatus = statusFilter === 'all' || introducer.status === statusFilter\n    const matchesSearch = !search ||\n      introducer.legal_name?.toLowerCase().includes(search.toLowerCase()) ||\n      introducer.contact_name?.toLowerCase().includes(search.toLowerCase()) ||\n      introducer.email?.toLowerCase().includes(search.toLowerCase())\n    // For deal filter, we'd need deal-specific referral data - for now show all if dealFilter is set\n    const matchesDeal = dealFilter === 'all' || true\n    return matchesStatus && matchesSearch && matchesDeal\n  })\n\n  const today = new Date()\n  const thirtyDaysFromNow = new Date(today.getTime() + 30 * 24 * 60 * 60 * 1000)\n\n  const handleRowClick = (introducerId: string) => {\n    setSelectedIntroducerId(introducerId)\n    setDrawerOpen(true)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-16\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n        <span className=\"ml-3 text-muted-foreground\">Loading introducers...</span>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-16\">\n        <AlertCircle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-foreground mb-2\">Error Loading Introducers</h3>\n        <p className=\"text-muted-foreground\">{error}</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">My Introducers</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            {arrangerInfo ? `Introducers working with ${arrangerInfo.legal_name}` : 'View all registered introducers'}\n          </p>\n        </div>\n      </div>\n\n      {/* Pending Agreements Section */}\n      {pendingAgreements.length > 0 && (\n        <Card className=\"border-amber-500/30 bg-amber-500/5\">\n          <CardHeader className=\"pb-3\">\n            <CardTitle className=\"text-lg flex items-center gap-2\">\n              <Clock className=\"h-5 w-5 text-amber-500\" />\n              Agreements Awaiting Your Signature ({pendingAgreements.length})\n            </CardTitle>\n            <CardDescription>\n              Review and sign these introducer agreements to activate them\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n              {pendingAgreements.map((agreement) => (\n                <div\n                  key={agreement.id}\n                  className=\"flex items-center justify-between p-3 rounded-lg border border-amber-500/20 bg-background\"\n                >\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"h-10 w-10 rounded-lg bg-amber-500/10 flex items-center justify-center\">\n                      <FileText className=\"h-5 w-5 text-amber-500\" />\n                    </div>\n                    <div>\n                      <div className=\"font-medium\">{agreement.introducer_name}</div>\n                      <div className=\"text-sm text-muted-foreground capitalize\">\n                        {agreement.agreement_type.replace(/_/g, ' ')} â€¢ Created {formatDate(agreement.created_at)}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    {agreement.signing_url ? (\n                      <Button asChild size=\"sm\" className=\"bg-amber-500 hover:bg-amber-600\">\n                        <Link href={agreement.signing_url}>\n                          <PenTool className=\"h-4 w-4 mr-1\" />\n                          Sign Now\n                        </Link>\n                      </Button>\n                    ) : (\n                      <Button\n                        size=\"sm\"\n                        onClick={async () => {\n                          try {\n                            const res = await fetch(`/api/introducer-agreements/${agreement.id}/sign`, {\n                              method: 'POST'\n                            })\n                            if (res.ok) {\n                              const data = await res.json()\n                              if (data.signing_url) {\n                                window.location.href = data.signing_url\n                              }\n                            }\n                          } catch (err) {\n                            console.error('Failed to initiate signing:', err)\n                          }\n                        }}\n                        className=\"bg-amber-500 hover:bg-amber-600\"\n                      >\n                        <PenTool className=\"h-4 w-4 mr-1\" />\n                        Initiate Signing\n                      </Button>\n                    )}\n                    <Button variant=\"outline\" size=\"sm\" asChild>\n                      <Link href={`/versotech_main/introducer-agreements/${agreement.id}`}>\n                        View\n                      </Link>\n                    </Button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Summary Cards - 6 cards like My Partners */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <UserPlus className=\"h-4 w-4\" />Total Introducers\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.totalIntroducers}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">In your network</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />Active\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">{summary.activeIntroducers}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">With valid agreements</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Handshake className=\"h-4 w-4\" />Referrals\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-blue-600\">{summary.totalReferrals}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Investors introduced</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <TrendingUp className=\"h-4 w-4\" />Total Commissions\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-purple-600\">{formatCurrency(summary.totalCommissions, 'USD')}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">All time</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Wallet className=\"h-4 w-4\" />Fees Owed\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-orange-600\">{formatCurrency(summary.totalFeesOwed, 'USD')}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Pending payment</p>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CreditCard className=\"h-4 w-4\" />Fees Paid\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">{formatCurrency(summary.totalFeesPaid, 'USD')}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">Completed</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input placeholder=\"Search introducers...\" value={search} onChange={(e) => setSearch(e.target.value)} className=\"pl-10\" />\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-48\"><SelectValue placeholder=\"Filter by status\" /></SelectTrigger>\n              <SelectContent>\n                {STATUS_FILTERS.map((o) => <SelectItem key={o.value} value={o.value}>{o.label}</SelectItem>)}\n              </SelectContent>\n            </Select>\n            {deals.length > 0 && (\n              <Select value={dealFilter} onValueChange={setDealFilter}>\n                <SelectTrigger className=\"w-full md:w-48\"><SelectValue placeholder=\"Filter by deal\" /></SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Deals</SelectItem>\n                  {deals.map((d) => <SelectItem key={d.id} value={d.id}>{d.name}</SelectItem>)}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Introducers</CardTitle>\n          <CardDescription>{filteredIntroducers.length} introducer{filteredIntroducers.length !== 1 ? 's' : ''} found</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {filteredIntroducers.length === 0 ? (\n            <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\n              <UserPlus className=\"h-10 w-10 text-muted-foreground\" />\n              <p className=\"text-sm text-muted-foreground\">{search || statusFilter !== 'all' ? 'No introducers match your filters' : 'No introducers in your network yet'}</p>\n            </div>\n          ) : (\n            <div className=\"rounded-md border\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Introducer</TableHead>\n                    <TableHead>Rate / Fee Plans</TableHead>\n                    <TableHead>Referrals</TableHead>\n                    <TableHead>Commission Status</TableHead>\n                    <TableHead>Agreement</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead className=\"text-right\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredIntroducers.map((introducer) => {\n                    const isExpiringSoon = introducer.agreement_expiry_date && new Date(introducer.agreement_expiry_date) <= thirtyDaysFromNow && new Date(introducer.agreement_expiry_date) > today\n                    const isExpired = introducer.agreement_expiry_date && new Date(introducer.agreement_expiry_date) <= today\n                    return (\n                      <TableRow\n                        key={introducer.id}\n                        className=\"cursor-pointer hover:bg-muted/50\"\n                        onClick={() => handleRowClick(introducer.id)}\n                      >\n                        <TableCell>\n                          <div className=\"flex items-center gap-3\">\n                            {introducer.logo_url ? (\n                              <img src={introducer.logo_url} alt={introducer.legal_name} className=\"h-10 w-10 rounded-lg object-cover\" />\n                            ) : (\n                              <div className=\"h-10 w-10 rounded-lg bg-muted flex items-center justify-center\"><Building2 className=\"h-5 w-5 text-muted-foreground\" /></div>\n                            )}\n                            <div>\n                              <div className=\"font-medium\">{introducer.legal_name}</div>\n                              {introducer.email && <div className=\"text-xs text-muted-foreground flex items-center gap-1\"><Mail className=\"h-3 w-3\" />{introducer.email}</div>}\n                            </div>\n                          </div>\n                        </TableCell>\n                        <TableCell onClick={(e) => e.stopPropagation()}>\n                          <div className=\"space-y-1\">\n                            {introducer.default_commission_bps ? (\n                              <div className=\"font-medium flex items-center gap-1\"><Percent className=\"h-3 w-3\" />{(introducer.default_commission_bps / 100).toFixed(2)}%</div>\n                            ) : (\n                              <span className=\"text-muted-foreground text-xs\">No default rate</span>\n                            )}\n                            {introducer.fee_plans.length > 0 && (\n                              <div className=\"flex flex-wrap gap-1\">\n                                {introducer.fee_plans.slice(0, 2).map((fp) => (\n                                  <Badge key={fp.id} variant={fp.is_active ? 'default' : 'secondary'} className=\"text-xs\">\n                                    {fp.name}\n                                  </Badge>\n                                ))}\n                                {introducer.fee_plans.length > 2 && (\n                                  <Badge variant=\"outline\" className=\"text-xs\">+{introducer.fee_plans.length - 2}</Badge>\n                                )}\n                              </div>\n                            )}\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <div>\n                            <div className=\"font-medium\">{introducer.referrals_count} referrals</div>\n                            <div className=\"text-xs text-muted-foreground\">{introducer.deals_count} deal{introducer.deals_count !== 1 ? 's' : ''}</div>\n                          </div>\n                        </TableCell>\n                        <TableCell onClick={(e) => e.stopPropagation()}>\n                          <CommissionSummary summary={introducer.commission_summary} variant=\"inline\" />\n                        </TableCell>\n                        <TableCell>\n                          {introducer.agreement_expiry_date ? (\n                            <div className={cn(\"text-sm\", isExpired && \"text-red-600\", isExpiringSoon && \"text-yellow-600\")}>\n                              <div className=\"flex items-center gap-1\"><FileText className=\"h-3 w-3\" />{formatDate(introducer.agreement_expiry_date)}</div>\n                              {isExpired && <Badge variant=\"destructive\" className=\"text-xs mt-1\">Expired</Badge>}\n                              {isExpiringSoon && <Badge variant=\"outline\" className=\"text-xs mt-1 bg-yellow-100\">Expiring Soon</Badge>}\n                            </div>\n                          ) : <span className=\"text-muted-foreground text-xs\">No agreement</span>}\n                        </TableCell>\n                        <TableCell>\n                          <Badge variant=\"outline\" className={cn('capitalize', STATUS_STYLES[introducer.status] || STATUS_STYLES.active)}>{introducer.status}</Badge>\n                        </TableCell>\n                        <TableCell className=\"text-right\" onClick={(e) => e.stopPropagation()}>\n                          <div className=\"flex items-center justify-end gap-1\">\n                            {arrangerInfo && (\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={(e) => {\n                                  e.stopPropagation()\n                                  setSelectedIntroducerForAgreement(introducer)\n                                  setCreateAgreementOpen(true)\n                                }}\n                              >\n                                <Plus className=\"h-4 w-4 mr-1\" />\n                                Agreement\n                              </Button>\n                            )}\n                            <Button\n                              variant=\"ghost\"\n                              size=\"sm\"\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                handleRowClick(introducer.id)\n                              }}\n                            >\n                              <ExternalLink className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    )\n                  })}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Create Agreement Dialog */}\n      {selectedIntroducerForAgreement && (\n        <CreateAgreementDialog\n          open={createAgreementOpen}\n          onOpenChange={(open) => {\n            setCreateAgreementOpen(open)\n            if (!open) setSelectedIntroducerForAgreement(null)\n          }}\n          introducerId={selectedIntroducerForAgreement.id}\n          introducerName={selectedIntroducerForAgreement.legal_name}\n          defaultCommissionBps={selectedIntroducerForAgreement.default_commission_bps || 100}\n        />\n      )}\n\n      {/* Introducer Detail Drawer */}\n      <IntroducerDetailDrawer\n        introducerId={selectedIntroducerId}\n        open={drawerOpen}\n        onOpenChange={setDrawerOpen}\n      />\n    </div>\n  )\n}\n","'use client'\n\nimport { useEffect, useState } from 'react'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Building2,\n  Mail,\n  Phone,\n  Users,\n  TrendingUp,\n  ExternalLink,\n  Loader2,\n  AlertCircle,\n  FileText,\n  Plus,\n  CreditCard,\n  Clock,\n  CheckCircle,\n  XCircle,\n  Eye,\n} from 'lucide-react'\nimport { formatCurrency, formatDate } from '@/lib/format'\nimport { cn } from '@/lib/utils'\nimport { CommissionSummary } from '@/components/common/commission-summary'\nimport { RecordCommissionDialog } from './record-commission-dialog'\nimport { RequestInvoiceDialog } from './request-invoice-dialog'\nimport { RequestPaymentDialog } from './request-payment-dialog'\nimport { DocumentViewer } from '@/components/documents/document-viewer'\nimport Link from 'next/link'\nimport type { IntroducerData } from '@/types/introducers'\n\ninterface IntroducerDetailDrawerProps {\n  introducerId: string | null\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst COMMISSION_STATUS_ICONS: Record<string, any> = {\n  accrued: { icon: Clock, color: 'text-blue-600' },\n  invoice_requested: { icon: FileText, color: 'text-yellow-600' },\n  invoice_submitted: { icon: FileText, color: 'text-indigo-600' },\n  invoiced: { icon: FileText, color: 'text-orange-600' },\n  paid: { icon: CheckCircle, color: 'text-green-600' },\n  cancelled: { icon: XCircle, color: 'text-red-600' },\n  rejected: { icon: XCircle, color: 'text-red-600' },\n}\n\nexport function IntroducerDetailDrawer({\n  introducerId,\n  open,\n  onOpenChange,\n}: IntroducerDetailDrawerProps) {\n  const [data, setData] = useState<IntroducerData | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [commissions, setCommissions] = useState<any[]>([])\n  const [commissionsLoading, setCommissionsLoading] = useState(false)\n\n  // Dialog states\n  const [recordCommissionOpen, setRecordCommissionOpen] = useState(false)\n  const [requestInvoiceOpen, setRequestInvoiceOpen] = useState(false)\n  const [requestPaymentOpen, setRequestPaymentOpen] = useState(false)\n  const [selectedCommission, setSelectedCommission] = useState<any>(null)\n\n  // View invoice state\n  const [viewInvoiceOpen, setViewInvoiceOpen] = useState(false)\n  const [selectedInvoice, setSelectedInvoice] = useState<{\n    id: string\n    name: string\n    mimeType: string\n  } | null>(null)\n\n  const fetchIntroducerDetail = async () => {\n    if (!introducerId) return\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(`/api/arrangers/me/introducers/${introducerId}`)\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to load introducer details')\n      }\n\n      const result = await response.json()\n      setData(result.data)\n    } catch (err) {\n      console.error('[IntroducerDetailDrawer] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load introducer details')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchCommissions = async () => {\n    if (!introducerId) return\n\n    setCommissionsLoading(true)\n\n    try {\n      const response = await fetch(\n        `/api/arrangers/me/introducer-commissions?introducer_id=${introducerId}&limit=20`\n      )\n      if (response.ok) {\n        const result = await response.json()\n        setCommissions(result.data || [])\n      }\n    } catch (err) {\n      console.error('[IntroducerDetailDrawer] Error fetching commissions:', err)\n    } finally {\n      setCommissionsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!open || !introducerId) {\n      setData(null)\n      setError(null)\n      setCommissions([])\n      return\n    }\n\n    fetchIntroducerDetail()\n    fetchCommissions()\n  }, [open, introducerId])\n\n  const handleRequestInvoice = (commission: any) => {\n    setSelectedCommission(commission)\n    setRequestInvoiceOpen(true)\n  }\n\n  const handleRequestPayment = (commission: any) => {\n    setSelectedCommission(commission)\n    setRequestPaymentOpen(true)\n  }\n\n  const handleViewInvoice = (commission: any) => {\n    if (commission.invoice_id) {\n      setSelectedInvoice({\n        id: commission.invoice_id,\n        name: `Invoice - ${commission.deal?.name || 'Commission'}`,\n        mimeType: 'application/pdf',\n      })\n      setViewInvoiceOpen(true)\n    }\n  }\n\n  const handleActionSuccess = () => {\n    fetchIntroducerDetail()\n    fetchCommissions()\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-full sm:max-w-xl overflow-y-auto\">\n        {loading && (\n          <div className=\"flex items-center justify-center py-16\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n            <span className=\"ml-3 text-muted-foreground\">Loading introducer details...</span>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <AlertCircle className=\"h-12 w-12 text-destructive mb-4\" />\n            <p className=\"text-muted-foreground\">{error}</p>\n            <Button\n              variant=\"outline\"\n              className=\"mt-4\"\n              onClick={() => onOpenChange(false)}\n            >\n              Close\n            </Button>\n          </div>\n        )}\n\n        {data && (\n          <>\n            <SheetHeader className=\"pb-4\">\n              <div className=\"flex items-center gap-3\">\n                {data.introducer.logo_url ? (\n                  <img\n                    src={data.introducer.logo_url}\n                    alt={data.introducer.legal_name}\n                    className=\"h-12 w-12 rounded-lg object-cover\"\n                  />\n                ) : (\n                  <div className=\"h-12 w-12 rounded-lg bg-muted flex items-center justify-center\">\n                    <Building2 className=\"h-6 w-6 text-muted-foreground\" />\n                  </div>\n                )}\n                <div>\n                  <SheetTitle>{data.introducer.legal_name}</SheetTitle>\n                  <SheetDescription>\n                    {data.introducer.contact_name && <span>{data.introducer.contact_name}</span>}\n                  </SheetDescription>\n                </div>\n              </div>\n\n              {/* Status badge */}\n              <div className=\"flex gap-2 mt-3\">\n                <Badge\n                  variant=\"outline\"\n                  className={cn('capitalize', STATUS_STYLES[data.introducer.status] || STATUS_STYLES.active)}\n                >\n                  {data.introducer.status}\n                </Badge>\n                {data.introducer.default_commission_bps && (\n                  <Badge variant=\"secondary\" className=\"text-xs\">\n                    {(data.introducer.default_commission_bps / 100).toFixed(2)}% default rate\n                  </Badge>\n                )}\n              </div>\n            </SheetHeader>\n\n            <Separator className=\"my-4\" />\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-3 gap-3 mb-6\">\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-primary\">{data.stats.total_deals}</div>\n                <div className=\"text-xs text-muted-foreground\">Deals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-blue-600\">{data.stats.total_referrals}</div>\n                <div className=\"text-xs text-muted-foreground\">Referrals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-purple-600\">{data.stats.active_fee_plans}</div>\n                <div className=\"text-xs text-muted-foreground\">Fee Plans</div>\n              </Card>\n            </div>\n\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"fees\">Fee Plans</TabsTrigger>\n                <TabsTrigger value=\"commissions\">Commissions</TabsTrigger>\n                <TabsTrigger value=\"referrals\">Referrals</TabsTrigger>\n              </TabsList>\n\n              {/* Overview Tab */}\n              <TabsContent value=\"overview\" className=\"mt-4 space-y-4\">\n                {/* Contact Info */}\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm\">Contact Information</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2 text-sm\">\n                    {data.introducer.contact_name && (\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.introducer.contact_name}</span>\n                      </div>\n                    )}\n                    {data.introducer.email && (\n                      <div className=\"flex items-center gap-2\">\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                        <a href={`mailto:${data.introducer.email}`} className=\"text-primary hover:underline\">\n                          {data.introducer.email}\n                        </a>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Commission Terms */}\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm\">Commission Terms</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2 text-sm\">\n                    {data.introducer.default_commission_bps ? (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Default Rate:</span>\n                        <span className=\"font-medium\">{(data.introducer.default_commission_bps / 100).toFixed(2)}%</span>\n                      </div>\n                    ) : (\n                      <p className=\"text-muted-foreground\">No default rate set</p>\n                    )}\n                    {data.introducer.commission_cap_amount && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Commission Cap:</span>\n                        <span className=\"font-medium\">\n                          {formatCurrency(data.introducer.commission_cap_amount, 'USD')}\n                        </span>\n                      </div>\n                    )}\n                    {data.introducer.payment_terms && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Payment Terms:</span>\n                        <span className=\"font-medium\">{data.introducer.payment_terms}</span>\n                      </div>\n                    )}\n                    {data.introducer.agreement_expiry_date && (\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-muted-foreground\">Agreement Expiry:</span>\n                        <span className=\"font-medium\">{formatDate(data.introducer.agreement_expiry_date)}</span>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Deals List */}\n                {data.deals.length > 0 && (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Deals Involved</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        {data.deals.map((deal: any) => (\n                          <div key={deal.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">{deal.name}</div>\n                              {deal.company_name && (\n                                <div className=\"text-xs text-muted-foreground\">{deal.company_name}</div>\n                              )}\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                                {deal.status}\n                              </Badge>\n                              <Link href={`/versotech_main/opportunities/${deal.id}`}>\n                                <Button variant=\"ghost\" size=\"sm\">\n                                  <ExternalLink className=\"h-3.5 w-3.5\" />\n                                </Button>\n                              </Link>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n\n              {/* Fee Plans Tab */}\n              <TabsContent value=\"fees\" className=\"mt-4 space-y-4\">\n                {data.fee_plans.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <FileText className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No fee plans assigned to this introducer</p>\n                      <Link href=\"/versotech_main/fee-plans\">\n                        <Button variant=\"outline\" size=\"sm\" className=\"mt-3\">\n                          Create Fee Plan\n                        </Button>\n                      </Link>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  data.fee_plans.map((plan: any) => (\n                    <Card key={plan.id}>\n                      <CardHeader className=\"pb-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <CardTitle className=\"text-sm\">{plan.name}</CardTitle>\n                          <Badge variant={plan.is_active ? 'default' : 'secondary'}>\n                            {plan.is_active ? 'Active' : 'Inactive'}\n                          </Badge>\n                        </div>\n                        {plan.description && (\n                          <CardDescription className=\"text-xs\">{plan.description}</CardDescription>\n                        )}\n                      </CardHeader>\n                      <CardContent>\n                        {plan.components && plan.components.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {plan.components.map((comp: any, idx: number) => (\n                              <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                {comp.kind}: {comp.rate_bps ? `${(comp.rate_bps / 100).toFixed(2)}%` : comp.flat_amount ? `$${comp.flat_amount}` : 'N/A'}\n                              </Badge>\n                            ))}\n                          </div>\n                        ) : (\n                          <p className=\"text-xs text-muted-foreground\">No fee components defined</p>\n                        )}\n                        {plan.effective_from && (\n                          <p className=\"text-xs text-muted-foreground mt-2\">\n                            Effective from {formatDate(plan.effective_from)}\n                            {plan.effective_until && ` to ${formatDate(plan.effective_until)}`}\n                          </p>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ))\n                )}\n              </TabsContent>\n\n              {/* Commissions Tab */}\n              <TabsContent value=\"commissions\" className=\"mt-4 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-medium\">Commission Summary</h3>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => setRecordCommissionOpen(true)}\n                  >\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    Record Commission\n                  </Button>\n                </div>\n\n                <CommissionSummary summary={data.commission_summary} />\n\n                {/* Pending Commissions List */}\n                {commissionsLoading ? (\n                  <div className=\"flex items-center justify-center py-4\">\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  </div>\n                ) : commissions.length > 0 ? (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Recent Commissions</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"space-y-2\">\n                      {commissions.slice(0, 10).map((commission: any) => {\n                        const StatusIcon = COMMISSION_STATUS_ICONS[commission.status]?.icon || Clock\n                        const statusColor = COMMISSION_STATUS_ICONS[commission.status]?.color || 'text-gray-600'\n\n                        return (\n                          <div key={commission.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div className=\"flex items-center gap-2\">\n                              <StatusIcon className={cn('h-4 w-4', statusColor)} />\n                              <div>\n                                <div className=\"font-medium text-sm\">\n                                  {formatCurrency(commission.accrual_amount, commission.currency)}\n                                </div>\n                                <div className=\"text-xs text-muted-foreground\">\n                                  {commission.deal?.name || 'No deal'} â€¢ {formatDate(commission.created_at)}\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                                {commission.status.replace('_', ' ')}\n                              </Badge>\n                              {commission.status === 'accrued' && (\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => handleRequestInvoice(commission)}\n                                >\n                                  <FileText className=\"h-3.5 w-3.5 mr-1\" />\n                                  Request Invoice\n                                </Button>\n                              )}\n                              {commission.status === 'invoiced' && (\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => handleRequestPayment(commission)}\n                                >\n                                  <CreditCard className=\"h-3.5 w-3.5 mr-1\" />\n                                  Request Payment\n                                </Button>\n                              )}\n                              {(commission.status === 'invoiced' || commission.status === 'paid') &&\n                                commission.invoice_id && (\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"ghost\"\n                                  onClick={() => handleViewInvoice(commission)}\n                                  className=\"text-blue-600\"\n                                >\n                                  <Eye className=\"h-3.5 w-3.5 mr-1\" />\n                                  View Invoice\n                                </Button>\n                              )}\n                            </div>\n                          </div>\n                        )\n                      })}\n                    </CardContent>\n                  </Card>\n                ) : null}\n\n                <div className=\"flex justify-end\">\n                  <Link href=\"/versotech_main/introducer-reconciliation\">\n                    <Button variant=\"outline\" size=\"sm\">\n                      <TrendingUp className=\"h-4 w-4 mr-2\" />\n                      View Reconciliation\n                    </Button>\n                  </Link>\n                </div>\n              </TabsContent>\n\n              {/* Referrals Tab */}\n              <TabsContent value=\"referrals\" className=\"mt-4 space-y-4\">\n                {data.recent_referrals.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <Users className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No referrals yet</p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Recent Referrals</CardTitle>\n                      <CardDescription className=\"text-xs\">Investors introduced to your deals</CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3\">\n                        {data.recent_referrals.map((referral: any) => (\n                          <div key={referral.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">\n                                {referral.investor?.name || 'Unknown Investor'}\n                              </div>\n                              <div className=\"text-xs text-muted-foreground\">\n                                {referral.deal?.name || 'Unknown Deal'}\n                                {referral.deal?.company_name && ` â€¢ ${referral.deal.company_name}`}\n                              </div>\n                            </div>\n                            <div className=\"text-xs text-muted-foreground\">\n                              {formatDate(referral.created_at)}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n            </Tabs>\n\n            {/* Dialogs */}\n            <RecordCommissionDialog\n              open={recordCommissionOpen}\n              onOpenChange={setRecordCommissionOpen}\n              introducerId={data.introducer.id}\n              introducerName={data.introducer.legal_name}\n              deals={data.deals}\n              feePlans={data.fee_plans}\n              onSuccess={handleActionSuccess}\n            />\n\n            <RequestInvoiceDialog\n              open={requestInvoiceOpen}\n              onOpenChange={setRequestInvoiceOpen}\n              commission={selectedCommission}\n              onSuccess={handleActionSuccess}\n            />\n\n            <RequestPaymentDialog\n              open={requestPaymentOpen}\n              onOpenChange={setRequestPaymentOpen}\n              commission={selectedCommission}\n              onSuccess={handleActionSuccess}\n            />\n\n            {/* View Invoice Modal */}\n            {selectedInvoice && (\n              <DocumentViewer\n                documentId={selectedInvoice.id}\n                documentName={selectedInvoice.name}\n                mimeType={selectedInvoice.mimeType}\n                open={viewInvoiceOpen}\n                onClose={() => {\n                  setViewInvoiceOpen(false)\n                  setSelectedInvoice(null)\n                }}\n              />\n            )}\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, Calculator } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n  currency: string\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  components: any[]\n}\n\ninterface RecordCommissionDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  introducerId: string\n  introducerName: string\n  deals: Deal[]\n  feePlans: FeePlan[]\n  onSuccess: () => void\n}\n\nconst BASIS_TYPES = [\n  { value: 'invested_amount', label: 'Invested Amount' },\n  { value: 'spread', label: 'Spread' },\n  { value: 'management_fee', label: 'Management Fee' },\n  { value: 'performance_fee', label: 'Performance Fee' },\n]\n\nexport function RecordCommissionDialog({\n  open,\n  onOpenChange,\n  introducerId,\n  introducerName,\n  deals,\n  feePlans,\n  onSuccess,\n}: RecordCommissionDialogProps) {\n  const [saving, setSaving] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Form state\n  const [dealId, setDealId] = useState<string>('')\n  const [feePlanId, setFeePlanId] = useState<string>('')\n  const [basisType, setBasisType] = useState<string>('invested_amount')\n  const [rateBps, setRateBps] = useState<string>('')\n  const [baseAmount, setBaseAmount] = useState<string>('')\n  const [accrualAmount, setAccrualAmount] = useState<string>('')\n  const [currency, setCurrency] = useState<string>('USD')\n  const [paymentDueDate, setPaymentDueDate] = useState<string>('')\n  const [notes, setNotes] = useState<string>('')\n\n  // Reset form when dialog opens\n  useEffect(() => {\n    if (open) {\n      setDealId('')\n      setFeePlanId('')\n      setBasisType('invested_amount')\n      setRateBps('')\n      setBaseAmount('')\n      setAccrualAmount('')\n      setCurrency('USD')\n      setPaymentDueDate('')\n      setNotes('')\n      setError(null)\n    }\n  }, [open])\n\n  // Auto-calculate accrual when rate and base amount change\n  useEffect(() => {\n    if (rateBps && baseAmount) {\n      const rate = parseFloat(rateBps) / 10000 // Convert bps to decimal\n      const base = parseFloat(baseAmount)\n      if (!isNaN(rate) && !isNaN(base)) {\n        const calculated = (base * rate).toFixed(2)\n        setAccrualAmount(calculated)\n      }\n    }\n  }, [rateBps, baseAmount])\n\n  // Update currency when deal changes\n  useEffect(() => {\n    if (dealId) {\n      const deal = deals.find(d => d.id === dealId)\n      if (deal?.currency) {\n        setCurrency(deal.currency)\n      }\n    }\n  }, [dealId, deals])\n\n  // Auto-fill rate from fee plan\n  useEffect(() => {\n    if (feePlanId) {\n      const plan = feePlans.find(p => p.id === feePlanId)\n      if (plan?.components && plan.components.length > 0) {\n        // Find first component with rate_bps\n        const comp = plan.components.find((c: any) => c.rate_bps)\n        if (comp?.rate_bps) {\n          setRateBps(comp.rate_bps.toString())\n        }\n      }\n    }\n  }, [feePlanId, feePlans])\n\n  const handleSubmit = async () => {\n    // Validation\n    if (!rateBps || parseFloat(rateBps) <= 0) {\n      setError('Rate is required and must be greater than 0')\n      return\n    }\n    if (!accrualAmount || parseFloat(accrualAmount) <= 0) {\n      setError('Commission amount is required and must be greater than 0')\n      return\n    }\n\n    setSaving(true)\n    setError(null)\n\n    try {\n      const payload = {\n        introducer_id: introducerId,\n        deal_id: dealId || undefined,\n        fee_plan_id: feePlanId || undefined,\n        basis_type: basisType,\n        rate_bps: parseInt(rateBps, 10),\n        base_amount: baseAmount ? parseFloat(baseAmount) : undefined,\n        accrual_amount: parseFloat(accrualAmount),\n        currency,\n        payment_due_date: paymentDueDate || undefined,\n        notes: notes || undefined,\n      }\n\n      const response = await fetch('/api/arrangers/me/introducer-commissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to record commission')\n      }\n\n      onSuccess()\n      onOpenChange(false)\n    } catch (err) {\n      console.error('[RecordCommissionDialog] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to record commission')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const ratePercent = rateBps ? (parseFloat(rateBps) / 100).toFixed(2) : '0.00'\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>Record Commission</DialogTitle>\n          <DialogDescription>\n            Record a commission owed to {introducerName}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          {/* Deal Selection */}\n          <div className=\"space-y-2\">\n            <Label>Deal (Optional)</Label>\n            <Select value={dealId} onValueChange={setDealId}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select deal...\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">No specific deal</SelectItem>\n                {deals.map((deal) => (\n                  <SelectItem key={deal.id} value={deal.id}>\n                    {deal.name} {deal.company_name && `(${deal.company_name})`}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Fee Plan Selection */}\n          {feePlans.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Fee Plan (Optional)</Label>\n              <Select value={feePlanId} onValueChange={setFeePlanId}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select fee plan...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">No fee plan</SelectItem>\n                  {feePlans.map((plan) => (\n                    <SelectItem key={plan.id} value={plan.id}>\n                      {plan.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n\n          {/* Basis Type */}\n          <div className=\"space-y-2\">\n            <Label>Commission Basis</Label>\n            <Select value={basisType} onValueChange={setBasisType}>\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {BASIS_TYPES.map((type) => (\n                  <SelectItem key={type.value} value={type.value}>\n                    {type.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Rate and Base Amount */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Rate (basis points) *</Label>\n              <Input\n                type=\"number\"\n                value={rateBps}\n                onChange={(e) => setRateBps(e.target.value)}\n                placeholder=\"e.g., 100 = 1%\"\n              />\n              {rateBps && (\n                <p className=\"text-xs text-muted-foreground\">= {ratePercent}%</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Base Amount ({currency})</Label>\n              <Input\n                type=\"number\"\n                value={baseAmount}\n                onChange={(e) => setBaseAmount(e.target.value)}\n                placeholder=\"e.g., 100000\"\n              />\n            </div>\n          </div>\n\n          {/* Commission Amount */}\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              Commission Amount ({currency}) *\n              {rateBps && baseAmount && (\n                <span className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Calculator className=\"h-3 w-3\" />\n                  Auto-calculated\n                </span>\n              )}\n            </Label>\n            <Input\n              type=\"number\"\n              value={accrualAmount}\n              onChange={(e) => setAccrualAmount(e.target.value)}\n              placeholder=\"Commission amount\"\n            />\n            {accrualAmount && (\n              <p className=\"text-sm font-medium text-primary\">\n                {formatCurrency(parseFloat(accrualAmount), currency)}\n              </p>\n            )}\n          </div>\n\n          {/* Payment Due Date */}\n          <div className=\"space-y-2\">\n            <Label>Payment Due Date (Optional)</Label>\n            <Input\n              type=\"date\"\n              value={paymentDueDate}\n              onChange={(e) => setPaymentDueDate(e.target.value)}\n            />\n          </div>\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <Label>Notes (Optional)</Label>\n            <Textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Any additional notes...\"\n              rows={2}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={saving}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={saving}>\n            {saving ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Recording...\n              </>\n            ) : (\n              'Record Commission'\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useState } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Loader2, Mail, FileText } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\n\ninterface Commission {\n  id: string\n  accrual_amount: number\n  currency: string\n  introducer?: {\n    legal_name: string\n    email?: string\n  }\n  deal?: {\n    name: string\n  }\n}\n\ninterface RequestInvoiceDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  commission: Commission | null\n  onSuccess: () => void\n}\n\nexport function RequestInvoiceDialog({\n  open,\n  onOpenChange,\n  commission,\n  onSuccess,\n}: RequestInvoiceDialogProps) {\n  const [sending, setSending] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const handleSubmit = async () => {\n    if (!commission) return\n\n    setSending(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\n        `/api/arrangers/me/introducer-commissions/${commission.id}/request-invoice`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({}),\n        }\n      )\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to request invoice')\n      }\n\n      onSuccess()\n      onOpenChange(false)\n    } catch (err) {\n      console.error('[RequestInvoiceDialog] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to request invoice')\n    } finally {\n      setSending(false)\n    }\n  }\n\n  if (!commission) return null\n\n  const formattedAmount = formatCurrency(\n    commission.accrual_amount,\n    commission.currency || 'USD'\n  )\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <FileText className=\"h-5 w-5\" />\n            Request Invoice\n          </DialogTitle>\n          <DialogDescription>\n            Send an invoice request notification to the introducer.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"py-4 space-y-4\">\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"bg-muted/50 p-4 rounded-lg space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Introducer:</span>\n              <span className=\"font-medium\">{commission.introducer?.legal_name || 'Unknown'}</span>\n            </div>\n            {commission.deal && (\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Deal:</span>\n                <span className=\"font-medium\">{commission.deal.name}</span>\n              </div>\n            )}\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Amount:</span>\n              <span className=\"font-medium text-primary\">{formattedAmount}</span>\n            </div>\n          </div>\n\n          <div className=\"flex items-start gap-2 text-sm text-muted-foreground\">\n            <Mail className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n            <p>\n              The introducer will receive a notification asking them to submit their invoice\n              for this commission. The commission status will be updated to \"Invoice Requested\".\n            </p>\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={sending}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={sending}>\n            {sending ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Sending...\n              </>\n            ) : (\n              <>\n                <Mail className=\"h-4 w-4 mr-2\" />\n                Request Invoice\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Textarea } from '@/components/ui/textarea'\nimport { Label } from '@/components/ui/label'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, CreditCard, Users } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\n\ninterface Commission {\n  id: string\n  accrual_amount: number\n  currency: string\n  deal_id?: string\n  introducer?: {\n    legal_name: string\n  }\n  deal?: {\n    name: string\n  }\n}\n\ninterface Lawyer {\n  id: string\n  legal_name: string\n}\n\ninterface RequestPaymentDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  commission: Commission | null\n  lawyers?: Lawyer[]\n  onSuccess: () => void\n}\n\nexport function RequestPaymentDialog({\n  open,\n  onOpenChange,\n  commission,\n  lawyers = [],\n  onSuccess,\n}: RequestPaymentDialogProps) {\n  const [sending, setSending] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [selectedLawyerId, setSelectedLawyerId] = useState<string>('')\n  const [notes, setNotes] = useState<string>('')\n\n  // Reset form when dialog opens\n  useEffect(() => {\n    if (open) {\n      setSelectedLawyerId('')\n      setNotes('')\n      setError(null)\n    }\n  }, [open])\n\n  const handleSubmit = async () => {\n    if (!commission) return\n\n    setSending(true)\n    setError(null)\n\n    try {\n      const payload: { lawyer_id?: string; notes?: string } = {}\n      if (selectedLawyerId) {\n        payload.lawyer_id = selectedLawyerId\n      }\n      if (notes) {\n        payload.notes = notes\n      }\n\n      const response = await fetch(\n        `/api/arrangers/me/introducer-commissions/${commission.id}/request-payment`,\n        {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(payload),\n        }\n      )\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to request payment')\n      }\n\n      onSuccess()\n      onOpenChange(false)\n    } catch (err) {\n      console.error('[RequestPaymentDialog] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to request payment')\n    } finally {\n      setSending(false)\n    }\n  }\n\n  if (!commission) return null\n\n  const formattedAmount = formatCurrency(\n    commission.accrual_amount,\n    commission.currency || 'USD'\n  )\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <CreditCard className=\"h-5 w-5\" />\n            Request Payment\n          </DialogTitle>\n          <DialogDescription>\n            Request payment approval from the legal team or CEO.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"py-4 space-y-4\">\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          <div className=\"bg-muted/50 p-4 rounded-lg space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Introducer:</span>\n              <span className=\"font-medium\">{commission.introducer?.legal_name || 'Unknown'}</span>\n            </div>\n            {commission.deal && (\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Deal:</span>\n                <span className=\"font-medium\">{commission.deal.name}</span>\n              </div>\n            )}\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Amount:</span>\n              <span className=\"font-medium text-primary\">{formattedAmount}</span>\n            </div>\n          </div>\n\n          {/* Lawyer Selection (Optional) */}\n          {lawyers.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Priority Lawyer (Optional)</Label>\n              <Select value={selectedLawyerId} onValueChange={setSelectedLawyerId}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select lawyer...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">Send to all assigned</SelectItem>\n                  {lawyers.map((lawyer) => (\n                    <SelectItem key={lawyer.id} value={lawyer.id}>\n                      {lawyer.legal_name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <p className=\"text-xs text-muted-foreground\">\n                Optionally select a specific lawyer to prioritize for this payment request.\n              </p>\n            </div>\n          )}\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <Label>Notes (Optional)</Label>\n            <Textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Any payment instructions or notes...\"\n              rows={2}\n            />\n          </div>\n\n          <div className=\"flex items-start gap-2 text-sm text-muted-foreground\">\n            <Users className=\"h-4 w-4 mt-0.5 flex-shrink-0\" />\n            <p>\n              This will notify the assigned lawyers and CEO/admin staff to process\n              the payment to the introducer. Make sure the invoice has been received\n              before requesting payment.\n            </p>\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={sending}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={sending}>\n            {sending ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Sending...\n              </>\n            ) : (\n              <>\n                <CreditCard className=\"h-4 w-4 mr-2\" />\n                Request Payment\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}