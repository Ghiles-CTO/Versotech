module.exports=[931850,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(497412),e=a.i(714814),f=a.i(284169),g=a.i(15788),h=a.i(421908),i=a.i(899750),j=a.i(518173),k=a.i(771088),l=a.i(926076),m=a.i(975965),n=a.i(278541),o=a.i(399580),p=a.i(168118),q=a.i(42329),r=a.i(155508),s=a.i(425622),t=a.i(618287),u=a.i(264890),v=a.i(816854);let w=(0,a.i(95799).default)("gavel",[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]]);var x=a.i(318525),y=a.i(118234),z=a.i(203422),A=a.i(871092),B=a.i(3321),C=a.i(806640),D=a.i(689680),E=a.i(496392),F=a.i(707556),G=a.i(376515),H=a.i(966494),I=a.i(325866),J=a.i(478870),K=a.i(600900),L=a.i(888987),M=a.i(201986);let N={open:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",draft:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600",closed:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",cancelled:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700",allocation_pending:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",fully_subscribed:"bg-violet-100 text-violet-800 border-violet-300 dark:bg-violet-900/30 dark:text-violet-300 dark:border-violet-700"},O={active:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",pending:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",completed:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",removed:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600"},P={funded:"bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-700",partial:"bg-amber-100 text-amber-800 border-amber-300 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-700",awaiting_funding:"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-700",pending_signature:"bg-slate-100 text-foreground/80 border-slate-300 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-600"},Q={funded:"Funded",partial:"Partially Funded",awaiting_funding:"Awaiting Funding",pending_signature:"Pending Signature"},R={nda:{icon:(0,b.jsx)(E.Shield,{className:"h-4 w-4"}),label:"NDA",color:"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30"},term_sheet:{icon:(0,b.jsx)(D.ScrollText,{className:"h-4 w-4"}),label:"Term Sheet",color:"text-blue-600 bg-blue-50 dark:text-blue-400 dark:bg-blue-900/30"},subscription_pack:{icon:(0,b.jsx)(v.FileText,{className:"h-4 w-4"}),label:"Subscription Pack",color:"text-emerald-600 bg-emerald-50 dark:text-emerald-400 dark:bg-emerald-900/30"},subscription_draft:{icon:(0,b.jsx)(v.FileText,{className:"h-4 w-4"}),label:"Subscription Draft",color:"text-amber-600 bg-amber-50 dark:text-amber-400 dark:bg-amber-900/30"},investment_memo:{icon:(0,b.jsx)(G.Target,{className:"h-4 w-4"}),label:"Investment Memo",color:"text-violet-600 bg-violet-50 dark:text-violet-400 dark:bg-violet-900/30"},financial_statements:{icon:(0,b.jsx)(H.TrendingUp,{className:"h-4 w-4"}),label:"Financial Statements",color:"text-cyan-600 bg-cyan-50 dark:text-cyan-400 dark:bg-cyan-900/30"},legal_document:{icon:(0,b.jsx)(w,{className:"h-4 w-4"}),label:"Legal Document",color:"text-indigo-600 bg-indigo-50 dark:text-indigo-400 dark:bg-indigo-900/30"},pitch_deck:{icon:(0,b.jsx)(A.Layers,{className:"h-4 w-4"}),label:"Pitch Deck",color:"text-pink-600 bg-pink-50 dark:text-pink-400 dark:bg-pink-900/30"},due_diligence:{icon:(0,b.jsx)(y.HelpCircle,{className:"h-4 w-4"}),label:"Due Diligence",color:"text-orange-600 bg-orange-50 dark:text-orange-400 dark:bg-orange-900/30"},other:{icon:(0,b.jsx)(v.FileText,{className:"h-4 w-4"}),label:"Document",color:"text-muted-foreground bg-muted dark:text-slate-400 dark:bg-slate-800"}};function S({data:a}){var A;let{deal:D,vehicle:E,assignment:G,escrow:S,subscriptions:T,documents:U,faqs:V,fee_summary:W}=a,[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(null),[ab,ac]=(0,c.useState)(!1),[ad,ae]=(0,c.useState)(null),[af,ag]=(0,c.useState)(new Set),ah=(0,c.useCallback)(async a=>{try{let b=await fetch(`/api/documents/${a}/download`);if(!b.ok){let a=await b.json();throw Error(a.error||"Failed to fetch document")}let c=await b.json();return c.url||c.signedUrl||null}catch(a){throw console.error("Error fetching signed URL:",a),a}},[]),ai=(0,c.useCallback)(async a=>{if(!a.has_file&&!a.external_url)return void i.toast.error("This document has no file attached");$(a),ac(!0),ae(null),aa(null);try{if(a.external_url)aa(a.external_url);else{let b=await ah(a.id);aa(b)}}catch(a){ae(a instanceof Error?a.message:"Failed to load document")}finally{ac(!1)}},[ah]),aj=(0,c.useCallback)(async a=>{if(!a.has_file&&!a.external_url)return void i.toast.error("This document has no file attached");ag(b=>new Set(b).add(a.id));try{if(a.external_url)window.open(a.external_url,"_blank");else{let b=await ah(a.id);b&&(window.open(b,"_blank"),i.toast.success("Document download started"))}}catch(a){i.toast.error(a instanceof Error?a.message:"Failed to download document")}finally{ag(b=>{let c=new Set(b);return c.delete(a.id),c})}},[ah]),ak=(0,c.useCallback)(()=>{$(null),aa(null),ae(null)},[]),al=(0,c.useMemo)(()=>W.partner_fees.pending+W.introducer_fees.pending+W.cp_fees.pending,[W]),am=(0,c.useMemo)(()=>W.partner_fees.paid+W.introducer_fees.paid+W.cp_fees.paid,[W]),an=(0,c.useMemo)(()=>0===S.total_committed?0:Math.round(S.total_funded/S.total_committed*100),[S]),ao=(0,c.useMemo)(()=>D.target_amount&&0!==D.target_amount?Math.round(S.total_committed/Number(D.target_amount)*100):0,[D.target_amount,S.total_committed]),ap=(0,c.useMemo)(()=>{let a={};return U.forEach(b=>{let c=b.type||"other";a[c]||(a[c]=[]),a[c].push(b)}),a},[U]);return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-muted/50 to-background",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,b.jsxs)("header",{className:"space-y-6",children:[(0,b.jsxs)(d.default,{href:"/versotech_main/assigned-deals",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors group",children:[(0,b.jsx)(m.ArrowLeft,{className:"h-4 w-4 transition-transform group-hover:-translate-x-1"}),"Back to Assigned Deals"]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[(0,b.jsx)("div",{className:"relative h-24 w-24 rounded-2xl bg-card flex items-center justify-center overflow-hidden shadow-lg border border-border",children:D.company_logo_url?(0,b.jsx)(e.default,{src:D.company_logo_url,alt:D.company_name||D.name,fill:!0,className:"object-cover"}):(0,b.jsx)(n.Building2,{className:"h-12 w-12 text-muted-foreground/50"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:D.name}),(0,b.jsx)(g.Badge,{variant:"outline",className:(0,L.cn)("capitalize font-semibold text-sm px-3 py-1",N[D.status]||N.draft),children:D.status.replace(/_/g," ")})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[D.company_name&&(0,b.jsxs)("span",{className:"flex items-center gap-1.5 font-medium",children:[(0,b.jsx)(n.Building2,{className:"h-4 w-4 text-muted-foreground"}),D.company_name]}),D.sector&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"font-medium",children:D.sector}),D.stage&&(0,b.jsx)(g.Badge,{variant:"outline",className:"font-medium",children:D.stage}),D.location&&(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(C.MapPin,{className:"h-4 w-4 text-muted-foreground"}),D.location]}),D.company_website&&(0,b.jsxs)("a",{href:D.company_website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-blue-600 hover:text-blue-800 transition-colors",children:[(0,b.jsx)(x.Globe,{className:"h-4 w-4"}),"Website",(0,b.jsx)(t.ExternalLink,{className:"h-3 w-3"})]})]})]})]})]}),(0,b.jsx)(f.Card,{className:"border-l-4 border-l-indigo-500 bg-gradient-to-r from-indigo-50/60 to-background dark:from-indigo-950/30 dark:to-background shadow-sm",children:(0,b.jsxs)(f.CardContent,{className:"py-5",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center shadow-sm",children:(0,b.jsx)(w,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wider",children:"Your Assignment"}),(0,b.jsx)("p",{className:"text-xl font-bold text-foreground capitalize",children:G.role.replace(/_/g," ")})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,b.jsxs)("div",{className:"text-center sm:text-right",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Status"}),(0,b.jsx)(g.Badge,{variant:"outline",className:(0,L.cn)("capitalize mt-1",O[G.status]||O.pending),children:G.status})]}),(0,b.jsxs)("div",{className:"text-center sm:text-right",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Assigned"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground mt-1",children:(0,M.formatDate)(G.assigned_at)})]}),G.assigned_by&&(0,b.jsxs)("div",{className:"text-center sm:text-right",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"By"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground mt-1",children:G.assigned_by})]})]})]}),G.notes&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-indigo-100 dark:border-indigo-900/50",children:(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-semibold text-foreground/80",children:"Notes:"})," ",G.notes]})})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsx)(f.CardHeader,{className:"pb-4",children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(n.Building2,{className:"h-5 w-5 text-muted-foreground"}),"Company Overview"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[D.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-foreground/80 leading-relaxed",children:D.description})]}),D.investment_thesis&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Investment Thesis"}),(0,b.jsx)("p",{className:"text-sm text-foreground/80 leading-relaxed",children:D.investment_thesis})]}),!D.description&&!D.investment_thesis&&(0,b.jsxs)("div",{className:"py-8 text-center",children:[(0,b.jsx)(n.Building2,{className:"h-10 w-10 text-muted-foreground/40 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No company overview available"})]})]})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsx)(f.CardHeader,{className:"pb-4",children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(r.DollarSign,{className:"h-5 w-5 text-muted-foreground"}),"Investment Terms"]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Target"}),(0,b.jsx)("p",{className:"text-lg font-bold text-foreground",children:D.target_amount?(0,M.formatCurrency)(Number(D.target_amount),D.currency):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Raised"}),(0,b.jsx)("p",{className:"text-lg font-bold text-emerald-600",children:D.raised_amount?(0,M.formatCurrency)(Number(D.raised_amount),D.currency):"$0"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Min Investment"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:D.minimum_investment?(0,M.formatCurrency)(Number(D.minimum_investment),D.currency):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Max Investment"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:D.maximum_investment?(0,M.formatCurrency)(Number(D.maximum_investment),D.currency):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Price/Unit"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:D.offer_unit_price?(0,M.formatCurrency)(Number(D.offer_unit_price),D.currency):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Deal Type"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:(A=D.deal_type)?A.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase()):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Opens"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:D.open_at?(0,M.formatDate)(D.open_at):"N/A"})]}),(0,b.jsxs)("div",{className:"p-3 rounded-lg bg-muted",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Closes"}),(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground",children:D.close_at?(0,M.formatDate)(D.close_at):"N/A"})]})]})})]})]}),E&&(0,b.jsx)(f.Card,{className:"shadow-sm border-l-4 border-l-cyan-500",children:(0,b.jsx)(f.CardContent,{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-cyan-100 dark:bg-cyan-900/50 flex items-center justify-center",children:(0,b.jsx)(z.Landmark,{className:"h-5 w-5 text-cyan-600 dark:text-cyan-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-cyan-600 uppercase tracking-wider",children:"Investment Vehicle"}),(0,b.jsx)("p",{className:"text-lg font-bold text-foreground",children:E.name}),E.legal_name&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:E.legal_name})]}),E.vehicle_type&&(0,b.jsx)(g.Badge,{variant:"outline",className:"capitalize",children:E.vehicle_type.replace(/_/g," ")})]})})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[(0,b.jsx)(K.Wallet,{className:"h-5 w-5 text-muted-foreground"}),"Escrow Overview"]}),(0,b.jsx)(d.default,{href:"/versotech_main/escrow",children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",className:"gap-2",children:["View Escrow",(0,b.jsx)(t.ExternalLink,{className:"h-3.5 w-3.5"})]})})]}),(0,b.jsx)(f.Card,{className:"shadow-sm",children:(0,b.jsxs)(f.CardContent,{className:"py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Target Progress"}),(0,b.jsxs)("span",{className:"text-sm font-bold text-foreground",children:[ao,"%"]})]}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-500",style:{width:`${Math.min(ao,100)}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Committed: ",(0,M.formatCurrency)(S.total_committed,S.currency)]}),(0,b.jsxs)("span",{children:["Target: ",D.target_amount?(0,M.formatCurrency)(Number(D.target_amount),D.currency):"N/A"]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(f.Card,{className:"shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-blue-400 to-blue-600"}),(0,b.jsx)(f.CardContent,{className:"pt-5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Committed"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:(0,M.formatCurrency)(S.total_committed,S.currency)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[T.length," subscription",1!==T.length?"s":""]})]}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center",children:(0,b.jsx)(H.TrendingUp,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]})})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-emerald-400 to-emerald-600"}),(0,b.jsx)(f.CardContent,{className:"pt-5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Funded"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-emerald-600 mt-1",children:(0,M.formatCurrency)(S.total_funded,S.currency)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[an,"% of commitment"]})]}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center",children:(0,b.jsx)(o.CheckCircle2,{className:"h-6 w-6 text-emerald-600 dark:text-emerald-400"})})]})})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm overflow-hidden",children:[(0,b.jsx)("div",{className:"h-1.5 bg-gradient-to-r from-amber-400 to-amber-600"}),(0,b.jsx)(f.CardContent,{className:"pt-5",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Pending Confirmations"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-amber-600 mt-1",children:S.pending_confirmations}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting funding"})]}),(0,b.jsx)("div",{className:"h-12 w-12 rounded-xl bg-amber-100 dark:bg-amber-900/50 flex items-center justify-center",children:(0,b.jsx)(q.Clock,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})})]})]})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(J.Users,{className:"h-5 w-5 text-muted-foreground"}),"Subscriptions"]}),(0,b.jsx)(f.CardDescription,{children:"Investor commitments and funding status"})]}),(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-sm font-semibold",children:[T.length," Total"]})]})}),(0,b.jsx)(f.CardContent,{children:0===T.length?(0,b.jsxs)("div",{className:"border-2 border-dashed border-border rounded-xl py-12 flex flex-col items-center justify-center text-center",children:[(0,b.jsx)(J.Users,{className:"h-12 w-12 text-muted-foreground/40 mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"No subscriptions yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Subscriptions will appear here when investors commit"})]}):(0,b.jsx)("div",{className:"rounded-xl border overflow-hidden",children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{className:"bg-muted",children:[(0,b.jsx)(k.TableHead,{className:"font-semibold",children:"Investor"}),(0,b.jsx)(k.TableHead,{className:"text-right font-semibold",children:"Commitment"}),(0,b.jsx)(k.TableHead,{className:"text-right font-semibold",children:"Funded"}),(0,b.jsx)(k.TableHead,{className:"font-semibold",children:"Signed"}),(0,b.jsx)(k.TableHead,{className:"font-semibold",children:"Status"})]})}),(0,b.jsx)(k.TableBody,{children:T.map(a=>(0,b.jsxs)(k.TableRow,{className:"hover:bg-muted/50",children:[(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-muted to-muted/70 flex items-center justify-center",children:(0,b.jsx)(I.User,{className:"h-4 w-4 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-foreground",children:a.investor_name}),a.investor_entity&&a.investor_entity!==a.investor_name&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.investor_entity})]})]})}),(0,b.jsx)(k.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:"font-bold text-foreground",children:(0,M.formatCurrency)(a.commitment_amount,a.currency)})}),(0,b.jsx)(k.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:(0,L.cn)("font-bold",a.funded_amount>=a.commitment_amount?"text-emerald-600":a.funded_amount>0?"text-amber-600":"text-slate-400"),children:(0,M.formatCurrency)(a.funded_amount,a.currency)})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:a.signed_at?(0,M.formatDate)(a.signed_at):"—"})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(g.Badge,{variant:"outline",className:(0,L.cn)("font-medium",P[a.funding_status]||P.pending_signature),children:Q[a.funding_status]||a.funding_status})})]},a.id))})]})})})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(v.FileText,{className:"h-5 w-5 text-muted-foreground"}),"Data Room"]}),(0,b.jsxs)(f.CardDescription,{children:["All deal documents (",U.length," total)"]})]})})}),(0,b.jsx)(f.CardContent,{children:0===U.length?(0,b.jsxs)("div",{className:"border-2 border-dashed border-border rounded-xl py-12 flex flex-col items-center justify-center text-center",children:[(0,b.jsx)(v.FileText,{className:"h-12 w-12 text-muted-foreground/40 mb-3"}),(0,b.jsx)("p",{className:"text-muted-foreground font-medium",children:"No documents available"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground/70",children:"Documents will appear here when uploaded"})]}):(0,b.jsx)("div",{className:"space-y-6",children:Object.entries(ap).map(([a,c])=>{let d=R[a]||R.other;return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:(0,L.cn)("h-7 w-7 rounded-lg flex items-center justify-center",d.color),children:d.icon}),(0,b.jsx)("h4",{className:"font-semibold text-foreground/80",children:d.label}),(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs",children:c.length})]}),(0,b.jsx)("div",{className:"grid gap-2 pl-9",children:c.map(a=>{var c;let d=af.has(a.id),e=a.has_file||a.external_url;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted hover:bg-muted/80 transition-colors group",children:[(0,b.jsx)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium text-sm text-foreground truncate",children:a.name}),!a.is_published&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200",children:"Draft"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[(0,b.jsx)("span",{children:(0,M.formatDate)(a.created_at)}),a.file_size_bytes&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:(c=a.file_size_bytes)?c<1024?`${c} B`:c<1048576?`${(c/1024).toFixed(1)} KB`:`${(c/1048576).toFixed(1)} MB`:""})]})]})]})}),e&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"gap-1.5 opacity-70 group-hover:opacity-100 transition-opacity",onClick:()=>ai(a),children:[(0,b.jsx)(u.Eye,{className:"h-4 w-4"}),"Preview"]}),(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"gap-1.5 opacity-70 group-hover:opacity-100 transition-opacity",onClick:()=>aj(a),disabled:d,children:[d?(0,b.jsx)(B.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(s.Download,{className:"h-4 w-4"}),"Download"]})]})]},a.id)})})]},a)})})})]}),V.length>0&&(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(y.HelpCircle,{className:"h-5 w-5 text-muted-foreground"}),"Frequently Asked Questions"]}),(0,b.jsxs)(f.CardDescription,{children:[V.length," question",1!==V.length?"s":""," about this deal"]})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:V.map(a=>(0,b.jsxs)(l.Collapsible,{open:X===a.id,onOpenChange:b=>Y(b?a.id:null),children:[(0,b.jsx)(l.CollapsibleTrigger,{asChild:!0,children:(0,b.jsxs)("button",{className:"w-full flex items-center justify-between p-4 rounded-lg bg-muted hover:bg-muted/80 transition-colors text-left group",children:[(0,b.jsx)("span",{className:"font-semibold text-foreground pr-4",children:a.question}),(0,b.jsx)(p.ChevronDown,{className:(0,L.cn)("h-5 w-5 text-muted-foreground transition-transform",X===a.id&&"rotate-180")})]})}),(0,b.jsx)(l.CollapsibleContent,{children:(0,b.jsx)("div",{className:"px-4 pb-4 pt-2",children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap",children:a.answer})})})]},a.id))})})]}),(0,b.jsxs)(f.Card,{className:"shadow-sm",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2 text-lg",children:[(0,b.jsx)(F.Tag,{className:"h-5 w-5 text-muted-foreground"}),"Fee Summary"]}),(0,b.jsx)(f.CardDescription,{children:"Commission payments for this deal"})]}),(0,b.jsx)(d.default,{href:"/versotech_main/reconciliation",children:(0,b.jsxs)(h.Button,{variant:"outline",size:"sm",className:"gap-2",children:["View All",(0,b.jsx)(t.ExternalLink,{className:"h-3.5 w-3.5"})]})})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-violet-100 dark:bg-violet-900/50 flex items-center justify-center",children:(0,b.jsx)(J.Users,{className:"h-5 w-5 text-violet-600 dark:text-violet-400"})}),(0,b.jsx)("span",{className:"font-semibold text-foreground",children:"Partner Fees"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:(0,L.cn)("font-bold",W.partner_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,M.formatCurrency)(W.partner_fees.pending,S.currency)," pending"]}),W.partner_fees.paid>0&&(0,b.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,M.formatCurrency)(W.partner_fees.paid,S.currency)," paid"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center",children:(0,b.jsx)(I.User,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("span",{className:"font-semibold text-foreground",children:"Introducer Fees"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:(0,L.cn)("font-bold",W.introducer_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,M.formatCurrency)(W.introducer_fees.pending,S.currency)," pending"]}),W.introducer_fees.paid>0&&(0,b.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,M.formatCurrency)(W.introducer_fees.paid,S.currency)," paid"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/50 flex items-center justify-center",children:(0,b.jsx)(n.Building2,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),(0,b.jsx)("span",{className:"font-semibold text-foreground",children:"Commercial Partner Fees"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:(0,L.cn)("font-bold",W.cp_fees.pending>0?"text-amber-600":"text-slate-400"),children:[(0,M.formatCurrency)(W.cp_fees.pending,S.currency)," pending"]}),W.cp_fees.paid>0&&(0,b.jsxs)("p",{className:"text-sm text-emerald-600",children:[(0,M.formatCurrency)(W.cp_fees.paid,S.currency)," paid"]})]})]}),(0,b.jsx)("div",{className:"pt-4 mt-4 border-t-2 border-border",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-lg font-bold text-foreground",children:"Total"}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:(0,L.cn)("text-xl font-bold",al>0?"text-amber-600":"text-slate-400"),children:[(0,M.formatCurrency)(al,S.currency)," pending"]}),am>0&&(0,b.jsxs)("p",{className:"text-sm font-semibold text-emerald-600",children:[(0,M.formatCurrency)(am,S.currency)," paid"]})]})]})})]})})]})]}),(0,b.jsx)(j.DocumentViewerFullscreen,{isOpen:!!Z,document:Z?{id:Z.id,name:Z.name,file_name:Z.name,type:Z.type||"other",file_size_bytes:Z.file_size_bytes||void 0,mime_type:Z.mime_type||void 0}:null,previewUrl:_,isLoading:ab,error:ad,onClose:ak,onDownload:()=>Z&&aj(Z)})]})}a.s(["LawyerDealClient",()=>S],931850)}];

//# sourceMappingURL=versotech-portal_src_components_lawyer_lawyer-deal-client_tsx_c606c77e._.js.map