{"version":3,"sources":["../../../../../versotech-portal/src/app/%28admin%29/versotech_admin/users/staff/page.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport { useEffect, useState, useCallback, useMemo } from 'react'\nimport {\n  ColumnDef,\n  SortingState,\n  flexRender,\n  getCoreRowModel,\n  getSortedRowModel,\n  useReactTable,\n} from '@tanstack/react-table'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Label } from '@/components/ui/label'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Card, CardContent } from '@/components/ui/card'\nimport {\n  MoreHorizontal,\n  Eye,\n  ArrowUpDown,\n  Users as UsersIcon,\n  Activity,\n  UserCheck,\n  ArrowRightLeft,\n  Loader2,\n} from 'lucide-react'\nimport Link from 'next/link'\nimport { formatDistanceToNow } from 'date-fns'\nimport { cn } from '@/lib/utils'\nimport { toast } from 'sonner'\n\n// Staff member type based on API response\ninterface StaffMember {\n  id: string\n  email: string\n  display_name: string\n  role: string\n  title: string | null\n  last_login_at: string | null\n  created_at: string\n  updated_at: string\n  password_set: boolean\n  status: 'invited' | 'active'\n  permissions: string[]\n  is_super_admin: boolean\n  last_activity: string | null\n  last_action: string | null\n  recent_login_count: number\n  recent_failed_logins: number\n  assigned_investors: number\n  activity_score_7d: number\n}\n\ninterface StaffResponse {\n  success: boolean\n  data?: {\n    staff_members: StaffMember[]\n    statistics: {\n      total_staff: number\n      active_staff: number\n      invited_staff: number\n      super_admins: number\n      by_role: Record<string, number>\n    }\n  }\n  error?: string\n}\n\n// Role badge variant\nconst roleBadgeVariant = (role: string): 'default' | 'secondary' | 'outline' => {\n  if (role === 'ceo') return 'default'\n  if (role.startsWith('staff_')) return 'secondary'\n  return 'outline'\n}\n\nconst formatRole = (role: string): string => {\n  const roleMap: Record<string, string> = {\n    ceo: 'CEO',\n    staff_admin: 'Staff Admin',\n    staff_ops: 'Staff Ops',\n    staff_rm: 'Staff RM',\n  }\n  return roleMap[role] || role\n}\n\n// Status badge styling (with dark mode support)\nconst statusBadgeStyle = (status: string): { variant: 'default' | 'secondary' | 'outline'; className?: string } => {\n  if (status === 'active') {\n    return { variant: 'default', className: 'bg-green-500 dark:bg-green-600 hover:bg-green-500/80 dark:hover:bg-green-600/80' }\n  }\n  // Invited\n  return { variant: 'secondary', className: 'bg-yellow-500 dark:bg-yellow-600 text-white hover:bg-yellow-500/80 dark:hover:bg-yellow-600/80' }\n}\n\n// Get initials from display name\nconst getInitials = (name: string): string => {\n  return name\n    .split(' ')\n    .map(n => n[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2)\n}\n\n// Format permissions for display\nconst formatPermissions = (permissions: string[]): string => {\n  if (permissions.length === 0) return 'None'\n  const displayPermissions = permissions\n    .filter(p => p !== 'super_admin')\n    .map(p => p.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()))\n  if (displayPermissions.length === 0) return 'Super Admin'\n  return displayPermissions.slice(0, 3).join(', ') + (displayPermissions.length > 3 ? ` +${displayPermissions.length - 3}` : '')\n}\n\n// Activity score color based on value (with dark mode support)\nconst getActivityScoreColor = (score: number): string => {\n  if (score === 0) return 'text-muted-foreground'\n  if (score < 10) return 'text-yellow-600 dark:text-yellow-500'\n  if (score < 50) return 'text-blue-600 dark:text-blue-400'\n  return 'text-green-600 dark:text-green-500'\n}\n\n// Staff action handlers type\ninterface StaffActionHandlers {\n  onViewAssigned: (staff: StaffMember) => void\n  onTransfer: (staff: StaffMember) => void\n}\n\n// Column definitions factory\nconst createColumns = (handlers: StaffActionHandlers): ColumnDef<StaffMember>[] => [\n  {\n    accessorKey: 'display_name',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        User\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const staff = row.original\n      return (\n        <div className=\"flex items-center gap-3\">\n          <Avatar className=\"h-8 w-8\">\n            <AvatarImage src={undefined} alt={staff.display_name} />\n            <AvatarFallback className=\"text-xs\">\n              {getInitials(staff.display_name)}\n            </AvatarFallback>\n          </Avatar>\n          <div className=\"flex flex-col\">\n            <Link\n              href={`/versotech_admin/users/${staff.id}`}\n              className=\"font-medium hover:underline\"\n            >\n              {staff.display_name}\n            </Link>\n            {staff.is_super_admin && (\n              <span className=\"text-xs text-muted-foreground\">Super Admin</span>\n            )}\n            {staff.title && !staff.is_super_admin && (\n              <span className=\"text-xs text-muted-foreground\">{staff.title}</span>\n            )}\n          </div>\n        </div>\n      )\n    },\n  },\n  {\n    accessorKey: 'email',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        Email\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => (\n      <span className=\"text-muted-foreground\">{row.original.email}</span>\n    ),\n  },\n  {\n    accessorKey: 'role',\n    header: 'Role',\n    cell: ({ row }) => {\n      const role = row.original.role\n      return (\n        <Badge variant={roleBadgeVariant(role)}>\n          {formatRole(role)}\n        </Badge>\n      )\n    },\n  },\n  {\n    accessorKey: 'permissions',\n    header: 'Permissions',\n    cell: ({ row }) => {\n      const permissions = row.original.permissions\n      return (\n        <span className=\"text-sm text-muted-foreground max-w-[200px] truncate\" title={permissions.join(', ')}>\n          {formatPermissions(permissions)}\n        </span>\n      )\n    },\n  },\n  {\n    accessorKey: 'assigned_investors',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        <UserCheck className=\"mr-1 h-4 w-4\" />\n        Investors\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const count = row.original.assigned_investors\n      return (\n        <div className=\"flex items-center gap-1\">\n          <span className={cn('font-medium', count > 0 ? 'text-foreground' : 'text-muted-foreground')}>\n            {count}\n          </span>\n        </div>\n      )\n    },\n  },\n  {\n    accessorKey: 'activity_score_7d',\n    header: ({ column }) => (\n      <Button\n        variant=\"ghost\"\n        onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n        className=\"-ml-4\"\n      >\n        <Activity className=\"mr-1 h-4 w-4\" />\n        Activity (7d)\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      </Button>\n    ),\n    cell: ({ row }) => {\n      const score = row.original.activity_score_7d\n      return (\n        <span className={cn('font-medium', getActivityScoreColor(score))}>\n          {score}\n        </span>\n      )\n    },\n  },\n  {\n    accessorKey: 'status',\n    header: 'Status',\n    cell: ({ row }) => {\n      const status = row.original.status\n      const { variant, className } = statusBadgeStyle(status)\n      return (\n        <Badge variant={variant} className={className}>\n          {status === 'active' ? 'Active' : 'Invited'}\n        </Badge>\n      )\n    },\n  },\n  {\n    id: 'actions',\n    header: '',\n    cell: ({ row }) => {\n      const staff = row.original\n      return (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" className=\"h-8 w-8 p-0\">\n              <span className=\"sr-only\">Open menu</span>\n              <MoreHorizontal className=\"h-4 w-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuLabel>Actions</DropdownMenuLabel>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem asChild>\n              <Link href={`/versotech_admin/users/${staff.id}`}>\n                <Eye className=\"mr-2 h-4 w-4\" />\n                View Details\n              </Link>\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handlers.onViewAssigned(staff)}>\n              <UserCheck className=\"mr-2 h-4 w-4\" />\n              View Assigned Investors\n            </DropdownMenuItem>\n            <DropdownMenuItem onClick={() => handlers.onTransfer(staff)}>\n              <ArrowRightLeft className=\"mr-2 h-4 w-4\" />\n              Transfer Assignments\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      )\n    },\n  },\n]\n\n// Loading skeleton\nfunction StaffTableSkeleton() {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-md border\">\n        <Table>\n          <TableHeader>\n            <TableRow>\n              <TableHead><Skeleton className=\"h-4 w-24\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-32\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-16\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-32\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-16\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-20\" /></TableHead>\n              <TableHead><Skeleton className=\"h-4 w-16\" /></TableHead>\n              <TableHead className=\"w-12\"></TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {Array.from({ length: 8 }).map((_, i) => (\n              <TableRow key={i}>\n                <TableCell>\n                  <div className=\"flex items-center gap-3\">\n                    <Skeleton className=\"h-8 w-8 rounded-full\" />\n                    <Skeleton className=\"h-4 w-32\" />\n                  </div>\n                </TableCell>\n                <TableCell><Skeleton className=\"h-4 w-40\" /></TableCell>\n                <TableCell><Skeleton className=\"h-5 w-20 rounded-full\" /></TableCell>\n                <TableCell><Skeleton className=\"h-4 w-32\" /></TableCell>\n                <TableCell><Skeleton className=\"h-4 w-8\" /></TableCell>\n                <TableCell><Skeleton className=\"h-4 w-12\" /></TableCell>\n                <TableCell><Skeleton className=\"h-5 w-16 rounded-full\" /></TableCell>\n                <TableCell><Skeleton className=\"h-8 w-8\" /></TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  )\n}\n\n// Empty state\nfunction EmptyState() {\n  return (\n    <div className=\"flex flex-col items-center justify-center py-16 px-4\">\n      <div className=\"rounded-full bg-muted p-4 mb-4\">\n        <UsersIcon className=\"h-8 w-8 text-muted-foreground\" />\n      </div>\n      <h3 className=\"text-lg font-medium mb-1\">No staff members found</h3>\n      <p className=\"text-sm text-muted-foreground text-center max-w-sm\">\n        There are no staff members in the system yet. Invite staff members to get started.\n      </p>\n    </div>\n  )\n}\n\n// Assigned investors type\ninterface AssignedInvestor {\n  id: string\n  name: string\n  email: string\n}\n\nexport default function StaffUsersPage() {\n  const [staff, setStaff] = useState<StaffMember[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [sorting, setSorting] = useState<SortingState>([\n    { id: 'display_name', desc: false }\n  ])\n  const [statistics, setStatistics] = useState<StaffResponse['data']>()\n\n  // Dialog states\n  const [selectedStaff, setSelectedStaff] = useState<StaffMember | null>(null)\n  const [viewAssignedDialogOpen, setViewAssignedDialogOpen] = useState(false)\n  const [transferDialogOpen, setTransferDialogOpen] = useState(false)\n  const [assignedInvestors, setAssignedInvestors] = useState<AssignedInvestor[]>([])\n  const [loadingInvestors, setLoadingInvestors] = useState(false)\n  const [targetStaffId, setTargetStaffId] = useState<string>('')\n  const [isTransferring, setIsTransferring] = useState(false)\n\n  // Fetch staff members\n  const fetchStaff = useCallback(async () => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      const response = await fetch('/api/admin/staff')\n      const data: StaffResponse = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error || 'Failed to fetch staff members')\n      }\n\n      setStaff(data.data?.staff_members || [])\n      setStatistics(data.data)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    fetchStaff()\n  }, [fetchStaff])\n\n  // Handler: View assigned investors\n  const handleViewAssigned = useCallback(async (staffMember: StaffMember) => {\n    setSelectedStaff(staffMember)\n    setViewAssignedDialogOpen(true)\n    setLoadingInvestors(true)\n\n    try {\n      const response = await fetch(`/api/admin/staff/${staffMember.id}/assigned-investors`)\n      const data = await response.json()\n\n      if (data.success && data.data) {\n        setAssignedInvestors(data.data)\n      } else {\n        // If API doesn't exist yet, show empty list with message\n        setAssignedInvestors([])\n      }\n    } catch (err) {\n      setAssignedInvestors([])\n    } finally {\n      setLoadingInvestors(false)\n    }\n  }, [])\n\n  // Handler: Open transfer dialog\n  const handleTransfer = useCallback((staffMember: StaffMember) => {\n    setSelectedStaff(staffMember)\n    setTargetStaffId('')\n    setTransferDialogOpen(true)\n  }, [])\n\n  // Execute transfer\n  const executeTransfer = useCallback(async () => {\n    if (!selectedStaff || !targetStaffId) return\n\n    setIsTransferring(true)\n    try {\n      const response = await fetch('/api/admin/staff/transfer-assignments', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          fromStaffId: selectedStaff.id,\n          toStaffId: targetStaffId,\n        }),\n      })\n      const data = await response.json()\n\n      if (!data.success) {\n        throw new Error(data.error || 'Failed to transfer assignments')\n      }\n\n      toast.success('Assignments transferred', {\n        description: `Investors reassigned from ${selectedStaff.display_name} successfully.`,\n      })\n      setTransferDialogOpen(false)\n      fetchStaff() // Refresh data\n    } catch (err) {\n      toast.error('Failed to transfer', {\n        description: err instanceof Error ? err.message : 'An error occurred',\n      })\n    } finally {\n      setIsTransferring(false)\n    }\n  }, [selectedStaff, targetStaffId, fetchStaff])\n\n  // Create columns with handlers\n  const columns = useMemo(() => createColumns({\n    onViewAssigned: handleViewAssigned,\n    onTransfer: handleTransfer,\n  }), [handleViewAssigned, handleTransfer])\n\n  const table = useReactTable({\n    data: staff,\n    columns,\n    onSortingChange: setSorting,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    state: {\n      sorting,\n    },\n    getRowId: (row) => row.id,\n  })\n\n  // Get other staff members for transfer dropdown\n  const otherStaffMembers = useMemo(() => {\n    return staff.filter(s => s.id !== selectedStaff?.id && s.role.startsWith('staff_'))\n  }, [staff, selectedStaff])\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"rounded-lg border border-destructive/50 bg-destructive/10 p-4\">\n          <h3 className=\"font-medium text-destructive\">Error loading staff</h3>\n          <p className=\"text-sm text-destructive/80 mt-1\">{error}</p>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"mt-3\"\n            onClick={() => fetchStaff()}\n          >\n            Try Again\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-semibold\">Staff Members</h1>\n          <p className=\"text-sm text-muted-foreground mt-1\">\n            Manage internal team members and their permissions\n          </p>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      {statistics && (\n        <div className=\"grid gap-4 grid-cols-2 md:grid-cols-4\">\n          <div className=\"rounded-lg border bg-card p-4\">\n            <p className=\"text-sm text-muted-foreground\">Total Staff</p>\n            <p className=\"text-2xl font-bold\">{statistics.statistics.total_staff}</p>\n          </div>\n          <div className=\"rounded-lg border bg-card p-4\">\n            <p className=\"text-sm text-muted-foreground\">Active</p>\n            <p className=\"text-2xl font-bold text-green-600\">{statistics.statistics.active_staff}</p>\n          </div>\n          <div className=\"rounded-lg border bg-card p-4\">\n            <p className=\"text-sm text-muted-foreground\">Invited</p>\n            <p className=\"text-2xl font-bold text-yellow-600\">{statistics.statistics.invited_staff}</p>\n          </div>\n          <div className=\"rounded-lg border bg-card p-4\">\n            <p className=\"text-sm text-muted-foreground\">Super Admins</p>\n            <p className=\"text-2xl font-bold text-blue-600\">{statistics.statistics.super_admins}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Table Content */}\n      {loading ? (\n        <StaffTableSkeleton />\n      ) : staff.length === 0 ? (\n        <EmptyState />\n      ) : (\n        <div className=\"space-y-4\">\n          {/* Table */}\n          <div className=\"rounded-md border\">\n            <Table>\n              <TableHeader>\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => (\n                      <TableHead key={header.id}>\n                        {header.isPlaceholder\n                          ? null\n                          : flexRender(\n                              header.column.columnDef.header,\n                              header.getContext()\n                            )}\n                      </TableHead>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableHeader>\n              <TableBody>\n                {table.getRowModel().rows.length ? (\n                  table.getRowModel().rows.map((row) => (\n                    <TableRow\n                      key={row.id}\n                      className=\"hover:bg-muted/50\"\n                    >\n                      {row.getVisibleCells().map((cell) => (\n                        <TableCell key={cell.id}>\n                          {flexRender(\n                            cell.column.columnDef.cell,\n                            cell.getContext()\n                          )}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell\n                      colSpan={columns.length}\n                      className=\"h-24 text-center\"\n                    >\n                      No staff members found.\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n\n          {/* Total Count */}\n          <div className=\"text-sm text-muted-foreground\">\n            Showing {staff.length} staff member{staff.length !== 1 ? 's' : ''}\n          </div>\n        </div>\n      )}\n\n      {/* View Assigned Investors Dialog */}\n      <Dialog open={viewAssignedDialogOpen} onOpenChange={setViewAssignedDialogOpen}>\n        <DialogContent className=\"sm:max-w-[500px]\">\n          <DialogHeader>\n            <DialogTitle>Assigned Investors</DialogTitle>\n            <DialogDescription>\n              Investors assigned to {selectedStaff?.display_name}\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4\">\n            {loadingInvestors ? (\n              <div className=\"flex items-center justify-center py-8\">\n                <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n              </div>\n            ) : assignedInvestors.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <UsersIcon className=\"h-10 w-10 mx-auto text-muted-foreground mb-2\" />\n                <p className=\"text-sm text-muted-foreground\">\n                  No investors currently assigned\n                </p>\n              </div>\n            ) : (\n              <div className=\"space-y-2 max-h-[300px] overflow-y-auto\">\n                {assignedInvestors.map((investor) => (\n                  <Card key={investor.id} className=\"p-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar className=\"h-8 w-8\">\n                        <AvatarFallback className=\"text-xs\">\n                          {investor.name.split(' ').map(n => n[0]).join('').toUpperCase()}\n                        </AvatarFallback>\n                      </Avatar>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium truncate\">{investor.name}</p>\n                        <p className=\"text-xs text-muted-foreground truncate\">{investor.email}</p>\n                      </div>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setViewAssignedDialogOpen(false)}>\n              Close\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Transfer Assignments Dialog */}\n      <Dialog open={transferDialogOpen} onOpenChange={setTransferDialogOpen}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Transfer Assignments</DialogTitle>\n            <DialogDescription>\n              Transfer all investor assignments from {selectedStaff?.display_name} to another staff member.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"target-staff\">Transfer to</Label>\n              <Select value={targetStaffId} onValueChange={setTargetStaffId}>\n                <SelectTrigger id=\"target-staff\">\n                  <SelectValue placeholder=\"Select staff member\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {otherStaffMembers.length === 0 ? (\n                    <SelectItem value=\"_none\" disabled>\n                      No other staff members available\n                    </SelectItem>\n                  ) : (\n                    otherStaffMembers.map((member) => (\n                      <SelectItem key={member.id} value={member.id}>\n                        <div className=\"flex items-center gap-2\">\n                          <span>{member.display_name}</span>\n                          <span className=\"text-muted-foreground\">({member.assigned_investors} assigned)</span>\n                        </div>\n                      </SelectItem>\n                    ))\n                  )}\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"rounded-lg bg-amber-50 dark:bg-amber-950/30 border border-amber-200 dark:border-amber-800 p-3\">\n              <p className=\"text-sm text-amber-800 dark:text-amber-200\">\n                <strong>Note:</strong> This will transfer all {selectedStaff?.assigned_investors || 0} investor assignments to the selected staff member.\n              </p>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setTransferDialogOpen(false)}>\n              Cancel\n            </Button>\n            <Button\n              onClick={executeTransfer}\n              disabled={!targetStaffId || isTransferring}\n            >\n              {isTransferring && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n              Transfer Assignments\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}