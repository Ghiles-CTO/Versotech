module.exports=[994519,a=>{"use strict";var b=a.i(352584),c=a.i(611038),d=a.i(284169),e=a.i(211374);function f(){return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Skeleton,{className:"h-5 w-5"}),(0,b.jsx)(e.Skeleton,{className:"h-6 w-44"})]}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-64 mt-1"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:[100,75,50,35,20].map((a,c)=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)(e.Skeleton,{className:"h-4 w-32"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(e.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-16"})]})]}),(0,b.jsx)(e.Skeleton,{className:"h-10 rounded",style:{width:`${a}%`}})]},c))})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Skeleton,{className:"h-5 w-5"}),(0,b.jsx)(e.Skeleton,{className:"h-6 w-44"})]}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-64 mt-1"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:[100,80,55,40,25].map((a,c)=>(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)(e.Skeleton,{className:"h-4 w-32"}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(e.Skeleton,{className:"h-4 w-12"}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-16"})]})]}),(0,b.jsx)(e.Skeleton,{className:"h-10 rounded",style:{width:`${a}%`}})]},c))})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Skeleton,{className:"h-5 w-5"}),(0,b.jsx)(e.Skeleton,{className:"h-6 w-36"})]}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-72 mt-1"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center py-8 space-y-4",children:[(0,b.jsx)(e.Skeleton,{className:"h-16 w-16 rounded-full"}),(0,b.jsx)(e.Skeleton,{className:"h-6 w-48"}),(0,b.jsx)(e.Skeleton,{className:"h-4 w-64"})]})})]})]})}var g=a.i(190120),h=a.i(50828),i=a.i(155508),j=a.i(888987);let k=["bg-blue-600","bg-blue-500","bg-blue-400","bg-blue-300","bg-emerald-500"];function l({data:a}){let[e,f]=(0,c.useState)([]),[l,m]=(0,c.useState)(!a),[n,o]=(0,c.useState)(null);if((0,c.useEffect)(()=>{a?f(a):async function(){try{let a=await fetch("/api/admin/growth/funnel");if(!a.ok)throw Error("Failed to fetch funnel data");let b=await a.json();f(b.data.investmentFunnel)}catch(a){o(a instanceof Error?a.message:"An error occurred")}finally{m(!1)}}()},[a]),l)return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.DollarSign,{className:"h-5 w-5 text-muted-foreground"}),"Investment Funnel"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});if(n)return(0,b.jsxs)(d.Card,{className:"border-destructive/50",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,b.jsx)(i.DollarSign,{className:"h-5 w-5"}),"Investment Funnel"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:n})})]});let p=e[0]?.count||0;return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.DollarSign,{className:"h-5 w-5 text-blue-500"}),"Investment Funnel"]}),(0,b.jsx)(d.CardDescription,{children:"Track investor journey from deal discovery to allocation"})]}),(0,b.jsx)(d.CardContent,{children:0===e.length||0===p?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(g.BarChart3,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No funnel data available yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Data will appear once investors start engaging with deals"})]}):(0,b.jsx)("div",{className:"space-y-4",children:e.map((a,c)=>{let d=p>0?Math.max(a.count/p*100,5):0,f=c===e.length-1,g=a.pctOfPrevious;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium",children:a.stage}),c>0&&(0,b.jsxs)("span",{className:(0,j.cn)("text-xs px-2 py-0.5 rounded-full",g>=50?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":g>=25?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:[g,"% conv."]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-semibold text-foreground",children:a.count.toLocaleString()}),(0,b.jsxs)("span",{className:"text-xs",children:[a.pctOfTotal,"% of total"]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:(0,j.cn)("h-10 rounded transition-all duration-500",k[c]||k[k.length-1],f&&"animate-pulse"),style:{width:`${d}%`},children:(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 dark:from-white/10 to-transparent rounded"})}),c<e.length-1&&(0,b.jsx)("div",{className:"absolute -bottom-3 left-4 text-muted-foreground/50",children:(0,b.jsx)(h.ArrowRight,{className:"h-4 w-4 rotate-90"})})]})]},a.stage)})})})]})}var m=a.i(347954),n=a.i(799373);let o=["bg-violet-600","bg-violet-500","bg-violet-400","bg-violet-300","bg-emerald-500"];function p({data:a}){let[e,f]=(0,c.useState)([]),[g,i]=(0,c.useState)(!a),[k,l]=(0,c.useState)(null);if((0,c.useEffect)(()=>{a?f(a):async function(){try{let a=await fetch("/api/admin/growth/funnel");if(!a.ok)throw Error("Failed to fetch funnel data");let b=await a.json();f(b.data.onboardingFunnel)}catch(a){l(a instanceof Error?a.message:"An error occurred")}finally{i(!1)}}()},[a]),g)return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.UserPlus,{className:"h-5 w-5 text-muted-foreground"}),"Onboarding Funnel"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});if(k)return(0,b.jsxs)(d.Card,{className:"border-destructive/50",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,b.jsx)(n.UserPlus,{className:"h-5 w-5"}),"Onboarding Funnel"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:k})})]});let p=e[0]?.count||0;return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.UserPlus,{className:"h-5 w-5 text-violet-500"}),"Onboarding Funnel"]}),(0,b.jsx)(d.CardDescription,{children:"Track user journey from account creation to first investment"})]}),(0,b.jsx)(d.CardContent,{children:0===e.length||0===p?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(m.TrendingDown,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No funnel data available yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Data will appear once users start signing up"})]}):(0,b.jsx)("div",{className:"space-y-4",children:e.map((a,c)=>{let d=p>0?Math.max(a.count/p*100,5):0,f=c===e.length-1,g=a.pctOfPrevious;return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-medium",children:a.stage}),c>0&&(0,b.jsxs)("span",{className:(0,j.cn)("text-xs px-2 py-0.5 rounded-full",g>=50?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":g>=25?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:[g,"% conv."]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-semibold text-foreground",children:a.count.toLocaleString()}),(0,b.jsxs)("span",{className:"text-xs",children:[a.pctOfTotal,"% of total"]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:(0,j.cn)("h-10 rounded transition-all duration-500",o[c]||o[o.length-1],f&&"animate-pulse"),style:{width:`${d}%`},children:(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 dark:from-white/10 to-transparent rounded"})}),c<e.length-1&&(0,b.jsx)("div",{className:"absolute -bottom-3 left-4 text-muted-foreground/50",children:(0,b.jsx)(h.ArrowRight,{className:"h-4 w-4 rotate-90"})})]})]},a.stage)})})})]})}var q=a.i(838086),r=a.i(946256),s=a.i(399580);function t({data:a}){var e;let[f,h]=(0,c.useState)(a||null),[i,k]=(0,c.useState)(!a),[l,m]=(0,c.useState)(null);if((0,c.useEffect)(()=>{a?h(a):async function(){try{let a=await fetch("/api/admin/growth/funnel");if(!a.ok)throw Error("Failed to fetch funnel data");let b=await a.json();h(b.data.biggestDropoff)}catch(a){m(a instanceof Error?a.message:"An error occurred")}finally{k(!1)}}()},[a]),i)return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.BarChart3,{className:"h-5 w-5 text-muted-foreground"}),"Drop-off Analysis"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]});if(l)return(0,b.jsxs)(d.Card,{className:"border-destructive/50",children:[(0,b.jsx)(d.CardHeader,{className:"pb-2",children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2 text-destructive",children:[(0,b.jsx)(g.BarChart3,{className:"h-5 w-5"}),"Drop-off Analysis"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:l})})]});if(!f||!f.fromStage||0===f.dropRate)return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.BarChart3,{className:"h-5 w-5 text-emerald-500"}),"Drop-off Analysis"]}),(0,b.jsx)(d.CardDescription,{children:"Identify the biggest conversion bottleneck in your funnels"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-emerald-100 p-4 dark:bg-emerald-900/30 mb-4",children:(0,b.jsx)(s.CheckCircle2,{className:"h-10 w-10 text-emerald-600 dark:text-emerald-400"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-emerald-700 dark:text-emerald-400",children:"Great Conversion Flow!"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2 max-w-sm",children:"No significant drop-off detected in your funnels. Keep up the good work!"})]})})]});let n=(e=f.dropRate)>=70?{level:"critical",color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30",border:"border-red-200 dark:border-red-800"}:e>=50?{level:"high",color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-100 dark:bg-orange-900/30",border:"border-orange-200 dark:border-orange-800"}:e>=30?{level:"medium",color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800"}:{level:"low",color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800"};return(0,b.jsxs)(d.Card,{className:(0,j.cn)("border-2",n.border),children:[(0,b.jsxs)(d.CardHeader,{className:"pb-2",children:[(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.AlertTriangle,{className:(0,j.cn)("h-5 w-5",n.color)}),"Drop-off Analysis"]}),(0,b.jsx)(d.CardDescription,{children:"Identify the biggest conversion bottleneck in your funnels"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center py-6",children:[(0,b.jsx)("div",{className:(0,j.cn)("rounded-full p-6 mb-6",n.bg),children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("span",{className:(0,j.cn)("text-4xl font-bold",n.color),children:[f.dropRate,"%"]}),(0,b.jsx)("p",{className:(0,j.cn)("text-sm font-medium mt-1",n.color),children:"Drop-off Rate"})]})}),(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-2 w-full max-w-xs",children:[(0,b.jsx)("div",{className:"w-full px-4 py-3 rounded-lg bg-muted text-center",children:(0,b.jsx)("span",{className:"font-medium",children:f.fromStage})}),(0,b.jsx)("div",{className:"flex items-center justify-center py-1",children:(0,b.jsx)(r.ArrowDown,{className:(0,j.cn)("h-6 w-6",n.color)})}),(0,b.jsx)("div",{className:"w-full px-4 py-3 rounded-lg bg-muted text-center",children:(0,b.jsx)("span",{className:"font-medium",children:f.toStage})})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-sm text-muted-foreground max-w-md",children:[f.dropRate>=70&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-semibold text-red-600 dark:text-red-400",children:"Critical:"})," ","Users are abandoning at this step. Consider simplifying the process or adding guidance."]}),f.dropRate>=50&&f.dropRate<70&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-semibold text-orange-600 dark:text-orange-400",children:"High priority:"})," ","This step needs attention. Review the user experience and identify friction points."]}),f.dropRate>=30&&f.dropRate<50&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-semibold text-amber-600 dark:text-amber-400",children:"Moderate:"})," ","There's room for improvement at this transition. Consider A/B testing different approaches."]}),f.dropRate<30&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"Minor:"})," ","This is your biggest drop-off but it's within acceptable range. Monitor for changes."]})]})})]})})]})}function u(){let[a,d]=(0,c.useState)(null),[e,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null);if((0,c.useEffect)(()=>{!async function(){try{let a=await fetch("/api/admin/growth/funnel");if(!a.ok)throw Error("Failed to fetch funnel data");let b=await a.json();d(b.data)}catch(a){i(a instanceof Error?a.message:"An error occurred")}finally{g(!1)}}()},[]),e)return(0,b.jsx)(f,{});if(h)throw Error(h);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(l,{data:a?.investmentFunnel}),(0,b.jsx)(p,{data:a?.onboardingFunnel})]}),(0,b.jsx)(t,{data:a?.biggestDropoff})]})}function v(){return(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Conversion Funnels"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Analyze conversion rates across investment and onboarding journeys"})]}),(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(f,{}),children:(0,b.jsx)(u,{})})]})}a.s(["default",()=>v],994519)}];

//# sourceMappingURL=versotech-portal_src_app_%28admin%29_versotech_admin_growth_funnel_page_tsx_c7d1e7de._.js.map