module.exports=[918622,(e,r,t)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,r,t)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},270406,(e,r,t)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},193695,(e,r,t)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},433669,e=>{"use strict";e.i(814247);var r=e.i(150615),t=e.i(12049),s=e.i(57824);let i=async()=>{let e=await (0,s.cookies)();return(0,r.createServerClient)("https://ipguxdssecfexudnvtia.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlwZ3V4ZHNzZWNmZXh1ZG52dGlhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzNjE4MzcsImV4cCI6MjA3MzkzNzgzN30.AGxM_YW9hfxuu7xDpi_4xhOoRhYM7iGTS1vJ0z2FByE",{cookies:{getAll:()=>e.getAll(),setAll(r){try{r.forEach(({name:r,value:t,options:s})=>{e.set(r,t,s)})}catch(e){}}}})};e.s(["createClient",0,i,"createServiceClient",0,()=>(0,t.createClient)("https://ipguxdssecfexudnvtia.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})])},221640,e=>{"use strict";async function r(e){let{data:{user:r},error:t}=await e.auth.getUser();return{user:r,error:t}}async function t(e,r){let{data:t}=await e.from("profiles").select("role").eq("id",r.id).single();return t?.role||null}async function s(e,r,t){let{data:s}=await e.from("profiles").select("role").eq("id",r).single();if(s?.role==="ceo")return!0;let{data:i}=await e.from("ceo_users").select("user_id").eq("user_id",r).maybeSingle();if(i)return!0;let{data:a}=await e.from("staff_permissions").select("permission").eq("user_id",r).in("permission",t).limit(1).maybeSingle();return!!a}async function i(e,r){return s(e,r,["super_admin"])}async function a(e,r){let s=await t(e,r);if(s&&(s.startsWith("staff_")||"ceo"===s))return!0;if("multi_persona"===s)try{let{data:t}=await e.rpc("get_user_personas",{p_user_id:r.id});if(t&&Array.isArray(t))return t.some(e=>"staff"===e.persona_type||"ceo"===e.persona_type)}catch(e){console.error("[isStaffUser] Error checking personas:",e)}return!1}e.s(["getAuthenticatedUser",()=>r,"hasPermission",()=>s,"isStaffUser",()=>a,"isSuperAdmin",()=>i])},261365,e=>{e.v(e=>Promise.resolve().then(()=>e(368899)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e031b3c7._.js.map