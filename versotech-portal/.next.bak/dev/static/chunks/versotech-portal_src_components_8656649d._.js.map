{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,iDAAiD;AACjD,MAAM,qBAAO,GAAA,kMAAgB,SAG3B,CAAC,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;;IACnB,MAAM,cAAc,6LAAW;IAC/B,qBAAO,oNAAC,kMAAkB;QAAC,KAAK;QAAK,IAAI,MAAM;QAAc,GAAG,KAAK;;;;;;AACvE;;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,yBAAW,kMAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,kMAAkB;QACjB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,kMAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,+YACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-5 w-5 md:h-4 md:w-4 shrink-0 rounded border border-white/20 bg-white/5 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-400/20 focus-visible:border-blue-400/50 disabled:cursor-not-allowed disabled:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-white\")}\n    >\n      <Check className=\"h-4 w-4 md:h-3.5 md:w-3.5\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,kMAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,sMAAsB;QACrB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,uTACA;QAED,GAAG,KAAK;kBAET,cAAA,oNAAC,2MAA2B;YAC1B,WAAW,IAAA,mJAAE,EAAC;sBAEd,cAAA,oNAAC,uOAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,sMAAsB,CAAC,WAAW"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/kibo-ui/kanban.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport {\n  ReactNode,\n  createContext,\n  useContext,\n  useMemo,\n  useState,\n} from \"react\";\n\ninterface Column {\n  id: string;\n  name: string;\n  color?: string;\n}\n\ninterface KanbanContextType<T> {\n  columns: Column[];\n  data: T[];\n  activeId: string | null;\n  setActiveId: (id: string | null) => void;\n  onDataChange: (data: T[]) => void;\n}\n\nconst KanbanContext = createContext<KanbanContextType<any> | undefined>(\n  undefined\n);\n\nfunction useKanban<T>() {\n  const context = useContext(KanbanContext);\n  if (!context) {\n    throw new Error(\"useKanban must be used within KanbanProvider\");\n  }\n  return context as KanbanContextType<T>;\n}\n\ninterface KanbanProviderProps<T> {\n  columns: Column[];\n  data: T[];\n  onDataChange: (data: T[]) => void;\n  children: (column: Column) => ReactNode;\n}\n\nexport function KanbanProvider<T extends { id: string; status?: string | null }>({\n  columns,\n  data,\n  onDataChange,\n  children,\n}: KanbanProviderProps<T>) {\n  const [activeId, setActiveId] = useState<string | null>(null);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  );\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event;\n\n    if (!over) {\n      setActiveId(null);\n      return;\n    }\n\n    const activeItem = data.find((item) => item.id === active.id);\n    const overColumn = columns.find((col) => col.id === over.id);\n\n    if (activeItem && overColumn && activeItem.status !== overColumn.id) {\n      const updatedData = data.map((item) =>\n        item.id === active.id ? { ...item, status: overColumn.id } : item\n      );\n      onDataChange(updatedData);\n    }\n\n    setActiveId(null);\n  };\n\n  return (\n    <KanbanContext.Provider\n      value={{ columns, data, activeId, setActiveId, onDataChange }}\n    >\n      <DndContext\n        sensors={sensors}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"flex gap-4 overflow-x-auto pb-4\">\n          {columns.map((column) => children(column))}\n        </div>\n        <DragOverlay>\n          {activeId ? (\n            <div className=\"rounded-lg border border-white/20 bg-card p-3 shadow-lg opacity-80\">\n              Dragging...\n            </div>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </KanbanContext.Provider>\n  );\n}\n\ninterface KanbanBoardProps {\n  id: string;\n  children: ReactNode;\n}\n\nexport function KanbanBoard({ id, children }: KanbanBoardProps) {\n  const { setNodeRef } = useSortable({ id });\n\n  return (\n    <div\n      ref={setNodeRef}\n      className=\"flex min-w-[300px] flex-1 flex-col rounded-lg border border-white/10 bg-white/5\"\n    >\n      {children}\n    </div>\n  );\n}\n\ninterface KanbanHeaderProps {\n  children: ReactNode;\n}\n\nexport function KanbanHeader({ children }: KanbanHeaderProps) {\n  return (\n    <div className=\"border-b border-white/10 p-4 font-semibold text-foreground\">\n      {children}\n    </div>\n  );\n}\n\ninterface KanbanCardsProps<T> {\n  id: string;\n  children: (item: T) => ReactNode;\n}\n\nexport function KanbanCards<T extends { id: string; status?: string | null }>({\n  id,\n  children,\n}: KanbanCardsProps<T>) {\n  const { data } = useKanban<T>();\n\n  const items = useMemo(\n    () => data.filter((item) => item.status === id),\n    [data, id]\n  );\n\n  const itemIds = useMemo(() => items.map((item) => item.id), [items]);\n\n  return (\n    <SortableContext items={itemIds}>\n      <div className=\"flex flex-col gap-2 p-4 min-h-[200px]\">\n        {items.map((item) => children(item))}\n      </div>\n    </SortableContext>\n  );\n}\n\ninterface KanbanCardProps {\n  id: string;\n  column: string;\n  name: string;\n  children: ReactNode;\n  onClick?: () => void;\n}\n\nexport function KanbanCard({ id, column, children, onClick }: KanbanCardProps) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id, data: { column } });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      onClick={onClick}\n      className=\"cursor-pointer rounded-lg border border-white/10 bg-white/5 p-3 hover:bg-white/10 transition-colors\"\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AASA;AACA;AACA;;;AAbA;;;;;AAmCA,MAAM,8BAAgB,IAAA,qMAAa,EACjC;AAGF,SAAS;;IACP,MAAM,UAAU,IAAA,kMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANS;AAeF,SAAS,eAAiE,EAC/E,OAAO,EACP,IAAI,EACJ,YAAY,EACZ,QAAQ,EACe;;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gMAAQ,EAAgB;IAExD,MAAM,UAAU,IAAA,mMAAU,EACxB,IAAA,kMAAS,EAAC,sMAAa,EAAE;QACvB,sBAAsB;YACpB,UAAU;QACZ;IACF;IAGF,MAAM,kBAAkB,CAAC;QACvB,YAAY,MAAM,MAAM,CAAC,EAAE;IAC7B;IAEA,MAAM,gBAAgB,CAAC;QACrB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG;QAEzB,IAAI,CAAC,MAAM;YACT,YAAY;YACZ;QACF;QAEA,MAAM,aAAa,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO,EAAE;QAC5D,MAAM,aAAa,QAAQ,IAAI,CAAC,CAAC,MAAQ,IAAI,EAAE,KAAK,KAAK,EAAE;QAE3D,IAAI,cAAc,cAAc,WAAW,MAAM,KAAK,WAAW,EAAE,EAAE;YACnE,MAAM,cAAc,KAAK,GAAG,CAAC,CAAC,OAC5B,KAAK,EAAE,KAAK,OAAO,EAAE,GAAG;oBAAE,GAAG,IAAI;oBAAE,QAAQ,WAAW,EAAE;gBAAC,IAAI;YAE/D,aAAa;QACf;QAEA,YAAY;IACd;IAEA,qBACE,oNAAC,cAAc,QAAQ;QACrB,OAAO;YAAE;YAAS;YAAM;YAAU;YAAa;QAAa;kBAE5D,cAAA,oNAAC,mMAAU;YACT,SAAS;YACT,aAAa;YACb,WAAW;;8BAEX,oNAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,SAAW,SAAS;;;;;;8BAEpC,oNAAC,oMAAW;8BACT,yBACC,oNAAC;wBAAI,WAAU;kCAAqE;;;;;+BAGlF;;;;;;;;;;;;;;;;;AAKd;IA/DgB;;QAQE,mMAAU;;;KARZ;AAsET,SAAS,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAoB;;IAC5D,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,4MAAW,EAAC;QAAE;IAAG;IAExC,qBACE,oNAAC;QACC,KAAK;QACL,WAAU;kBAET;;;;;;AAGP;IAXgB;;QACS,4MAAW;;;MADpB;AAiBT,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAC1D,qBACE,oNAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;MANgB;AAaT,SAAS,YAA8D,EAC5E,EAAE,EACF,QAAQ,EACY;;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG;IAEjB,MAAM,QAAQ,IAAA,+LAAO;sCACnB,IAAM,KAAK,MAAM;8CAAC,CAAC,OAAS,KAAK,MAAM,KAAK;;qCAC5C;QAAC;QAAM;KAAG;IAGZ,MAAM,UAAU,IAAA,+LAAO;wCAAC,IAAM,MAAM,GAAG;gDAAC,CAAC,OAAS,KAAK,EAAE;;uCAAG;QAAC;KAAM;IAEnE,qBACE,oNAAC,gNAAe;QAAC,OAAO;kBACtB,cAAA,oNAAC;YAAI,WAAU;sBACZ,MAAM,GAAG,CAAC,CAAC,OAAS,SAAS;;;;;;;;;;;AAItC;IApBgB;;QAIG;;;MAJH;AA8BT,SAAS,WAAW,EAAE,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAmB;;IAC3E,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,UAAU,EACX,GAAG,IAAA,4MAAW,EAAC;QAAE;QAAI,MAAM;YAAE;QAAO;IAAE;IAEvC,MAAM,QAAQ;QACZ,WAAW,sMAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;QACA,SAAS,aAAa,MAAM;IAC9B;IAEA,qBACE,oNAAC;QACC,KAAK;QACL,OAAO;QACN,GAAG,UAAU;QACb,GAAG,SAAS;QACb,SAAS;QACT,WAAU;kBAET;;;;;;AAGP;IA5BgB;;QAQV,4MAAW;;;MARD"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/kibo-ui/list.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  DndContext,\n  DragEndEvent,\n  DragOverlay,\n  DragStartEvent,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\nimport { SortableContext, useSortable } from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { ReactNode, createContext, useContext, useState } from \"react\";\n\nexport type { DragEndEvent };\n\ninterface ListContextType {\n  activeId: string | null;\n  setActiveId: (id: string | null) => void;\n}\n\nconst ListContext = createContext<ListContextType | undefined>(undefined);\n\nfunction useList() {\n  const context = useContext(ListContext);\n  if (!context) {\n    throw new Error(\"useList must be used within ListProvider\");\n  }\n  return context;\n}\n\ninterface ListProviderProps {\n  children: ReactNode;\n  onDragEnd?: (event: DragEndEvent) => void;\n}\n\nexport function ListProvider({ children, onDragEnd }: ListProviderProps) {\n  const [activeId, setActiveId] = useState<string | null>(null);\n\n  const sensors = useSensors(\n    useSensor(PointerSensor, {\n      activationConstraint: {\n        distance: 8,\n      },\n    })\n  );\n\n  const handleDragStart = (event: DragStartEvent) => {\n    setActiveId(event.active.id as string);\n  };\n\n  const handleDragEnd = (event: DragEndEvent) => {\n    setActiveId(null);\n    onDragEnd?.(event);\n  };\n\n  return (\n    <ListContext.Provider value={{ activeId, setActiveId }}>\n      <DndContext\n        sensors={sensors}\n        onDragStart={handleDragStart}\n        onDragEnd={handleDragEnd}\n      >\n        <div className=\"space-y-4\">{children}</div>\n        <DragOverlay>\n          {activeId ? (\n            <div className=\"rounded-lg border border-white/20 bg-card p-3 shadow-lg opacity-80\">\n              Dragging...\n            </div>\n          ) : null}\n        </DragOverlay>\n      </DndContext>\n    </ListContext.Provider>\n  );\n}\n\ninterface ListGroupProps {\n  id: string;\n  children: ReactNode;\n}\n\nexport function ListGroup({ id, children }: ListGroupProps) {\n  const { setNodeRef } = useSortable({ id });\n\n  return (\n    <div\n      ref={setNodeRef}\n      className=\"rounded-lg border border-white/10 bg-white/5\"\n    >\n      {children}\n    </div>\n  );\n}\n\ninterface ListHeaderProps {\n  name: string;\n  color?: string;\n}\n\nexport function ListHeader({ name, color }: ListHeaderProps) {\n  return (\n    <div className=\"flex items-center gap-2 border-b border-white/10 p-4 font-semibold text-foreground\">\n      {color && (\n        <div\n          className=\"h-2 w-2 rounded-full\"\n          style={{ backgroundColor: color }}\n        />\n      )}\n      <span>{name}</span>\n    </div>\n  );\n}\n\ninterface ListItemsProps {\n  children: ReactNode;\n}\n\nexport function ListItems({ children }: ListItemsProps) {\n  return <div className=\"space-y-2 p-4\">{children}</div>;\n}\n\ninterface ListItemProps {\n  id: string;\n  index: number;\n  name: string;\n  parent: string;\n  children: ReactNode;\n}\n\nexport function ListItem({ id, parent, children }: ListItemProps) {\n  const {\n    attributes,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n    isDragging,\n  } = useSortable({ id, data: { parent } });\n\n  const style = {\n    transform: CSS.Transform.toString(transform),\n    transition,\n    opacity: isDragging ? 0.5 : 1,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      {...attributes}\n      {...listeners}\n      className=\"flex cursor-pointer items-center gap-2 rounded-lg border border-white/10 bg-white/5 p-3 hover:bg-white/10 transition-colors\"\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AASA;AACA;AACA;;;AAbA;;;;;AAsBA,MAAM,4BAAc,IAAA,qMAAa,EAA8B;AAE/D,SAAS;;IACP,MAAM,UAAU,IAAA,kMAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANS;AAaF,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,EAAqB;;IACrE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,gMAAQ,EAAgB;IAExD,MAAM,UAAU,IAAA,mMAAU,EACxB,IAAA,kMAAS,EAAC,sMAAa,EAAE;QACvB,sBAAsB;YACpB,UAAU;QACZ;IACF;IAGF,MAAM,kBAAkB,CAAC;QACvB,YAAY,MAAM,MAAM,CAAC,EAAE;IAC7B;IAEA,MAAM,gBAAgB,CAAC;QACrB,YAAY;QACZ,YAAY;IACd;IAEA,qBACE,oNAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAU;QAAY;kBACnD,cAAA,oNAAC,mMAAU;YACT,SAAS;YACT,aAAa;YACb,WAAW;;8BAEX,oNAAC;oBAAI,WAAU;8BAAa;;;;;;8BAC5B,oNAAC,oMAAW;8BACT,yBACC,oNAAC;wBAAI,WAAU;kCAAqE;;;;;+BAGlF;;;;;;;;;;;;;;;;;AAKd;IAtCgB;;QAGE,mMAAU;;;KAHZ;AA6CT,SAAS,UAAU,EAAE,EAAE,EAAE,QAAQ,EAAkB;;IACxD,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,4MAAW,EAAC;QAAE;IAAG;IAExC,qBACE,oNAAC;QACC,KAAK;QACL,WAAU;kBAET;;;;;;AAGP;IAXgB;;QACS,4MAAW;;;MADpB;AAkBT,SAAS,WAAW,EAAE,IAAI,EAAE,KAAK,EAAmB;IACzD,qBACE,oNAAC;QAAI,WAAU;;YACZ,uBACC,oNAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB;gBAAM;;;;;;0BAGpC,oNAAC;0BAAM;;;;;;;;;;;;AAGb;MAZgB;AAkBT,SAAS,UAAU,EAAE,QAAQ,EAAkB;IACpD,qBAAO,oNAAC;QAAI,WAAU;kBAAiB;;;;;;AACzC;MAFgB;AAYT,SAAS,SAAS,EAAE,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAiB;;IAC9D,MAAM,EACJ,UAAU,EACV,SAAS,EACT,UAAU,EACV,SAAS,EACT,UAAU,EACV,UAAU,EACX,GAAG,IAAA,4MAAW,EAAC;QAAE;QAAI,MAAM;YAAE;QAAO;IAAE;IAEvC,MAAM,QAAQ;QACZ,WAAW,sMAAG,CAAC,SAAS,CAAC,QAAQ,CAAC;QAClC;QACA,SAAS,aAAa,MAAM;IAC9B;IAEA,qBACE,oNAAC;QACC,KAAK;QACL,OAAO;QACN,GAAG,UAAU;QACb,GAAG,SAAS;QACb,WAAU;kBAET;;;;;;AAGP;IA3BgB;;QAQV,4MAAW;;;MARD"}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/kibo-ui/table.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  flexRender,\n  getCoreRowModel,\n  getSortedRowModel,\n  useReactTable,\n  type ColumnDef,\n  type SortingState,\n} from \"@tanstack/react-table\";\nimport { ArrowDown, ArrowUp, ArrowUpDown } from \"lucide-react\";\nimport { ReactNode, createContext, useContext, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\n\nexport type { ColumnDef };\n\ninterface TableContextType<T> {\n  table: ReturnType<typeof useReactTable<T>>;\n}\n\nconst TableContext = createContext<TableContextType<any> | undefined>(\n  undefined\n);\n\nfunction useTableContext<T>() {\n  const context = useContext(TableContext);\n  if (!context) {\n    throw new Error(\"useTableContext must be used within TableProvider\");\n  }\n  return context as TableContextType<T>;\n}\n\ninterface TableProviderProps<T> {\n  columns: ColumnDef<T>[];\n  data: T[];\n  children: ReactNode;\n}\n\nexport function TableProvider<T>({\n  columns,\n  data,\n  children,\n}: TableProviderProps<T>) {\n  const [sorting, setSorting] = useState<SortingState>([]);\n\n  const table = useReactTable({\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    onSortingChange: setSorting,\n    state: {\n      sorting,\n    },\n  });\n\n  return (\n    <TableContext.Provider value={{ table }}>\n      <div className=\"w-full overflow-auto\">\n        <table className=\"w-full\">{children}</table>\n      </div>\n    </TableContext.Provider>\n  );\n}\n\ninterface TableHeaderProps<T> {\n  children: (context: {\n    headerGroup: ReturnType<ReturnType<typeof useReactTable<T>>[\"getHeaderGroups\"]>[number];\n  }) => ReactNode;\n}\n\nexport function TableHeader<T>({ children }: TableHeaderProps<T>) {\n  const { table } = useTableContext<T>();\n\n  return (\n    <thead className=\"border-b border-white/10 bg-white/5\">\n      {table.getHeaderGroups().map((headerGroup) =>\n        children({ headerGroup })\n      )}\n    </thead>\n  );\n}\n\ninterface TableHeaderGroupProps<T> {\n  headerGroup: ReturnType<ReturnType<typeof useReactTable<T>>[\"getHeaderGroups\"]>[number];\n  children: (context: {\n    header: ReturnType<ReturnType<typeof useReactTable<T>>[\"getHeaderGroups\"]>[number][\"headers\"][number];\n  }) => ReactNode;\n}\n\nexport function TableHeaderGroup<T>({\n  headerGroup,\n  children,\n}: TableHeaderGroupProps<T>) {\n  return <tr>{headerGroup.headers.map((header) => children({ header }))}</tr>;\n}\n\ninterface TableHeadProps<T> {\n  header: ReturnType<\n    ReturnType<typeof useReactTable<T>>[\"getHeaderGroups\"]\n  >[number][\"headers\"][number];\n}\n\nexport function TableHead<T>({ header }: TableHeadProps<T>) {\n  return (\n    <th\n      key={header.id}\n      className=\"px-4 py-3 text-left text-sm font-medium text-muted-foreground\"\n    >\n      {header.isPlaceholder\n        ? null\n        : flexRender(header.column.columnDef.header, header.getContext())}\n    </th>\n  );\n}\n\ninterface TableColumnHeaderProps {\n  column: any;\n  title: string;\n}\n\nexport function TableColumnHeader({ column, title }: TableColumnHeaderProps) {\n  if (!column.getCanSort()) {\n    return <span>{title}</span>;\n  }\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"sm\"\n      className=\"-ml-3 h-8 data-[state=open]:bg-accent\"\n      onClick={() => column.toggleSorting(column.getIsSorted() === \"asc\")}\n    >\n      <span>{title}</span>\n      {column.getIsSorted() === \"desc\" ? (\n        <ArrowDown className=\"ml-2 h-4 w-4\" />\n      ) : column.getIsSorted() === \"asc\" ? (\n        <ArrowUp className=\"ml-2 h-4 w-4\" />\n      ) : (\n        <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n      )}\n    </Button>\n  );\n}\n\ninterface TableBodyProps<T> {\n  children: (context: {\n    row: ReturnType<ReturnType<typeof useReactTable<T>>[\"getRowModel\"]>[\"rows\"][number];\n  }) => ReactNode;\n}\n\nexport function TableBody<T>({ children }: TableBodyProps<T>) {\n  const { table } = useTableContext<T>();\n\n  return (\n    <tbody>\n      {table.getRowModel().rows.length ? (\n        table.getRowModel().rows.map((row) => children({ row }))\n      ) : (\n        <tr>\n          <td\n            colSpan={table.getAllColumns().length}\n            className=\"h-24 text-center text-muted-foreground\"\n          >\n            No results.\n          </td>\n        </tr>\n      )}\n    </tbody>\n  );\n}\n\ninterface TableRowProps<T> {\n  row: ReturnType<ReturnType<typeof useReactTable<T>>[\"getRowModel\"]>[\"rows\"][number];\n  children: (context: {\n    cell: ReturnType<\n      ReturnType<ReturnType<typeof useReactTable<T>>[\"getRowModel\"]>[\"rows\"][number][\"getVisibleCells\"]\n    >[number];\n  }) => ReactNode;\n  className?: string;\n  onClick?: () => void;\n}\n\nexport function TableRow<T>({ row, children, className, onClick }: TableRowProps<T>) {\n  return (\n    <tr\n      data-state={row.getIsSelected() && \"selected\"}\n      className={className}\n      onClick={onClick}\n    >\n      {row.getVisibleCells().map((cell) => children({ cell }))}\n    </tr>\n  );\n}\n\ninterface TableCellProps<T> {\n  cell: ReturnType<\n    ReturnType<ReturnType<typeof useReactTable<T>>[\"getRowModel\"]>[\"rows\"][number][\"getVisibleCells\"]\n  >[number];\n}\n\nexport function TableCell<T>({ cell }: TableCellProps<T>) {\n  return (\n    <td className=\"px-4 py-3 text-sm text-foreground\">\n      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n    </td>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 954, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/entities/entities-views.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useMemo, useState } from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { Building2, Eye, Pencil } from 'lucide-react'\nimport {\n  KanbanBoard,\n  KanbanCard,\n  KanbanCards,\n  KanbanHeader,\n  KanbanProvider\n} from '@/components/kibo-ui/kanban'\nimport type { DragEndEvent } from '@/components/kibo-ui/list'\nimport {\n  ListGroup,\n  ListHeader,\n  ListItem,\n  ListItems,\n  ListProvider\n} from '@/components/kibo-ui/list'\nimport type { ColumnDef } from '@/components/kibo-ui/table'\nimport {\n  TableBody,\n  TableCell,\n  TableColumnHeader,\n  TableHead,\n  TableHeader,\n  TableHeaderGroup,\n  TableProvider,\n  TableRow\n} from '@/components/kibo-ui/table'\n\nexport interface Entity {\n  id: string\n  name: string\n  entity_code: string | null\n  platform: string | null\n  investment_name: string | null\n  former_entity: string | null\n  status: string | null\n  type: string\n  domicile: string | null\n  currency: string\n  formation_date?: string | null\n  legal_jurisdiction?: string | null\n  registration_number?: string | null\n  reporting_type?: string | null\n  requires_reporting?: boolean\n  notes?: string | null\n  created_at: string\n  logo_url?: string | null\n  website_url?: string | null\n  investor_count?: number\n  open_flag_count?: number\n  last_event_at?: string | null\n}\n\ninterface EntitiesViewProps {\n  entities: Entity[]\n  onEntityClick: (id: string) => void\n  onEntityEdit: (entity: Entity) => void\n  onStatusChange?: (entityId: string, newStatus: string) => void\n}\n\nconst entityTypeLabels: Record<string, string> = {\n  fund: 'Fund',\n  spv: 'SPV',\n  securitization: 'Securitization',\n  note: 'Note',\n  venture_capital: 'Venture Capital',\n  private_equity: 'Private Equity',\n  real_estate: 'Real Estate',\n  other: 'Other'\n}\n\nconst statusConfig = [\n  { id: 'LIVE', name: 'LIVE', color: '#10B981' },\n  { id: 'CLOSED', name: 'CLOSED', color: '#EF4444' },\n  { id: 'PENDING', name: 'PENDING', color: '#F59E0B' }\n]\n\nconst getStatusColor = (status: string | null) => {\n  if (status === 'LIVE') return 'bg-emerald-500/20 border-emerald-400/40 text-emerald-100'\n  if (status === 'CLOSED') return 'bg-red-500/20 border-red-400/40 text-red-100'\n  if (status === 'PENDING') return 'bg-amber-500/20 border-amber-400/40 text-amber-100'\n  return 'bg-white/10 border-white/10 text-foreground'\n}\n\nconst formatLastActivity = (timestamp?: string | null) => {\n  if (!timestamp) return 'No activity'\n  try {\n    return new Date(timestamp).toLocaleDateString()\n  } catch {\n    return 'No activity'\n  }\n}\n\n// Table View Component\nexport function EntitiesTableView({ entities, onEntityClick, onEntityEdit }: EntitiesViewProps) {\n  const columns: ColumnDef<Entity>[] = useMemo(\n    () => [\n      {\n        accessorKey: 'entity_code',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Code\" />,\n        cell: ({ row }) => (\n          <div className=\"font-mono text-xs\">\n            {row.original.entity_code ? (\n              <Badge variant=\"outline\" className=\"border-emerald-400/40 text-emerald-100\">\n                {row.original.entity_code}\n              </Badge>\n            ) : (\n              <span className=\"text-muted-foreground\">--</span>\n            )}\n          </div>\n        )\n      },\n      {\n        accessorKey: 'name',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Name\" />,\n        cell: ({ row }) => (\n          <div className=\"flex items-center gap-2 min-w-[200px]\">\n            <Building2 className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n            <div>\n              <div className=\"font-medium text-foreground\">{row.original.name}</div>\n              {row.original.former_entity && (\n                <div className=\"text-xs text-muted-foreground\">\n                  Formerly: {row.original.former_entity}\n                </div>\n              )}\n            </div>\n          </div>\n        )\n      },\n      {\n        accessorKey: 'investment_name',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Investment\" />,\n        cell: ({ row }) => (\n          <span className=\"font-medium text-foreground\">\n            {row.original.investment_name || '--'}\n          </span>\n        )\n      },\n      {\n        accessorKey: 'platform',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Platform\" />,\n        cell: ({ row }) =>\n          row.original.platform ? (\n            <Badge className=\"bg-white/10 border-white/10 text-foreground\">\n              {row.original.platform}\n            </Badge>\n          ) : (\n            '--'\n          )\n      },\n      {\n        accessorKey: 'type',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Type\" />,\n        cell: ({ row }) => (\n          <Badge className=\"bg-white/10 border-white/10 text-foreground\">\n            {entityTypeLabels[row.original.type] || row.original.type}\n          </Badge>\n        )\n      },\n      {\n        accessorKey: 'status',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Status\" />,\n        cell: ({ row }) =>\n          row.original.status ? (\n            <Badge className={getStatusColor(row.original.status)}>\n              {row.original.status}\n            </Badge>\n          ) : (\n            '--'\n          )\n      },\n      {\n        accessorKey: 'investor_count',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Investors\" />,\n        cell: ({ row }) => (\n          <Badge className=\"bg-white/10 border-white/10 text-foreground\">\n            {row.original.investor_count ?? 0}\n          </Badge>\n        )\n      },\n      {\n        accessorKey: 'open_flag_count',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Open Flags\" />,\n        cell: ({ row }) => {\n          const count = row.original.open_flag_count ?? 0\n          return (\n            <Badge\n              className={\n                count > 0\n                  ? 'bg-red-500/20 border-red-400/40 text-red-100'\n                  : 'bg-white/10 border-white/10 text-foreground'\n              }\n            >\n              {count}\n            </Badge>\n          )\n        }\n      },\n      {\n        accessorKey: 'last_event_at',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Last Activity\" />,\n        cell: ({ row }) => (\n          <span className=\"text-xs text-muted-foreground\">\n            {formatLastActivity(row.original.last_event_at)}\n          </span>\n        )\n      },\n      {\n        accessorKey: 'currency',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Currency\" />,\n        cell: ({ row }) => <span className=\"text-foreground\">{row.original.currency}</span>\n      },\n      {\n        accessorKey: 'reporting_type',\n        header: ({ column }) => <TableColumnHeader column={column} title=\"Reporting\" />,\n        cell: ({ row }) => (\n          <span className=\"text-xs text-muted-foreground\">\n            {row.original.reporting_type || '--'}\n          </span>\n        )\n      },\n      {\n        id: 'actions',\n        header: () => <div className=\"text-right\">Actions</div>,\n        cell: ({ row }) => (\n          <div className=\"flex items-center justify-end gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"gap-2\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onEntityClick(row.original.id)\n              }}\n            >\n              <Eye className=\"h-4 w-4\" />\n              View\n            </Button>\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              className=\"gap-2\"\n              onClick={(e) => {\n                e.stopPropagation()\n                onEntityEdit(row.original)\n              }}\n            >\n              <Pencil className=\"h-4 w-4\" />\n              Edit\n            </Button>\n          </div>\n        )\n      }\n    ],\n    [onEntityClick, onEntityEdit]\n  )\n\n  return (\n    <div className=\"border border-white/10 rounded-lg overflow-hidden\">\n      <TableProvider columns={columns} data={entities}>\n        <TableHeader>\n          {({ headerGroup }) => (\n            <TableHeaderGroup headerGroup={headerGroup} key={headerGroup.id}>\n              {({ header }) => <TableHead header={header} key={header.id} />}\n            </TableHeaderGroup>\n          )}\n        </TableHeader>\n        <TableBody<Entity>>\n          {({ row }) => (\n            <TableRow\n              key={row.id}\n              row={row}\n              onClick={() => onEntityClick(row.original.id)}\n              className=\"cursor-pointer hover:bg-white/5 transition-colors\"\n            >\n              {({ cell }) => <TableCell cell={cell} key={cell.id} />}\n            </TableRow>\n          )}\n        </TableBody>\n      </TableProvider>\n    </div>\n  )\n}\n\n// List View Component\nexport function EntitiesListView({ entities, onEntityClick, onStatusChange }: EntitiesViewProps) {\n  const handleDragEnd = (event: DragEndEvent) => {\n    const { active, over } = event\n    if (!over || !onStatusChange) return\n\n    const newStatus = over.id as string\n    if (statusConfig.find((status) => status.name === newStatus)) {\n      onStatusChange(active.id as string, newStatus)\n    }\n  }\n\n  return (\n    <ListProvider onDragEnd={handleDragEnd}>\n      {statusConfig.map((status) => (\n        <ListGroup id={status.name} key={status.name}>\n          <ListHeader color={status.color} name={status.name} />\n          <ListItems>\n            {entities\n              .filter((entity) => entity.status === status.name)\n              .map((entity) => (\n                <ListItem\n                  key={entity.id}\n                  {...({\n                    id: entity.id,\n                    onClick: () => onEntityClick(entity.id),\n                    className: \"hover:bg-white/5 transition-colors\"\n                  } as any)}\n                >\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-full\"\n                    style={{ backgroundColor: status.color }}\n                  />\n                  <div className=\"flex-1 min-w-0\">\n                    {entity.entity_code && (\n                      <Badge\n                        variant=\"outline\"\n                        className=\"font-mono text-xs border-emerald-400/40 text-emerald-100 mb-1\"\n                      >\n                        {entity.entity_code}\n                      </Badge>\n                    )}\n                    <p className=\"m-0 font-medium text-sm truncate\">{entity.name}</p>\n                    <p className=\"m-0 text-xs text-muted-foreground truncate\">\n                      {entity.investment_name || entity.platform || '-'}\n                    </p>\n                    <div className=\"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground\">\n                      <Badge className=\"bg-white/10 border-white/10 text-foreground\">\n                        {(entity.investor_count ?? 0)} investors\n                      </Badge>\n                      <Badge\n                        className={\n                          (entity.open_flag_count ?? 0) > 0\n                            ? 'bg-red-500/20 border-red-400/40 text-red-100'\n                            : 'bg-white/10 border-white/10 text-foreground'\n                        }\n                      >\n                        {(entity.open_flag_count ?? 0)} flags\n                      </Badge>\n                      <span className=\"ml-auto text-xs text-muted-foreground\">\n                        {formatLastActivity(entity.last_event_at)}\n                      </span>\n                    </div>\n                  </div>\n                  <Avatar className=\"h-6 w-6 shrink-0\">\n                    <AvatarFallback className=\"text-xs bg-white/10\">\n                      {entity.platform?.slice(0, 2) || entity.entity_code?.slice(0, 2) || '--'}\n                    </AvatarFallback>\n                  </Avatar>\n                </ListItem>\n              ))}\n          </ListItems>\n        </ListGroup>\n      ))}\n    </ListProvider>\n  )\n}\n\n// Kanban View Component\nexport function EntitiesKanbanView({ entities, onEntityClick, onStatusChange }: EntitiesViewProps) {\n  const [localEntities, setLocalEntities] = useState(entities)\n\n  useEffect(() => {\n    setLocalEntities(entities)\n  }, [entities])\n\n  const handleDataChange = (newData: Entity[]) => {\n    setLocalEntities(newData)\n\n    if (!onStatusChange) return\n    const changedEntity = newData.find((next) => {\n      const previous = entities.find((item) => item.id === next.id)\n      return previous && previous.status !== next.status\n    })\n\n    if (changedEntity && changedEntity.status) {\n      onStatusChange(changedEntity.id, changedEntity.status)\n    }\n  }\n\n  return (\n    <KanbanProvider columns={statusConfig} data={localEntities} onDataChange={handleDataChange}>\n      {(column) => (\n        <KanbanBoard id={column.id} key={column.id}>\n          <KanbanHeader>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-2 w-2 rounded-full\" style={{ backgroundColor: column.color }} />\n              <span>{column.name}</span>\n              <Badge variant=\"outline\" className=\"ml-auto\">\n                {localEntities.filter((entity) => entity.status === column.name).length}\n              </Badge>\n            </div>\n          </KanbanHeader>\n          <KanbanCards id={column.id}>\n            {(entity: Entity) => (\n              <KanbanCard\n                column={column.id}\n                id={entity.id}\n                key={entity.id}\n                name={entity.name}\n                onClick={() => onEntityClick(entity.id)}\n              >\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"flex-1 min-w-0\">\n                      {entity.entity_code && (\n                        <Badge\n                          variant=\"outline\"\n                          className=\"font-mono text-xs border-emerald-400/40 text-emerald-100 mb-1\"\n                        >\n                          {entity.entity_code}\n                        </Badge>\n                      )}\n                      <p className=\"m-0 font-medium text-sm\">{entity.name}</p>\n                    </div>\n                    <Avatar className=\"h-5 w-5 shrink-0\">\n                      <AvatarFallback className=\"text-xs bg-white/10\">\n                        {entity.platform?.slice(0, 2) ||\n                          entity.entity_code?.slice(0, 2) ||\n                          '--'}\n                      </AvatarFallback>\n                    </Avatar>\n                  </div>\n                  {entity.investment_name && (\n                    <p className=\"m-0 text-xs text-muted-foreground font-medium\">\n                      {entity.investment_name}\n                    </p>\n                  )}\n                  <div className=\"flex flex-wrap items-center gap-2 text-xs text-muted-foreground\">\n                    {entity.platform && (\n                      <Badge className=\"bg-white/10 border-white/10 text-foreground text-xs\">\n                        {entity.platform}\n                      </Badge>\n                    )}\n                    <Badge className=\"bg-white/10 border-white/10 text-foreground text-xs\">\n                      {(entity.investor_count ?? 0)} investors\n                    </Badge>\n                    <Badge\n                      className={\n                        (entity.open_flag_count ?? 0) > 0\n                          ? 'bg-red-500/20 border-red-400/40 text-red-100'\n                          : 'bg-white/10 border-white/10 text-foreground'\n                      }\n                    >\n                      {(entity.open_flag_count ?? 0)} flags\n                    </Badge>\n                    <span className=\"ml-auto text-[11px] text-muted-foreground\">\n                      {formatLastActivity(entity.last_event_at)}\n                    </span>\n                  </div>\n                </div>\n              </KanbanCard>\n            )}\n          </KanbanCards>\n        </KanbanBoard>\n      )}\n    </KanbanProvider>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1853, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 backdrop-blur-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background border-border text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg backdrop-blur-xl\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold text-foreground\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,oNAAC,6MAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,oNAAC,gNAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,oNAAC,gNAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2KACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,oNAAC;;0BACC,oNAAC;;;;;0BACD,oNAAC,gNAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,mJAAE,EACX,8ZACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,oNAAC,8MAA0B;QACzB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,oNAAC,oNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAC1B,WAAW,IAAA,mJAAE,EAAC,IAAA,8KAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAC1B,WAAW,IAAA,mJAAE,EAAC,IAAA,8KAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS"}},
    {"offset": {"line": 2048, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,kMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,oNAAC;QACC,WAAW,IAAA,mJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2082, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-7 md:h-6 w-12 md:w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-6 w-6 md:h-5 md:w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,kMAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,oMAAqB;QACpB,WAAW,IAAA,mJAAE,EACX,qYACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,oNAAC,qMAAsB;YACrB,WAAW,IAAA,mJAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,oMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 2124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/entities/edit-entity-modal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useCallback, useEffect, useMemo, useState, type FormEvent } from 'react'\r\nimport Image from 'next/image'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle\r\n} from '@/components/ui/dialog'\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle\r\n} from '@/components/ui/alert-dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Upload, Trash2, Loader2, Building2, Scale } from 'lucide-react'\r\n\r\ninterface DropdownOption {\r\n  id: string\r\n  name: string\r\n  email?: string\r\n  firm_name?: string\r\n}\r\n\r\ninterface DropdownOptions {\r\n  arrangers: DropdownOption[]\r\n  lawyers: DropdownOption[]\r\n}\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: 'LIVE', label: 'Live' },\r\n  { value: 'TBD', label: 'TBD' },\r\n  { value: 'CLOSED', label: 'Closed' }\r\n]\r\n\r\nconst ENTITY_TYPES = [\r\n  { value: 'fund', label: 'Fund' },\r\n  { value: 'spv', label: 'SPV' },\r\n  { value: 'securitization', label: 'Securitization' },\r\n  { value: 'note', label: 'Note' },\r\n  { value: 'venture_capital', label: 'Venture Capital' },\r\n  { value: 'private_equity', label: 'Private Equity' },\r\n  { value: 'real_estate', label: 'Real Estate' },\r\n  { value: 'other', label: 'Other' }\r\n]\r\n\r\nconst REPORTING_OPTIONS = [\r\n  { value: 'Not Required', label: 'Not Required' },\r\n  { value: 'Company Only', label: 'Company Only' },\r\n  { value: 'Online only', label: 'Online Only' },\r\n  { value: 'Company + Online', label: 'Company + Online' }\r\n]\r\n\r\nconst CURRENCIES = ['USD', 'EUR', 'GBP', 'CHF']\r\n\r\ninterface EditEntityModalProps {\r\n  entity: {\r\n    id: string\r\n    name: string\r\n    entity_code: string | null\r\n    platform: string | null\r\n    investment_name: string | null\r\n    former_entity: string | null\r\n    status: string | null\r\n    type: string\r\n    domicile: string | null\r\n    currency: string\r\n    formation_date: string | null\r\n    legal_jurisdiction: string | null\r\n    registration_number: string | null\r\n    reporting_type: string | null\r\n    requires_reporting: boolean | null\r\n    notes: string | null\r\n    logo_url: string | null\r\n    website_url: string | null\r\n    address: string | null\r\n    arranger_entity_id: string | null\r\n    lawyer_id: string | null\r\n  }\r\n  open: boolean\r\n  onClose: () => void\r\n  onSuccess: (entity: any) => void\r\n}\r\n\r\nexport function EditEntityModal({ entity, open, onClose, onSuccess }: EditEntityModalProps) {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    entity_code: '',\r\n    platform: '',\r\n    investment_name: '',\r\n    former_entity: '',\r\n    status: 'LIVE',\r\n    type: 'fund',\r\n    domicile: '',\r\n    currency: 'USD',\r\n    formation_date: '',\r\n    legal_jurisdiction: '',\r\n    registration_number: '',\r\n    reporting_type: 'Not Required',\r\n    requires_reporting: false,\r\n    notes: '',\r\n    website_url: '',\r\n    address: '',\r\n    arranger_entity_id: '',\r\n    lawyer_id: ''\r\n  })\r\n  const [logoUrl, setLogoUrl] = useState('')\r\n  const [logoUploading, setLogoUploading] = useState(false)\r\n  const [logoError, setLogoError] = useState<string | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [showConfirmation, setShowConfirmation] = useState(false)\r\n  const [dropdownOptions, setDropdownOptions] = useState<DropdownOptions>({\r\n    arrangers: [],\r\n    lawyers: []\r\n  })\r\n  const [dropdownsLoading, setDropdownsLoading] = useState(false)\r\n\r\n  const fetchDropdownOptions = useCallback(async () => {\r\n    setDropdownsLoading(true)\r\n    try {\r\n      const response = await fetch('/api/vehicles/dropdown-options')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setDropdownOptions(data)\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch dropdown options:', err)\r\n    } finally {\r\n      setDropdownsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      void fetchDropdownOptions()\r\n    }\r\n  }, [open, fetchDropdownOptions])\r\n\r\n  useEffect(() => {\r\n    if (!open) return\r\n\r\n    setFormData({\r\n      name: entity.name || '',\r\n      entity_code: entity.entity_code || '',\r\n      platform: entity.platform || '',\r\n      investment_name: entity.investment_name || '',\r\n      former_entity: entity.former_entity || '',\r\n      status: entity.status || 'LIVE',\r\n      type: entity.type || 'fund',\r\n      domicile: entity.domicile || '',\r\n      currency: entity.currency || 'USD',\r\n      formation_date: entity.formation_date ? entity.formation_date.slice(0, 10) : '',\r\n      legal_jurisdiction: entity.legal_jurisdiction || '',\r\n      registration_number: entity.registration_number || '',\r\n      reporting_type: entity.reporting_type || 'Not Required',\r\n      requires_reporting: entity.requires_reporting ?? false,\r\n      notes: entity.notes || '',\r\n      website_url: entity.website_url || '',\r\n      address: entity.address || '',\r\n      arranger_entity_id: entity.arranger_entity_id || '',\r\n      lawyer_id: entity.lawyer_id || ''\r\n    })\r\n    setLogoUrl(entity.logo_url || '')\r\n    setLogoError(null)\r\n    setError(null)\r\n    setLoading(false)\r\n    setLogoUploading(false)\r\n    setShowConfirmation(false)\r\n  }, [entity, open])\r\n\r\n  const reportingNeedsExplanation = useMemo(() => {\r\n    if (!formData.requires_reporting) {\r\n      return 'Enable to track follow-up obligations for this vehicle.'\r\n    }\r\n\r\n    if (formData.reporting_type === 'Not Required') {\r\n      return 'Select where updates are delivered so stakeholders know the channel.'\r\n    }\r\n\r\n    return 'This vehicle will appear in reporting queues and reminders.'\r\n  }, [formData.requires_reporting, formData.reporting_type])\r\n\r\n  const handleFieldChange =\r\n    (field: keyof typeof formData) => (value: string) =>\r\n      setFormData((prev) => ({ ...prev, [field]: value }))\r\n\r\n  const handleLogoUpload = async (file: File) => {\r\n    setLogoError(null)\r\n    setLogoUploading(true)\r\n\r\n    try {\r\n      const payload = new FormData()\r\n      payload.append('file', file)\r\n      payload.append('vehicle_id', entity.id)\r\n\r\n      const response = await fetch('/api/entities/logo-upload', {\r\n        method: 'POST',\r\n        body: payload\r\n      })\r\n\r\n      const data = await response.json().catch(() => ({}))\r\n\r\n      if (!response.ok || !data?.url) {\r\n        throw new Error(data?.error || 'Failed to upload logo')\r\n      }\r\n\r\n      setLogoUrl(data.url)\r\n    } catch (uploadError) {\r\n      setLogoError(uploadError instanceof Error ? uploadError.message : 'Failed to upload logo')\r\n    } finally {\r\n      setLogoUploading(false)\r\n    }\r\n  }\r\n\r\n  const validateForm = () => {\r\n    if (!formData.name.trim()) {\r\n      setError('Vehicle name is required')\r\n      return false\r\n    }\r\n\r\n    if (!formData.domicile.trim()) {\r\n      setError('Domicile is required')\r\n      return false\r\n    }\r\n\r\n    if (formData.requires_reporting && formData.reporting_type === 'Not Required') {\r\n      setError('Select a reporting channel when reporting is enabled')\r\n      return false\r\n    }\r\n\r\n    setError(null)\r\n    return true\r\n  }\r\n\r\n  const handleSubmit = (event: FormEvent) => {\r\n    event.preventDefault()\r\n    if (!validateForm()) return\r\n    setShowConfirmation(true)\r\n  }\r\n\r\n  const handleConfirmedSave = async () => {\r\n    if (!validateForm()) return\r\n\r\n    setLoading(true)\r\n    setShowConfirmation(false)\r\n    setError(null)\r\n\r\n    try {\r\n      const payload = {\r\n        name: formData.name.trim(),\r\n        entity_code: formData.entity_code.trim() || null,\r\n        platform: formData.platform.trim() || null,\r\n        investment_name: formData.investment_name.trim() || null,\r\n        former_entity: formData.former_entity.trim() || null,\r\n        status: formData.status,\r\n        type: formData.type,\r\n        domicile: formData.domicile.trim(),\r\n        currency: formData.currency.trim().toUpperCase() || 'USD',\r\n        formation_date: formData.formation_date || null,\r\n        legal_jurisdiction: formData.legal_jurisdiction.trim() || null,\r\n        registration_number: formData.registration_number.trim() || null,\r\n        reporting_type: formData.reporting_type,\r\n        requires_reporting: formData.requires_reporting,\r\n        notes: formData.notes.trim() || null,\r\n        logo_url: logoUrl || null,\r\n        website_url: formData.website_url.trim() || null,\r\n        address: formData.address.trim() || null,\r\n        arranger_entity_id: formData.arranger_entity_id || null,\r\n        lawyer_id: formData.lawyer_id || null\r\n      }\r\n\r\n      const response = await fetch(`/api/entities/${entity.id}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      })\r\n\r\n      const data = await response.json().catch(() => ({}))\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.details || data.error || 'Failed to update vehicle')\r\n      }\r\n\r\n      onSuccess(data.entity)\r\n      onClose()\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to update vehicle')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onOpenChange={onClose}>\r\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto no-scrollbar rounded-2xl border border-border bg-background shadow-xl\">\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <DialogHeader className=\"space-y-2\">\r\n              <DialogTitle className=\"text-2xl text-foreground\">Edit Vehicle</DialogTitle>\r\n              <DialogDescription className=\"text-sm text-muted-foreground\">\r\n                Update the vehicle profile. Changes are applied immediately across deals and reporting.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n\r\n            <div className=\"grid gap-5\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"name\" className=\"text-foreground\">\r\n                    Vehicle Name *\r\n                  </Label>\r\n                  <Input\r\n                    id=\"name\"\r\n                    value={formData.name}\r\n                    onChange={(event) => handleFieldChange('name')(event.target.value)}\r\n                    placeholder=\"Legal vehicle name\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"entity_code\" className=\"text-foreground\">\r\n                    Vehicle Code\r\n                  </Label>\r\n                  <Input\r\n                    id=\"entity_code\"\r\n                    value={formData.entity_code}\r\n                    onChange={(event) => handleFieldChange('entity_code')(event.target.value)}\r\n                    placeholder=\"e.g., VC101\"\r\n                    className=\"bg-background border-input text-foreground font-mono uppercase\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-foreground\">Status</Label>\r\n                  <Select value={formData.status} onValueChange={handleFieldChange('status')}>\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                      <SelectValue placeholder=\"Status\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {STATUS_OPTIONS.map((option) => (\r\n                        <SelectItem key={option.value} value={option.value}>\r\n                          {option.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-foreground\">Type</Label>\r\n                  <Select value={formData.type} onValueChange={handleFieldChange('type')}>\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                      <SelectValue placeholder=\"Type\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {ENTITY_TYPES.map((option) => (\r\n                        <SelectItem key={option.value} value={option.value}>\r\n                          {option.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-foreground\">Currency</Label>\r\n                  <Select value={formData.currency} onValueChange={handleFieldChange('currency')}>\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                      <SelectValue placeholder=\"Currency\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {CURRENCIES.map((code) => (\r\n                        <SelectItem key={code} value={code}>\r\n                          {code}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"platform\" className=\"text-foreground\">\r\n                    Platform\r\n                  </Label>\r\n                  <Input\r\n                    id=\"platform\"\r\n                    value={formData.platform}\r\n                    onChange={(event) => handleFieldChange('platform')(event.target.value)}\r\n                    placeholder=\"e.g., VC1SCSP\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"investment_name\" className=\"text-foreground\">\r\n                    Investment Name\r\n                  </Label>\r\n                  <Input\r\n                    id=\"investment_name\"\r\n                    value={formData.investment_name}\r\n                    onChange={(event) => handleFieldChange('investment_name')(event.target.value)}\r\n                    placeholder=\"e.g., Revolut Secondary\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"domicile\" className=\"text-foreground\">\r\n                  Domicile / Jurisdiction *\r\n                </Label>\r\n                <Input\r\n                  id=\"domicile\"\r\n                  value={formData.domicile}\r\n                  onChange={(event) => handleFieldChange('domicile')(event.target.value)}\r\n                  placeholder=\"e.g., Luxembourg, BVI, Delaware\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"formation_date\" className=\"text-foreground\">\r\n                    Formation Date\r\n                  </Label>\r\n                  <Input\r\n                    id=\"formation_date\"\r\n                    type=\"date\"\r\n                    value={formData.formation_date}\r\n                    onChange={(event) => handleFieldChange('formation_date')(event.target.value)}\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"registration_number\" className=\"text-foreground\">\r\n                    Registration Number\r\n                  </Label>\r\n                  <Input\r\n                    id=\"registration_number\"\r\n                    value={formData.registration_number}\r\n                    onChange={(event) => handleFieldChange('registration_number')(event.target.value)}\r\n                    placeholder=\"Optional registration reference\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"former_entity\" className=\"text-foreground\">\r\n                    Former Vehicle Name\r\n                  </Label>\r\n                  <Input\r\n                    id=\"former_entity\"\r\n                    value={formData.former_entity}\r\n                    onChange={(event) => handleFieldChange('former_entity')(event.target.value)}\r\n                    placeholder=\"Previous name if renamed\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"website_url\" className=\"text-foreground\">\r\n                    Website\r\n                  </Label>\r\n                  <Input\r\n                    id=\"website_url\"\r\n                    type=\"url\"\r\n                    value={formData.website_url}\r\n                    onChange={(event) => handleFieldChange('website_url')(event.target.value)}\r\n                    placeholder=\"https://example.com\"\r\n                    className=\"bg-background border-input text-foreground\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"address\" className=\"text-foreground\">\r\n                  Address\r\n                </Label>\r\n                <Textarea\r\n                  id=\"address\"\r\n                  rows={2}\r\n                  value={formData.address}\r\n                  onChange={(event) => handleFieldChange('address')(event.target.value)}\r\n                  placeholder=\"Registered address of the vehicle\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-4 rounded-xl border border-border bg-muted/30 p-5\">\r\n                <div className=\"space-y-1\">\r\n                  <Label className=\"text-foreground font-semibold text-base\">Service Providers</Label>\r\n                  <p className=\"text-sm text-muted-foreground\">Assign the arranger and legal counsel for this vehicle.</p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\r\n                  <div className=\"space-y-2.5 p-4 rounded-lg bg-background/50 border border-border/50 transition-colors hover:border-border\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/10\">\r\n                        <Building2 className=\"h-4 w-4 text-primary\" />\r\n                      </div>\r\n                      <Label className=\"text-foreground font-medium\">Arranger</Label>\r\n                    </div>\r\n                    <Select\r\n                      value={formData.arranger_entity_id}\r\n                      onValueChange={(value) => setFormData((prev) => ({ ...prev, arranger_entity_id: value === 'none' ? '' : value }))}\r\n                      disabled={dropdownsLoading}\r\n                    >\r\n                      <SelectTrigger className=\"bg-background border-input text-foreground h-11\">\r\n                        <SelectValue placeholder={dropdownsLoading ? 'Loading...' : 'Select arranger'} />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"none\">None</SelectItem>\r\n                        {dropdownOptions.arrangers.map((arranger) => (\r\n                          <SelectItem key={arranger.id} value={arranger.id}>\r\n                            {arranger.name}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                    <p className=\"text-xs text-muted-foreground\">Entity responsible for deal structuring</p>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2.5 p-4 rounded-lg bg-background/50 border border-border/50 transition-colors hover:border-border\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-amber-500/10\">\r\n                        <Scale className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\r\n                      </div>\r\n                      <Label className=\"text-foreground font-medium\">Legal Counsel</Label>\r\n                    </div>\r\n                    <Select\r\n                      value={formData.lawyer_id}\r\n                      onValueChange={(value) => setFormData((prev) => ({ ...prev, lawyer_id: value === 'none' ? '' : value }))}\r\n                      disabled={dropdownsLoading}\r\n                    >\r\n                      <SelectTrigger className=\"bg-background border-input text-foreground h-11\">\r\n                        <SelectValue placeholder={dropdownsLoading ? 'Loading...' : 'Select legal counsel'} />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"none\">None</SelectItem>\r\n                        {dropdownOptions.lawyers.map((lawyer) => (\r\n                          <SelectItem key={lawyer.id} value={lawyer.id}>\r\n                            {lawyer.name} {lawyer.firm_name && lawyer.name !== lawyer.firm_name ? `(${lawyer.firm_name})` : ''}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                    <p className=\"text-xs text-muted-foreground\">Law firm handling legal documentation</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                <Label className=\"text-foreground\">Vehicle Logo</Label>\r\n                <div className=\"flex flex-col gap-3 rounded-xl border border-border bg-muted/30 p-4\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"h-16 w-16 rounded-lg border border-border bg-muted flex items-center justify-center\">\r\n                      {logoUrl ? (\r\n                        <Image src={logoUrl} alt=\"Vehicle logo preview\" width={64} height={64} className=\"h-full w-full rounded object-contain p-1\" />\r\n                      ) : (\r\n                        <span className=\"text-xs text-muted-foreground\">Upload logo</span>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex flex-col gap-2\">\r\n                      <label className=\"inline-flex items-center gap-2 rounded-md border border-dashed border-border px-3 py-2 text-sm text-foreground cursor-pointer transition-colors hover:border-primary hover:bg-muted\">\r\n                        <Upload className=\"h-4 w-4\" />\r\n                        <span>{logoUrl ? 'Replace Logo' : 'Upload Logo'}</span>\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          className=\"hidden\"\r\n                          onChange={(event) => {\r\n                            const file = event.target.files?.[0]\r\n                            if (!file) return\r\n                            void handleLogoUpload(file)\r\n                            event.target.value = ''\r\n                          }}\r\n                        />\r\n                      </label>\r\n                      <div className=\"flex items-center gap-3\">\r\n                        {logoUploading && (\r\n                          <span className=\"inline-flex items-center gap-1 text-xs text-muted-foreground\">\r\n                            <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n                            Uploading\r\n                          </span>\r\n                        )}\r\n                        {logoUrl && !logoUploading && (\r\n                          <Button\r\n                            type=\"button\"\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"px-0 text-xs text-destructive hover:text-destructive/80\"\r\n                            onClick={() => {\r\n                              setLogoUrl('')\r\n                              setLogoError(null)\r\n                            }}\r\n                          >\r\n                            <Trash2 className=\"mr-1 h-3 w-3\" />\r\n                            Remove logo\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-xs text-muted-foreground\">PNG or JPG, recommended minimum 240240.</p>\r\n                      {logoError && <p className=\"text-xs text-destructive\">{logoError}</p>}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4 rounded-xl border border-border bg-muted/30 p-5\">\r\n                <div className=\"flex items-start justify-between gap-4\">\r\n                  <div className=\"space-y-1\">\r\n                    <Label className=\"text-foreground font-semibold\">Reporting Requirements</Label>\r\n                    <p className=\"text-sm text-muted-foreground\">{reportingNeedsExplanation}</p>\r\n                  </div>\r\n                  <Switch\r\n                    checked={formData.requires_reporting}\r\n                    onCheckedChange={(checked) =>\r\n                      setFormData((prev) => ({\r\n                        ...prev,\r\n                        requires_reporting: checked,\r\n                        reporting_type:\r\n                          checked && prev.reporting_type === 'Not Required' ? 'Company Only' : checked ? prev.reporting_type : 'Not Required'\r\n                      }))\r\n                    }\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-foreground\">Reporting Channel</Label>\r\n                    <Select\r\n                      value={formData.reporting_type}\r\n                      onValueChange={handleFieldChange('reporting_type')}\r\n                      disabled={!formData.requires_reporting}\r\n                    >\r\n                      <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                        <SelectValue placeholder=\"Reporting channel\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {REPORTING_OPTIONS.map((option) => (\r\n                          <SelectItem key={option.value} value={option.value}>\r\n                            {option.label}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"notes\" className=\"text-foreground\">\r\n                  Notes\r\n                </Label>\r\n                <Textarea\r\n                  id=\"notes\"\r\n                  rows={3}\r\n                  value={formData.notes}\r\n                  onChange={(event) => handleFieldChange('notes')(event.target.value)}\r\n                  placeholder=\"Add any additional context for this vehicle.\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n\r\n              {error && (\r\n                <div className=\"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <DialogFooter className=\"flex items-center justify-end gap-2 border-t border-border pt-4\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={onClose}\r\n                disabled={loading}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n              >\r\n                {loading ? (\r\n                  <span className=\"inline-flex items-center gap-2\">\r\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                    Saving\r\n                  </span>\r\n                ) : (\r\n                  'Save Changes'\r\n                )}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <AlertDialog open={showConfirmation} onOpenChange={setShowConfirmation}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Save changes?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Updates to <strong>{entity.name}</strong> will be reflected across all linked deals and reporting workflows.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleConfirmedSave}>Yes, Save</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3701, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/entities/create-entity-modal.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useState, useCallback, type ChangeEvent, type FormEvent } from 'react'\r\nimport Image from 'next/image'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from '@/components/ui/select'\r\nimport { Switch } from '@/components/ui/switch'\r\nimport { Upload, Trash2, Loader2, Building2, Scale } from 'lucide-react'\r\nimport type { Entity } from './entities-views'\r\n\r\ninterface DropdownOption {\r\n  id: string\r\n  name: string\r\n  email?: string\r\n  firm_name?: string\r\n  display_name?: string\r\n}\r\n\r\ninterface DropdownOptions {\r\n  arrangers: DropdownOption[]\r\n  lawyers: DropdownOption[]\r\n}\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: 'LIVE', label: 'Live' },\r\n  { value: 'TBD', label: 'TBD' },\r\n  { value: 'CLOSED', label: 'Closed' }\r\n]\r\n\r\nconst ENTITY_TYPES = [\r\n  { value: 'fund', label: 'Fund' },\r\n  { value: 'spv', label: 'SPV' },\r\n  { value: 'securitization', label: 'Securitization' },\r\n  { value: 'note', label: 'Note' },\r\n  { value: 'venture_capital', label: 'Venture Capital' },\r\n  { value: 'private_equity', label: 'Private Equity' },\r\n  { value: 'real_estate', label: 'Real Estate' },\r\n  { value: 'other', label: 'Other' }\r\n]\r\n\r\nconst REPORTING_OPTIONS = [\r\n  { value: 'Not Required', label: 'Not Required' },\r\n  { value: 'Company Only', label: 'Company Only' },\r\n  { value: 'Online only', label: 'Online Only' },\r\n  { value: 'Company + Online', label: 'Company + Online' }\r\n]\r\n\r\nconst CURRENCIES = ['USD', 'EUR', 'GBP', 'CHF']\r\n\r\nconst defaultForm = {\r\n  name: '',\r\n  entity_code: '',\r\n  platform: '',\r\n  investment_name: '',\r\n  former_entity: '',\r\n  type: 'fund',\r\n  status: 'LIVE',\r\n  domicile: '',\r\n  currency: 'USD',\r\n  formation_date: '',\r\n  legal_jurisdiction: '',\r\n  registration_number: '',\r\n  reporting_type: 'Not Required',\r\n  requires_reporting: false,\r\n  notes: '',\r\n  website_url: '',\r\n  address: '',\r\n  arranger_entity_id: '',\r\n  lawyer_id: ''\r\n}\r\n\r\ntype FormState = typeof defaultForm\r\n\r\ninterface CreateEntityModalProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  onSuccess: (entity: Entity) => void\r\n}\r\n\r\nexport function CreateEntityModal({ open, onOpenChange, onSuccess }: CreateEntityModalProps) {\r\n  const [formData, setFormData] = useState<FormState>(defaultForm)\r\n  const [logoUrl, setLogoUrl] = useState('')\r\n  const [logoUploading, setLogoUploading] = useState(false)\r\n  const [logoError, setLogoError] = useState<string | null>(null)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [loading, setLoading] = useState(false)\r\n  const [dropdownOptions, setDropdownOptions] = useState<DropdownOptions>({\r\n    arrangers: [],\r\n    lawyers: []\r\n  })\r\n  const [dropdownsLoading, setDropdownsLoading] = useState(false)\r\n\r\n  const fetchDropdownOptions = useCallback(async () => {\r\n    setDropdownsLoading(true)\r\n    try {\r\n      const response = await fetch('/api/vehicles/dropdown-options')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setDropdownOptions(data)\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to fetch dropdown options:', err)\r\n    } finally {\r\n      setDropdownsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      void fetchDropdownOptions()\r\n    }\r\n  }, [open, fetchDropdownOptions])\r\n\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setFormData(defaultForm)\r\n      setLogoUrl('')\r\n      setLogoError(null)\r\n      setError(null)\r\n      setLoading(false)\r\n      setLogoUploading(false)\r\n    }\r\n  }, [open])\r\n\r\n  const reportingNeedsExplanation = useMemo(() => {\r\n    if (!formData.requires_reporting) {\r\n      return 'Enable to track follow-up obligations for this vehicle.'\r\n    }\r\n\r\n    if (formData.reporting_type === 'Not Required') {\r\n      return 'Select a reporting channel so stakeholders know where updates are delivered.'\r\n    }\r\n\r\n    return 'This vehicle will appear in reporting queues and reminders.'\r\n  }, [formData.requires_reporting, formData.reporting_type])\r\n\r\n  const handleInputChange = (field: keyof FormState) => (event: ChangeEvent<HTMLInputElement>) => {\r\n    const value = event.target.value\r\n    setFormData((prev) => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleLogoUpload = async (file: File) => {\r\n    setLogoError(null)\r\n    setLogoUploading(true)\r\n\r\n    try {\r\n      const payload = new FormData()\r\n      payload.append('file', file)\r\n      payload.append('vehicle_id', 'new')\r\n\r\n      const response = await fetch('/api/entities/logo-upload', {\r\n        method: 'POST',\r\n        body: payload\r\n      })\r\n\r\n      const data = await response.json().catch(() => ({}))\r\n\r\n      if (!response.ok || !data?.url) {\r\n        throw new Error(data?.error || 'Failed to upload logo')\r\n      }\r\n\r\n      setLogoUrl(data.url)\r\n    } catch (uploadError) {\r\n      setLogoError(uploadError instanceof Error ? uploadError.message : 'Failed to upload logo')\r\n    } finally {\r\n      setLogoUploading(false)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (event: FormEvent) => {\r\n    event.preventDefault()\r\n    setError(null)\r\n\r\n    if (!formData.name.trim()) {\r\n      setError('Vehicle name is required')\r\n      return\r\n    }\r\n\r\n    if (!formData.domicile.trim()) {\r\n      setError('Domicile is required')\r\n      return\r\n    }\r\n\r\n    if (formData.requires_reporting && formData.reporting_type === 'Not Required') {\r\n      setError('Select a reporting channel when reporting is enabled')\r\n      return\r\n    }\r\n\r\n    setLoading(true)\r\n\r\n    try {\r\n      const payload = {\r\n        name: formData.name.trim(),\r\n        entity_code: formData.entity_code.trim() || null,\r\n        platform: formData.platform.trim() || null,\r\n        investment_name: formData.investment_name.trim() || null,\r\n        former_entity: formData.former_entity.trim() || null,\r\n        type: formData.type,\r\n        status: formData.status,\r\n        domicile: formData.domicile.trim(),\r\n        currency: formData.currency.trim().toUpperCase() || 'USD',\r\n        formation_date: formData.formation_date || null,\r\n        legal_jurisdiction: formData.legal_jurisdiction.trim() || null,\r\n        registration_number: formData.registration_number.trim() || null,\r\n        reporting_type: formData.reporting_type,\r\n        requires_reporting: formData.requires_reporting,\r\n        notes: formData.notes.trim() || null,\r\n        logo_url: logoUrl || null,\r\n        website_url: formData.website_url.trim() || null,\r\n        address: formData.address.trim() || null,\r\n        arranger_entity_id: formData.arranger_entity_id || null,\r\n        lawyer_id: formData.lawyer_id || null\r\n      }\r\n\r\n      const response = await fetch('/api/vehicles', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      })\r\n\r\n      const data = await response.json().catch(() => ({}))\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.details || data.error || 'Failed to create vehicle')\r\n      }\r\n\r\n      onSuccess(data.vehicle as Entity)\r\n      onOpenChange(false)\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Something went wrong while creating the vehicle')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto no-scrollbar rounded-2xl border border-border bg-background shadow-xl\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <DialogHeader className=\"space-y-2\">\r\n            <DialogTitle className=\"text-2xl text-foreground\">Create Vehicle</DialogTitle>\r\n            <DialogDescription className=\"text-sm text-muted-foreground\">\r\n              Complete the vehicle profile used when linking deals and investor reporting.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"grid gap-5\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"vehicle-name\" className=\"text-foreground\">\r\n                  Vehicle Name *\r\n                </Label>\r\n                <Input\r\n                  id=\"vehicle-name\"\r\n                  value={formData.name}\r\n                  onChange={handleInputChange('name')}\r\n                  placeholder=\"e.g., Verso Fund II\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"vehicle-code\" className=\"text-foreground\">\r\n                  Vehicle Code\r\n                </Label>\r\n                <Input\r\n                  id=\"vehicle-code\"\r\n                  value={formData.entity_code}\r\n                  onChange={handleInputChange('entity_code')}\r\n                  placeholder=\"e.g., VC101\"\r\n                  className=\"bg-background border-input text-foreground font-mono uppercase\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-foreground\">Status</Label>\r\n                <Select value={formData.status} onValueChange={(value) => setFormData((prev) => ({ ...prev, status: value }))}>\r\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                    <SelectValue placeholder=\"Select status\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {STATUS_OPTIONS.map((option) => (\r\n                      <SelectItem key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-foreground\">Type</Label>\r\n                <Select value={formData.type} onValueChange={(value) => setFormData((prev) => ({ ...prev, type: value }))}>\r\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                    <SelectValue placeholder=\"Select type\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {ENTITY_TYPES.map((option) => (\r\n                      <SelectItem key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-foreground\">Currency</Label>\r\n                <Select value={formData.currency} onValueChange={(value) => setFormData((prev) => ({ ...prev, currency: value }))}>\r\n                  <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                    <SelectValue placeholder=\"Currency\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {CURRENCIES.map((code) => (\r\n                      <SelectItem key={code} value={code}>\r\n                        {code}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"platform\" className=\"text-foreground\">\r\n                  Platform\r\n                </Label>\r\n                <Input\r\n                  id=\"platform\"\r\n                  value={formData.platform}\r\n                  onChange={handleInputChange('platform')}\r\n                  placeholder=\"e.g., VC1SCSP\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"investment_name\" className=\"text-foreground\">\r\n                  Investment Name\r\n                </Label>\r\n                <Input\r\n                  id=\"investment_name\"\r\n                  value={formData.investment_name}\r\n                  onChange={handleInputChange('investment_name')}\r\n                  placeholder=\"e.g., Revolut Secondary\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"domicile\" className=\"text-foreground\">\r\n                Domicile / Jurisdiction *\r\n              </Label>\r\n              <Input\r\n                id=\"domicile\"\r\n                value={formData.domicile}\r\n                onChange={handleInputChange('domicile')}\r\n                placeholder=\"e.g., Luxembourg, BVI, Delaware\"\r\n                className=\"bg-background border-input text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"formation_date\" className=\"text-foreground\">\r\n                  Formation Date\r\n                </Label>\r\n                <Input\r\n                  id=\"formation_date\"\r\n                  type=\"date\"\r\n                  value={formData.formation_date}\r\n                  onChange={handleInputChange('formation_date')}\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"registration_number\" className=\"text-foreground\">\r\n                  Registration Number\r\n                </Label>\r\n                <Input\r\n                  id=\"registration_number\"\r\n                  value={formData.registration_number}\r\n                  onChange={handleInputChange('registration_number')}\r\n                  placeholder=\"Optional registration reference\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"former_entity\" className=\"text-foreground\">\r\n                  Former Vehicle Name\r\n                </Label>\r\n                <Input\r\n                  id=\"former_entity\"\r\n                  value={formData.former_entity}\r\n                  onChange={handleInputChange('former_entity')}\r\n                  placeholder=\"Previous name if renamed\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"website_url\" className=\"text-foreground\">\r\n                  Website\r\n                </Label>\r\n                <Input\r\n                  id=\"website_url\"\r\n                  type=\"url\"\r\n                  value={formData.website_url}\r\n                  onChange={handleInputChange('website_url')}\r\n                  placeholder=\"https://example.com\"\r\n                  className=\"bg-background border-input text-foreground\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"address\" className=\"text-foreground\">\r\n                Address\r\n              </Label>\r\n              <Textarea\r\n                id=\"address\"\r\n                rows={2}\r\n                value={formData.address}\r\n                onChange={(event) => setFormData((prev) => ({ ...prev, address: event.target.value }))}\r\n                placeholder=\"Registered address of the vehicle\"\r\n                className=\"bg-background border-input text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-4 rounded-xl border border-border bg-muted/30 p-5\">\r\n              <div className=\"space-y-1\">\r\n                <Label className=\"text-foreground font-semibold text-base\">Service Providers</Label>\r\n                <p className=\"text-sm text-muted-foreground\">Assign the arranger and legal counsel for this vehicle.</p>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\r\n                <div className=\"space-y-2.5 p-4 rounded-lg bg-background/50 border border-border/50 transition-colors hover:border-border\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-primary/10\">\r\n                      <Building2 className=\"h-4 w-4 text-primary\" />\r\n                    </div>\r\n                    <Label className=\"text-foreground font-medium\">Arranger</Label>\r\n                  </div>\r\n                  <Select\r\n                    value={formData.arranger_entity_id}\r\n                    onValueChange={(value) => setFormData((prev) => ({ ...prev, arranger_entity_id: value === 'none' ? '' : value }))}\r\n                    disabled={dropdownsLoading}\r\n                  >\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground h-11\">\r\n                      <SelectValue placeholder={dropdownsLoading ? 'Loading...' : 'Select arranger'} />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">None</SelectItem>\r\n                      {dropdownOptions.arrangers.map((arranger) => (\r\n                        <SelectItem key={arranger.id} value={arranger.id}>\r\n                          {arranger.name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">Entity responsible for deal structuring</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2.5 p-4 rounded-lg bg-background/50 border border-border/50 transition-colors hover:border-border\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"flex items-center justify-center w-8 h-8 rounded-lg bg-amber-500/10\">\r\n                      <Scale className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\r\n                    </div>\r\n                    <Label className=\"text-foreground font-medium\">Legal Counsel</Label>\r\n                  </div>\r\n                  <Select\r\n                    value={formData.lawyer_id}\r\n                    onValueChange={(value) => setFormData((prev) => ({ ...prev, lawyer_id: value === 'none' ? '' : value }))}\r\n                    disabled={dropdownsLoading}\r\n                  >\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground h-11\">\r\n                      <SelectValue placeholder={dropdownsLoading ? 'Loading...' : 'Select legal counsel'} />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">None</SelectItem>\r\n                      {dropdownOptions.lawyers.map((lawyer) => (\r\n                        <SelectItem key={lawyer.id} value={lawyer.id}>\r\n                          {lawyer.name} {lawyer.firm_name && lawyer.name !== lawyer.firm_name ? `(${lawyer.firm_name})` : ''}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">Law firm handling legal documentation</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <Label className=\"text-foreground\">Vehicle Logo</Label>\r\n              <div className=\"flex flex-col gap-3 rounded-xl border border-border bg-muted/30 p-4\">\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"h-16 w-16 rounded-lg border border-border bg-muted flex items-center justify-center\">\r\n                    {logoUrl ? (\r\n                      <Image src={logoUrl} alt=\"Entity logo preview\" width={64} height={64} className=\"h-full w-full rounded object-contain p-1\" />\r\n                    ) : (\r\n                      <span className=\"text-xs text-muted-foreground\">Upload logo</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex flex-col gap-2\">\r\n                    <label className=\"inline-flex items-center gap-2 rounded-md border border-dashed border-border px-3 py-2 text-sm text-foreground cursor-pointer transition-colors hover:border-primary hover:bg-muted\">\r\n                      <Upload className=\"h-4 w-4\" />\r\n                      <span>{logoUrl ? 'Replace Logo' : 'Upload Logo'}</span>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        className=\"hidden\"\r\n                        onChange={(event) => {\r\n                          const file = event.target.files?.[0]\r\n                          if (!file) return\r\n                          void handleLogoUpload(file)\r\n                          event.target.value = ''\r\n                        }}\r\n                      />\r\n                    </label>\r\n                    <div className=\"flex items-center gap-3\">\r\n                      {logoUploading && (\r\n                        <span className=\"inline-flex items-center gap-1 text-xs text-muted-foreground\">\r\n                          <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n                          Uploading\r\n                        </span>\r\n                      )}\r\n                      {logoUrl && !logoUploading && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          className=\"px-0 text-xs text-destructive hover:text-destructive/80\"\r\n                          onClick={() => {\r\n                            setLogoUrl('')\r\n                            setLogoError(null)\r\n                          }}\r\n                        >\r\n                          <Trash2 className=\"mr-1 h-3 w-3\" />\r\n                          Remove logo\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-xs text-muted-foreground\">PNG or JPG, recommended minimum 240240.</p>\r\n                    {logoError && <p className=\"text-xs text-destructive\">{logoError}</p>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-4 rounded-xl border border-border bg-muted/30 p-5\">\r\n              <div className=\"flex items-start justify-between gap-4\">\r\n                <div className=\"space-y-1\">\r\n                  <Label className=\"text-foreground font-semibold\">Reporting Requirements</Label>\r\n                  <p className=\"text-sm text-muted-foreground\">{reportingNeedsExplanation}</p>\r\n                </div>\r\n                <Switch\r\n                  checked={formData.requires_reporting}\r\n                  onCheckedChange={(checked) =>\r\n                    setFormData((prev) => ({\r\n                      ...prev,\r\n                      requires_reporting: checked,\r\n                      reporting_type:\r\n                        checked && prev.reporting_type === 'Not Required' ? 'Company Only' : checked ? prev.reporting_type : 'Not Required'\r\n                    }))\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-foreground\">Reporting Channel</Label>\r\n                  <Select\r\n                    value={formData.reporting_type}\r\n                    onValueChange={(value) => setFormData((prev) => ({ ...prev, reporting_type: value }))}\r\n                    disabled={!formData.requires_reporting}\r\n                  >\r\n                    <SelectTrigger className=\"bg-background border-input text-foreground\">\r\n                      <SelectValue placeholder=\"Reporting channel\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {REPORTING_OPTIONS.map((option) => (\r\n                        <SelectItem key={option.value} value={option.value}>\r\n                          {option.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"notes\" className=\"text-foreground\">\r\n                Notes\r\n              </Label>\r\n              <Textarea\r\n                id=\"notes\"\r\n                rows={3}\r\n                value={formData.notes}\r\n                onChange={(event) => setFormData((prev) => ({ ...prev, notes: event.target.value }))}\r\n                placeholder=\"Add any additional context for this entity.\"\r\n                className=\"bg-background border-input text-foreground\"\r\n              />\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"rounded-md border border-destructive/40 bg-destructive/10 p-3 text-sm text-destructive\">\r\n                {error}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter className=\"flex items-center justify-end gap-2 border-t border-border pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={loading}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              className=\"bg-primary text-primary-foreground hover:bg-primary/90 transition-colors\"\r\n            >\r\n              {loading ? (\r\n                <span className=\"inline-flex items-center gap-2\">\r\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\r\n                  Creating\r\n                </span>\r\n              ) : (\r\n                'Create Vehicle'\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5191, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/entities/entities-page-enhanced.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useMemo } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport Link from 'next/link'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from '@/components/ui/select'\r\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Label } from '@/components/ui/label'\r\nimport { AlertCircle, FileText, FlagTriangleRight, LayoutGrid, List, Plus, Search, Table } from 'lucide-react'\r\nimport { Entity, EntitiesTableView, EntitiesListView, EntitiesKanbanView } from './entities-views'\r\nimport { EditEntityModal } from './edit-entity-modal'\r\nimport { CreateEntityModal } from './create-entity-modal'\r\n\r\ninterface EntitiesPageEnhancedProps {\r\n  entities: Entity[]\r\n}\r\n\r\ntype ViewMode = 'table' | 'list' | 'kanban'\r\n\r\nconst entityTypeLabels: Record<string, string> = {\r\n  fund: 'Fund',\r\n  spv: 'SPV',\r\n  securitization: 'Securitization',\r\n  note: 'Note',\r\n  venture_capital: 'Venture Capital',\r\n  private_equity: 'Private Equity',\r\n  real_estate: 'Real Estate',\r\n  other: 'Other'\r\n}\r\n\r\nexport function EntitiesPageEnhanced({ entities: initialEntities }: EntitiesPageEnhancedProps) {\r\n  const router = useRouter()\r\n  const [entities, setEntities] = useState<Entity[]>(initialEntities)\r\n  const [viewMode, setViewMode] = useState<ViewMode>('table')\r\n  const [search, setSearch] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<'all' | string>('all')\r\n  const [platformFilter, setPlatformFilter] = useState<'all' | string>('all')\r\n  const [typeFilter, setTypeFilter] = useState<'all' | string>('all')\r\n  const [editEntity, setEditEntity] = useState<Entity | null>(null)\r\n  const [createOpen, setCreateOpen] = useState(false)\r\n  const [bannerMessage, setBannerMessage] = useState<string | null>(null)\r\n  const [bannerTone, setBannerTone] = useState<'success' | 'error'>('success')\r\n  const [showOnlyFlagged, setShowOnlyFlagged] = useState(false)\r\n\r\n  const platformOptions = useMemo(() => {\r\n    const set = new Set<string>()\r\n    entities.forEach((entity) => {\r\n      if (entity.platform) {\r\n        set.add(entity.platform)\r\n      }\r\n    })\r\n    return Array.from(set).sort()\r\n  }, [entities])\r\n\r\n  const filteredEntities = useMemo(() => {\r\n    let next = [...entities]\r\n\r\n    if (search) {\r\n      const query = search.toLowerCase()\r\n      next = next.filter(\r\n        (entity) =>\r\n          entity.name.toLowerCase().includes(query) ||\r\n          entity.entity_code?.toLowerCase().includes(query) ||\r\n          entity.investment_name?.toLowerCase().includes(query) ||\r\n          entity.platform?.toLowerCase().includes(query) ||\r\n          entity.former_entity?.toLowerCase().includes(query)\r\n      )\r\n    }\r\n\r\n    if (statusFilter !== 'all') {\r\n      next = next.filter((entity) => entity.status === statusFilter)\r\n    }\r\n\r\n    if (platformFilter !== 'all') {\r\n      next = next.filter((entity) => entity.platform === platformFilter)\r\n    }\r\n\r\n    if (typeFilter !== 'all') {\r\n      next = next.filter((entity) => entity.type === typeFilter)\r\n    }\r\n\r\n    if (showOnlyFlagged) {\r\n      next = next.filter((entity) => (entity.open_flag_count ?? 0) > 0)\r\n    }\r\n\r\n    return next\r\n  }, [entities, search, statusFilter, platformFilter, typeFilter, showOnlyFlagged])\r\n\r\n  const stats = useMemo(() => {\r\n    return {\r\n      total: entities.length,\r\n      live: entities.filter((e) => e.status === 'LIVE').length,\r\n      closed: entities.filter((e) => e.status === 'CLOSED').length,\r\n      pending: entities.filter((e) => e.status === 'PENDING').length,\r\n      platforms: new Set(entities.map((e) => e.platform).filter(Boolean)).size\r\n    }\r\n  }, [entities])\r\n\r\n  const flaggedEntities = useMemo(\r\n    () =>\r\n      entities\r\n        .filter((entity) => (entity.open_flag_count ?? 0) > 0)\r\n        .sort((a, b) => (b.open_flag_count ?? 0) - (a.open_flag_count ?? 0)),\r\n    [entities]\r\n  )\r\n\r\n  const handleEntityClick = (id: string) => {\r\n    router.push(`/versotech_main/entities/${id}`)\r\n  }\r\n\r\n  const handleEntityEdit = (entity: Entity) => {\r\n    setEditEntity(entity)\r\n  }\r\n\r\n  const handleStatusChange = async (entityId: string, newStatus: string) => {\r\n    try {\r\n      const response = await fetch(`/api/entities/${entityId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ status: newStatus })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update status')\r\n      }\r\n\r\n      setEntities((prev) =>\r\n        prev.map((e) => (e.id === entityId ? { ...e, status: newStatus } : e))\r\n      )\r\n      setBannerTone('success')\r\n      setBannerMessage(`Entity status updated to ${newStatus}`)\r\n      setTimeout(() => setBannerMessage(null), 3000)\r\n    } catch (error) {\r\n      console.error('Failed to update status:', error)\r\n      setBannerTone('error')\r\n      setBannerMessage('Failed to update entity status')\r\n      setTimeout(() => setBannerMessage(null), 3000)\r\n    }\r\n  }\r\n\r\n  const refreshEntity = (updatedEntity: Entity) => {\r\n    setEntities((prev) =>\r\n      prev.map((e) => (e.id === updatedEntity.id ? updatedEntity : e))\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6 text-foreground\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">Vehicles</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Manage investment vehicles with comprehensive tracking and multiple view modes.\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button variant=\"outline\" className=\"gap-2\" asChild>\r\n            <Link href=\"/versotech_main/documents\">\r\n              <FileText className=\"h-4 w-4\" />\r\n              Documents Workspace\r\n            </Link>\r\n          </Button>\r\n          <Button className=\"gap-2\" onClick={() => setCreateOpen(true)}>\r\n            <Plus className=\"h-4 w-4\" />\r\n            Create Vehicle\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {bannerMessage && (\r\n        <div\r\n          className={`rounded-lg border p-4 text-sm ${\r\n            bannerTone === 'success'\r\n              ? 'border-emerald-400/40 bg-emerald-500/10 text-emerald-100'\r\n              : 'border-red-400/40 bg-red-500/10 text-red-100'\r\n          }`}\r\n        >\r\n          {bannerMessage}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n        <Card className=\"border border-white/10 bg-white/5\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Platforms</CardTitle>\r\n            <CardDescription className=\"text-3xl text-foreground font-semibold\">\r\n              {stats.platforms}\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n        <Card className=\"border border-white/10 bg-white/5\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Total Vehicles</CardTitle>\r\n            <CardDescription className=\"text-3xl text-foreground font-semibold\">\r\n              {stats.total}\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n        <Card className=\"border border-white/10 bg-white/5\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Live</CardTitle>\r\n            <CardDescription className=\"text-3xl text-emerald-400 font-semibold\">\r\n              {stats.live}\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n        <Card className=\"border border-white/10 bg-white/5\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Closed</CardTitle>\r\n            <CardDescription className=\"text-3xl text-red-400 font-semibold\">\r\n              {stats.closed}\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n        <Card className=\"border border-white/10 bg-white/5\">\r\n          <CardHeader className=\"pb-2\">\r\n            <CardTitle className=\"text-sm text-muted-foreground\">Pending</CardTitle>\r\n            <CardDescription className=\"text-3xl text-amber-400 font-semibold\">\r\n              {stats.pending}\r\n            </CardDescription>\r\n          </CardHeader>\r\n        </Card>\r\n      </div>\r\n\r\n      {flaggedEntities.length > 0 && (\r\n        <Card className=\"border border-red-400/30 bg-red-500/10\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0\">\r\n            <div>\r\n              <CardTitle className=\"text-base text-red-100 flex items-center gap-2\">\r\n                <FlagTriangleRight className=\"h-4 w-4\" />\r\n                Action Center\r\n              </CardTitle>\r\n              <CardDescription className=\"text-red-100/80\">\r\n                Vehicles with outstanding health flags. Resolve issues to keep governance on track.\r\n              </CardDescription>\r\n            </div>\r\n            <Badge className=\"bg-red-500/20 border-red-400/40 text-red-100\">{flaggedEntities.length}</Badge>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            {flaggedEntities.slice(0, 4).map((entity) => (\r\n              <button\r\n                key={entity.id}\r\n                onClick={() => handleEntityClick(entity.id)}\r\n                className=\"w-full text-left rounded-lg border border-red-400/30 bg-black/20 px-4 py-3 hover:bg-red-500/10 transition-colors\"\r\n              >\r\n                <div className=\"flex items-center justify-between gap-2\">\r\n                  <div>\r\n                    <p className=\"text-sm font-semibold text-foreground\">{entity.name}</p>\r\n                    <p className=\"text-xs text-red-100/80\">\r\n                      {entity.open_flag_count} unresolved flag{entity.open_flag_count === 1 ? '' : 's'}  Last update{' '}\r\n                      {entity.last_event_at ? new Date(entity.last_event_at).toLocaleDateString() : 'n/a'}\r\n                    </p>\r\n                  </div>\r\n                  <Badge className=\"bg-red-500/20 border-red-400/40 text-red-100\">Review</Badge>\r\n                </div>\r\n              </button>\r\n            ))}\r\n            {flaggedEntities.length > 4 && (\r\n              <p className=\"text-xs text-red-100/60\">\r\n                Showing top priorities. Use the filter below to focus on all flagged vehicles.\r\n              </p>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      <Card className=\"border border-white/10 bg-white/5\">\r\n        <CardContent className=\"pt-6 space-y-4\">\r\n          <div className=\"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4\">\r\n            <div className=\"flex flex-col md:flex-row gap-4 flex-1 w-full\">\r\n              <div className=\"relative flex-1\">\r\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Search by code, name, investment, or platform\"\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger className=\"w-full md:w-[160px]\">\r\n                  <SelectValue placeholder=\"Status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Status</SelectItem>\r\n                  <SelectItem value=\"LIVE\">Live</SelectItem>\r\n                  <SelectItem value=\"CLOSED\">Closed</SelectItem>\r\n                  <SelectItem value=\"PENDING\">Pending</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              <Select value={platformFilter} onValueChange={setPlatformFilter}>\r\n                <SelectTrigger className=\"w-full md:w-[160px]\">\r\n                  <SelectValue placeholder=\"Platform\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Platforms</SelectItem>\r\n                  {platformOptions.map((platform) => (\r\n                    <SelectItem key={platform} value={platform}>\r\n                      {platform}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              <Select value={typeFilter} onValueChange={setTypeFilter}>\r\n                <SelectTrigger className=\"w-full md:w-[180px]\">\r\n                  <SelectValue placeholder=\"Type\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Types</SelectItem>\r\n                  <SelectItem value=\"venture_capital\">Venture Capital</SelectItem>\r\n                  <SelectItem value=\"private_equity\">Private Equity</SelectItem>\r\n                  <SelectItem value=\"real_estate\">Real Estate</SelectItem>\r\n                  <SelectItem value=\"fund\">Fund</SelectItem>\r\n                  <SelectItem value=\"spv\">SPV</SelectItem>\r\n                  <SelectItem value=\"other\">Other</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <Tabs value={viewMode} onValueChange={(v) => setViewMode(v as ViewMode)}>\r\n              <TabsList>\r\n                <TabsTrigger value=\"table\" className=\"gap-2\">\r\n                  <Table className=\"h-4 w-4\" />\r\n                  Table\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"list\" className=\"gap-2\">\r\n                  <List className=\"h-4 w-4\" />\r\n                  List\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"kanban\" className=\"gap-2\">\r\n                  <LayoutGrid className=\"h-4 w-4\" />\r\n                  Kanban\r\n                </TabsTrigger>\r\n              </TabsList>\r\n            </Tabs>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n            <Checkbox\r\n              id=\"filter-flagged\"\r\n              checked={showOnlyFlagged}\r\n              onCheckedChange={(checked) => setShowOnlyFlagged(checked === true)}\r\n            />\r\n            <Label htmlFor=\"filter-flagged\" className=\"cursor-pointer\">\r\n              Show only vehicles with unresolved flags\r\n            </Label>\r\n          </div>\r\n\r\n          {filteredEntities.length === 0 ? (\r\n            <div className=\"py-12 text-center text-muted-foreground\">\r\n              <div className=\"flex flex-col items-center gap-2\">\r\n                <AlertCircle className=\"h-6 w-6\" />\r\n                <p>No vehicles found. Try adjusting your filters.</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {viewMode === 'table' && (\r\n                <EntitiesTableView\r\n                  entities={filteredEntities}\r\n                  onEntityClick={handleEntityClick}\r\n                  onEntityEdit={handleEntityEdit}\r\n                />\r\n              )}\r\n              {viewMode === 'list' && (\r\n                <EntitiesListView\r\n                  entities={filteredEntities}\r\n                  onEntityClick={handleEntityClick}\r\n                  onEntityEdit={handleEntityEdit}\r\n                  onStatusChange={handleStatusChange}\r\n                />\r\n              )}\r\n              {viewMode === 'kanban' && (\r\n                <EntitiesKanbanView\r\n                  entities={filteredEntities}\r\n                  onEntityClick={handleEntityClick}\r\n                  onEntityEdit={handleEntityEdit}\r\n                  onStatusChange={handleStatusChange}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {editEntity && (\r\n        <EditEntityModal\r\n          entity={editEntity as any}\r\n          open={true}\r\n          onClose={() => setEditEntity(null)}\r\n          onSuccess={(updated) => {\r\n            refreshEntity(updated as Entity)\r\n            setEditEntity(null)\r\n          }}\r\n        />\r\n      )}\r\n\r\n      <CreateEntityModal\r\n        open={createOpen}\r\n        onOpenChange={setCreateOpen}\r\n        onSuccess={(entity) => {\r\n          setEntities((prev) => [entity, ...prev])\r\n          setBannerTone('success')\r\n          setBannerMessage(`Entity \"${entity.name}\" created successfully.`)\r\n          setTimeout(() => setBannerMessage(null), 4000)\r\n          router.refresh()\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}