{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,oNAAC;YACC,aAAU;YACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/format.ts"],"sourcesContent":["export const formatCurrency = (value: number | null | undefined, currency: string = 'USD') => {\n  if (!value) return '$0'\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: currency,\n    maximumFractionDigits: 0,\n  }).format(value)\n}\n\nexport const formatBps = (bps: number | null | undefined) => {\n  if (bps === null || bps === undefined) return '—'\n  return `${bps} bps`\n}\n\nexport const formatPercentage = (value: number | null | undefined) => {\n  if (!value) return '0%'\n  return `${(value * 100).toFixed(1)}%`\n}\n\nexport const formatDate = (value: string | Date | null | undefined) => {\n  if (!value) return '—'\n  const date = typeof value === 'string' ? new Date(value) : value\n  if (Number.isNaN(date?.getTime?.())) return '—'\n  // Use explicit locale to prevent hydration mismatch between server/client\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,iBAAiB,CAAC,OAAkC,WAAmB,KAAK;IACvF,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,YAAY,CAAC;IACxB,IAAI,QAAQ,QAAQ,QAAQ,WAAW,OAAO;IAC9C,OAAO,GAAG,IAAI,IAAI,CAAC;AACrB;AAEO,MAAM,mBAAmB,CAAC;IAC/B,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,GAAG,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AACvC;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,OAAO,OAAO,UAAU,WAAW,IAAI,KAAK,SAAS;IAC3D,IAAI,OAAO,KAAK,CAAC,MAAM,cAAc,OAAO;IAC5C,0EAA0E;IAC1E,OAAO,KAAK,kBAAkB,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,iDAAiD;AACjD,MAAM,qBAAO,GAAA,kMAAgB,SAG3B,CAAC,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;;IACnB,MAAM,cAAc,6LAAW;IAC/B,qBAAO,oNAAC,kMAAkB;QAAC,KAAK;QAAK,IAAI,MAAM;QAAc,GAAG,KAAK;;;;;;AACvE;;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,yBAAW,kMAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,kMAAkB;QACjB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,kMAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,+YACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 400, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,kMAAgB,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,oNAAC,uMAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,mJAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,uMAAuB,CAAC,WAAW"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/common/commission-summary.tsx"],"sourcesContent":["'use client'\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { DollarSign, Clock, FileCheck, CheckCircle2, XCircle } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\nimport { cn } from '@/lib/utils'\n\n/**\n * Commission summary type - shared between partners and introducers\n */\nexport type CommissionSummary = {\n  accrued: number\n  invoice_requested: number\n  invoice_submitted?: number\n  invoiced: number\n  paid: number\n  cancelled: number\n  rejected?: number\n  total_owed: number\n  currency: string\n}\n\ninterface CommissionSummaryProps {\n  summary: CommissionSummary\n  variant?: 'card' | 'compact' | 'inline'\n  className?: string\n  /** Optional title override (default: \"Commission Summary\") */\n  title?: string\n}\n\n/**\n * Displays commission summary for a partner or introducer\n * Shows breakdown by status: accrued, invoiced, paid\n *\n * Variants:\n * - 'card': Full card with header, grid layout, and progress bar\n * - 'compact': Horizontal badges for smaller displays\n * - 'inline': Minimal text for table cells\n */\nexport function CommissionSummary({\n  summary,\n  variant = 'card',\n  className,\n  title = 'Commission Summary',\n}: CommissionSummaryProps) {\n  const invoiceSubmitted = summary.invoice_submitted ?? 0\n  const { accrued, invoice_requested, invoiced, paid, total_owed, currency } = summary\n  const invoicedTotal = invoice_requested + invoiceSubmitted + invoiced\n\n  // Inline variant - for table cells\n  if (variant === 'inline') {\n    return (\n      <div className={cn('space-y-1', className)}>\n        {paid > 0 && (\n          <div className=\"text-sm\">\n            <span className=\"text-green-600 font-medium\">\n              {formatCurrency(paid, currency)}\n            </span>\n            <span className=\"text-muted-foreground text-xs ml-1\">paid</span>\n          </div>\n        )}\n        {total_owed > 0 && (\n          <div className=\"text-xs text-yellow-600\">\n            {formatCurrency(total_owed, currency)} pending\n          </div>\n        )}\n        {paid === 0 && total_owed === 0 && (\n          <span className=\"text-muted-foreground text-xs\">No commissions</span>\n        )}\n      </div>\n    )\n  }\n\n  // Compact variant - for smaller displays\n  if (variant === 'compact') {\n    return (\n      <div className={cn('flex flex-wrap gap-2', className)}>\n        {accrued > 0 && (\n          <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-600 border-blue-200\">\n            <Clock className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(accrued, currency)} accrued\n          </Badge>\n        )}\n        {invoicedTotal > 0 && (\n          <Badge variant=\"outline\" className=\"bg-yellow-500/10 text-yellow-600 border-yellow-200\">\n            <FileCheck className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(invoicedTotal, currency)} invoiced\n          </Badge>\n        )}\n        {paid > 0 && (\n          <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-600 border-green-200\">\n            <CheckCircle2 className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(paid, currency)} paid\n          </Badge>\n        )}\n      </div>\n    )\n  }\n\n  // Default card variant\n  return (\n    <Card className={className}>\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n          <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          {title}\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Accrued */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <Clock className=\"h-3 w-3 text-blue-500\" />\n              Accrued\n            </div>\n            <div className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(accrued, currency)}\n            </div>\n          </div>\n\n          {/* Invoiced */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <FileCheck className=\"h-3 w-3 text-yellow-500\" />\n              Invoiced\n            </div>\n            <div className=\"text-lg font-semibold text-yellow-600\">\n            {formatCurrency(invoicedTotal, currency)}\n            </div>\n          </div>\n\n          {/* Paid */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <CheckCircle2 className=\"h-3 w-3 text-green-500\" />\n              Paid\n            </div>\n            <div className=\"text-lg font-semibold text-green-600\">\n              {formatCurrency(paid, currency)}\n            </div>\n          </div>\n\n          {/* Total Owed */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <DollarSign className=\"h-3 w-3 text-purple-500\" />\n              Total Owed\n            </div>\n            <div className=\"text-lg font-semibold text-purple-600\">\n              {formatCurrency(total_owed, currency)}\n            </div>\n          </div>\n        </div>\n\n        {/* Progress bar showing paid vs owed */}\n        {(paid + total_owed) > 0 && (\n          <div className=\"mt-4 pt-3 border-t\">\n            <div className=\"flex justify-between text-xs text-muted-foreground mb-1\">\n              <span>Payment Progress</span>\n              <span>\n                {Math.round((paid / (paid + total_owed)) * 100)}% paid\n              </span>\n            </div>\n            <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-green-500 transition-all duration-300\"\n                style={{ width: `${(paid / (paid + total_owed)) * 100}%` }}\n              />\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\n/**\n * Displays a simple badge showing payment status\n */\nexport function PaymentStatusBadge({\n  summary,\n  className,\n}: {\n  summary: CommissionSummary\n  className?: string\n}) {\n  const { paid, total_owed } = summary\n\n  if (paid === 0 && total_owed === 0) {\n    return (\n      <Badge variant=\"outline\" className={cn('text-muted-foreground', className)}>\n        No commissions\n      </Badge>\n    )\n  }\n\n  if (total_owed === 0 && paid > 0) {\n    return (\n      <Badge variant=\"outline\" className={cn('bg-green-500/10 text-green-600 border-green-200', className)}>\n        <CheckCircle2 className=\"h-3 w-3 mr-1\" />\n        All paid\n      </Badge>\n    )\n  }\n\n  return (\n    <Badge variant=\"outline\" className={cn('bg-yellow-500/10 text-yellow-600 border-yellow-200', className)}>\n      <Clock className=\"h-3 w-3 mr-1\" />\n      {formatCurrency(total_owed, summary.currency)} pending\n    </Badge>\n  )\n}\n\n// Re-export with old names for backwards compatibility during migration\nexport { CommissionSummary as PartnerCommissionSummary }\nexport { PaymentStatusBadge as PartnerPaymentBadge }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 899, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/partner-commission-summary.tsx"],"sourcesContent":["'use client'\n\n/**\n * @deprecated This file re-exports from @/components/common/commission-summary\n * Import directly from '@/components/common/commission-summary' instead.\n *\n * Kept for backwards compatibility during migration.\n */\n\nexport {\n  CommissionSummary as PartnerCommissionSummary,\n  PaymentStatusBadge as PartnerPaymentBadge,\n  type CommissionSummary,\n} from '@/components/common/commission-summary'\n"],"names":[],"mappings":";AAEA;;;;;CAKC,GAED;AATA"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,kMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,oNAAC;QACC,WAAW,IAAA,mJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 958, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/record-commission-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, Calculator } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n  currency: string\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  components: any[]\n}\n\ninterface RecordCommissionDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  partnerId: string\n  partnerName: string\n  deals: Deal[]\n  feePlans: FeePlan[]\n  onSuccess: () => void\n}\n\nconst BASIS_TYPES = [\n  { value: 'invested_amount', label: 'Invested Amount' },\n  { value: 'spread', label: 'Spread' },\n  { value: 'management_fee', label: 'Management Fee' },\n  { value: 'performance_fee', label: 'Performance Fee' },\n]\n\nexport function RecordCommissionDialog({\n  open,\n  onOpenChange,\n  partnerId,\n  partnerName,\n  deals,\n  feePlans,\n  onSuccess,\n}: RecordCommissionDialogProps) {\n  const [saving, setSaving] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Form state\n  const [dealId, setDealId] = useState<string>('')\n  const [feePlanId, setFeePlanId] = useState<string>('')\n  const [basisType, setBasisType] = useState<string>('invested_amount')\n  const [rateBps, setRateBps] = useState<string>('')\n  const [baseAmount, setBaseAmount] = useState<string>('')\n  const [accrualAmount, setAccrualAmount] = useState<string>('')\n  const [currency, setCurrency] = useState<string>('USD')\n  const [paymentDueDate, setPaymentDueDate] = useState<string>('')\n  const [notes, setNotes] = useState<string>('')\n\n  // Reset form when dialog opens\n  useEffect(() => {\n    if (open) {\n      setDealId('')\n      setFeePlanId('')\n      setBasisType('invested_amount')\n      setRateBps('')\n      setBaseAmount('')\n      setAccrualAmount('')\n      setCurrency('USD')\n      setPaymentDueDate('')\n      setNotes('')\n      setError(null)\n    }\n  }, [open])\n\n  // Auto-calculate accrual when rate and base amount change\n  useEffect(() => {\n    if (rateBps && baseAmount) {\n      const rate = parseFloat(rateBps) / 10000 // Convert bps to decimal\n      const base = parseFloat(baseAmount)\n      if (!isNaN(rate) && !isNaN(base)) {\n        const calculated = (base * rate).toFixed(2)\n        setAccrualAmount(calculated)\n      }\n    }\n  }, [rateBps, baseAmount])\n\n  // Update currency when deal changes\n  useEffect(() => {\n    if (dealId) {\n      const deal = deals.find(d => d.id === dealId)\n      if (deal?.currency) {\n        setCurrency(deal.currency)\n      }\n    }\n  }, [dealId, deals])\n\n  // Auto-fill rate from fee plan\n  useEffect(() => {\n    if (feePlanId) {\n      const plan = feePlans.find(p => p.id === feePlanId)\n      if (plan?.components && plan.components.length > 0) {\n        // Find first component with rate_bps\n        const comp = plan.components.find((c: any) => c.rate_bps)\n        if (comp?.rate_bps) {\n          setRateBps(comp.rate_bps.toString())\n        }\n      }\n    }\n  }, [feePlanId, feePlans])\n\n  const handleSubmit = async () => {\n    // Validation\n    if (!rateBps || parseFloat(rateBps) <= 0) {\n      setError('Rate is required and must be greater than 0')\n      return\n    }\n    if (!accrualAmount || parseFloat(accrualAmount) <= 0) {\n      setError('Commission amount is required and must be greater than 0')\n      return\n    }\n\n    setSaving(true)\n    setError(null)\n\n    try {\n      const payload = {\n        partner_id: partnerId,\n        deal_id: dealId || undefined,\n        fee_plan_id: feePlanId || undefined,\n        basis_type: basisType,\n        rate_bps: parseInt(rateBps, 10),\n        base_amount: baseAmount ? parseFloat(baseAmount) : undefined,\n        accrual_amount: parseFloat(accrualAmount),\n        currency,\n        payment_due_date: paymentDueDate || undefined,\n        notes: notes || undefined,\n      }\n\n      const response = await fetch('/api/arrangers/me/partner-commissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to record commission')\n      }\n\n      onSuccess()\n      onOpenChange(false)\n    } catch (err) {\n      console.error('[RecordCommissionDialog] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to record commission')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const ratePercent = rateBps ? (parseFloat(rateBps) / 100).toFixed(2) : '0.00'\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>Record Commission</DialogTitle>\n          <DialogDescription>\n            Record a commission owed to {partnerName}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          {/* Deal Selection */}\n          <div className=\"space-y-2\">\n            <Label>Deal (Optional)</Label>\n            <Select value={dealId} onValueChange={setDealId}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select deal...\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">No specific deal</SelectItem>\n                {deals.map((deal) => (\n                  <SelectItem key={deal.id} value={deal.id}>\n                    {deal.name} {deal.company_name && `(${deal.company_name})`}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Fee Plan Selection */}\n          {feePlans.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Fee Plan (Optional)</Label>\n              <Select value={feePlanId} onValueChange={setFeePlanId}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select fee plan...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">No fee plan</SelectItem>\n                  {feePlans.map((plan) => (\n                    <SelectItem key={plan.id} value={plan.id}>\n                      {plan.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n\n          {/* Basis Type */}\n          <div className=\"space-y-2\">\n            <Label>Commission Basis</Label>\n            <Select value={basisType} onValueChange={setBasisType}>\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {BASIS_TYPES.map((type) => (\n                  <SelectItem key={type.value} value={type.value}>\n                    {type.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Rate and Base Amount */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Rate (basis points) *</Label>\n              <Input\n                type=\"number\"\n                value={rateBps}\n                onChange={(e) => setRateBps(e.target.value)}\n                placeholder=\"e.g., 100 = 1%\"\n              />\n              {rateBps && (\n                <p className=\"text-xs text-muted-foreground\">= {ratePercent}%</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Base Amount ({currency})</Label>\n              <Input\n                type=\"number\"\n                value={baseAmount}\n                onChange={(e) => setBaseAmount(e.target.value)}\n                placeholder=\"e.g., 100000\"\n              />\n            </div>\n          </div>\n\n          {/* Commission Amount */}\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              Commission Amount ({currency}) *\n              {rateBps && baseAmount && (\n                <span className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Calculator className=\"h-3 w-3\" />\n                  Auto-calculated\n                </span>\n              )}\n            </Label>\n            <Input\n              type=\"number\"\n              value={accrualAmount}\n              onChange={(e) => setAccrualAmount(e.target.value)}\n              placeholder=\"Commission amount\"\n            />\n            {accrualAmount && (\n              <p className=\"text-sm font-medium text-primary\">\n                {formatCurrency(parseFloat(accrualAmount), currency)}\n              </p>\n            )}\n          </div>\n\n          {/* Payment Due Date */}\n          <div className=\"space-y-2\">\n            <Label>Payment Due Date (Optional)</Label>\n            <Input\n              type=\"date\"\n              value={paymentDueDate}\n              onChange={(e) => setPaymentDueDate(e.target.value)}\n            />\n          </div>\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <Label>Notes (Optional)</Label>\n            <Textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Any additional notes...\"\n              rows={2}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={saving}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={saving}>\n            {saving ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Recording...\n              </>\n            ) : (\n              'Record Commission'\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1611, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/partner-detail-drawer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Building2,\n  Mail,\n  Phone,\n  Globe,\n  FileText,\n  Users,\n  TrendingUp,\n  ExternalLink,\n  Loader2,\n  AlertCircle,\n  Briefcase,\n} from 'lucide-react'\nimport { formatCurrency, formatDate } from '@/lib/format'\nimport { cn } from '@/lib/utils'\nimport { PartnerCommissionSummary, type CommissionSummary } from './partner-commission-summary'\nimport { RecordCommissionDialog } from './record-commission-dialog'\nimport Link from 'next/link'\nimport { Plus } from 'lucide-react'\n\ntype PartnerDetail = {\n  id: string\n  name: string\n  legal_name: string | null\n  partner_type: string | null\n  status: string\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  country: string | null\n  logo_url: string | null\n  kyc_status: string | null\n  created_at: string | null\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  description: string | null\n  is_active: boolean\n  effective_from: string | null\n  effective_until: string | null\n  deal_id: string | null\n  created_at: string | null\n  components: any[]\n}\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n  status: string\n  currency: string\n}\n\ntype Referral = {\n  id: string\n  created_at: string\n  investor: { id: string; name: string } | null\n  deal: { id: string; name: string; company_name: string | null } | null\n}\n\ntype PartnerData = {\n  partner: PartnerDetail\n  fee_plans: FeePlan[]\n  commission_summary: CommissionSummary\n  deals: Deal[]\n  recent_referrals: Referral[]\n  stats: {\n    total_deals: number\n    total_referrals: number\n    active_fee_plans: number\n  }\n}\n\ninterface PartnerDetailDrawerProps {\n  partnerId: string | null\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst KYC_STYLES: Record<string, string> = {\n  approved: 'bg-green-100 text-green-800',\n  pending: 'bg-yellow-100 text-yellow-800',\n  expired: 'bg-red-100 text-red-800',\n  not_started: 'bg-gray-100 text-gray-800',\n}\n\nexport function PartnerDetailDrawer({\n  partnerId,\n  open,\n  onOpenChange,\n}: PartnerDetailDrawerProps) {\n  const [data, setData] = useState<PartnerData | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [recordCommissionOpen, setRecordCommissionOpen] = useState(false)\n\n  const fetchPartnerDetail = async () => {\n    if (!partnerId) return\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(`/api/arrangers/me/partners/${partnerId}`)\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to load partner details')\n      }\n\n      const result = await response.json()\n      setData(result.data)\n    } catch (err) {\n      console.error('[PartnerDetailDrawer] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load partner details')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!open || !partnerId) {\n      setData(null)\n      setError(null)\n      return\n    }\n\n    fetchPartnerDetail()\n  }, [open, partnerId])\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-full sm:max-w-xl overflow-y-auto\">\n        {loading && (\n          <div className=\"flex items-center justify-center py-16\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n            <span className=\"ml-3 text-muted-foreground\">Loading partner details...</span>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <AlertCircle className=\"h-12 w-12 text-destructive mb-4\" />\n            <p className=\"text-muted-foreground\">{error}</p>\n            <Button\n              variant=\"outline\"\n              className=\"mt-4\"\n              onClick={() => onOpenChange(false)}\n            >\n              Close\n            </Button>\n          </div>\n        )}\n\n        {data && (\n          <>\n            <SheetHeader className=\"pb-4\">\n              <div className=\"flex items-center gap-3\">\n                {data.partner.logo_url ? (\n                  <img\n                    src={data.partner.logo_url}\n                    alt={data.partner.name}\n                    className=\"h-12 w-12 rounded-lg object-cover\"\n                  />\n                ) : (\n                  <div className=\"h-12 w-12 rounded-lg bg-muted flex items-center justify-center\">\n                    <Building2 className=\"h-6 w-6 text-muted-foreground\" />\n                  </div>\n                )}\n                <div>\n                  <SheetTitle>{data.partner.name}</SheetTitle>\n                  <SheetDescription>\n                    {data.partner.partner_type && (\n                      <span className=\"capitalize\">{data.partner.partner_type.replace('_', ' ')}</span>\n                    )}\n                    {data.partner.country && ` • ${data.partner.country}`}\n                  </SheetDescription>\n                </div>\n              </div>\n\n              {/* Status badges */}\n              <div className=\"flex gap-2 mt-3\">\n                <Badge\n                  variant=\"outline\"\n                  className={cn('capitalize', STATUS_STYLES[data.partner.status] || STATUS_STYLES.active)}\n                >\n                  {data.partner.status}\n                </Badge>\n                {data.partner.kyc_status && (\n                  <Badge\n                    variant=\"secondary\"\n                    className={cn('text-xs', KYC_STYLES[data.partner.kyc_status] || '')}\n                  >\n                    KYC: {data.partner.kyc_status.replace('_', ' ')}\n                  </Badge>\n                )}\n              </div>\n            </SheetHeader>\n\n            <Separator className=\"my-4\" />\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-3 gap-3 mb-6\">\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-primary\">{data.stats.total_deals}</div>\n                <div className=\"text-xs text-muted-foreground\">Deals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-blue-600\">{data.stats.total_referrals}</div>\n                <div className=\"text-xs text-muted-foreground\">Referrals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-purple-600\">{data.stats.active_fee_plans}</div>\n                <div className=\"text-xs text-muted-foreground\">Fee Plans</div>\n              </Card>\n            </div>\n\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"fees\">Fee Plans</TabsTrigger>\n                <TabsTrigger value=\"commissions\">Commissions</TabsTrigger>\n                <TabsTrigger value=\"activity\">Activity</TabsTrigger>\n              </TabsList>\n\n              {/* Overview Tab */}\n              <TabsContent value=\"overview\" className=\"mt-4 space-y-4\">\n                {/* Contact Info */}\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm\">Contact Information</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2 text-sm\">\n                    {data.partner.contact_name && (\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.contact_name}</span>\n                      </div>\n                    )}\n                    {data.partner.contact_email && (\n                      <div className=\"flex items-center gap-2\">\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                        <a href={`mailto:${data.partner.contact_email}`} className=\"text-primary hover:underline\">\n                          {data.partner.contact_email}\n                        </a>\n                      </div>\n                    )}\n                    {data.partner.contact_phone && (\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.contact_phone}</span>\n                      </div>\n                    )}\n                    {data.partner.country && (\n                      <div className=\"flex items-center gap-2\">\n                        <Globe className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.country}</span>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Deals List */}\n                {data.deals.length > 0 && (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Deals Involved</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        {data.deals.map((deal) => (\n                          <div key={deal.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">{deal.name}</div>\n                              {deal.company_name && (\n                                <div className=\"text-xs text-muted-foreground\">{deal.company_name}</div>\n                              )}\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                                {deal.status}\n                              </Badge>\n                              <Link href={`/versotech_main/opportunities/${deal.id}`}>\n                                <Button variant=\"ghost\" size=\"sm\">\n                                  <ExternalLink className=\"h-3.5 w-3.5\" />\n                                </Button>\n                              </Link>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n\n              {/* Fee Plans Tab */}\n              <TabsContent value=\"fees\" className=\"mt-4 space-y-4\">\n                {data.fee_plans.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <FileText className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No fee plans assigned to this partner</p>\n                      <Link href=\"/versotech_main/fee-plans\">\n                        <Button variant=\"outline\" size=\"sm\" className=\"mt-3\">\n                          Create Fee Plan\n                        </Button>\n                      </Link>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  data.fee_plans.map((plan) => (\n                    <Card key={plan.id}>\n                      <CardHeader className=\"pb-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <CardTitle className=\"text-sm\">{plan.name}</CardTitle>\n                          <Badge variant={plan.is_active ? 'default' : 'secondary'}>\n                            {plan.is_active ? 'Active' : 'Inactive'}\n                          </Badge>\n                        </div>\n                        {plan.description && (\n                          <CardDescription className=\"text-xs\">{plan.description}</CardDescription>\n                        )}\n                      </CardHeader>\n                      <CardContent>\n                        {plan.components && plan.components.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {plan.components.map((comp: any, idx: number) => (\n                              <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                {comp.kind}: {comp.rate_bps ? `${(comp.rate_bps / 100).toFixed(2)}%` : comp.flat_amount ? `$${comp.flat_amount}` : 'N/A'}\n                              </Badge>\n                            ))}\n                          </div>\n                        ) : (\n                          <p className=\"text-xs text-muted-foreground\">No fee components defined</p>\n                        )}\n                        {plan.effective_from && (\n                          <p className=\"text-xs text-muted-foreground mt-2\">\n                            Effective from {formatDate(plan.effective_from)}\n                            {plan.effective_until && ` to ${formatDate(plan.effective_until)}`}\n                          </p>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ))\n                )}\n              </TabsContent>\n\n              {/* Commissions Tab */}\n              <TabsContent value=\"commissions\" className=\"mt-4 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-medium\">Commission Summary</h3>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => setRecordCommissionOpen(true)}\n                  >\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    Record Commission\n                  </Button>\n                </div>\n\n                <PartnerCommissionSummary summary={data.commission_summary} />\n\n                <div className=\"flex justify-end\">\n                  <Link href=\"/versotech_main/lawyer-reconciliation\">\n                    <Button variant=\"outline\" size=\"sm\">\n                      <TrendingUp className=\"h-4 w-4 mr-2\" />\n                      View Reconciliation\n                    </Button>\n                  </Link>\n                </div>\n              </TabsContent>\n\n              {/* Activity Tab - Shows fee plan assignments */}\n              <TabsContent value=\"activity\" className=\"mt-4 space-y-4\">\n                {data.recent_referrals.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <FileText className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No activity yet</p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Recent Activity</CardTitle>\n                      <CardDescription className=\"text-xs\">Fee plan assignments to deals</CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3\">\n                        {data.recent_referrals.map((activity) => (\n                          <div key={activity.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">\n                                Assigned to {activity.deal?.name || 'Unknown Deal'}\n                              </div>\n                              <div className=\"text-xs text-muted-foreground\">\n                                {activity.deal?.company_name && `${activity.deal.company_name} • `}\n                                {activity.created_at && formatDate(activity.created_at)}\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n            </Tabs>\n\n            {/* Record Commission Dialog */}\n            <RecordCommissionDialog\n              open={recordCommissionOpen}\n              onOpenChange={setRecordCommissionOpen}\n              partnerId={data.partner.id}\n              partnerName={data.partner.name}\n              deals={data.deals}\n              feePlans={data.fee_plans}\n              onSuccess={fetchPartnerDetail}\n            />\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2655, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/my-partners/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  Users,\n  Building2,\n  CheckCircle2,\n  Search,\n  Loader2,\n  AlertCircle,\n  Globe,\n  Mail,\n  Handshake,\n  FileText,\n  DollarSign,\n  ChevronRight,\n  TrendingUp,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { formatCurrency } from '@/lib/format'\nimport { createClient } from '@/lib/supabase/client'\nimport Link from 'next/link'\nimport { PartnerDetailDrawer } from '@/components/partners/partner-detail-drawer'\nimport {\n  PartnerCommissionSummary,\n  type CommissionSummary,\n} from '@/components/partners/partner-commission-summary'\n\ntype ArrangerInfo = {\n  id: string\n  legal_name: string\n  status: string\n}\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  is_active: boolean\n}\n\ntype Partner = {\n  id: string\n  name: string\n  legal_name: string | null\n  partner_type: string | null\n  status: string\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  country: string | null\n  logo_url: string | null\n  kyc_status: string | null\n  deals_count: number\n  referrals_count: number\n  total_referral_value: number\n  last_activity: string | null\n  fee_plans: FeePlan[]\n  commission_summary: CommissionSummary\n}\n\ntype Summary = {\n  totalPartners: number\n  activePartners: number\n  totalReferrals: number\n  totalReferralValue: number\n  totalOwed: number\n  totalPaid: number\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst KYC_STYLES: Record<string, string> = {\n  approved: 'bg-green-100 text-green-800',\n  pending: 'bg-yellow-100 text-yellow-800',\n  expired: 'bg-red-100 text-red-800',\n  not_started: 'bg-gray-100 text-gray-800',\n}\n\nconst STATUS_FILTERS = [\n  { label: 'All Status', value: 'all' },\n  { label: 'Active', value: 'active' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Inactive', value: 'inactive' },\n]\n\nexport default function MyPartnersPage() {\n  const [arrangerInfo, setArrangerInfo] = useState<ArrangerInfo | null>(null)\n  const [arrangerId, setArrangerId] = useState<string | null>(null)\n  const [partners, setPartners] = useState<Partner[]>([])\n  const [deals, setDeals] = useState<Deal[]>([])\n  const [summary, setSummary] = useState<Summary>({\n    totalPartners: 0,\n    activePartners: 0,\n    totalReferrals: 0,\n    totalReferralValue: 0,\n    totalOwed: 0,\n    totalPaid: 0,\n  })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [search, setSearch] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  const [dealFilter, setDealFilter] = useState('all')\n\n  // Detail drawer state\n  const [selectedPartnerId, setSelectedPartnerId] = useState<string | null>(null)\n  const [drawerOpen, setDrawerOpen] = useState(false)\n\n  const handlePartnerClick = (partnerId: string) => {\n    setSelectedPartnerId(partnerId)\n    setDrawerOpen(true)\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true)\n        const supabase = createClient()\n\n        // Get current user\n        const { data: { user } } = await supabase.auth.getUser()\n        if (!user) {\n          setError('Not authenticated')\n          return\n        }\n\n        // Check if user is an arranger\n        const { data: arrangerUser, error: arrangerUserError } = await supabase\n          .from('arranger_users')\n          .select('arranger_id')\n          .eq('user_id', user.id)\n          .single()\n\n        if (arrangerUserError || !arrangerUser) {\n          // Staff view - show all partners\n          await fetchAllPartners(supabase)\n          return\n        }\n\n        setArrangerId(arrangerUser.arranger_id)\n\n        // Fetch arranger info\n        const { data: arranger, error: arrangerError } = await supabase\n          .from('arranger_entities')\n          .select('id, legal_name, status')\n          .eq('id', arrangerUser.arranger_id)\n          .single()\n\n        if (arrangerError) throw arrangerError\n        setArrangerInfo(arranger)\n\n        // Get deals for this arranger (for filter dropdown)\n        const { data: arrangerDeals, error: dealsError } = await supabase\n          .from('deals')\n          .select('id, name, company_name')\n          .eq('arranger_entity_id', arrangerUser.arranger_id)\n          .order('name')\n\n        if (dealsError) throw dealsError\n        setDeals(arrangerDeals || [])\n\n        if (!arrangerDeals || arrangerDeals.length === 0) {\n          setPartners([])\n          setSummary({\n            totalPartners: 0,\n            activePartners: 0,\n            totalReferrals: 0,\n            totalReferralValue: 0,\n            totalOwed: 0,\n            totalPaid: 0,\n          })\n          return\n        }\n\n        const dealIds = arrangerDeals.map(d => d.id)\n\n        // CORRECT APPROACH: Get partners via fee_plans (partner assignment to deals)\n        // Partners are linked to deals when CEO dispatches with a fee model\n        const { data: feePlansWithPartners, error: fpError } = await supabase\n          .from('fee_plans')\n          .select(`\n            id,\n            name,\n            is_active,\n            partner_id,\n            deal_id,\n            created_at,\n            deal:deals(id, name, currency, created_at)\n          `)\n          .in('deal_id', dealIds)\n          .not('partner_id', 'is', null)\n\n        if (fpError) throw fpError\n\n        // Get unique partner IDs from fee_plans\n        const partnerIds = [...new Set((feePlansWithPartners || []).map(fp => fp.partner_id).filter(Boolean))]\n\n        if (partnerIds.length === 0) {\n          setPartners([])\n          setSummary({\n            totalPartners: 0,\n            activePartners: 0,\n            totalReferrals: 0,\n            totalReferralValue: 0,\n            totalOwed: 0,\n            totalPaid: 0,\n          })\n          return\n        }\n\n        // Fetch partner details\n        const { data: partnersData, error: partnersError } = await supabase\n          .from('partners')\n          .select('*')\n          .in('id', partnerIds)\n          .order('name')\n\n        if (partnersError) throw partnersError\n\n        // Build fee plans by partner\n        const feePlansByPartner = new Map<string, FeePlan[]>()\n        const dealsByPartner = new Map<string, Set<string>>()\n        ;(feePlansWithPartners || []).forEach((fp: any) => {\n          if (!fp.partner_id) return\n          const existing = feePlansByPartner.get(fp.partner_id) || []\n          existing.push({ id: fp.id, name: fp.name, is_active: fp.is_active })\n          feePlansByPartner.set(fp.partner_id, existing)\n\n          // Track which deals this partner is assigned to\n          const dealSet = dealsByPartner.get(fp.partner_id) || new Set()\n          if (fp.deal_id) dealSet.add(fp.deal_id)\n          dealsByPartner.set(fp.partner_id, dealSet)\n        })\n\n        // Get commissions for these partners\n        const { data: commissions } = await supabase\n          .from('partner_commissions')\n          .select('partner_id, status, accrual_amount, currency')\n          .in('partner_id', partnerIds)\n          .eq('arranger_id', arrangerUser.arranger_id)\n\n        // Build commission summaries by partner\n        const commissionsByPartner = new Map<string, CommissionSummary>()\n        partnerIds.forEach(pid => {\n          commissionsByPartner.set(pid, {\n            accrued: 0,\n            invoice_requested: 0,\n            invoice_submitted: 0,\n            invoiced: 0,\n            paid: 0,\n            cancelled: 0,\n            total_owed: 0,\n            currency: 'USD',\n          })\n        })\n\n        ;(commissions || []).forEach((c: any) => {\n          const summary = commissionsByPartner.get(c.partner_id)\n          if (!summary) return\n          const amount = Number(c.accrual_amount) || 0\n          if (c.status === 'accrued') summary.accrued += amount\n          else if (c.status === 'invoice_requested') summary.invoice_requested += amount\n          else if (c.status === 'invoice_submitted') summary.invoice_submitted = (summary.invoice_submitted || 0) + amount\n          else if (c.status === 'invoiced') summary.invoiced += amount\n          else if (c.status === 'paid') summary.paid += amount\n          else if (c.status === 'cancelled') summary.cancelled += amount\n          if (['accrued', 'invoice_requested', 'invoice_submitted', 'invoiced'].includes(c.status)) {\n            summary.total_owed += amount\n          }\n          if (c.currency) summary.currency = c.currency\n        })\n\n        // Process partners with stats\n        const processedPartners: Partner[] = (partnersData || []).map((p: any) => {\n          const partnerFeePlans = feePlansByPartner.get(p.id) || []\n          const partnerDealIds = dealsByPartner.get(p.id) || new Set()\n\n          return {\n            id: p.id,\n            name: p.name || p.legal_name || 'Unknown Partner',\n            legal_name: p.legal_name,\n            partner_type: p.partner_type,\n            status: p.status || 'active',\n            contact_name: p.contact_name,\n            contact_email: p.contact_email,\n            contact_phone: p.contact_phone,\n            country: p.country,\n            logo_url: p.logo_url,\n            kyc_status: p.kyc_status,\n            deals_count: partnerDealIds.size,\n            referrals_count: 0, // Will be populated if we track referrals separately\n            total_referral_value: 0, // Will be populated if we track referrals separately\n            last_activity: null,\n            fee_plans: partnerFeePlans,\n            commission_summary: commissionsByPartner.get(p.id) || {\n              accrued: 0,\n              invoice_requested: 0,\n              invoice_submitted: 0,\n              invoiced: 0,\n              paid: 0,\n              cancelled: 0,\n              total_owed: 0,\n              currency: 'USD',\n            },\n          }\n        })\n\n        setPartners(processedPartners)\n\n        const active = processedPartners.filter(p => p.status === 'active').length\n        const totalRefs = processedPartners.reduce((sum, p) => sum + p.referrals_count, 0)\n        const totalVal = processedPartners.reduce((sum, p) => sum + p.total_referral_value, 0)\n        const totalOwed = processedPartners.reduce((sum, p) => sum + p.commission_summary.total_owed, 0)\n        const totalPaid = processedPartners.reduce((sum, p) => sum + p.commission_summary.paid, 0)\n\n        setSummary({\n          totalPartners: processedPartners.length,\n          activePartners: active,\n          totalReferrals: totalRefs,\n          totalReferralValue: totalVal,\n          totalOwed,\n          totalPaid,\n        })\n\n        setError(null)\n      } catch (err) {\n        console.error('[MyPartnersPage] Error:', err)\n        setError(err instanceof Error ? err.message : 'Failed to load partners')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    async function fetchAllPartners(supabase: any) {\n      // Staff view - show all partners\n      const { data: partnersData, error: partnersError } = await supabase\n        .from('partners')\n        .select('*')\n        .order('name')\n        .limit(100)\n\n      if (partnersError) throw partnersError\n\n      const emptyCommission: CommissionSummary = {\n        accrued: 0,\n        invoice_requested: 0,\n        invoiced: 0,\n        paid: 0,\n        cancelled: 0,\n        total_owed: 0,\n        currency: 'USD',\n      }\n\n      const processedPartners: Partner[] = (partnersData || []).map((p: any) => ({\n        id: p.id,\n        name: p.name || p.legal_name || 'Unknown Partner',\n        legal_name: p.legal_name,\n        partner_type: p.partner_type,\n        status: p.status || 'active',\n        contact_name: p.contact_name,\n        contact_email: p.contact_email,\n        contact_phone: p.contact_phone,\n        country: p.country,\n        logo_url: p.logo_url,\n        kyc_status: p.kyc_status,\n        deals_count: 0,\n        referrals_count: 0,\n        total_referral_value: 0,\n        last_activity: null,\n        fee_plans: [],\n        commission_summary: emptyCommission,\n      }))\n\n      setPartners(processedPartners)\n      setSummary({\n        totalPartners: processedPartners.length,\n        activePartners: processedPartners.filter(p => p.status === 'active').length,\n        totalReferrals: 0,\n        totalReferralValue: 0,\n        totalOwed: 0,\n        totalPaid: 0,\n      })\n    }\n\n    fetchData()\n  }, [])\n\n  // Filter partners\n  const filteredPartners = partners.filter(partner => {\n    const matchesStatus = statusFilter === 'all' || partner.status === statusFilter\n    const matchesSearch = !search ||\n      partner.name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.legal_name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.contact_name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.country?.toLowerCase().includes(search.toLowerCase())\n\n    // Deal filter - only applies if we have deal data\n    // Note: This is a simplified filter. For a real deal filter, you'd need\n    // to store which deals each partner has referrals on.\n    const matchesDeal = dealFilter === 'all' // TODO: Implement deal-specific filtering\n\n    return matchesStatus && matchesSearch && matchesDeal\n  })\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-16\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n        <span className=\"ml-3 text-muted-foreground\">Loading partners...</span>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-16\">\n        <AlertCircle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-foreground mb-2\">Error Loading Partners</h3>\n        <p className=\"text-muted-foreground\">{error}</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">My Partners</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            {arrangerInfo\n              ? `Partners working with ${arrangerInfo.legal_name}`\n              : 'View all distribution partners'}\n          </p>\n        </div>\n        <Link href=\"/versotech_main/fee-plans\">\n          <Button variant=\"outline\" size=\"sm\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            Fee Plans\n          </Button>\n        </Link>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Users className=\"h-4 w-4\" />\n              Total Partners\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.totalPartners}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              In your network\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              Active Partners\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">{summary.activePartners}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Currently active\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Handshake className=\"h-4 w-4\" />\n              Total Referrals\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-blue-600\">{summary.totalReferrals}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Investors referred\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <TrendingUp className=\"h-4 w-4\" />\n              Referral Value\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-purple-600\">\n              {formatCurrency(summary.totalReferralValue, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Total commitments\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <DollarSign className=\"h-4 w-4\" />\n              Fees Owed\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-yellow-600\">\n              {formatCurrency(summary.totalOwed, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Pending payment\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              Fees Paid\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">\n              {formatCurrency(summary.totalPaid, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Total paid out\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search partners...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-48\">\n                <SelectValue placeholder=\"Filter by status\" />\n              </SelectTrigger>\n              <SelectContent>\n                {STATUS_FILTERS.map((option) => (\n                  <SelectItem key={option.value} value={option.value}>\n                    {option.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            {deals.length > 0 && (\n              <Select value={dealFilter} onValueChange={setDealFilter}>\n                <SelectTrigger className=\"w-full md:w-56\">\n                  <SelectValue placeholder=\"Filter by deal\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Deals</SelectItem>\n                  {deals.map((deal) => (\n                    <SelectItem key={deal.id} value={deal.id}>\n                      {deal.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Partners Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Partners</CardTitle>\n          <CardDescription>\n            {filteredPartners.length} partner{filteredPartners.length !== 1 ? 's' : ''} found\n            {arrangerInfo && ' • Click a row to view details'}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {filteredPartners.length === 0 ? (\n            <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\n              <Users className=\"h-10 w-10 text-muted-foreground\" />\n              <p className=\"text-sm text-muted-foreground\">\n                {search || statusFilter !== 'all'\n                  ? 'No partners match your filters'\n                  : 'No partners in your network yet'}\n              </p>\n            </div>\n          ) : (\n            <div className=\"rounded-md border\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Partner</TableHead>\n                    <TableHead>Type</TableHead>\n                    <TableHead>Contact</TableHead>\n                    <TableHead>Fee Plans</TableHead>\n                    <TableHead>Referrals</TableHead>\n                    <TableHead>Payments</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead className=\"w-10\"></TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredPartners.map((partner) => (\n                    <TableRow\n                      key={partner.id}\n                      className={cn(\n                        arrangerInfo && 'cursor-pointer hover:bg-muted/50 transition-colors'\n                      )}\n                      onClick={() => arrangerInfo && handlePartnerClick(partner.id)}\n                    >\n                      <TableCell>\n                        <div className=\"flex items-center gap-3\">\n                          {partner.logo_url ? (\n                            <img\n                              src={partner.logo_url}\n                              alt={partner.name}\n                              className=\"h-10 w-10 rounded-lg object-cover\"\n                            />\n                          ) : (\n                            <div className=\"h-10 w-10 rounded-lg bg-muted flex items-center justify-center\">\n                              <Building2 className=\"h-5 w-5 text-muted-foreground\" />\n                            </div>\n                          )}\n                          <div>\n                            <div className=\"font-medium\">{partner.name}</div>\n                            {partner.country && (\n                              <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                                <Globe className=\"h-3 w-3\" />\n                                {partner.country}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {partner.partner_type ? (\n                          <Badge variant=\"secondary\" className=\"capitalize\">\n                            {partner.partner_type.replace('_', ' ')}\n                          </Badge>\n                        ) : (\n                          <span className=\"text-muted-foreground text-xs\">—</span>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"space-y-1\">\n                          {partner.contact_name && (\n                            <div className=\"text-sm\">{partner.contact_name}</div>\n                          )}\n                          {partner.contact_email && (\n                            <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                              <Mail className=\"h-3 w-3\" />\n                              {partner.contact_email}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {partner.fee_plans.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-1\">\n                            {partner.fee_plans.slice(0, 2).map((fp) => (\n                              <Badge\n                                key={fp.id}\n                                variant={fp.is_active ? 'default' : 'secondary'}\n                                className=\"text-xs\"\n                              >\n                                {fp.name}\n                              </Badge>\n                            ))}\n                            {partner.fee_plans.length > 2 && (\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                +{partner.fee_plans.length - 2}\n                              </Badge>\n                            )}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted-foreground text-xs\">No fee plans</span>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <div>\n                          <div className=\"font-medium\">{partner.referrals_count} referrals</div>\n                          {partner.total_referral_value > 0 && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              {formatCurrency(partner.total_referral_value, 'USD')}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        <PartnerCommissionSummary\n                          summary={partner.commission_summary}\n                          variant=\"inline\"\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"space-y-1\">\n                          <Badge\n                            variant=\"outline\"\n                            className={cn('capitalize', STATUS_STYLES[partner.status] || STATUS_STYLES.active)}\n                          >\n                            {partner.status}\n                          </Badge>\n                          {partner.kyc_status && (\n                            <div>\n                              <Badge\n                                variant=\"secondary\"\n                                className={cn('text-xs', KYC_STYLES[partner.kyc_status] || '')}\n                              >\n                                KYC: {partner.kyc_status.replace('_', ' ')}\n                              </Badge>\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {arrangerInfo && (\n                          <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Partner Detail Drawer */}\n      <PartnerDetailDrawer\n        partnerId={selectedPartnerId}\n        open={drawerOpen}\n        onOpenChange={setDrawerOpen}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}