{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/introducer-profile/introducer-profile-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useRef } from 'react'\r\nimport Link from 'next/link'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  Building2,\r\n  Mail,\r\n  Phone,\r\n  UserPlus,\r\n  FileText,\r\n  Shield,\r\n  CheckCircle2,\r\n  Clock,\r\n  AlertTriangle,\r\n  DollarSign,\r\n  Edit,\r\n  Loader2,\r\n  Lock,\r\n  Settings,\r\n  Save,\r\n  X,\r\n  Camera,\r\n  Globe,\r\n  Calendar,\r\n  FileSignature,\r\n  AlertCircle,\r\n  Users,\r\n  Bell,\r\n} from 'lucide-react'\r\nimport { formatDate } from '@/lib/format'\r\nimport { cn } from '@/lib/utils'\r\nimport { toast } from 'sonner'\r\nimport Image from 'next/image'\r\n\r\n// Import profile components\r\nimport { PasswordChangeForm } from '@/components/profile/password-change-form'\r\nimport { PreferencesEditor } from '@/components/profile/preferences-editor'\r\nimport { GDPRControls } from '@/components/profile/gdpr-controls'\r\nimport { MembersManagementTab } from '@/components/members/members-management-tab'\r\nimport { IntroducerKYCDocumentsTab } from '@/components/profile/introducer-kyc-documents-tab'\r\nimport { SignatureSpecimenTab } from '@/components/profile/signature-specimen-tab'\r\nimport { GenericEntityMembersTab } from '@/components/profile/generic-entity-members-tab'\r\nimport { NoticeContactsTab } from '@/components/profile/notice-contacts-tab'\r\n\r\n// Import shared KYC dialog components\r\nimport { EntityKYCEditDialog, EntityAddressEditDialog, IndividualKycDisplay } from '@/components/shared'\r\n\r\ntype IntroducerInfo = {\r\n  id: string\r\n  legal_name: string | null\r\n  contact_name: string | null\r\n  email: string | null\r\n  default_commission_bps: number | null\r\n  payment_terms: string | null\r\n  commission_cap_amount: number | null\r\n  status: string | null\r\n  notes: string | null\r\n  created_at: string | null\r\n  logo_url: string | null\r\n  kyc_status: string | null\r\n  // Entity type\r\n  type: 'individual' | 'entity' | 'sole_proprietor' | null\r\n  // Address fields\r\n  address_line_1: string | null\r\n  address_line_2: string | null\r\n  city: string | null\r\n  state_province: string | null\r\n  postal_code: string | null\r\n  country: string | null\r\n  // Phone/contact\r\n  phone: string | null\r\n  phone_mobile: string | null\r\n  phone_office: string | null\r\n  website: string | null\r\n  // Individual KYC fields\r\n  first_name: string | null\r\n  middle_name: string | null\r\n  last_name: string | null\r\n  name_suffix: string | null\r\n  date_of_birth: string | null\r\n  country_of_birth: string | null\r\n  nationality: string | null\r\n  // US Tax compliance\r\n  is_us_citizen: boolean | null\r\n  is_us_taxpayer: boolean | null\r\n  us_taxpayer_id: string | null\r\n  country_of_tax_residency: string | null\r\n  // ID Document\r\n  id_type: string | null\r\n  id_number: string | null\r\n  id_issue_date: string | null\r\n  id_expiry_date: string | null\r\n  id_issuing_country: string | null\r\n  // Residential Address\r\n  residential_street: string | null\r\n  residential_city: string | null\r\n  residential_state: string | null\r\n  residential_postal_code: string | null\r\n  residential_country: string | null\r\n  // Entity fields\r\n  country_of_incorporation: string | null\r\n  registration_number: string | null\r\n  tax_id: string | null\r\n  // Additional KYC fields\r\n  residential_line_2: string | null\r\n  middle_initial: string | null\r\n  proof_of_address_date: string | null\r\n  proof_of_address_expiry: string | null\r\n  tax_id_number: string | null\r\n}\r\n\r\ntype IntroducerUserInfo = {\r\n  role: string\r\n  is_primary: boolean\r\n  can_sign: boolean\r\n}\r\n\r\ntype ActiveAgreement = {\r\n  id: string\r\n  agreement_type: string\r\n  commission_bps: number\r\n  territory: string\r\n  status: string\r\n  effective_date: string | null\r\n  expiry_date: string | null\r\n}\r\n\r\ntype Profile = {\r\n  full_name: string | null\r\n  email: string\r\n  avatar_url: string | null\r\n}\r\n\r\ninterface IntroducerProfileClientProps {\r\n  userEmail: string\r\n  profile: Profile | null\r\n  introducerInfo: IntroducerInfo | null\r\n  introducerUserInfo: IntroducerUserInfo\r\n  activeAgreement: ActiveAgreement | null\r\n  introductionCount: number\r\n}\r\n\r\nconst STATUS_STYLES: Record<string, string> = {\r\n  active: 'bg-green-100 text-green-800 border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-700',\r\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-800/50 dark:text-gray-300 dark:border-gray-700',\r\n  suspended: 'bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-700',\r\n}\r\n\r\n// Editable field component\r\nfunction EditableField({\r\n  label,\r\n  value,\r\n  field,\r\n  isEditing,\r\n  editValue,\r\n  onEditChange,\r\n  type = 'text',\r\n  disabled = false,\r\n}: {\r\n  label: string\r\n  value: string | null | undefined\r\n  field: string\r\n  isEditing: boolean\r\n  editValue: string\r\n  onEditChange: (field: string, value: string) => void\r\n  type?: 'text' | 'email' | 'tel' | 'textarea'\r\n  disabled?: boolean\r\n}) {\r\n  if (isEditing && !disabled) {\r\n    if (type === 'textarea') {\r\n      return (\r\n        <div className=\"space-y-1\">\r\n          <Label className=\"text-xs text-muted-foreground\">{label}</Label>\r\n          <Textarea\r\n            value={editValue}\r\n            onChange={(e) => onEditChange(field, e.target.value)}\r\n            className=\"text-sm min-h-[80px]\"\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div className=\"space-y-1\">\r\n        <Label className=\"text-xs text-muted-foreground\">{label}</Label>\r\n        <Input\r\n          type={type}\r\n          value={editValue}\r\n          onChange={(e) => onEditChange(field, e.target.value)}\r\n          className=\"text-sm\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-1\">\r\n      <p className=\"text-xs text-muted-foreground\">{label}</p>\r\n      <p className=\"text-sm font-medium\">{value || '-'}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function IntroducerProfileClient({\r\n  userEmail,\r\n  profile,\r\n  introducerInfo,\r\n  introducerUserInfo,\r\n  activeAgreement,\r\n  introductionCount,\r\n}: IntroducerProfileClientProps) {\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [isSaving, setIsSaving] = useState(false)\r\n  const [isUploadingLogo, setIsUploadingLogo] = useState(false)\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n\r\n  // KYC Edit Dialog state\r\n  const [showKycDialog, setShowKycDialog] = useState(false)\r\n  const [showAddressDialog, setShowAddressDialog] = useState(false)\r\n\r\n  // Edit state\r\n  const [editData, setEditData] = useState({\r\n    contact_name: introducerInfo?.contact_name || '',\r\n    email: introducerInfo?.email || '',\r\n    notes: introducerInfo?.notes || '',\r\n  })\r\n\r\n  const handleEditChange = (field: string, value: string) => {\r\n    setEditData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    setIsSaving(true)\r\n    try {\r\n      const response = await fetch('/api/introducers/me/profile', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(editData),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to save profile')\r\n      }\r\n\r\n      toast.success('Profile updated successfully')\r\n      setIsEditing(false)\r\n      // Refresh the page to show updated data\r\n      window.location.reload()\r\n    } catch {\r\n      toast.error('Failed to save profile')\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditData({\r\n      contact_name: introducerInfo?.contact_name || '',\r\n      email: introducerInfo?.email || '',\r\n      notes: introducerInfo?.notes || '',\r\n    })\r\n    setIsEditing(false)\r\n  }\r\n\r\n  const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0]\r\n    if (!file) return\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      toast.error('Please select an image file')\r\n      return\r\n    }\r\n\r\n    // Validate file size (max 2MB)\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      toast.error('Image must be less than 2MB')\r\n      return\r\n    }\r\n\r\n    setIsUploadingLogo(true)\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n      formData.append('type', 'logo')\r\n\r\n      const response = await fetch('/api/introducers/me/profile', {\r\n        method: 'PUT',\r\n        body: formData,\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to upload logo')\r\n      }\r\n\r\n      toast.success('Logo updated successfully')\r\n      window.location.reload()\r\n    } catch {\r\n      toast.error('Failed to upload logo')\r\n    } finally {\r\n      setIsUploadingLogo(false)\r\n    }\r\n  }\r\n\r\n  const formatCommission = (bps: number | null | undefined) => {\r\n    if (bps === null || bps === undefined) return '-'\r\n    return `${(bps / 100).toFixed(2)}%`\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6 max-w-5xl mx-auto\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Logo */}\r\n          <div className=\"relative\">\r\n            <div className=\"h-20 w-20 rounded-lg border-2 border-gray-200 overflow-hidden bg-gray-50 flex items-center justify-center\">\r\n              {introducerInfo?.logo_url ? (\r\n                <Image\r\n                  src={introducerInfo.logo_url}\r\n                  alt={introducerInfo.legal_name || 'Logo'}\r\n                  fill\r\n                  className=\"object-cover\"\r\n                />\r\n              ) : (\r\n                <UserPlus className=\"h-8 w-8 text-gray-400\" />\r\n              )}\r\n            </div>\r\n            <input\r\n              ref={fileInputRef}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              className=\"hidden\"\r\n              onChange={handleLogoUpload}\r\n            />\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"icon\"\r\n              className=\"absolute -bottom-2 -right-2 h-7 w-7 rounded-full\"\r\n              onClick={() => fileInputRef.current?.click()}\r\n              disabled={isUploadingLogo}\r\n            >\r\n              {isUploadingLogo ? (\r\n                <Loader2 className=\"h-3 w-3 animate-spin\" />\r\n              ) : (\r\n                <Camera className=\"h-3 w-3\" />\r\n              )}\r\n            </Button>\r\n          </div>\r\n\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">{introducerInfo?.legal_name || 'Introducer Profile'}</h1>\r\n            <div className=\"flex items-center gap-2 mt-1\">\r\n              <Badge variant=\"outline\" className={cn(\r\n                'text-xs',\r\n                STATUS_STYLES[introducerInfo?.status || 'inactive']\r\n              )}>\r\n                {introducerInfo?.status || 'Unknown'}\r\n              </Badge>\r\n              <span className=\"text-sm text-muted-foreground\">\r\n                {introducerUserInfo.role} {introducerUserInfo.is_primary && '(Primary)'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          {isEditing ? (\r\n            <>\r\n              <Button variant=\"outline\" onClick={handleCancelEdit} disabled={isSaving}>\r\n                <X className=\"h-4 w-4 mr-2\" />\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={handleSave} disabled={isSaving}>\r\n                {isSaving ? (\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                ) : (\r\n                  <Save className=\"h-4 w-4 mr-2\" />\r\n                )}\r\n                Save Changes\r\n              </Button>\r\n            </>\r\n          ) : (\r\n            <Button variant=\"outline\" onClick={() => setIsEditing(true)}>\r\n              <Edit className=\"h-4 w-4 mr-2\" />\r\n              Edit Profile\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-lg\">\r\n                <UserPlus className=\"h-5 w-5 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Total Introductions</p>\r\n                <p className=\"text-2xl font-bold\">{introductionCount}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-100 rounded-lg\">\r\n                <DollarSign className=\"h-5 w-5 text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Commission Rate</p>\r\n                <p className=\"text-2xl font-bold\">\r\n                  {formatCommission(activeAgreement?.commission_bps || introducerInfo?.default_commission_bps)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n                <FileText className=\"h-5 w-5 text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">Agreement Status</p>\r\n                <div className=\"flex items-center gap-2\">\r\n                  {activeAgreement ? (\r\n                    <>\r\n                      <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\r\n                      <span className=\"text-sm font-medium text-green-600\">Active</span>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <AlertTriangle className=\"h-4 w-4 text-amber-600\" />\r\n                      <span className=\"text-sm font-medium text-amber-600\">No Active Agreement</span>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <Tabs defaultValue=\"profile\" className=\"space-y-4\" id=\"introducer-profile-tabs\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"profile\" className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-4 w-4\" />\r\n            Profile\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"agreement\" className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-4 w-4\" />\r\n            Agreement\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"members\" className=\"flex items-center gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            Members\r\n          </TabsTrigger>\r\n          {introducerInfo?.type === 'entity' && (\r\n            <TabsTrigger value=\"entity-members\" className=\"flex items-center gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Directors/UBOs\r\n            </TabsTrigger>\r\n          )}\r\n          <TabsTrigger value=\"kyc\" className=\"flex items-center gap-2\">\r\n            <Shield className=\"h-4 w-4\" />\r\n            KYC Documents\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\">\r\n            <Lock className=\"h-4 w-4\" />\r\n            Security\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"preferences\" className=\"flex items-center gap-2\">\r\n            <Settings className=\"h-4 w-4\" />\r\n            Preferences\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"signature\" className=\"flex items-center gap-2\">\r\n            <FileSignature className=\"h-4 w-4\" />\r\n            Signature\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"notices\" className=\"flex items-center gap-2\">\r\n            <Bell className=\"h-4 w-4\" />\r\n            Notices\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Profile Tab */}\r\n        <TabsContent value=\"profile\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Building2 className=\"h-5 w-5\" />\r\n                Introducer Information\r\n              </CardTitle>\r\n              <CardDescription>\r\n                Your introducer entity details\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Legal Name</p>\r\n                  <p className=\"text-sm font-medium\">{introducerInfo?.legal_name || '-'}</p>\r\n                </div>\r\n\r\n                <EditableField\r\n                  label=\"Contact Person\"\r\n                  value={introducerInfo?.contact_name}\r\n                  field=\"contact_name\"\r\n                  isEditing={isEditing}\r\n                  editValue={editData.contact_name}\r\n                  onEditChange={handleEditChange}\r\n                />\r\n\r\n                <EditableField\r\n                  label=\"Email\"\r\n                  value={introducerInfo?.email}\r\n                  field=\"email\"\r\n                  isEditing={isEditing}\r\n                  editValue={editData.email}\r\n                  onEditChange={handleEditChange}\r\n                  type=\"email\"\r\n                />\r\n\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Default Commission</p>\r\n                  <p className=\"text-sm font-medium\">\r\n                    {formatCommission(introducerInfo?.default_commission_bps)}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Payment Terms</p>\r\n                  <p className=\"text-sm font-medium\">{introducerInfo?.payment_terms || '-'}</p>\r\n                </div>\r\n\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Member Since</p>\r\n                  <p className=\"text-sm font-medium\">\r\n                    {introducerInfo?.created_at ? formatDate(introducerInfo.created_at) : '-'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"pt-4 border-t\">\r\n                <EditableField\r\n                  label=\"Notes\"\r\n                  value={introducerInfo?.notes}\r\n                  field=\"notes\"\r\n                  isEditing={isEditing}\r\n                  editValue={editData.notes}\r\n                  onEditChange={handleEditChange}\r\n                  type=\"textarea\"\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Address & Contact Card */}\r\n          <Card>\r\n            <CardHeader className=\"flex flex-row items-center justify-between\">\r\n              <div>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Globe className=\"h-5 w-5\" />\r\n                  Address & Contact\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  Registered address and contact information\r\n                </CardDescription>\r\n              </div>\r\n              <Button variant=\"outline\" size=\"sm\" onClick={() => setShowAddressDialog(true)}>\r\n                <Edit className=\"h-4 w-4 mr-2\" />\r\n                Edit\r\n              </Button>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Address</p>\r\n                  <p className=\"text-sm font-medium\">\r\n                    {[\r\n                      introducerInfo?.address_line_1,\r\n                      introducerInfo?.address_line_2,\r\n                      introducerInfo?.city,\r\n                      introducerInfo?.state_province,\r\n                      introducerInfo?.postal_code,\r\n                      introducerInfo?.country\r\n                    ].filter(Boolean).join(', ') || '-'}\r\n                  </p>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Phone</p>\r\n                  <p className=\"text-sm font-medium\">{introducerInfo?.phone || introducerInfo?.phone_mobile || '-'}</p>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Website</p>\r\n                  <p className=\"text-sm font-medium\">{introducerInfo?.website || '-'}</p>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Individual KYC Card (only for individual introducers) - Full Display */}\r\n          {introducerInfo?.type === 'individual' && (\r\n            <IndividualKycDisplay\r\n              data={{\r\n                first_name: introducerInfo?.first_name,\r\n                middle_name: introducerInfo?.middle_name,\r\n                last_name: introducerInfo?.last_name,\r\n                name_suffix: introducerInfo?.name_suffix,\r\n                date_of_birth: introducerInfo?.date_of_birth,\r\n                country_of_birth: introducerInfo?.country_of_birth,\r\n                nationality: introducerInfo?.nationality,\r\n                email: introducerInfo?.email,\r\n                phone_mobile: introducerInfo?.phone_mobile,\r\n                phone_office: introducerInfo?.phone_office,\r\n                residential_street: introducerInfo?.residential_street,\r\n                residential_city: introducerInfo?.residential_city,\r\n                residential_state: introducerInfo?.residential_state,\r\n                residential_postal_code: introducerInfo?.residential_postal_code,\r\n                residential_country: introducerInfo?.residential_country,\r\n                is_us_citizen: introducerInfo?.is_us_citizen,\r\n                is_us_taxpayer: introducerInfo?.is_us_taxpayer,\r\n                us_taxpayer_id: introducerInfo?.us_taxpayer_id,\r\n                country_of_tax_residency: introducerInfo?.country_of_tax_residency,\r\n                tax_id_number: introducerInfo?.tax_id,\r\n                id_type: introducerInfo?.id_type,\r\n                id_number: introducerInfo?.id_number,\r\n                id_issue_date: introducerInfo?.id_issue_date,\r\n                id_expiry_date: introducerInfo?.id_expiry_date,\r\n                id_issuing_country: introducerInfo?.id_issuing_country,\r\n              }}\r\n              onEdit={() => setShowKycDialog(true)}\r\n              title=\"Personal KYC Information\"\r\n            />\r\n          )}\r\n\r\n          {/* User Account Card */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Mail className=\"h-5 w-5\" />\r\n                Your Account\r\n              </CardTitle>\r\n              <CardDescription>\r\n                Your personal account linked to this introducer\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Name</p>\r\n                  <p className=\"text-sm font-medium\">{profile?.full_name || '-'}</p>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Email</p>\r\n                  <p className=\"text-sm font-medium\">{userEmail}</p>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Role</p>\r\n                  <p className=\"text-sm font-medium capitalize\">{introducerUserInfo.role}</p>\r\n                </div>\r\n                <div className=\"space-y-1\">\r\n                  <p className=\"text-xs text-muted-foreground\">Can Sign Documents</p>\r\n                  <p className=\"text-sm font-medium\">\r\n                    {introducerUserInfo.can_sign ? (\r\n                      <span className=\"flex items-center gap-1 text-green-600\">\r\n                        <CheckCircle2 className=\"h-4 w-4\" /> Yes\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"text-gray-500\">No</span>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Agreement Tab */}\r\n        <TabsContent value=\"agreement\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <FileText className=\"h-5 w-5\" />\r\n                Active Agreement\r\n              </CardTitle>\r\n              <CardDescription>\r\n                Your current fee agreement with the arranger\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {activeAgreement ? (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-xs text-muted-foreground\">Agreement Type</p>\r\n                    <p className=\"text-sm font-medium capitalize\">{activeAgreement.agreement_type}</p>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-xs text-muted-foreground\">Commission Rate</p>\r\n                    <p className=\"text-sm font-medium\">{formatCommission(activeAgreement.commission_bps)}</p>\r\n                  </div>\r\n                  <div className=\"space-y-1 flex items-start gap-2\">\r\n                    <Globe className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"text-xs text-muted-foreground\">Territory</p>\r\n                      <p className=\"text-sm font-medium\">{activeAgreement.territory}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1 flex items-start gap-2\">\r\n                    <Calendar className=\"h-4 w-4 text-muted-foreground mt-0.5\" />\r\n                    <div>\r\n                      <p className=\"text-xs text-muted-foreground\">Effective Date</p>\r\n                      <p className=\"text-sm font-medium\">\r\n                        {activeAgreement.effective_date ? formatDate(activeAgreement.effective_date) : '-'}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-xs text-muted-foreground\">Expiry Date</p>\r\n                    <p className=\"text-sm font-medium\">\r\n                      {activeAgreement.expiry_date ? formatDate(activeAgreement.expiry_date) : 'No expiry'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-xs text-muted-foreground\">Status</p>\r\n                    <Badge variant=\"outline\" className=\"bg-green-100 text-green-800 border-green-200\">\r\n                      {activeAgreement.status}\r\n                    </Badge>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-8\">\r\n                  <AlertTriangle className=\"h-12 w-12 text-amber-500 mx-auto mb-4\" />\r\n                  <h3 className=\"text-lg font-medium mb-2\">No Active Agreement</h3>\r\n                  <p className=\"text-muted-foreground mb-4\">\r\n                    You don&apos;t have an active fee agreement. Please contact the arranger to set one up.\r\n                  </p>\r\n                  <Button variant=\"outline\" asChild>\r\n                    <Link href=\"/versotech_main/introducer-agreements\">View All Agreements</Link>\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Members Tab */}\r\n        <TabsContent value=\"members\" className=\"space-y-4\">\r\n          {introducerInfo && (\r\n            <MembersManagementTab\r\n              entityType=\"introducer\"\r\n              entityId={introducerInfo.id}\r\n              entityName={introducerInfo.legal_name || 'Introducer'}\r\n              showSignatoryOption={true}\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Entity Members Tab (Directors/UBOs) - Only for entity-type introducers */}\r\n        {introducerInfo?.type === 'entity' && (\r\n          <TabsContent value=\"entity-members\" className=\"space-y-4\">\r\n            <GenericEntityMembersTab\r\n              entityType=\"introducer\"\r\n              entityId={introducerInfo.id}\r\n              entityName={introducerInfo.legal_name || introducerInfo.contact_name || 'Introducer'}\r\n              apiEndpoint=\"/api/introducers/me/members\"\r\n              canManage={introducerUserInfo.role === 'admin' || introducerUserInfo.is_primary}\r\n              title=\"Directors, UBOs & Signatories\"\r\n              description=\"Manage directors, beneficial owners (>25% ownership), and authorized signatories with full KYC information. Click on a member to edit their complete KYC profile.\"\r\n            />\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* KYC Documents Tab */}\r\n        <TabsContent value=\"kyc\" className=\"space-y-4\">\r\n          {introducerInfo && (\r\n            <IntroducerKYCDocumentsTab\r\n              introducerId={introducerInfo.id}\r\n              introducerName={introducerInfo.legal_name || undefined}\r\n              kycStatus={introducerInfo.kyc_status || undefined}\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Security Tab */}\r\n        <TabsContent value=\"security\" className=\"space-y-4\">\r\n          <PasswordChangeForm />\r\n        </TabsContent>\r\n\r\n        {/* Preferences Tab */}\r\n        <TabsContent value=\"preferences\" className=\"space-y-4\">\r\n          <PreferencesEditor />\r\n          <GDPRControls />\r\n        </TabsContent>\r\n\r\n        {/* Signature Tab */}\r\n        <TabsContent value=\"signature\" className=\"space-y-6\">\r\n          {!introducerUserInfo.can_sign ? (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <FileSignature className=\"h-5 w-5\" />\r\n                  Signature Specimen\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  You do not have signing permissions for this introducer\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"border border-dashed border-muted rounded-lg py-8 px-4 text-center\">\r\n                  <AlertCircle className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Signing permissions are required to upload a signature specimen.\r\n                    Contact your introducer administrator for access.\r\n                  </p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ) : (\r\n            <SignatureSpecimenTab\r\n              entityType=\"introducer\"\r\n              entityId={introducerInfo?.id}\r\n            />\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* Notices Tab */}\r\n        <TabsContent value=\"notices\" className=\"space-y-4\">\r\n          <NoticeContactsTab apiEndpoint=\"/api/introducers/me/notice-contacts\" />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* KYC Edit Dialogs */}\r\n      {introducerInfo?.type === 'individual' && (\r\n        <EntityKYCEditDialog\r\n          open={showKycDialog}\r\n          onOpenChange={setShowKycDialog}\r\n          entityType=\"introducer\"\r\n          entityId={introducerInfo?.id || ''}\r\n          entityName={introducerInfo?.legal_name || introducerInfo?.contact_name || undefined}\r\n          initialData={{\r\n            first_name: introducerInfo?.first_name ?? undefined,\r\n            middle_name: introducerInfo?.middle_name ?? undefined,\r\n            last_name: introducerInfo?.last_name ?? undefined,\r\n            name_suffix: introducerInfo?.name_suffix ?? undefined,\r\n            date_of_birth: introducerInfo?.date_of_birth ?? undefined,\r\n            nationality: introducerInfo?.nationality ?? undefined,\r\n            country_of_birth: introducerInfo?.country_of_birth ?? undefined,\r\n            is_us_citizen: introducerInfo?.is_us_citizen === true,\r\n            is_us_taxpayer: introducerInfo?.is_us_taxpayer === true,\r\n            us_taxpayer_id: introducerInfo?.us_taxpayer_id ?? undefined,\r\n            country_of_tax_residency: introducerInfo?.country_of_tax_residency ?? undefined,\r\n            id_type: introducerInfo?.id_type as 'passport' | 'national_id' | 'drivers_license' | 'residence_permit' | undefined,\r\n            id_number: introducerInfo?.id_number ?? undefined,\r\n            id_issue_date: introducerInfo?.id_issue_date ?? undefined,\r\n            id_expiry_date: introducerInfo?.id_expiry_date ?? undefined,\r\n            id_issuing_country: introducerInfo?.id_issuing_country ?? undefined,\r\n            residential_street: introducerInfo?.residential_street ?? undefined,\r\n            residential_city: introducerInfo?.residential_city ?? undefined,\r\n            residential_state: introducerInfo?.residential_state ?? undefined,\r\n            residential_postal_code: introducerInfo?.residential_postal_code ?? undefined,\r\n            residential_country: introducerInfo?.residential_country ?? undefined,\r\n          }}\r\n          apiEndpoint=\"/api/introducers/me/profile\"\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n\r\n      <EntityAddressEditDialog\r\n        open={showAddressDialog}\r\n        onOpenChange={setShowAddressDialog}\r\n        entityType=\"introducer\"\r\n        entityName={introducerInfo?.legal_name || introducerInfo?.contact_name || undefined}\r\n        initialData={{\r\n          address_line_1: introducerInfo?.address_line_1 ?? undefined,\r\n          address_line_2: introducerInfo?.address_line_2 ?? undefined,\r\n          city: introducerInfo?.city ?? undefined,\r\n          state_province: introducerInfo?.state_province ?? undefined,\r\n          postal_code: introducerInfo?.postal_code ?? undefined,\r\n          country: introducerInfo?.country ?? undefined,\r\n          email: introducerInfo?.email ?? undefined,\r\n          phone: introducerInfo?.phone ?? undefined,\r\n          phone_mobile: introducerInfo?.phone_mobile ?? undefined,\r\n          phone_office: introducerInfo?.phone_office ?? undefined,\r\n          website: introducerInfo?.website ?? undefined,\r\n        }}\r\n        apiEndpoint=\"/api/introducers/me/profile\"\r\n        onSuccess={() => window.location.reload()}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}