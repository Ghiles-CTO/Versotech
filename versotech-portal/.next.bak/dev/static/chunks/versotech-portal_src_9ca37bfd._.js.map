{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/components/growth-overview-skeleton.tsx"],"sourcesContent":["import { Skeleton } from '@/components/ui/skeleton'\r\nimport { Card, CardContent, CardHeader } from '@/components/ui/card'\r\n\r\nexport function GrowthOverviewSkeleton() {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* KPI Cards Skeleton */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        {Array.from({ length: 5 }).map((_, i) => (\r\n          <Card key={i}>\r\n            <CardHeader className=\"pb-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Skeleton className=\"h-4 w-4\" />\r\n                <Skeleton className=\"h-4 w-20\" />\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <Skeleton className=\"h-8 w-16 mb-2\" />\r\n              <Skeleton className=\"h-3 w-24\" />\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Charts Grid Skeleton */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Line Chart Skeleton */}\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <Skeleton className=\"h-5 w-40\" />\r\n            <Skeleton className=\"h-3 w-60 mt-1\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <Skeleton className=\"h-[250px] w-full\" />\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Pie Chart Skeleton */}\r\n        <Card>\r\n          <CardHeader className=\"pb-2\">\r\n            <Skeleton className=\"h-5 w-32\" />\r\n            <Skeleton className=\"h-3 w-48 mt-1\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"flex items-center gap-6\">\r\n              <Skeleton className=\"h-[180px] w-[180px] rounded-full\" />\r\n              <div className=\"flex-1 space-y-3\">\r\n                {Array.from({ length: 4 }).map((_, i) => (\r\n                  <div key={i} className=\"flex items-center gap-2\">\r\n                    <Skeleton className=\"h-3 w-3\" />\r\n                    <Skeleton className=\"h-4 w-24\" />\r\n                    <Skeleton className=\"h-4 w-12 ml-auto\" />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Bar Chart Skeleton */}\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <Skeleton className=\"h-5 w-36\" />\r\n          <Skeleton className=\"h-3 w-56 mt-1\" />\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {Array.from({ length: 8 }).map((_, i) => (\r\n              <div key={i} className=\"flex items-center gap-3\">\r\n                <Skeleton className=\"h-4 w-32\" />\r\n                <Skeleton className=\"h-6 flex-1\" style={{ width: `${100 - i * 10}%` }} />\r\n                <Skeleton className=\"h-4 w-12\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,oNAAC,kKAAI;;0CACH,oNAAC,wKAAU;gCAAC,WAAU;0CACpB,cAAA,oNAAC;oCAAI,WAAU;;sDACb,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGxB,oNAAC,yKAAW;;kDACV,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;;uBATb;;;;;;;;;;0BAgBf,oNAAC;gBAAI,WAAU;;kCAEb,oNAAC,kKAAI;;0CACH,oNAAC,wKAAU;gCAAC,WAAU;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,yKAAW;0CACV,cAAA,oNAAC,0KAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKxB,oNAAC,kKAAI;;0CACH,oNAAC,wKAAU;gCAAC,WAAU;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,yKAAW;0CACV,cAAA,oNAAC;oCAAI,WAAU;;sDACb,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC;4CAAI,WAAU;sDACZ,MAAM,IAAI,CAAC;gDAAE,QAAQ;4CAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,oNAAC;oDAAY,WAAU;;sEACrB,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;sEACpB,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;sEACpB,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;;mDAHZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAatB,oNAAC,kKAAI;;kCACH,oNAAC,wKAAU;wBAAC,WAAU;;0CACpB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;0CACpB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,oNAAC,yKAAW;kCACV,cAAA,oNAAC;4BAAI,WAAU;sCACZ,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,oNAAC;oCAAY,WAAU;;sDACrB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;4CAAa,OAAO;gDAAE,OAAO,GAAG,MAAM,IAAI,GAAG,CAAC,CAAC;4CAAC;;;;;;sDACpE,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;;mCAHZ;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWxB;KA7EgB"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/components/growth-kpi-cards.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport { Users, UserCheck, UsersRound, Activity, Clock } from 'lucide-react'\r\nimport type { LucideIcon } from 'lucide-react'\r\n\r\ninterface GrowthMetrics {\r\n  dau: number\r\n  wau: number\r\n  mau: number\r\n  stickiness: number\r\n  avgSessionDuration: number\r\n}\r\n\r\ninterface GrowthKPICardsProps {\r\n  days: string\r\n}\r\n\r\ninterface KPIConfig {\r\n  key: keyof GrowthMetrics\r\n  label: string\r\n  icon: LucideIcon\r\n  format: (value: number) => string\r\n  description: string\r\n}\r\n\r\nconst KPI_CONFIGS: KPIConfig[] = [\r\n  {\r\n    key: 'dau',\r\n    label: 'Daily Active Users',\r\n    icon: Users,\r\n    format: (v) => v.toLocaleString(),\r\n    description: 'Unique users active today',\r\n  },\r\n  {\r\n    key: 'wau',\r\n    label: 'Weekly Active Users',\r\n    icon: UserCheck,\r\n    format: (v) => v.toLocaleString(),\r\n    description: 'Unique users in last 7 days',\r\n  },\r\n  {\r\n    key: 'mau',\r\n    label: 'Monthly Active Users',\r\n    icon: UsersRound,\r\n    format: (v) => v.toLocaleString(),\r\n    description: 'Unique users in last 30 days',\r\n  },\r\n  {\r\n    key: 'stickiness',\r\n    label: 'Stickiness',\r\n    icon: Activity,\r\n    format: (v) => `${v.toFixed(1)}%`,\r\n    description: 'DAU/MAU ratio',\r\n  },\r\n  {\r\n    key: 'avgSessionDuration',\r\n    label: 'Avg Session',\r\n    icon: Clock,\r\n    format: (v) => `${v} min`,\r\n    description: 'Average session duration',\r\n  },\r\n]\r\n\r\nfunction KPICardSkeleton() {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Skeleton className=\"h-4 w-4\" />\r\n          <Skeleton className=\"h-4 w-24\" />\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <Skeleton className=\"h-8 w-16 mb-2\" />\r\n        <Skeleton className=\"h-3 w-28\" />\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport function GrowthKPICards({ days }: GrowthKPICardsProps) {\r\n  const [metrics, setMetrics] = useState<GrowthMetrics | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    async function fetchMetrics() {\r\n      setLoading(true)\r\n      setError(null)\r\n      try {\r\n        const response = await fetch(`/api/admin/growth/overview?days=${days}`)\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch growth metrics')\r\n        }\r\n        const result = await response.json()\r\n        if (result.success && result.data) {\r\n          setMetrics(result.data)\r\n        } else {\r\n          throw new Error(result.error || 'No data available')\r\n        }\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to load metrics')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchMetrics()\r\n  }, [days])\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        {Array.from({ length: 5 }).map((_, i) => (\r\n          <KPICardSkeleton key={i} />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error || !metrics) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        {KPI_CONFIGS.map((config) => (\r\n          <Card key={config.key}>\r\n            <CardHeader className=\"pb-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <config.icon className=\"h-4 w-4 text-muted-foreground\" />\r\n                <CardTitle className=\"text-sm font-medium\">{config.label}</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-destructive text-sm\">Error loading data</p>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n      {KPI_CONFIGS.map((config) => {\r\n        const value = metrics[config.key]\r\n        return (\r\n          <Card key={config.key}>\r\n            <CardHeader className=\"pb-2\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <config.icon className=\"h-4 w-4 text-primary\" />\r\n                <CardTitle className=\"text-sm font-medium\">{config.label}</CardTitle>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <p className=\"text-2xl font-bold\">{config.format(value)}</p>\r\n              <p className=\"text-xs text-muted-foreground mt-1\">{config.description}</p>\r\n            </CardContent>\r\n          </Card>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/components/active-users-trend-chart.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport { TrendingUp } from 'lucide-react'\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  CartesianGrid,\r\n} from 'recharts'\r\n\r\ninterface TrendDataPoint {\r\n  date: string\r\n  count: number\r\n}\r\n\r\ninterface ActiveUsersTrendChartProps {\r\n  days: string\r\n}\r\n\r\ninterface TooltipPayload {\r\n  payload: TrendDataPoint & { label: string }\r\n  value: number\r\n}\r\n\r\nfunction ChartSkeleton() {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Skeleton className=\"h-4 w-4\" />\r\n          <Skeleton className=\"h-5 w-40\" />\r\n        </div>\r\n        <Skeleton className=\"h-3 w-60 mt-1\" />\r\n      </CardHeader>\r\n      <CardContent>\r\n        <Skeleton className=\"h-[250px] w-full\" />\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction CustomTooltip({\r\n  active,\r\n  payload,\r\n}: {\r\n  active?: boolean\r\n  payload?: TooltipPayload[]\r\n}) {\r\n  if (active && payload && payload.length > 0) {\r\n    const data = payload[0].payload\r\n    const formattedDate = new Date(data.date).toLocaleDateString('en-US', {\r\n      weekday: 'short',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n    })\r\n    return (\r\n      <div className=\"bg-popover border border-border rounded-lg p-3 shadow-lg\">\r\n        <p className=\"text-sm font-medium text-foreground\">{formattedDate}</p>\r\n        <p className=\"text-sm text-muted-foreground mt-1\">\r\n          <span className=\"font-medium text-primary\">\r\n            {data.count.toLocaleString()}\r\n          </span>{' '}\r\n          active users\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nexport function ActiveUsersTrendChart({ days }: ActiveUsersTrendChartProps) {\r\n  const [data, setData] = useState<TrendDataPoint[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    async function fetchTrendData() {\r\n      setLoading(true)\r\n      setError(null)\r\n      try {\r\n        const response = await fetch(`/api/admin/growth/overview?days=${days}`)\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch trend data')\r\n        }\r\n        const result = await response.json()\r\n        if (result.success && result.data?.activeUsersTrend) {\r\n          // Add label for x-axis display (short date format)\r\n          const trendData = result.data.activeUsersTrend.map(\r\n            (point: TrendDataPoint) => ({\r\n              ...point,\r\n              label: new Date(point.date).toLocaleDateString('en-US', {\r\n                month: 'short',\r\n                day: 'numeric',\r\n              }),\r\n            })\r\n          )\r\n          setData(trendData)\r\n        } else {\r\n          throw new Error(result.error || 'No trend data available')\r\n        }\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'Failed to load trend data')\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchTrendData()\r\n  }, [days])\r\n\r\n  if (loading) {\r\n    return <ChartSkeleton />\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">Active Users Trend</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[250px]\">\r\n          <p className=\"text-sm text-destructive\">{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">Active Users Trend</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[250px]\">\r\n          <p className=\"text-sm text-muted-foreground\">No trend data available</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  // Calculate max value for Y-axis with headroom\r\n  const maxCount = Math.max(...data.map((d) => d.count), 1)\r\n  const yAxisMax = Math.ceil(maxCount * 1.1)\r\n\r\n  // Determine tick interval based on data length\r\n  const tickInterval = days === '7' ? 0 : days === '30' ? 4 : 10\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <TrendingUp className=\"h-4 w-4 text-primary\" />\r\n          <CardTitle className=\"text-sm font-medium\">Active Users Trend</CardTitle>\r\n        </div>\r\n        <p className=\"text-xs text-muted-foreground mt-1\">\r\n          Daily unique active users over the last {days} days\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ResponsiveContainer width=\"100%\" height={250}>\r\n          <LineChart data={data} margin={{ top: 5, right: 10, left: 10, bottom: 5 }}>\r\n            <CartesianGrid\r\n              strokeDasharray=\"3 3\"\r\n              className=\"stroke-border/50\"\r\n              vertical={false}\r\n            />\r\n            <XAxis\r\n              dataKey=\"label\"\r\n              stroke=\"currentColor\"\r\n              className=\"text-muted-foreground\"\r\n              fontSize={11}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              interval={tickInterval}\r\n              dy={8}\r\n            />\r\n            <YAxis\r\n              stroke=\"currentColor\"\r\n              className=\"text-muted-foreground\"\r\n              fontSize={11}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              domain={[0, yAxisMax]}\r\n              tickFormatter={(value) => value.toLocaleString()}\r\n              width={40}\r\n            />\r\n            <Tooltip content={<CustomTooltip />} />\r\n            <Line\r\n              type=\"monotone\"\r\n              dataKey=\"count\"\r\n              stroke=\"hsl(var(--primary))\"\r\n              strokeWidth={2}\r\n              dot={false}\r\n              activeDot={{\r\n                r: 5,\r\n                fill: 'hsl(var(--primary))',\r\n                stroke: 'hsl(var(--background))',\r\n                strokeWidth: 2,\r\n              }}\r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1260, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/components/feature-usage-chart.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport { BarChart3 } from 'lucide-react'\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  CartesianGrid,\r\n  Cell,\r\n} from 'recharts'\r\n\r\ninterface FeatureUsageData {\r\n  feature: string\r\n  count: number\r\n}\r\n\r\ninterface FeatureUsageChartProps {\r\n  days: string\r\n}\r\n\r\n// Color palette for bars - gradient from primary to lighter shades\r\nconst BAR_COLORS = [\r\n  'hsl(var(--primary))',\r\n  'hsl(var(--primary) / 0.9)',\r\n  'hsl(var(--primary) / 0.8)',\r\n  'hsl(var(--primary) / 0.7)',\r\n  'hsl(var(--primary) / 0.65)',\r\n  'hsl(var(--primary) / 0.6)',\r\n  'hsl(var(--primary) / 0.55)',\r\n  'hsl(var(--primary) / 0.5)',\r\n  'hsl(var(--primary) / 0.45)',\r\n  'hsl(var(--primary) / 0.4)',\r\n]\r\n\r\ninterface TooltipPayload {\r\n  payload: FeatureUsageData\r\n  value: number\r\n}\r\n\r\nfunction ChartSkeleton() {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Skeleton className=\"h-4 w-4\" />\r\n          <Skeleton className=\"h-5 w-36\" />\r\n        </div>\r\n        <Skeleton className=\"h-3 w-56 mt-1\" />\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"space-y-3\">\r\n          {Array.from({ length: 8 }).map((_, i) => (\r\n            <div key={i} className=\"flex items-center gap-3\">\r\n              <Skeleton className=\"h-4 w-32\" />\r\n              <Skeleton\r\n                className=\"h-6 flex-1\"\r\n                style={{ width: `${100 - i * 10}%` }}\r\n              />\r\n              <Skeleton className=\"h-4 w-12\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nfunction CustomTooltip({\r\n  active,\r\n  payload,\r\n}: {\r\n  active?: boolean\r\n  payload?: TooltipPayload[]\r\n}) {\r\n  if (active && payload && payload.length > 0) {\r\n    const data = payload[0].payload\r\n    return (\r\n      <div className=\"bg-popover border border-border rounded-lg p-3 shadow-lg\">\r\n        <p className=\"text-sm font-medium text-foreground\">{data.feature}</p>\r\n        <p className=\"text-sm text-muted-foreground mt-1\">\r\n          <span className=\"font-medium text-primary\">\r\n            {data.count.toLocaleString()}\r\n          </span>{' '}\r\n          uses\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nexport function FeatureUsageChart({ days }: FeatureUsageChartProps) {\r\n  const [data, setData] = useState<FeatureUsageData[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  useEffect(() => {\r\n    async function fetchFeatureData() {\r\n      setLoading(true)\r\n      setError(null)\r\n      try {\r\n        const response = await fetch(`/api/admin/growth/overview?days=${days}`)\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch feature usage data')\r\n        }\r\n        const result = await response.json()\r\n        if (result.success && result.data?.featureUsage) {\r\n          setData(result.data.featureUsage)\r\n        } else {\r\n          throw new Error(result.error || 'No feature usage data available')\r\n        }\r\n      } catch (err) {\r\n        setError(\r\n          err instanceof Error ? err.message : 'Failed to load feature usage data'\r\n        )\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchFeatureData()\r\n  }, [days])\r\n\r\n  if (loading) {\r\n    return <ChartSkeleton />\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <BarChart3 className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">Feature Usage</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[300px]\">\r\n          <p className=\"text-sm text-destructive\">{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <BarChart3 className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">Feature Usage</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[300px]\">\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            No feature usage data available\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  // Calculate chart height based on data length (minimum 300px)\r\n  const chartHeight = Math.max(data.length * 40 + 40, 300)\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <BarChart3 className=\"h-4 w-4 text-primary\" />\r\n          <CardTitle className=\"text-sm font-medium\">Feature Usage</CardTitle>\r\n        </div>\r\n        <p className=\"text-xs text-muted-foreground mt-1\">\r\n          Top platform actions over the last {days} days\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ResponsiveContainer width=\"100%\" height={chartHeight}>\r\n          <BarChart\r\n            data={data}\r\n            layout=\"vertical\"\r\n            margin={{ top: 5, right: 30, left: 20, bottom: 5 }}\r\n          >\r\n            <CartesianGrid\r\n              strokeDasharray=\"3 3\"\r\n              className=\"stroke-border/50\"\r\n              horizontal={false}\r\n            />\r\n            <XAxis\r\n              type=\"number\"\r\n              stroke=\"currentColor\"\r\n              className=\"text-muted-foreground\"\r\n              fontSize={11}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              tickFormatter={(value) => value.toLocaleString()}\r\n            />\r\n            <YAxis\r\n              type=\"category\"\r\n              dataKey=\"feature\"\r\n              stroke=\"currentColor\"\r\n              className=\"text-muted-foreground\"\r\n              fontSize={11}\r\n              tickLine={false}\r\n              axisLine={false}\r\n              width={120}\r\n            />\r\n            <Tooltip content={<CustomTooltip />} cursor={{ fill: 'hsl(var(--muted))' }} />\r\n            <Bar dataKey=\"count\" radius={[0, 4, 4, 0]}>\r\n              {data.map((_, index) => (\r\n                <Cell\r\n                  key={`cell-${index}`}\r\n                  fill={BAR_COLORS[index % BAR_COLORS.length]}\r\n                />\r\n              ))}\r\n            </Bar>\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1759, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/components/user-segments-chart.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useMemo } from 'react'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Skeleton } from '@/components/ui/skeleton'\r\nimport { PieChart as PieChartIcon } from 'lucide-react'\r\n\r\ninterface UserSegment {\r\n  segment: string\r\n  count: number\r\n}\r\n\r\ninterface UserSegmentsChartProps {\r\n  days: string\r\n}\r\n\r\n// Color palette for segments - semantically meaningful colors\r\nconst SEGMENT_COLORS: Record<string, string> = {\r\n  'Power Users': '#059669', // Emerald - high engagement\r\n  'Regular': '#3b82f6', // Blue - steady engagement\r\n  'Occasional': '#f59e0b', // Amber - moderate engagement\r\n  'At Risk': '#ef4444', // Red - at risk of churning\r\n}\r\n\r\nconst DEFAULT_COLORS = ['#1e3a5f', '#0d9488', '#6366f1', '#d97706']\r\n\r\nfunction ChartSkeleton() {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Skeleton className=\"h-4 w-4\" />\r\n          <Skeleton className=\"h-5 w-32\" />\r\n        </div>\r\n        <Skeleton className=\"h-3 w-48 mt-1\" />\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"flex items-center gap-6\">\r\n          <Skeleton className=\"h-[180px] w-[180px] rounded-full\" />\r\n          <div className=\"flex-1 space-y-3\">\r\n            {Array.from({ length: 4 }).map((_, i) => (\r\n              <div key={i} className=\"flex items-center gap-2\">\r\n                <Skeleton className=\"h-3 w-3\" />\r\n                <Skeleton className=\"h-4 w-24\" />\r\n                <Skeleton className=\"h-4 w-12 ml-auto\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport function UserSegmentsChart({ days }: UserSegmentsChartProps) {\r\n  const [data, setData] = useState<UserSegment[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null)\r\n\r\n  useEffect(() => {\r\n    async function fetchSegmentData() {\r\n      setLoading(true)\r\n      setError(null)\r\n      try {\r\n        const response = await fetch(`/api/admin/growth/overview?days=${days}`)\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch segment data')\r\n        }\r\n        const result = await response.json()\r\n        if (result.success && result.data?.userSegments) {\r\n          setData(result.data.userSegments)\r\n        } else {\r\n          throw new Error(result.error || 'No segment data available')\r\n        }\r\n      } catch (err) {\r\n        setError(\r\n          err instanceof Error ? err.message : 'Failed to load segment data'\r\n        )\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchSegmentData()\r\n  }, [days])\r\n\r\n  // Calculate total and percentages\r\n  const { total, chartData } = useMemo(() => {\r\n    const totalCount = data.reduce((sum, item) => sum + item.count, 0)\r\n    let cumulativePercentage = 0\r\n\r\n    const computed = data.map((item, index) => {\r\n      const percentage = totalCount > 0 ? (item.count / totalCount) * 100 : 0\r\n      const startAngle = cumulativePercentage\r\n      cumulativePercentage += percentage\r\n      const color =\r\n        SEGMENT_COLORS[item.segment] || DEFAULT_COLORS[index % DEFAULT_COLORS.length]\r\n\r\n      return {\r\n        ...item,\r\n        percentage,\r\n        startAngle,\r\n        endAngle: cumulativePercentage,\r\n        color,\r\n      }\r\n    })\r\n\r\n    return { total: totalCount, chartData: computed }\r\n  }, [data])\r\n\r\n  if (loading) {\r\n    return <ChartSkeleton />\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <PieChartIcon className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">User Segments</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[250px]\">\r\n          <p className=\"text-sm text-destructive\">{error}</p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  if (!data || data.length === 0 || total === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"pb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <PieChartIcon className=\"h-4 w-4 text-primary\" />\r\n            <CardTitle className=\"text-sm font-medium\">User Segments</CardTitle>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-[250px]\">\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            No user segment data available\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n    )\r\n  }\r\n\r\n  // SVG donut chart dimensions\r\n  const size = 180\r\n  const strokeWidth = 32\r\n  const radius = (size - strokeWidth) / 2\r\n  const circumference = 2 * Math.PI * radius\r\n  const centerX = size / 2\r\n  const centerY = size / 2\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-2\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <PieChartIcon className=\"h-4 w-4 text-primary\" />\r\n          <CardTitle className=\"text-sm font-medium\">User Segments</CardTitle>\r\n        </div>\r\n        <p className=\"text-xs text-muted-foreground mt-1\">\r\n          Users grouped by engagement level ({days} day period)\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"flex flex-col lg:flex-row items-center gap-6\">\r\n          {/* Donut Chart */}\r\n          <div className=\"relative flex-shrink-0\">\r\n            <svg width={size} height={size} className=\"transform -rotate-90\">\r\n              {/* Background circle */}\r\n              <circle\r\n                cx={centerX}\r\n                cy={centerY}\r\n                r={radius}\r\n                fill=\"none\"\r\n                stroke=\"hsl(var(--muted))\"\r\n                strokeWidth={strokeWidth}\r\n              />\r\n              {/* Data segments */}\r\n              {chartData.map((item, index) => {\r\n                const segmentLength = (item.percentage / 100) * circumference\r\n                const offset =\r\n                  (chartData\r\n                    .slice(0, index)\r\n                    .reduce((acc, d) => acc + d.percentage, 0) /\r\n                    100) *\r\n                  circumference\r\n                const isHovered = hoveredIndex === index\r\n\r\n                return (\r\n                  <circle\r\n                    key={`${item.segment}-${index}`}\r\n                    cx={centerX}\r\n                    cy={centerY}\r\n                    r={radius}\r\n                    fill=\"none\"\r\n                    stroke={item.color}\r\n                    strokeWidth={isHovered ? strokeWidth + 4 : strokeWidth}\r\n                    strokeDasharray={`${segmentLength} ${circumference - segmentLength}`}\r\n                    strokeDashoffset={-offset}\r\n                    className=\"transition-all duration-200 cursor-pointer\"\r\n                    style={{\r\n                      filter: isHovered ? 'brightness(1.1)' : 'none',\r\n                    }}\r\n                    onMouseEnter={() => setHoveredIndex(index)}\r\n                    onMouseLeave={() => setHoveredIndex(null)}\r\n                  />\r\n                )\r\n              })}\r\n            </svg>\r\n            {/* Center text */}\r\n            <div className=\"absolute inset-0 flex items-center justify-center\">\r\n              <div className=\"text-center\">\r\n                {hoveredIndex !== null ? (\r\n                  <>\r\n                    <p className=\"text-lg font-bold\">\r\n                      {chartData[hoveredIndex]?.percentage.toFixed(1)}%\r\n                    </p>\r\n                    <p className=\"text-xs text-muted-foreground truncate max-w-[80px]\">\r\n                      {chartData[hoveredIndex]?.segment}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <p className=\"text-lg font-bold\">{total.toLocaleString()}</p>\r\n                    <p className=\"text-xs text-muted-foreground\">Total Users</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Legend */}\r\n          <div className=\"flex-1 w-full space-y-2\">\r\n            {chartData.map((item, index) => (\r\n              <div\r\n                key={`legend-${item.segment}-${index}`}\r\n                className={`flex items-center justify-between py-1.5 px-2 rounded-md transition-colors cursor-pointer ${\r\n                  hoveredIndex === index ? 'bg-muted/50' : 'hover:bg-muted/30'\r\n                }`}\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                onMouseLeave={() => setHoveredIndex(null)}\r\n              >\r\n                <div className=\"flex items-center gap-2 min-w-0\">\r\n                  <div\r\n                    className=\"w-3 h-3 rounded-sm flex-shrink-0\"\r\n                    style={{ backgroundColor: item.color }}\r\n                  />\r\n                  <span className=\"text-sm\">{item.segment}</span>\r\n                </div>\r\n                <div className=\"flex items-center gap-3 flex-shrink-0 ml-2\">\r\n                  <span className=\"text-sm font-medium\">\r\n                    {item.count.toLocaleString()}\r\n                  </span>\r\n                  <span\r\n                    className=\"text-xs px-1.5 py-0.5 rounded font-medium min-w-[45px] text-center\"\r\n                    style={{\r\n                      backgroundColor: `${item.color}15`,\r\n                      color: item.color,\r\n                    }}\r\n                  >\r\n                    {item.percentage.toFixed(1)}%\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2359, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Suspense } from 'react'\r\nimport { useSearchParams, useRouter, usePathname } from 'next/navigation'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { GrowthOverviewSkeleton } from './components/growth-overview-skeleton'\r\nimport { GrowthKPICards } from './components/growth-kpi-cards'\r\nimport { ActiveUsersTrendChart } from './components/active-users-trend-chart'\r\nimport { FeatureUsageChart } from './components/feature-usage-chart'\r\nimport { UserSegmentsChart } from './components/user-segments-chart'\r\n\r\ntype DateRange = '7' | '30' | '90'\r\n\r\nconst DATE_RANGE_OPTIONS: { value: DateRange; label: string }[] = [\r\n  { value: '7', label: 'Last 7 days' },\r\n  { value: '30', label: 'Last 30 days' },\r\n  { value: '90', label: 'Last 90 days' },\r\n]\r\n\r\nfunction DateRangeSelector() {\r\n  const searchParams = useSearchParams()\r\n  const router = useRouter()\r\n  const pathname = usePathname()\r\n\r\n  const currentRange = (searchParams.get('days') as DateRange) || '30'\r\n\r\n  const handleRangeChange = (value: DateRange) => {\r\n    const params = new URLSearchParams(searchParams.toString())\r\n    params.set('days', value)\r\n    router.push(`${pathname}?${params.toString()}`)\r\n  }\r\n\r\n  return (\r\n    <Select value={currentRange} onValueChange={handleRangeChange}>\r\n      <SelectTrigger className=\"w-[160px]\">\r\n        <SelectValue placeholder=\"Select range\" />\r\n      </SelectTrigger>\r\n      <SelectContent>\r\n        {DATE_RANGE_OPTIONS.map((option) => (\r\n          <SelectItem key={option.value} value={option.value}>\r\n            {option.label}\r\n          </SelectItem>\r\n        ))}\r\n      </SelectContent>\r\n    </Select>\r\n  )\r\n}\r\n\r\nfunction GrowthOverviewContent() {\r\n  const searchParams = useSearchParams()\r\n  const days = searchParams.get('days') || '30'\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* KPI Cards - DAU, WAU, MAU, Stickiness, Avg Session Duration */}\r\n      <GrowthKPICards days={days} />\r\n\r\n      {/* Charts Grid */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Active Users Trend - Line chart */}\r\n        <ActiveUsersTrendChart days={days} />\r\n\r\n        {/* User Segments - Pie/Donut chart */}\r\n        <UserSegmentsChart days={days} />\r\n      </div>\r\n\r\n      {/* Feature Usage - Full width horizontal bar chart */}\r\n      <FeatureUsageChart days={days} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function GrowthOverviewPage() {\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header with title and date range selector */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">Growth Overview</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Monitor user engagement, retention, and platform growth\r\n          </p>\r\n        </div>\r\n        <Suspense fallback={<div className=\"h-10 w-[160px] rounded-md bg-muted animate-pulse\" />}>\r\n          <DateRangeSelector />\r\n        </Suspense>\r\n      </div>\r\n\r\n      {/* Main content with Suspense */}\r\n      <Suspense fallback={<GrowthOverviewSkeleton />}>\r\n        <GrowthOverviewContent />\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;AAmBA,MAAM,qBAA4D;IAChE;QAAE,OAAO;QAAK,OAAO;IAAc;IACnC;QAAE,OAAO;QAAM,OAAO;IAAe;IACrC;QAAE,OAAO;QAAM,OAAO;IAAe;CACtC;AAED,SAAS;;IACP,MAAM,eAAe,IAAA,+KAAe;IACpC,MAAM,SAAS,IAAA,yKAAS;IACxB,MAAM,WAAW,IAAA,2KAAW;IAE5B,MAAM,eAAe,AAAC,aAAa,GAAG,CAAC,WAAyB;IAEhE,MAAM,oBAAoB,CAAC;QACzB,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,QAAQ;QACnB,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAChD;IAEA,qBACE,oNAAC,sKAAM;QAAC,OAAO;QAAc,eAAe;;0BAC1C,oNAAC,6KAAa;gBAAC,WAAU;0BACvB,cAAA,oNAAC,2KAAW;oBAAC,aAAY;;;;;;;;;;;0BAE3B,oNAAC,6KAAa;0BACX,mBAAmB,GAAG,CAAC,CAAC,uBACvB,oNAAC,0KAAU;wBAAoB,OAAO,OAAO,KAAK;kCAC/C,OAAO,KAAK;uBADE,OAAO,KAAK;;;;;;;;;;;;;;;;AAOvC;GA3BS;;QACc,+KAAe;QACrB,yKAAS;QACP,2KAAW;;;KAHrB;AA6BT,SAAS;;IACP,MAAM,eAAe,IAAA,+KAAe;IACpC,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;IAEzC,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC,yOAAc;gBAAC,MAAM;;;;;;0BAGtB,oNAAC;gBAAI,WAAU;;kCAEb,oNAAC,2PAAqB;wBAAC,MAAM;;;;;;kCAG7B,oNAAC,+OAAiB;wBAAC,MAAM;;;;;;;;;;;;0BAI3B,oNAAC,+OAAiB;gBAAC,MAAM;;;;;;;;;;;;AAG/B;IAtBS;;QACc,+KAAe;;;MAD7B;AAwBM,SAAS;IACtB,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;gBAAI,WAAU;;kCACb,oNAAC;;0CACC,oNAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,oNAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,oNAAC,gMAAQ;wBAAC,wBAAU,oNAAC;4BAAI,WAAU;;;;;;kCACjC,cAAA,oNAAC;;;;;;;;;;;;;;;;0BAKL,oNAAC,gMAAQ;gBAAC,wBAAU,oNAAC,yPAAsB;;;;;0BACzC,cAAA,oNAAC;;;;;;;;;;;;;;;;AAIT;MAtBwB"}}]
}