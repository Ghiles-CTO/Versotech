{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/cohorts/components/cohorts-skeleton.tsx"],"sourcesContent":["'use client'\n\nimport { Card, CardContent, CardHeader } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\n\nexport function CohortsSkeleton() {\n  return (\n    <div className=\"space-y-4\">\n      {/* Summary Stats Row */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n        {Array.from({ length: 3 }).map((_, i) => (\n          <Card key={i} className=\"p-4\">\n            <div className=\"flex items-center gap-2\">\n              <Skeleton className=\"h-4 w-4 rounded\" />\n              <Skeleton className=\"h-4 w-24\" />\n            </div>\n            <Skeleton className=\"h-8 w-20 mt-2\" />\n            <Skeleton className=\"h-3 w-32 mt-1\" />\n          </Card>\n        ))}\n      </div>\n\n      {/* Data Table */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <Skeleton className=\"h-5 w-32\" />\n          <Skeleton className=\"h-3 w-80 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {/* Header row */}\n            <div className=\"grid grid-cols-9 gap-4 pb-2 border-b\">\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-12\" />\n              <Skeleton className=\"h-4 w-16\" />\n              <Skeleton className=\"h-4 w-24\" />\n              <Skeleton className=\"h-4 w-24\" />\n              <Skeleton className=\"h-4 w-24\" />\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-20\" />\n            </div>\n            {/* Data rows */}\n            {Array.from({ length: 8 }).map((_, i) => (\n              <div key={i} className=\"grid grid-cols-9 gap-4 py-3\">\n                <Skeleton className=\"h-4 w-24\" />\n                <Skeleton className=\"h-4 w-10\" />\n                <Skeleton className=\"h-4 w-12\" />\n                <Skeleton className=\"h-4 w-14\" />\n                <Skeleton className=\"h-4 w-16\" />\n                <Skeleton className=\"h-4 w-16\" />\n                <Skeleton className=\"h-4 w-12\" />\n                <Skeleton className=\"h-4 w-12\" />\n                <Skeleton className=\"h-4 w-12\" />\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,oNAAC,kKAAI;wBAAS,WAAU;;0CACtB,oNAAC;gCAAI,WAAU;;kDACb,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;0CACpB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;uBANX;;;;;;;;;;0BAYf,oNAAC,kKAAI;;kCACH,oNAAC,wKAAU;wBAAC,WAAU;;0CACpB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;0CACpB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,oNAAC,yKAAW;kCACV,cAAA,oNAAC;4BAAI,WAAU;;8CAEb,oNAAC;oCAAI,WAAU;;sDACb,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;sDACpB,oNAAC,0KAAQ;4CAAC,WAAU;;;;;;;;;;;;gCAGrB,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,oNAAC;wCAAY,WAAU;;0DACrB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;0DACpB,oNAAC,0KAAQ;gDAAC,WAAU;;;;;;;uCATZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiBxB;KAxDgB"}},
    {"offset": {"line": 433, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,oNAAC;YACC,aAAU;YACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/cohorts/components/cohorts-data-table.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useMemo } from 'react'\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getSortedRowModel,\n  flexRender,\n  ColumnDef,\n  SortingState,\n} from '@tanstack/react-table'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { ArrowUpDown, Users, TrendingUp, Clock, DollarSign } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface Cohort {\n  cohortName: string\n  size: number\n  activationRate: number\n  investmentRate: number\n  avgInvestment: number\n  avgTimeToFirstInvestment: number | null\n  retention30d: number\n  retention60d: number\n  retention90d: number\n}\n\ninterface CohortsDataTableProps {\n  groupBy: string\n}\n\n// Format currency values\nfunction formatCurrency(value: number): string {\n  if (value >= 1000000) {\n    return `$${(value / 1000000).toFixed(1)}M`\n  }\n  if (value >= 1000) {\n    return `$${(value / 1000).toFixed(0)}K`\n  }\n  return `$${value.toLocaleString()}`\n}\n\n// Get retention color class based on percentage\nfunction getRetentionColorClass(value: number): string {\n  if (value === -1) return 'text-muted-foreground'\n  if (value >= 70) return 'text-emerald-600 dark:text-emerald-400'\n  if (value >= 40) return 'text-amber-600 dark:text-amber-400'\n  return 'text-red-600 dark:text-red-400'\n}\n\n// Get rate color class based on percentage\nfunction getRateColorClass(value: number): string {\n  if (value >= 50) return 'text-emerald-600 dark:text-emerald-400'\n  if (value >= 25) return 'text-amber-600 dark:text-amber-400'\n  return 'text-red-600 dark:text-red-400'\n}\n\n// Format retention display\nfunction formatRetention(value: number): string {\n  if (value === -1) return 'N/A'\n  return `${value}%`\n}\n\nexport function CohortsDataTable({ groupBy }: CohortsDataTableProps) {\n  const [cohorts, setCohorts] = useState<Cohort[] | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [sorting, setSorting] = useState<SortingState>([])\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await fetch(`/api/admin/growth/cohorts?groupBy=${groupBy}`)\n        if (!response.ok) {\n          throw new Error('Failed to fetch cohort data')\n        }\n        const result = await response.json()\n        if (result.success && result.data) {\n          setCohorts(result.data.cohorts)\n        } else {\n          throw new Error(result.error || 'No data available')\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load data')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [groupBy])\n\n  const columns: ColumnDef<Cohort>[] = useMemo(\n    () => [\n      {\n        accessorKey: 'cohortName',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Cohort\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => (\n          <div className=\"font-medium\">{row.getValue('cohortName')}</div>\n        ),\n      },\n      {\n        accessorKey: 'size',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Size\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => (\n          <div className=\"flex items-center gap-1\">\n            <Users className=\"h-3.5 w-3.5 text-muted-foreground\" />\n            <span>{(row.getValue('size') as number).toLocaleString()}</span>\n          </div>\n        ),\n      },\n      {\n        accessorKey: 'activationRate',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Activation\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('activationRate') as number\n          return (\n            <span className={getRateColorClass(value)}>{value}%</span>\n          )\n        },\n      },\n      {\n        accessorKey: 'investmentRate',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Investment Rate\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('investmentRate') as number\n          return (\n            <div className=\"flex items-center gap-1\">\n              <TrendingUp className=\"h-3.5 w-3.5 text-muted-foreground\" />\n              <span className={getRateColorClass(value)}>{value}%</span>\n            </div>\n          )\n        },\n      },\n      {\n        accessorKey: 'avgInvestment',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Avg Investment\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('avgInvestment') as number\n          return (\n            <div className=\"flex items-center gap-1\">\n              <DollarSign className=\"h-3.5 w-3.5 text-muted-foreground\" />\n              <span>{value > 0 ? formatCurrency(value) : '-'}</span>\n            </div>\n          )\n        },\n      },\n      {\n        accessorKey: 'avgTimeToFirstInvestment',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4\"\n          >\n            Days to Invest\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('avgTimeToFirstInvestment') as number | null\n          return (\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-3.5 w-3.5 text-muted-foreground\" />\n              <span>{value !== null ? `${value} days` : '-'}</span>\n            </div>\n          )\n        },\n      },\n      {\n        accessorKey: 'retention30d',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4 whitespace-nowrap\"\n          >\n            30d Retention\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('retention30d') as number\n          return (\n            <span className={getRetentionColorClass(value)}>\n              {formatRetention(value)}\n            </span>\n          )\n        },\n      },\n      {\n        accessorKey: 'retention60d',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4 whitespace-nowrap\"\n          >\n            60d Retention\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('retention60d') as number\n          return (\n            <span className={getRetentionColorClass(value)}>\n              {formatRetention(value)}\n            </span>\n          )\n        },\n      },\n      {\n        accessorKey: 'retention90d',\n        header: ({ column }) => (\n          <Button\n            variant=\"ghost\"\n            onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n            className=\"-ml-4 whitespace-nowrap\"\n          >\n            90d Retention\n            <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        ),\n        cell: ({ row }) => {\n          const value = row.getValue('retention90d') as number\n          return (\n            <span className={getRetentionColorClass(value)}>\n              {formatRetention(value)}\n            </span>\n          )\n        },\n      },\n    ],\n    []\n  )\n\n  const table = useReactTable({\n    data: cohorts || [],\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    onSortingChange: setSorting,\n    state: {\n      sorting,\n    },\n  })\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <Skeleton className=\"h-5 w-32\" />\n          <Skeleton className=\"h-3 w-56 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {/* Header row */}\n            <div className=\"grid grid-cols-9 gap-4 pb-2 border-b\">\n              {Array.from({ length: 9 }).map((_, i) => (\n                <Skeleton key={i} className=\"h-4 w-16\" />\n              ))}\n            </div>\n            {/* Data rows */}\n            {Array.from({ length: 8 }).map((_, i) => (\n              <div key={i} className=\"grid grid-cols-9 gap-4 py-3\">\n                {Array.from({ length: 9 }).map((_, j) => (\n                  <Skeleton key={j} className=\"h-4 w-14\" />\n                ))}\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Cohort Analysis</CardTitle>\n          <CardDescription>\n            Failed to load cohort data\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-destructive text-sm\">{error}</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (!cohorts || cohorts.length === 0) {\n    return (\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Cohort Analysis</CardTitle>\n          <CardDescription>\n            User cohort metrics and retention analysis\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n            <div className=\"rounded-full bg-muted p-4 mb-4\">\n              <Users className=\"h-8 w-8 text-muted-foreground\" />\n            </div>\n            <h3 className=\"text-lg font-semibold\">No Cohort Data</h3>\n            <p className=\"text-sm text-muted-foreground max-w-md mt-1\">\n              There are no users in the selected grouping yet. Try selecting a different cohort grouping.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // Calculate summary stats\n  const totalUsers = cohorts.reduce((sum, c) => sum + c.size, 0)\n  const avgActivation = cohorts.reduce((sum, c) => sum + c.activationRate, 0) / cohorts.length\n  const avgInvestmentRate = cohorts.reduce((sum, c) => sum + c.investmentRate, 0) / cohorts.length\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Summary Stats Row */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n            <Users className=\"h-4 w-4\" />\n            Total Users\n          </div>\n          <div className=\"text-2xl font-bold mt-1\">{totalUsers.toLocaleString()}</div>\n          <div className=\"text-xs text-muted-foreground\">across {cohorts.length} cohorts</div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n            <TrendingUp className=\"h-4 w-4\" />\n            Avg Activation Rate\n          </div>\n          <div className={cn('text-2xl font-bold mt-1', getRateColorClass(avgActivation))}>\n            {avgActivation.toFixed(1)}%\n          </div>\n          <div className=\"text-xs text-muted-foreground\">profile completed</div>\n        </Card>\n        <Card className=\"p-4\">\n          <div className=\"flex items-center gap-2 text-muted-foreground text-sm\">\n            <DollarSign className=\"h-4 w-4\" />\n            Avg Investment Rate\n          </div>\n          <div className={cn('text-2xl font-bold mt-1', getRateColorClass(avgInvestmentRate))}>\n            {avgInvestmentRate.toFixed(1)}%\n          </div>\n          <div className=\"text-xs text-muted-foreground\">made an investment</div>\n        </Card>\n      </div>\n\n      {/* Data Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Cohort Metrics</CardTitle>\n          <CardDescription>\n            Click column headers to sort. Retention shows user activity at 30/60/90 days after joining.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            <Table>\n              <TableHeader>\n                {table.getHeaderGroups().map((headerGroup) => (\n                  <TableRow key={headerGroup.id}>\n                    {headerGroup.headers.map((header) => (\n                      <TableHead key={header.id} className=\"whitespace-nowrap\">\n                        {header.isPlaceholder\n                          ? null\n                          : flexRender(\n                              header.column.columnDef.header,\n                              header.getContext()\n                            )}\n                      </TableHead>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableHeader>\n              <TableBody>\n                {table.getRowModel().rows.map((row) => (\n                  <TableRow key={row.id}>\n                    {row.getVisibleCells().map((cell) => (\n                      <TableCell key={cell.id}>\n                        {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1567, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/cohorts/page.tsx"],"sourcesContent":["'use client'\n\nimport { Suspense } from 'react'\nimport { useSearchParams, useRouter, usePathname } from 'next/navigation'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { CohortsSkeleton } from './components/cohorts-skeleton'\nimport { CohortsDataTable } from './components/cohorts-data-table'\n\ntype GroupBy = 'signup_week' | 'signup_month' | 'first_investment_month'\n\nconst GROUPING_OPTIONS: { value: GroupBy; label: string }[] = [\n  { value: 'signup_month', label: 'By Signup Month' },\n  { value: 'signup_week', label: 'By Signup Week' },\n  { value: 'first_investment_month', label: 'By First Investment Month' },\n]\n\nfunction GroupingSelector() {\n  const searchParams = useSearchParams()\n  const router = useRouter()\n  const pathname = usePathname()\n\n  const currentGrouping = (searchParams.get('groupBy') as GroupBy) || 'signup_month'\n\n  const handleGroupingChange = (value: GroupBy) => {\n    const params = new URLSearchParams(searchParams.toString())\n    params.set('groupBy', value)\n    router.push(`${pathname}?${params.toString()}`)\n  }\n\n  return (\n    <Select value={currentGrouping} onValueChange={handleGroupingChange}>\n      <SelectTrigger className=\"w-[220px]\">\n        <SelectValue placeholder=\"Select grouping\" />\n      </SelectTrigger>\n      <SelectContent>\n        {GROUPING_OPTIONS.map((option) => (\n          <SelectItem key={option.value} value={option.value}>\n            {option.label}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  )\n}\n\nfunction CohortsContent() {\n  const searchParams = useSearchParams()\n  const groupBy = (searchParams.get('groupBy') as GroupBy) || 'signup_month'\n\n  return <CohortsDataTable groupBy={groupBy} />\n}\n\nexport default function CohortsPage() {\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header with title and grouping selector */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Cohort Analysis</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Analyze user behavior patterns by signup or investment cohorts\n          </p>\n        </div>\n        <Suspense fallback={<div className=\"h-10 w-[220px] rounded-md bg-muted animate-pulse\" />}>\n          <GroupingSelector />\n        </Suspense>\n      </div>\n\n      {/* Main content with Suspense */}\n      <Suspense fallback={<CohortsSkeleton />}>\n        <CohortsContent />\n      </Suspense>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAOA;AACA;;;AAZA;;;;;;AAgBA,MAAM,mBAAwD;IAC5D;QAAE,OAAO;QAAgB,OAAO;IAAkB;IAClD;QAAE,OAAO;QAAe,OAAO;IAAiB;IAChD;QAAE,OAAO;QAA0B,OAAO;IAA4B;CACvE;AAED,SAAS;;IACP,MAAM,eAAe,IAAA,+KAAe;IACpC,MAAM,SAAS,IAAA,yKAAS;IACxB,MAAM,WAAW,IAAA,2KAAW;IAE5B,MAAM,kBAAkB,AAAC,aAAa,GAAG,CAAC,cAA0B;IAEpE,MAAM,uBAAuB,CAAC;QAC5B,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,WAAW;QACtB,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAChD;IAEA,qBACE,oNAAC,sKAAM;QAAC,OAAO;QAAiB,eAAe;;0BAC7C,oNAAC,6KAAa;gBAAC,WAAU;0BACvB,cAAA,oNAAC,2KAAW;oBAAC,aAAY;;;;;;;;;;;0BAE3B,oNAAC,6KAAa;0BACX,iBAAiB,GAAG,CAAC,CAAC,uBACrB,oNAAC,0KAAU;wBAAoB,OAAO,OAAO,KAAK;kCAC/C,OAAO,KAAK;uBADE,OAAO,KAAK;;;;;;;;;;;;;;;;AAOvC;GA3BS;;QACc,+KAAe;QACrB,yKAAS;QACP,2KAAW;;;KAHrB;AA6BT,SAAS;;IACP,MAAM,eAAe,IAAA,+KAAe;IACpC,MAAM,UAAU,AAAC,aAAa,GAAG,CAAC,cAA0B;IAE5D,qBAAO,oNAAC,wPAAgB;QAAC,SAAS;;;;;;AACpC;IALS;;QACc,+KAAe;;;MAD7B;AAOM,SAAS;IACtB,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;gBAAI,WAAU;;kCACb,oNAAC;;0CACC,oNAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,oNAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,oNAAC,gMAAQ;wBAAC,wBAAU,oNAAC;4BAAI,WAAU;;;;;;kCACjC,cAAA,oNAAC;;;;;;;;;;;;;;;;0BAKL,oNAAC,gMAAQ;gBAAC,wBAAU,oNAAC,kPAAe;;;;;0BAClC,cAAA,oNAAC;;;;;;;;;;;;;;;;AAIT;MAtBwB"}}]
}