{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,iDAAiD;AACjD,MAAM,qBAAO,GAAA,kMAAgB,SAG3B,CAAC,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;;IACnB,MAAM,cAAc,6LAAW;IAC/B,qBAAO,oNAAC,kMAAkB;QAAC,KAAK;QAAK,IAAI,MAAM;QAAc,GAAG,KAAK;;;;;;AACvE;;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,yBAAW,kMAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,kMAAkB;QACjB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,kMAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,+YACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,yBAAW,kMAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,oNAAC,sMAAsB;QACrB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,iEACA;QAED,GAAG,KAAK;kBAET,cAAA,oNAAC,2MAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,sMAAsB,CAAC,WAAW"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,oNAAC;YACC,aAAU;YACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 401, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28staff%29/versotech/staff/reconciliation/components/transactions-data-table.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  ColumnDef,\r\n  ColumnFiltersState,\r\n  SortingState,\r\n  VisibilityState,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getSortedRowModel,\r\n  getPaginationRowModel,\r\n  useReactTable,\r\n} from '@tanstack/react-table'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { ChevronLeft, ChevronRight, ChevronsLeft, ChevronsRight } from 'lucide-react'\r\n\r\ninterface DataTableProps<TData, TValue> {\r\n  columns: ColumnDef<TData, TValue>[]\r\n  data: TData[]\r\n  pageSize?: number\r\n}\r\n\r\nexport function TransactionsDataTable<TData, TValue>({\r\n  columns,\r\n  data,\r\n  pageSize = 25,\r\n}: DataTableProps<TData, TValue>) {\r\n  const [sorting, setSorting] = React.useState<SortingState>([{ id: 'value_date', desc: true }])\r\n  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>([])\r\n  const [columnVisibility, setColumnVisibility] = React.useState<VisibilityState>({})\r\n  const [pagination, setPagination] = React.useState({\r\n    pageIndex: 0,\r\n    pageSize,\r\n  })\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    pageCount: Math.ceil(data.length / pagination.pageSize),\r\n    onSortingChange: setSorting,\r\n    onColumnFiltersChange: setColumnFilters,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    onColumnVisibilityChange: setColumnVisibility,\r\n    onPaginationChange: setPagination,\r\n    state: {\r\n      sorting,\r\n      columnFilters,\r\n      columnVisibility,\r\n      pagination,\r\n    },\r\n  })\r\n\r\n  const currentPageRows = table.getRowModel().rows\r\n  const totalRows = table.getFilteredRowModel().rows.length\r\n  const pageCount = table.getPageCount()\r\n  const currentPage = pagination.pageIndex + 1\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Pagination Controls TOP */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 bg-gray-900/30 border-b border-gray-800\">\r\n        <div className=\"text-sm text-gray-400\">\r\n          Showing <span className=\"font-medium text-gray-200\">{pagination.pageIndex * pagination.pageSize + 1}</span> to{' '}\r\n          <span className=\"font-medium text-gray-200\">{Math.min((pagination.pageIndex + 1) * pagination.pageSize, totalRows)}</span> of{' '}\r\n          <span className=\"font-medium text-gray-200\">{totalRows}</span> transactions\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          <Select\r\n            value={`${pagination.pageSize}`}\r\n            onValueChange={(value) => {\r\n              setPagination(prev => ({ ...prev, pageSize: Number(value), pageIndex: 0 }))\r\n            }}\r\n          >\r\n            <SelectTrigger className=\"h-8 w-[100px] bg-gray-800/50 border-gray-700 text-gray-200\">\r\n              <SelectValue placeholder={`${pagination.pageSize}`} />\r\n            </SelectTrigger>\r\n            <SelectContent className=\"bg-gray-900 border-gray-700\">\r\n              <SelectItem value=\"10\" className=\"text-gray-200\">10 rows</SelectItem>\r\n              <SelectItem value=\"25\" className=\"text-gray-200\">25 rows</SelectItem>\r\n              <SelectItem value=\"50\" className=\"text-gray-200\">50 rows</SelectItem>\r\n              <SelectItem value=\"100\" className=\"text-gray-200\">100 rows</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-8 w-8 hover:bg-gray-800 disabled:opacity-30\"\r\n              onClick={() => table.setPageIndex(0)}\r\n              disabled={!table.getCanPreviousPage()}\r\n            >\r\n              <ChevronsLeft className=\"h-4 w-4 text-gray-400\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-8 w-8 hover:bg-gray-800 disabled:opacity-30\"\r\n              onClick={() => table.previousPage()}\r\n              disabled={!table.getCanPreviousPage()}\r\n            >\r\n              <ChevronLeft className=\"h-4 w-4 text-gray-400\" />\r\n            </Button>\r\n            <div className=\"flex items-center gap-1 px-3\">\r\n              <span className=\"text-sm text-gray-400\">\r\n                Page <span className=\"font-medium text-gray-200\">{currentPage}</span> of <span className=\"font-medium text-gray-200\">{pageCount}</span>\r\n              </span>\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-8 w-8 hover:bg-gray-800 disabled:opacity-30\"\r\n              onClick={() => table.nextPage()}\r\n              disabled={!table.getCanNextPage()}\r\n            >\r\n              <ChevronRight className=\"h-4 w-4 text-gray-400\" />\r\n            </Button>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              className=\"h-8 w-8 hover:bg-gray-800 disabled:opacity-30\"\r\n              onClick={() => table.setPageIndex(pageCount - 1)}\r\n              disabled={!table.getCanNextPage()}\r\n            >\r\n              <ChevronsRight className=\"h-4 w-4 text-gray-400\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"border border-gray-800 rounded-lg overflow-hidden bg-gray-950/50\">\r\n        <Table>\r\n          <TableHeader>\r\n            {table.getHeaderGroups().map((headerGroup) => (\r\n              <TableRow key={headerGroup.id} className=\"border-b border-gray-800 bg-gray-900/50 hover:bg-gray-900/50\">\r\n                {headerGroup.headers.map((header) => {\r\n                  return (\r\n                    <TableHead key={header.id} className=\"text-gray-300 font-semibold\">\r\n                      {header.isPlaceholder\r\n                        ? null\r\n                        : flexRender(\r\n                            header.column.columnDef.header,\r\n                            header.getContext()\r\n                          )}\r\n                    </TableHead>\r\n                  )\r\n                })}\r\n              </TableRow>\r\n            ))}\r\n          </TableHeader>\r\n          <TableBody>\r\n            {currentPageRows.length ? (\r\n              currentPageRows.map((row) => (\r\n                <TableRow\r\n                  key={row.id}\r\n                  data-state={row.getIsSelected() && 'selected'}\r\n                  className=\"border-b border-gray-800/50 hover:bg-gray-900/30 transition-colors\"\r\n                >\r\n                  {row.getVisibleCells().map((cell) => (\r\n                    <TableCell key={cell.id} className=\"py-4\">\r\n                      {flexRender(\r\n                        cell.column.columnDef.cell,\r\n                        cell.getContext()\r\n                      )}\r\n                    </TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))\r\n            ) : (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={columns.length}\r\n                  className=\"h-24 text-center text-muted-foreground\"\r\n                >\r\n                  No transactions found.\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Pagination Controls BOTTOM */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 bg-gray-900/30 border-t border-gray-800\">\r\n        <div className=\"text-sm text-gray-400\">\r\n          Page {currentPage} of {pageCount}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.setPageIndex(0)}\r\n            disabled={!table.getCanPreviousPage()}\r\n            className=\"bg-gray-800/50 border-gray-700 hover:bg-gray-800\"\r\n          >\r\n            First\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.previousPage()}\r\n            disabled={!table.getCanPreviousPage()}\r\n            className=\"bg-gray-800/50 border-gray-700 hover:bg-gray-800\"\r\n          >\r\n            Previous\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.nextPage()}\r\n            disabled={!table.getCanNextPage()}\r\n            className=\"bg-gray-800/50 border-gray-700 hover:bg-gray-800\"\r\n          >\r\n            Next\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.setPageIndex(pageCount - 1)}\r\n            disabled={!table.getCanNextPage()}\r\n            className=\"bg-gray-800/50 border-gray-700 hover:bg-gray-800\"\r\n          >\r\n            Last\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28staff%29/versotech/staff/reconciliation/components/transaction-columns.tsx"],"sourcesContent":["'use client'\n\nimport { ColumnDef } from '@tanstack/react-table'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { ArrowUpDown, Eye, CheckCircle2, AlertCircle, HelpCircle, FileText, Users } from 'lucide-react'\nimport Link from 'next/link'\n\nexport type InvoiceSummary = {\n  id: string\n  invoice_number: string | null\n  total: number | null\n  paid_amount: number | null\n  balance_due: number | null\n  status: string\n  match_status: string | null\n  currency: string | null\n  investor?: {\n    id: string\n    legal_name: string | null\n  }\n  deal?: {\n    id: string\n    name: string | null\n  }\n}\n\nexport type TransactionMatchRow = {\n  id: string\n  invoice_id: string\n  match_type: string\n  matched_amount: number\n  match_confidence: number | null\n  match_reason: string | null\n  status: string\n  approved_at: string | null\n  invoices?: InvoiceSummary\n}\n\nexport type TransactionSuggestionRow = {\n  id: string\n  invoice_id: string\n  confidence: number | null\n  match_reason: string | null\n  amount_difference: number | null\n  created_at: string\n  invoices?: InvoiceSummary\n}\n\nexport type BankTransactionRow = {\n  id: string\n  value_date: string\n  amount: number\n  currency: string\n  counterparty: string\n  memo: string | null\n  account_ref: string | null\n  bank_reference: string | null\n  status: 'matched' | 'partially_matched' | 'unmatched'\n  match_confidence: number | null\n  match_notes: string | null\n  matched_invoice_ids: string[] | null\n  matched_amount_total?: number\n  remaining_amount?: number\n  created_at: string\n  updated_at: string\n  matches?: TransactionMatchRow[]\n  suggestions?: TransactionSuggestionRow[]\n}\n\nconst getStatusBadge = (status: string) => {\n  const variants = {\n    matched: { color: 'bg-emerald-900/30 text-emerald-300 border-emerald-700', icon: CheckCircle2, label: 'Matched' },\n    partially_matched: { color: 'bg-amber-900/30 text-amber-300 border-amber-700', icon: AlertCircle, label: 'Partial' },\n    unmatched: { color: 'bg-slate-800/50 text-slate-300 border-slate-700', icon: HelpCircle, label: 'Unmatched' }\n  }\n  const variant = variants[status as keyof typeof variants] || variants.unmatched\n  const Icon = variant.icon\n\n  return (\n    <Badge className={`${variant.color} gap-1.5`}>\n      <Icon className=\"h-3 w-3\" />\n      {variant.label}\n    </Badge>\n  )\n}\n\nconst getConfidenceBadge = (confidence: number | null) => {\n  if (confidence === null || confidence === undefined) return null\n\n  const color = confidence >= 80\n    ? 'bg-emerald-900/30 text-emerald-300 border-emerald-700'\n    : confidence >= 60\n    ? 'bg-amber-900/30 text-amber-300 border-amber-700'\n    : 'bg-rose-900/30 text-rose-300 border-rose-700'\n\n  return (\n    <Badge className={color}>\n      {confidence}% match\n    </Badge>\n  )\n}\n\nconst formatCurrency = (amount: number, currency: string) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: currency || 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(amount)\n}\n\nconst formatDate = (dateString: string) => {\n  return new Date(dateString).toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\nconst buildInvoiceLabel = (invoice?: InvoiceSummary | null) => {\n  if (!invoice) return 'Invoice'\n  if (invoice.invoice_number) return invoice.invoice_number\n  return `Invoice ${invoice.id.slice(0, 8)}`\n}\n\nconst renderInvoiceLine = (match: TransactionMatchRow) => {\n  const invoice = match.invoices\n  const label = buildInvoiceLabel(invoice)\n  const investor = invoice?.investor?.legal_name\n  const deal = invoice?.deal?.name\n\n  return (\n    <div key={match.id} className=\"space-y-0.5\">\n      <div className=\"text-sm font-medium text-foreground flex items-center gap-2\">\n        <FileText className=\"h-3.5 w-3.5\" /> {label}\n        <Badge variant=\"outline\" className=\"border-white/10 text-xs capitalize\">\n          {match.match_type.replace('_', ' ')}\n        </Badge>\n      </div>\n      <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n        <span>{formatCurrency(match.matched_amount, invoice?.currency || 'USD')}</span>\n        {match.match_reason && <span className=\"text-muted-foreground/70\">• {match.match_reason}</span>}\n      </div>\n      {(investor || deal) && (\n        <div className=\"text-xs text-muted-foreground flex items-center gap-2\">\n          <Users className=\"h-3 w-3\" />\n          <span>{[investor, deal].filter(Boolean).join(' • ')}</span>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst renderSuggestionSummary = (transaction: BankTransactionRow) => {\n  const suggestions = transaction.suggestions || []\n  if (!suggestions.length) {\n    return <span className=\"text-muted-foreground text-sm\">—</span>\n  }\n\n  const topSuggestion = suggestions[0]\n  const invoice = topSuggestion.invoices\n  const label = buildInvoiceLabel(invoice)\n  const investor = invoice?.investor?.legal_name\n\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"text-sm font-medium text-amber-300\">\n        {label}\n        {suggestions.length > 1 && (\n          <span className=\"text-xs text-muted-foreground ml-2\">\n            +{suggestions.length - 1} more\n          </span>\n        )}\n      </div>\n      <div className=\"text-xs text-muted-foreground\">\n        {investor || 'Potential match'}\n      </div>\n      {getConfidenceBadge(topSuggestion.confidence)}\n    </div>\n  )\n}\n\nexport const transactionColumns: ColumnDef<BankTransactionRow>[] = [\n  {\n    id: 'value_date',\n    accessorKey: 'value_date',\n    header: ({ column }) => {\n      return (\n        <Button\n          variant=\"ghost\"\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          className=\"hover:bg-white/5 -ml-4\"\n        >\n          Date\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n        </Button>\n      )\n    },\n    cell: ({ row }) => {\n      return (\n        <div className=\"font-medium text-foreground\">\n          {formatDate(row.original.value_date)}\n        </div>\n      )\n    },\n  },\n  {\n    id: 'counterparty',\n    accessorKey: 'counterparty',\n    header: ({ column }) => {\n      return (\n        <Button\n          variant=\"ghost\"\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          className=\"hover:bg-white/5 -ml-4\"\n        >\n          Counterparty\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n        </Button>\n      )\n    },\n    cell: ({ row }) => {\n      const transaction = row.original\n      const firstMatch = transaction.matches?.[0]\n      const invoice = firstMatch?.invoices\n      const investor = invoice?.investor?.legal_name\n\n      return (\n        <div className=\"space-y-1\">\n          <div className=\"font-medium text-foreground\">{transaction.counterparty}</div>\n          {investor && (\n            <div className=\"text-xs text-emerald-300\">→ {investor}</div>\n          )}\n          {!investor && (transaction.suggestions?.length || 0) > 0 && (\n            <div className=\"text-xs text-amber-400\">{transaction.suggestions?.length} suggestion{(transaction.suggestions?.length || 0) > 1 ? 's' : ''}</div>\n          )}\n          {transaction.memo && (\n            <div className=\"text-xs text-muted-foreground truncate max-w-xs\">{transaction.memo}</div>\n          )}\n        </div>\n      )\n    },\n  },\n  {\n    id: 'amount',\n    accessorKey: 'amount',\n    header: ({ column }) => {\n      return (\n        <Button\n          variant=\"ghost\"\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          className=\"hover:bg-white/5 -ml-4\"\n        >\n          Amount\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n        </Button>\n      )\n    },\n    cell: ({ row }) => {\n      const transaction = row.original\n      const isNegative = transaction.amount < 0\n\n      return (\n        <div className=\"space-y-1\">\n          <div className={`font-semibold ${isNegative ? 'text-rose-400' : 'text-foreground'}`}>\n            {formatCurrency(transaction.amount, transaction.currency)}\n          </div>\n          {typeof transaction.matched_amount_total === 'number' && transaction.matched_amount_total > 0 && (\n            <div className=\"text-xs text-emerald-300\">\n              Matched {formatCurrency(transaction.matched_amount_total, transaction.currency)}\n            </div>\n          )}\n          {typeof transaction.remaining_amount === 'number' && transaction.remaining_amount > 0 && (\n            <div className=\"text-xs text-amber-400\">\n              Remaining {formatCurrency(transaction.remaining_amount, transaction.currency)}\n            </div>\n          )}\n        </div>\n      )\n    },\n  },\n  {\n    id: 'matched_to',\n    header: 'Matched To',\n    cell: ({ row }) => {\n      const transaction = row.original\n\n      if (transaction.matches && transaction.matches.length > 0) {\n        return (\n          <div className=\"space-y-2\">\n            {transaction.matches.slice(0, 2).map(renderInvoiceLine)}\n            {transaction.matches.length > 2 && (\n              <div className=\"text-xs text-muted-foreground\">+{transaction.matches.length - 2} more matches</div>\n            )}\n          </div>\n        )\n      }\n\n      return renderSuggestionSummary(transaction)\n    },\n  },\n  {\n    id: 'status',\n    accessorKey: 'status',\n    header: ({ column }) => {\n      return (\n        <Button\n          variant=\"ghost\"\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\n          className=\"hover:bg-white/5 -ml-4\"\n        >\n          Status\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\n        </Button>\n      )\n    },\n    cell: ({ row }) => {\n      const transaction = row.original\n\n      return (\n        <div className=\"space-y-1.5\">\n          {getStatusBadge(transaction.status)}\n          {transaction.match_confidence && getConfidenceBadge(transaction.match_confidence)}\n          {transaction.match_notes && (\n            <div className=\"text-xs text-muted-foreground line-clamp-2\">\n              {transaction.match_notes}\n            </div>\n          )}\n        </div>\n      )\n    },\n  },\n  {\n    id: 'reference',\n    header: 'Reference',\n    cell: ({ row }) => {\n      const transaction = row.original\n\n      return (\n        <div className=\"space-y-1\">\n          {transaction.bank_reference && (\n            <div className=\"text-xs font-mono text-muted-foreground\">\n              {transaction.bank_reference}\n            </div>\n          )}\n          {transaction.account_ref && (\n            <div className=\"text-xs text-muted-foreground\">\n              {transaction.account_ref}\n            </div>\n          )}\n        </div>\n      )\n    },\n  },\n  {\n    id: 'actions',\n    header: 'Actions',\n    cell: ({ row }) => {\n      const transaction = row.original\n\n      return (\n        <Link href={`/versotech_main/reconciliation/${transaction.id}`}>\n          <Button variant=\"ghost\" size=\"sm\" className=\"hover:bg-white/5\">\n            <Eye className=\"h-4 w-4 mr-2\" />\n            View\n          </Button>\n        </Link>\n      )\n    },\n  },\n]\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1468, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28staff%29/versotech/staff/reconciliation/components/invoices-data-table.tsx"],"sourcesContent":["'use client'\r\n\r\nimport * as React from 'react'\r\nimport {\r\n  ColumnDef,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getSortedRowModel,\r\n  SortingState,\r\n  useReactTable,\r\n} from '@tanstack/react-table'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\n\r\ninterface InvoicesDataTableProps<TData, TValue> {\r\n  columns: ColumnDef<TData, TValue>[]\r\n  data: TData[]\r\n}\r\n\r\nexport function InvoicesDataTable<TData, TValue>({\r\n  columns,\r\n  data,\r\n}: InvoicesDataTableProps<TData, TValue>) {\r\n  const [sorting, setSorting] = React.useState<SortingState>([{ id: 'created_at', desc: true }])\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    state: {\r\n      sorting,\r\n    },\r\n    onSortingChange: setSorting,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n  })\r\n\r\n  return (\r\n    <div className=\"rounded-md border border-white/10\">\r\n      <Table>\r\n        <TableHeader>\r\n          {table.getHeaderGroups().map((headerGroup) => (\r\n            <TableRow key={headerGroup.id} className=\"border-white/10 hover:bg-white/5\">\r\n              {headerGroup.headers.map((header) => {\r\n                return (\r\n                  <TableHead key={header.id} className=\"text-muted-foreground\">\r\n                    {header.isPlaceholder\r\n                      ? null\r\n                      : flexRender(\r\n                          header.column.columnDef.header,\r\n                          header.getContext()\r\n                        )}\r\n                  </TableHead>\r\n                )\r\n              })}\r\n            </TableRow>\r\n          ))}\r\n        </TableHeader>\r\n        <TableBody>\r\n          {table.getRowModel().rows?.length ? (\r\n            table.getRowModel().rows.map((row) => (\r\n              <TableRow\r\n                key={row.id}\r\n                data-state={row.getIsSelected() && 'selected'}\r\n                className=\"border-white/10 hover:bg-white/5\"\r\n              >\r\n                {row.getVisibleCells().map((cell) => (\r\n                  <TableCell key={cell.id}>\r\n                    {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                  </TableCell>\r\n                ))}\r\n              </TableRow>\r\n            ))\r\n          ) : (\r\n            <TableRow>\r\n              <TableCell colSpan={columns.length} className=\"h-24 text-center text-muted-foreground\">\r\n                No invoices found.\r\n              </TableCell>\r\n            </TableRow>\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAQA;;;AAXA;;;;AAyBO,SAAS,kBAAiC,EAC/C,OAAO,EACP,IAAI,EACkC;;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,gMAAc,CAAe;QAAC;YAAE,IAAI;YAAc,MAAM;QAAK;KAAE;IAE7F,MAAM,QAAQ,IAAA,iOAAa,EAAC;QAC1B;QACA;QACA,OAAO;YACL;QACF;QACA,iBAAiB;QACjB,iBAAiB,IAAA,kNAAe;QAChC,mBAAmB,IAAA,oNAAiB;IACtC;IAEA,qBACE,oNAAC;QAAI,WAAU;kBACb,cAAA,oNAAC,oKAAK;;8BACJ,oNAAC,0KAAW;8BACT,MAAM,eAAe,GAAG,GAAG,CAAC,CAAC,4BAC5B,oNAAC,uKAAQ;4BAAsB,WAAU;sCACtC,YAAY,OAAO,CAAC,GAAG,CAAC,CAAC;gCACxB,qBACE,oNAAC,wKAAS;oCAAiB,WAAU;8CAClC,OAAO,aAAa,GACjB,OACA,IAAA,8NAAU,EACR,OAAO,MAAM,CAAC,SAAS,CAAC,MAAM,EAC9B,OAAO,UAAU;mCALT,OAAO,EAAE;;;;;4BAS7B;2BAZa,YAAY,EAAE;;;;;;;;;;8BAgBjC,oNAAC,wKAAS;8BACP,MAAM,WAAW,GAAG,IAAI,EAAE,SACzB,MAAM,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,oBAC5B,oNAAC,uKAAQ;4BAEP,cAAY,IAAI,aAAa,MAAM;4BACnC,WAAU;sCAET,IAAI,eAAe,GAAG,GAAG,CAAC,CAAC,qBAC1B,oNAAC,wKAAS;8CACP,IAAA,8NAAU,EAAC,KAAK,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,UAAU;mCADzC,KAAK,EAAE;;;;;2BALpB,IAAI,EAAE;;;;kDAYf,oNAAC,uKAAQ;kCACP,cAAA,oNAAC,wKAAS;4BAAC,SAAS,QAAQ,MAAM;4BAAE,WAAU;sCAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;AASrG;GAhEgB;;QAMA,iOAAa;;;KANb"}},
    {"offset": {"line": 1590, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28staff%29/versotech/staff/reconciliation/components/invoice-columns.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { ColumnDef } from '@tanstack/react-table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ArrowUpDown, FileText, CheckCircle2, AlertCircle, Clock, DollarSign } from 'lucide-react'\r\n\r\nexport type ReconciliationInvoiceRow = {\r\n  id: string\r\n  invoice_number: string | null\r\n  total: number\r\n  paid_amount: number\r\n  balance_due: number\r\n  status: string\r\n  match_status: string | null\r\n  currency: string | null\r\n  created_at: string\r\n  paid_at: string | null\r\n  investor?: {\r\n    id: string\r\n    legal_name: string | null\r\n  }\r\n  deal?: {\r\n    id: string\r\n    name: string | null\r\n  }\r\n  match_count?: number\r\n  transaction_count?: number\r\n}\r\n\r\nconst getStatusBadge = (status: string) => {\r\n  const variants: Record<string, { color: string; icon: any; label: string }> = {\r\n    paid: { color: 'bg-emerald-900/30 text-emerald-300 border-emerald-700', icon: CheckCircle2, label: 'Paid' },\r\n    partially_paid: { color: 'bg-amber-900/30 text-amber-300 border-amber-700', icon: Clock, label: 'Partial' },\r\n    sent: { color: 'bg-blue-900/30 text-blue-300 border-blue-700', icon: FileText, label: 'Sent' },\r\n    overdue: { color: 'bg-rose-900/30 text-rose-300 border-rose-700', icon: AlertCircle, label: 'Overdue' },\r\n    draft: { color: 'bg-slate-800/50 text-slate-300 border-slate-700', icon: Clock, label: 'Draft' },\r\n  }\r\n  const variant = variants[status] || variants.draft\r\n  const Icon = variant.icon\r\n  return (\r\n    <Badge className={`${variant.color} gap-1.5`}>\r\n      <Icon className=\"h-3 w-3\" />\r\n      {variant.label}\r\n    </Badge>\r\n  )\r\n}\r\n\r\nconst getMatchStatusBadge = (matchStatus: string | null) => {\r\n  if (!matchStatus) return null\r\n  const variants: Record<string, { color: string; label: string }> = {\r\n    matched: { color: 'bg-emerald-900/30 text-emerald-300 border-emerald-700', label: 'Matched' },\r\n    partially_matched: { color: 'bg-amber-900/30 text-amber-300 border-amber-700', label: 'Partial Match' },\r\n    unmatched: { color: 'bg-slate-800/50 text-slate-300 border-slate-700', label: 'Unmatched' },\r\n  }\r\n  const variant = variants[matchStatus] || variants.unmatched\r\n  return (\r\n    <Badge className={variant.color}>\r\n      {variant.label}\r\n    </Badge>\r\n  )\r\n}\r\n\r\nconst formatCurrency = (amount: number, currency: string | null) => {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency: currency || 'USD',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount)\r\n}\r\n\r\nconst formatDate = (dateString: string) => {\r\n  return new Date(dateString).toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\nexport const invoiceColumns: ColumnDef<ReconciliationInvoiceRow>[] = [\r\n  {\r\n    id: 'invoice_number',\r\n    accessorKey: 'invoice_number',\r\n    header: ({ column }) => {\r\n      return (\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"hover:bg-white/5 -ml-4\"\r\n        >\r\n          Invoice #\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      )\r\n    },\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      const invoiceNumber = invoice.invoice_number || `INV-${invoice.id.slice(0, 8)}`\r\n      return (\r\n        <div className=\"space-y-1\">\r\n          <div className=\"font-medium text-foreground flex items-center gap-2\">\r\n            <FileText className=\"h-3.5 w-3.5\" />\r\n            {invoiceNumber}\r\n          </div>\r\n          {invoice.deal?.name && (\r\n            <div className=\"text-xs text-muted-foreground\">{invoice.deal.name}</div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'investor',\r\n    header: 'Investor',\r\n    cell: ({ row }) => {\r\n      const investor = row.original.investor\r\n      return (\r\n        <div className=\"font-medium text-foreground\">\r\n          {investor?.legal_name || '—'}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'created_at',\r\n    accessorKey: 'created_at',\r\n    header: ({ column }) => {\r\n      return (\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"hover:bg-white/5 -ml-4\"\r\n        >\r\n          Created\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      )\r\n    },\r\n    cell: ({ row }) => {\r\n      return (\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          {formatDate(row.original.created_at)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'total',\r\n    accessorKey: 'total',\r\n    header: ({ column }) => {\r\n      return (\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"hover:bg-white/5 -ml-4\"\r\n        >\r\n          Total\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      )\r\n    },\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      return (\r\n        <div className=\"font-semibold text-foreground\">\r\n          {formatCurrency(invoice.total, invoice.currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'paid_amount',\r\n    accessorKey: 'paid_amount',\r\n    header: ({ column }) => {\r\n      return (\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"hover:bg-white/5 -ml-4\"\r\n        >\r\n          Paid\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      )\r\n    },\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      const paidPct = invoice.total > 0 ? (invoice.paid_amount / invoice.total) * 100 : 0\r\n      return (\r\n        <div className=\"space-y-1\">\r\n          <div className={`text-sm font-medium ${invoice.paid_amount > 0 ? 'text-emerald-300' : 'text-muted-foreground'}`}>\r\n            {formatCurrency(invoice.paid_amount, invoice.currency)}\r\n          </div>\r\n          {paidPct > 0 && (\r\n            <div className=\"text-xs text-muted-foreground\">\r\n              {paidPct.toFixed(0)}% paid\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'balance_due',\r\n    accessorKey: 'balance_due',\r\n    header: ({ column }) => {\r\n      return (\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => column.toggleSorting(column.getIsSorted() === 'asc')}\r\n          className=\"hover:bg-white/5 -ml-4\"\r\n        >\r\n          Balance Due\r\n          <ArrowUpDown className=\"ml-2 h-4 w-4\" />\r\n        </Button>\r\n      )\r\n    },\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      return (\r\n        <div className={`font-medium ${invoice.balance_due > 0 ? 'text-amber-300' : 'text-muted-foreground'}`}>\r\n          {formatCurrency(invoice.balance_due, invoice.currency)}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'status',\r\n    accessorKey: 'status',\r\n    header: 'Status',\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      return (\r\n        <div className=\"space-y-1.5\">\r\n          {getStatusBadge(invoice.status)}\r\n          {invoice.paid_at && (\r\n            <div className=\"text-xs text-muted-foreground\">\r\n              Paid {formatDate(invoice.paid_at)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n  {\r\n    id: 'match_status',\r\n    header: 'Match Status',\r\n    cell: ({ row }) => {\r\n      const invoice = row.original\r\n      return (\r\n        <div className=\"space-y-1\">\r\n          {getMatchStatusBadge(invoice.match_status)}\r\n          {(invoice.match_count || 0) > 0 && (\r\n            <div className=\"text-xs text-muted-foreground\">\r\n              {invoice.match_count} match{invoice.match_count === 1 ? '' : 'es'}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )\r\n    },\r\n  },\r\n]\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2005, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,kMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,oNAAC;QACC,WAAW,IAAA,mJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2039, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/staff/reconciliation-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport { Upload, RefreshCw, Link, Check, X } from 'lucide-react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { toast } from 'sonner'\r\n\r\nexport function UploadCSVDialog() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [file, setFile] = useState<File | null>(null)\r\n  const [isUploading, setIsUploading] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) {\r\n      toast.error('Please select a file')\r\n      return\r\n    }\r\n\r\n    setIsUploading(true)\r\n    try {\r\n      const formData = new FormData()\r\n      formData.append('file', file)\r\n\r\n      const response = await fetch('/api/staff/reconciliation/upload', {\r\n        method: 'POST',\r\n        body: formData\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to upload CSV')\r\n      }\r\n\r\n      toast.success(data.message || `Imported ${data.imported} transactions`)\r\n      setIsOpen(false)\r\n      setFile(null)\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to upload CSV')\r\n    } finally {\r\n      setIsUploading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\">\r\n          <Upload className=\"h-4 w-4 mr-2\" />\r\n          Import Bank Data\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Import Bank Transactions</DialogTitle>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <Label htmlFor=\"file\">CSV File</Label>\r\n            <Input\r\n              id=\"file\"\r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              onChange={(e) => setFile(e.target.files?.[0] || null)}\r\n            />\r\n            <p className=\"text-xs text-muted-foreground mt-1\">\r\n              Expected columns: date, amount, counterparty (plus optional: currency, memo, reference)\r\n            </p>\r\n          </div>\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button variant=\"outline\" onClick={() => setIsOpen(false)} disabled={isUploading}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleUpload} disabled={!file || isUploading}>\r\n              {isUploading ? 'Uploading...' : 'Import'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport function AutoMatchButton() {\r\n  const [isRunning, setIsRunning] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleAutoMatch = async () => {\r\n    setIsRunning(true)\r\n    try {\r\n      const response = await fetch('/api/staff/reconciliation/auto-match', {\r\n        method: 'POST'\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to run auto-match')\r\n      }\r\n\r\n      toast.success(data.message || `Found ${data.matches} suggested matches`)\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to run auto-match')\r\n    } finally {\r\n      setIsRunning(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Button onClick={handleAutoMatch} disabled={isRunning}>\r\n      <RefreshCw className={`h-4 w-4 mr-2 ${isRunning ? 'animate-spin' : ''}`} />\r\n      Run Auto-Match\r\n    </Button>\r\n  )\r\n}\r\n\r\ninterface MatchActionsProps {\r\n  suggestedMatchId: string\r\n}\r\n\r\nexport function MatchActions({ suggestedMatchId }: MatchActionsProps) {\r\n  const [isProcessing, setIsProcessing] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleAccept = async () => {\r\n    setIsProcessing(true)\r\n    try {\r\n      const response = await fetch('/api/staff/reconciliation/match/accept', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ suggested_match_id: suggestedMatchId })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to accept match')\r\n      }\r\n\r\n      toast.success(data.message || 'Match accepted')\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to accept match')\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  const handleReject = async () => {\r\n    setIsProcessing(true)\r\n    try {\r\n      const response = await fetch('/api/staff/reconciliation/match/reject', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ suggested_match_id: suggestedMatchId })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to reject match')\r\n      }\r\n\r\n      toast.success(data.message || 'Match rejected')\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to reject match')\r\n    } finally {\r\n      setIsProcessing(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex gap-2\">\r\n      <Button variant=\"outline\" size=\"sm\" onClick={handleAccept} disabled={isProcessing}>\r\n        <Check className=\"h-4 w-4 mr-1\" />\r\n        Accept\r\n      </Button>\r\n      <Button variant=\"outline\" size=\"sm\" onClick={handleReject} disabled={isProcessing}>\r\n        <X className=\"h-4 w-4 mr-1\" />\r\n        Reject\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface ResolveDiscrepancyDialogProps {\r\n  bankTransactionId: string\r\n}\r\n\r\nexport function ResolveDiscrepancyDialog({ bankTransactionId }: ResolveDiscrepancyDialogProps) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [resolutionType, setResolutionType] = useState('')\r\n  const [notes, setNotes] = useState('')\r\n  const [isResolving, setIsResolving] = useState(false)\r\n  const router = useRouter()\r\n\r\n  const handleResolve = async () => {\r\n    setIsResolving(true)\r\n    try {\r\n      const response = await fetch('/api/staff/reconciliation/resolve', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          bank_transaction_id: bankTransactionId,\r\n          resolution_type: resolutionType,\r\n          notes\r\n        })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Failed to resolve discrepancy')\r\n      }\r\n\r\n      toast.success(data.message || 'Discrepancy resolved')\r\n      setIsOpen(false)\r\n      setResolutionType('')\r\n      setNotes('')\r\n      router.refresh()\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Failed to resolve discrepancy')\r\n    } finally {\r\n      setIsResolving(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\">\r\n          Resolve\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle>Resolve Discrepancy</DialogTitle>\r\n        </DialogHeader>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <Label>Resolution Type</Label>\r\n            <Select value={resolutionType} onValueChange={setResolutionType}>\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select type\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"Bank Fee\">Bank Fee</SelectItem>\r\n                <SelectItem value=\"Wire Transfer Fee\">Wire Transfer Fee</SelectItem>\r\n                <SelectItem value=\"Currency Conversion\">Currency Conversion</SelectItem>\r\n                <SelectItem value=\"Partial Payment\">Partial Payment</SelectItem>\r\n                <SelectItem value=\"Amount Error\">Amount Error</SelectItem>\r\n                <SelectItem value=\"Duplicate Entry\">Duplicate Entry</SelectItem>\r\n                <SelectItem value=\"Other\">Other</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n          <div>\r\n            <Label>Notes</Label>\r\n            <Textarea\r\n              value={notes}\r\n              onChange={(e) => setNotes(e.target.value)}\r\n              placeholder=\"Explain the resolution...\"\r\n              rows={4}\r\n            />\r\n          </div>\r\n          <div className=\"flex justify-end gap-2\">\r\n            <Button variant=\"outline\" onClick={() => setIsOpen(false)} disabled={isResolving}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleResolve} disabled={!resolutionType || isResolving}>\r\n              {isResolving ? 'Resolving...' : 'Resolve'}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2663, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28staff%29/versotech/staff/reconciliation/components/reconciliation-page-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState, useMemo } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  Upload,\r\n  RefreshCw,\r\n  Search,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Clock,\r\n  Activity,\r\n  FileText,\r\n  DollarSign,\r\n  TrendingUp\r\n} from 'lucide-react'\r\nimport { Progress } from '@/components/ui/progress'\r\nimport { TransactionsDataTable } from './transactions-data-table'\r\nimport { transactionColumns, BankTransactionRow } from './transaction-columns'\r\nimport { InvoicesDataTable } from './invoices-data-table'\r\nimport { invoiceColumns, ReconciliationInvoiceRow } from './invoice-columns'\r\nimport { UploadCSVDialog, AutoMatchButton } from '@/components/staff/reconciliation-client'\r\nimport { toast } from 'sonner'\r\n\r\nexport function ReconciliationPageClient() {\r\n  const router = useRouter()\r\n\r\n  const [activeTab, setActiveTab] = useState<'transactions' | 'invoices'>('transactions')\r\n\r\n  const [rawData, setRawData] = useState<BankTransactionRow[]>([])\r\n  const [stats, setStats] = useState<any>(null)\r\n  const [invoices, setInvoices] = useState<ReconciliationInvoiceRow[]>([])\r\n  const [invoiceStats, setInvoiceStats] = useState<any>(null)\r\n\r\n  const [loading, setLoading] = useState(true)\r\n  const [refreshing, setRefreshing] = useState(false)\r\n\r\n  const [quickSearch, setQuickSearch] = useState('')\r\n  const [statusFilter, setStatusFilter] = useState<string>('')\r\n\r\n  useEffect(() => {\r\n    loadData()\r\n    loadInvoices()\r\n  }, [])\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await fetch('/api/staff/reconciliation')\r\n      if (!response.ok) throw new Error('Failed to load transactions')\r\n\r\n      const data = await response.json()\r\n      setRawData(data.transactions || [])\r\n      setStats(data.stats || {})\r\n    } catch (err) {\r\n      console.error('Load error:', err)\r\n      toast.error('Failed to load reconciliation data')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const loadInvoices = async () => {\r\n    try {\r\n      const response = await fetch('/api/staff/reconciliation/invoices')\r\n      if (!response.ok) throw new Error('Failed to load invoices')\r\n\r\n      const data = await response.json()\r\n      setInvoices(data.invoices || [])\r\n      setInvoiceStats(data.stats || {})\r\n    } catch (err) {\r\n      console.error('Invoice load error:', err)\r\n      toast.error('Failed to load invoices')\r\n    }\r\n  }\r\n\r\n  const handleRefresh = async () => {\r\n    setRefreshing(true)\r\n    try {\r\n      await Promise.all([\r\n        fetch('/api/staff/reconciliation').then(async (response) => {\r\n          if (!response.ok) throw new Error('Failed to refresh transactions')\r\n          const data = await response.json()\r\n          setRawData(data.transactions || [])\r\n          setStats(data.stats || {})\r\n        }),\r\n        fetch('/api/staff/reconciliation/invoices').then(async (response) => {\r\n          if (!response.ok) throw new Error('Failed to refresh invoices')\r\n          const data = await response.json()\r\n          setInvoices(data.invoices || [])\r\n          setInvoiceStats(data.stats || {})\r\n        })\r\n      ])\r\n      toast.success('Data refreshed')\r\n    } catch (err) {\r\n      toast.error('Failed to refresh data')\r\n    } finally {\r\n      setRefreshing(false)\r\n    }\r\n  }\r\n\r\n  const filteredTransactions = useMemo(() => {\r\n    if (!rawData || rawData.length === 0) return []\r\n\r\n    let result = rawData\r\n\r\n    if (quickSearch) {\r\n      const search = quickSearch.toLowerCase()\r\n      result = result.filter(txn => {\r\n        const matchTerms = (txn.matches || []).flatMap(match => {\r\n          const invoice = match.invoices\r\n          return [\r\n            invoice?.invoice_number,\r\n            invoice?.investor?.legal_name,\r\n            invoice?.deal?.name\r\n          ]\r\n        })\r\n        const suggestionTerms = (txn.suggestions || []).flatMap(suggestion => {\r\n          const invoice = suggestion.invoices\r\n          return [\r\n            invoice?.invoice_number,\r\n            invoice?.investor?.legal_name,\r\n            invoice?.deal?.name\r\n          ]\r\n        })\r\n\r\n        const searchable = [\r\n          txn.counterparty,\r\n          txn.memo,\r\n          txn.bank_reference,\r\n          txn.account_ref,\r\n          ...matchTerms,\r\n          ...suggestionTerms\r\n        ]\r\n          .filter(Boolean)\r\n          .join(' ')\r\n          .toLowerCase()\r\n\r\n        return searchable.includes(search)\r\n      })\r\n    }\r\n\r\n    if (statusFilter) {\r\n      result = result.filter(txn => txn.status === statusFilter)\r\n    }\r\n\r\n    return result\r\n  }, [rawData, quickSearch, statusFilter])\r\n\r\n  const filteredInvoices = useMemo(() => {\r\n    if (!invoices || invoices.length === 0) return []\r\n\r\n    let result = invoices\r\n\r\n    if (quickSearch) {\r\n      const search = quickSearch.toLowerCase()\r\n      result = result.filter(inv => {\r\n        const searchable = [\r\n          inv.invoice_number,\r\n          inv.investor?.legal_name,\r\n          inv.deal?.name\r\n        ]\r\n          .filter(Boolean)\r\n          .join(' ')\r\n          .toLowerCase()\r\n\r\n        return searchable.includes(search)\r\n      })\r\n    }\r\n\r\n    if (statusFilter) {\r\n      // For invoices, statusFilter can be payment status or match status\r\n      if (['paid', 'partially_paid', 'sent', 'overdue', 'draft'].includes(statusFilter)) {\r\n        result = result.filter(inv => inv.status === statusFilter)\r\n      } else if (['matched', 'partially_matched', 'unmatched'].includes(statusFilter)) {\r\n        result = result.filter(inv => inv.match_status === statusFilter)\r\n      }\r\n    }\r\n\r\n    return result\r\n  }, [invoices, quickSearch, statusFilter])\r\n\r\n  // Summary stats based on filtered data (for the summary section)\r\n  // NOTE: This hook MUST be called before the loading early return to maintain hook order\r\n  const filteredSummary = useMemo(() => {\r\n    const txns = filteredTransactions\r\n    const total = txns.length\r\n    const matched = txns.filter(t => t.status === 'matched').length\r\n    const partiallyMatched = txns.filter(t => t.status === 'partially_matched').length\r\n    const unmatched = txns.filter(t => t.status === 'unmatched').length\r\n\r\n    const totalAmount = txns.reduce((sum, t) => sum + (Number(t.amount) || 0), 0)\r\n    const matchedAmount = txns.reduce((sum, t) => sum + (Number(t.matched_amount_total) || 0), 0)\r\n    const unmatchedAmount = txns\r\n      .filter(t => t.status === 'unmatched')\r\n      .reduce((sum, t) => sum + (Number(t.amount) || 0), 0)\r\n    const outstandingAmount = totalAmount - matchedAmount\r\n\r\n    const matchPercentage = total > 0 ? Math.round((matched / total) * 100) : 0\r\n\r\n    return {\r\n      total,\r\n      matched,\r\n      partiallyMatched,\r\n      unmatched,\r\n      totalAmount,\r\n      matchedAmount,\r\n      unmatchedAmount,\r\n      outstandingAmount,\r\n      matchPercentage\r\n    }\r\n  }, [filteredTransactions])\r\n\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(amount)\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-96\">\r\n        <div className=\"text-center\">\r\n          <RefreshCw className=\"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-2\" />\r\n          <div className=\"text-sm text-muted-foreground\">Loading reconciliation data...</div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const matchRate = stats?.total > 0 ? Math.round((stats.matched / stats.total) * 100) : 0\r\n  const partialRemainingAmount = rawData\r\n    .filter(txn => txn.status === 'partially_matched')\r\n    .reduce((sum, txn) => {\r\n      const remaining = typeof txn.remaining_amount === 'number'\r\n        ? txn.remaining_amount\r\n        : Math.max((txn.amount || 0) - (txn.matched_amount_total || 0), 0)\r\n      return sum + remaining\r\n    }, 0)\r\n\r\n  const currentStats = activeTab === 'transactions' ? stats : invoiceStats\r\n  const currentData = activeTab === 'transactions' ? filteredTransactions : filteredInvoices\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">Bank Reconciliation</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Import bank transactions and match payments to fee invoices\r\n          </p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleRefresh}\r\n            disabled={refreshing}\r\n          >\r\n            <RefreshCw className={`h-4 w-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\r\n            Refresh\r\n          </Button>\r\n          <UploadCSVDialog />\r\n          <AutoMatchButton />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reconciliation Summary */}\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <TrendingUp className=\"h-5 w-5 text-muted-foreground\" />\r\n                Reconciliation Summary\r\n              </CardTitle>\r\n              <CardDescription className=\"mt-1\">\r\n                Overall reconciliation status\r\n                {(quickSearch || statusFilter) && (\r\n                  <span className=\"text-amber-400 ml-2\">(filtered view)</span>\r\n                )}\r\n              </CardDescription>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"text-3xl font-bold text-emerald-400\">{filteredSummary.matchPercentage}%</div>\r\n              <div className=\"text-sm text-muted-foreground\">Match Rate</div>\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Progress Bar */}\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between text-sm\">\r\n              <span className=\"text-muted-foreground\">Matching Progress</span>\r\n              <span className=\"text-foreground font-medium\">\r\n                {filteredSummary.matched} of {filteredSummary.total} transactions\r\n              </span>\r\n            </div>\r\n            <Progress value={filteredSummary.matchPercentage} className=\"h-3\" />\r\n          </div>\r\n\r\n          {/* Summary KPIs */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2\">\r\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10\">\r\n              <div className=\"p-2 rounded-lg bg-amber-500/10\">\r\n                <Clock className=\"h-5 w-5 text-amber-400\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-muted-foreground\">Total Outstanding</div>\r\n                <div className=\"text-lg font-bold text-amber-200\">{formatCurrency(filteredSummary.outstandingAmount)}</div>\r\n                <div className=\"text-xs text-muted-foreground\">{filteredSummary.unmatched + filteredSummary.partiallyMatched} transactions</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10\">\r\n              <div className=\"p-2 rounded-lg bg-emerald-500/10\">\r\n                <CheckCircle className=\"h-5 w-5 text-emerald-400\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-muted-foreground\">Total Matched</div>\r\n                <div className=\"text-lg font-bold text-emerald-200\">{formatCurrency(filteredSummary.matchedAmount)}</div>\r\n                <div className=\"text-xs text-muted-foreground\">{filteredSummary.matched} transactions</div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3 p-3 rounded-lg bg-white/5 border border-white/10\">\r\n              <div className=\"p-2 rounded-lg bg-rose-500/10\">\r\n                <AlertCircle className=\"h-5 w-5 text-rose-400\" />\r\n              </div>\r\n              <div>\r\n                <div className=\"text-sm text-muted-foreground\">Total Unmatched</div>\r\n                <div className=\"text-lg font-bold text-rose-200\">{formatCurrency(filteredSummary.unmatchedAmount)}</div>\r\n                <div className=\"text-xs text-muted-foreground\">{filteredSummary.unmatched} transactions</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Tabs */}\r\n      <Tabs value={activeTab} onValueChange={(val) => setActiveTab(val as 'transactions' | 'invoices')}>\r\n        <TabsList className=\"grid w-full max-w-md grid-cols-2\">\r\n          <TabsTrigger value=\"transactions\" className=\"flex items-center gap-2\">\r\n            <Activity className=\"h-4 w-4\" />\r\n            Transactions ({rawData.length})\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"invoices\" className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-4 w-4\" />\r\n            Fee Invoices ({invoices.length})\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mt-6\">\r\n        <Card className=\"bg-white/5 border border-white/10\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Activity className=\"h-4 w-4\" />\r\n              Match Rate\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-emerald-200\">{matchRate}%</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {stats?.matched || 0} of {stats?.total || 0}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <CheckCircle className=\"h-4 w-4\" />\r\n              Matched\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-emerald-200\">{stats?.matched || 0}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {formatCurrency(stats?.matchedAmount || 0)}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <AlertCircle className=\"h-4 w-4\" />\r\n              Partial\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-amber-200\">{stats?.partiallyMatched || stats?.partially_matched || 0}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {formatCurrency(partialRemainingAmount || 0)}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Clock className=\"h-4 w-4\" />\r\n              Unmatched\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-rose-200\">{stats?.unmatched || 0}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">\r\n              {formatCurrency(stats?.unmatchedAmount || 0)}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\r\n              <Search className=\"h-4 w-4\" />\r\n              Suggested Matches\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-blue-200\">{stats?.suggestedMatchesCount || 0}</div>\r\n            <div className=\"text-sm text-muted-foreground mt-1\">Ready for review</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n        {/* Transactions Tab */}\r\n        <TabsContent value=\"transactions\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle>All Transactions</CardTitle>\r\n                  <CardDescription>\r\n                    {filteredTransactions.length} transaction{filteredTransactions.length !== 1 ? 's' : ''}\r\n                    {filteredTransactions.length !== rawData.length && ` (filtered from ${rawData.length})`}\r\n                  </CardDescription>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {/* Search and Filters */}\r\n              <div className=\"flex gap-3\">\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Search by counterparty, invoice, investor, reference...\"\r\n                    value={quickSearch}\r\n                    onChange={(e) => setQuickSearch(e.target.value)}\r\n                    className=\"pl-10\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant={statusFilter === '' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('')}\r\n                  >\r\n                    All\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'unmatched' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('unmatched')}\r\n                  >\r\n                    Unmatched\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'partially_matched' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('partially_matched')}\r\n                  >\r\n                    Partial\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'matched' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('matched')}\r\n                  >\r\n                    Matched\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* DataTable */}\r\n              <TransactionsDataTable\r\n                columns={transactionColumns}\r\n                data={filteredTransactions}\r\n                pageSize={25}\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Invoices Tab */}\r\n        <TabsContent value=\"invoices\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <CardTitle>All Fee Invoices</CardTitle>\r\n                  <CardDescription>\r\n                    {filteredInvoices.length} invoice{filteredInvoices.length !== 1 ? 's' : ''}\r\n                    {filteredInvoices.length !== invoices.length && ` (filtered from ${invoices.length})`}\r\n                  </CardDescription>\r\n                </div>\r\n              </div>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              {/* Search and Filters */}\r\n              <div className=\"flex gap-3\">\r\n                <div className=\"flex-1 relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                  <Input\r\n                    placeholder=\"Search by invoice number, investor, deal...\"\r\n                    value={quickSearch}\r\n                    onChange={(e) => setQuickSearch(e.target.value)}\r\n                    className=\"pl-10\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    variant={statusFilter === '' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('')}\r\n                  >\r\n                    All\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'sent' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('sent')}\r\n                  >\r\n                    Sent\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'partially_paid' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('partially_paid')}\r\n                  >\r\n                    Partial\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'paid' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('paid')}\r\n                  >\r\n                    Paid\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'matched' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('matched')}\r\n                  >\r\n                    Matched\r\n                  </Button>\r\n                  <Button\r\n                    variant={statusFilter === 'unmatched' ? 'default' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setStatusFilter('unmatched')}\r\n                  >\r\n                    Unmatched\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* DataTable */}\r\n              <InvoicesDataTable\r\n                columns={invoiceColumns}\r\n                data={filteredInvoices}\r\n              />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}