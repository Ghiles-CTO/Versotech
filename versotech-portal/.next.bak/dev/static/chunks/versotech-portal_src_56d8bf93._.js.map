{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/funnel/components/funnel-skeleton.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\n\nexport function FunnelSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      {/* Investment Funnel Skeleton */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-5 w-5\" />\n            <Skeleton className=\"h-6 w-44\" />\n          </div>\n          <Skeleton className=\"h-4 w-64 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {[100, 75, 50, 35, 20].map((width, i) => (\n              <div key={i} className=\"space-y-1\">\n                <div className=\"flex justify-between items-center\">\n                  <Skeleton className=\"h-4 w-32\" />\n                  <div className=\"flex gap-4\">\n                    <Skeleton className=\"h-4 w-12\" />\n                    <Skeleton className=\"h-4 w-16\" />\n                  </div>\n                </div>\n                <Skeleton\n                  className=\"h-10 rounded\"\n                  style={{ width: `${width}%` }}\n                />\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Onboarding Funnel Skeleton */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-5 w-5\" />\n            <Skeleton className=\"h-6 w-44\" />\n          </div>\n          <Skeleton className=\"h-4 w-64 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {[100, 80, 55, 40, 25].map((width, i) => (\n              <div key={i} className=\"space-y-1\">\n                <div className=\"flex justify-between items-center\">\n                  <Skeleton className=\"h-4 w-32\" />\n                  <div className=\"flex gap-4\">\n                    <Skeleton className=\"h-4 w-12\" />\n                    <Skeleton className=\"h-4 w-16\" />\n                  </div>\n                </div>\n                <Skeleton\n                  className=\"h-10 rounded\"\n                  style={{ width: `${width}%` }}\n                />\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Drop-off Analysis Skeleton */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-5 w-5\" />\n            <Skeleton className=\"h-6 w-36\" />\n          </div>\n          <Skeleton className=\"h-4 w-72 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col items-center py-8 space-y-4\">\n            <Skeleton className=\"h-16 w-16 rounded-full\" />\n            <Skeleton className=\"h-6 w-48\" />\n            <Skeleton className=\"h-4 w-64\" />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC,kKAAI;;kCACH,oNAAC,wKAAU;wBAAC,WAAU;;0CACpB,oNAAC;gCAAI,WAAU;;kDACb,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,oNAAC,yKAAW;kCACV,cAAA,oNAAC;4BAAI,WAAU;sCACZ;gCAAC;gCAAK;gCAAI;gCAAI;gCAAI;6BAAG,CAAC,GAAG,CAAC,CAAC,OAAO,kBACjC,oNAAC;oCAAY,WAAU;;sDACrB,oNAAC;4CAAI,WAAU;;8DACb,oNAAC,0KAAQ;oDAAC,WAAU;;;;;;8DACpB,oNAAC;oDAAI,WAAU;;sEACb,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;sEACpB,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;;;;;;;;;;;;;sDAGxB,oNAAC,0KAAQ;4CACP,WAAU;4CACV,OAAO;gDAAE,OAAO,GAAG,MAAM,CAAC,CAAC;4CAAC;;;;;;;mCAVtB;;;;;;;;;;;;;;;;;;;;;0BAmBlB,oNAAC,kKAAI;;kCACH,oNAAC,wKAAU;wBAAC,WAAU;;0CACpB,oNAAC;gCAAI,WAAU;;kDACb,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,oNAAC,yKAAW;kCACV,cAAA,oNAAC;4BAAI,WAAU;sCACZ;gCAAC;gCAAK;gCAAI;gCAAI;gCAAI;6BAAG,CAAC,GAAG,CAAC,CAAC,OAAO,kBACjC,oNAAC;oCAAY,WAAU;;sDACrB,oNAAC;4CAAI,WAAU;;8DACb,oNAAC,0KAAQ;oDAAC,WAAU;;;;;;8DACpB,oNAAC;oDAAI,WAAU;;sEACb,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;sEACpB,oNAAC,0KAAQ;4DAAC,WAAU;;;;;;;;;;;;;;;;;;sDAGxB,oNAAC,0KAAQ;4CACP,WAAU;4CACV,OAAO;gDAAE,OAAO,GAAG,MAAM,CAAC,CAAC;4CAAC;;;;;;;mCAVtB;;;;;;;;;;;;;;;;;;;;;0BAmBlB,oNAAC,kKAAI;;kCACH,oNAAC,wKAAU;wBAAC,WAAU;;0CACpB,oNAAC;gCAAI,WAAU;;kDACb,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;kDACpB,oNAAC,0KAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,oNAAC,0KAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,oNAAC,yKAAW;kCACV,cAAA,oNAAC;4BAAI,WAAU;;8CACb,oNAAC,0KAAQ;oCAAC,WAAU;;;;;;8CACpB,oNAAC,0KAAQ;oCAAC,WAAU;;;;;;8CACpB,oNAAC,0KAAQ;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;KAlFgB"}},
    {"offset": {"line": 516, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/funnel/components/investment-funnel.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { TrendingDown, ArrowRight, DollarSign } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface FunnelStage {\n  stage: string\n  count: number\n  pctOfTotal: number\n  pctOfPrevious: number\n}\n\ninterface InvestmentFunnelProps {\n  data?: FunnelStage[]\n}\n\n// Color gradient for funnel bars (from dark to light blue)\nconst FUNNEL_COLORS = [\n  'bg-blue-600',\n  'bg-blue-500',\n  'bg-blue-400',\n  'bg-blue-300',\n  'bg-emerald-500', // Final stage gets a success color\n]\n\nexport function InvestmentFunnel({ data }: InvestmentFunnelProps) {\n  const [stages, setStages] = useState<FunnelStage[]>([])\n  const [loading, setLoading] = useState(!data)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (data) {\n      setStages(data)\n      return\n    }\n\n    async function fetchData() {\n      try {\n        const response = await fetch('/api/admin/growth/funnel')\n        if (!response.ok) throw new Error('Failed to fetch funnel data')\n        const result = await response.json()\n        setStages(result.data.investmentFunnel)\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'An error occurred')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [data])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <DollarSign className=\"h-5 w-5 text-muted-foreground\" />\n            Investment Funnel\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"border-destructive/50\">\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2 text-destructive\">\n            <DollarSign className=\"h-5 w-5\" />\n            Investment Funnel\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-destructive\">{error}</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  const maxCount = stages[0]?.count || 0\n\n  return (\n    <Card>\n      <CardHeader className=\"pb-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <DollarSign className=\"h-5 w-5 text-blue-500\" />\n          Investment Funnel\n        </CardTitle>\n        <CardDescription>\n          Track investor journey from deal discovery to allocation\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        {stages.length === 0 || maxCount === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n            <TrendingDown className=\"h-12 w-12 text-muted-foreground/50 mb-4\" />\n            <p className=\"text-muted-foreground\">No funnel data available yet</p>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              Data will appear once investors start engaging with deals\n            </p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {stages.map((stage, index) => {\n              const widthPercent = maxCount > 0\n                ? Math.max((stage.count / maxCount) * 100, 5) // Minimum 5% width for visibility\n                : 0\n              const isLastStage = index === stages.length - 1\n              const conversionRate = stage.pctOfPrevious\n\n              return (\n                <div key={stage.stage} className=\"space-y-1\">\n                  {/* Stage header */}\n                  <div className=\"flex justify-between items-center text-sm\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{stage.stage}</span>\n                      {index > 0 && (\n                        <span\n                          className={cn(\n                            'text-xs px-2 py-0.5 rounded-full',\n                            conversionRate >= 50\n                              ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400'\n                              : conversionRate >= 25\n                                ? 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400'\n                                : 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400'\n                          )}\n                        >\n                          {conversionRate}% conv.\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-4 text-muted-foreground\">\n                      <span className=\"font-semibold text-foreground\">\n                        {stage.count.toLocaleString()}\n                      </span>\n                      <span className=\"text-xs\">\n                        {stage.pctOfTotal}% of total\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Funnel bar */}\n                  <div className=\"relative\">\n                    <div\n                      className={cn(\n                        'h-10 rounded transition-all duration-500',\n                        FUNNEL_COLORS[index] || FUNNEL_COLORS[FUNNEL_COLORS.length - 1],\n                        isLastStage && 'animate-pulse'\n                      )}\n                      style={{ width: `${widthPercent}%` }}\n                    >\n                      {/* Inner gradient overlay for depth */}\n                      <div className=\"absolute inset-0 bg-gradient-to-b from-white/20 dark:from-white/10 to-transparent rounded\" />\n                    </div>\n\n                    {/* Connection arrow to next stage */}\n                    {index < stages.length - 1 && (\n                      <div className=\"absolute -bottom-3 left-4 text-muted-foreground/50\">\n                        <ArrowRight className=\"h-4 w-4 rotate-90\" />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;;;AALA;;;;;AAkBA,2DAA2D;AAC3D,MAAM,gBAAgB;IACpB;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS,iBAAiB,EAAE,IAAI,EAAyB;;IAC9D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gMAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gMAAQ,EAAC,CAAC;IACxC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gMAAQ,EAAgB;IAElD,IAAA,iMAAS;sCAAC;YACR,IAAI,MAAM;gBACR,UAAU;gBACV;YACF;YAEA,eAAe;gBACb,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;oBAClC,MAAM,SAAS,MAAM,SAAS,IAAI;oBAClC,UAAU,OAAO,IAAI,CAAC,gBAAgB;gBACxC,EAAE,OAAO,KAAK;oBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAChD,SAAU;oBACR,WAAW;gBACb;YACF;YAEA;QACF;qCAAG;QAAC;KAAK;IAET,IAAI,SAAS;QACX,qBACE,oNAAC,kKAAI;;8BACH,oNAAC,wKAAU;oBAAC,WAAU;8BACpB,cAAA,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,0PAAU;gCAAC,WAAU;;;;;;4BAAkC;;;;;;;;;;;;8BAI5D,oNAAC,yKAAW;8BACV,cAAA,oNAAC;wBAAI,WAAU;kCACb,cAAA,oNAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,IAAI,OAAO;QACT,qBACE,oNAAC,kKAAI;YAAC,WAAU;;8BACd,oNAAC,wKAAU;oBAAC,WAAU;8BACpB,cAAA,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,0PAAU;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;8BAItC,oNAAC,yKAAW;8BACV,cAAA,oNAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAIjD;IAEA,MAAM,WAAW,MAAM,CAAC,EAAE,EAAE,SAAS;IAErC,qBACE,oNAAC,kKAAI;;0BACH,oNAAC,wKAAU;gBAAC,WAAU;;kCACpB,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,0PAAU;gCAAC,WAAU;;;;;;4BAA0B;;;;;;;kCAGlD,oNAAC,6KAAe;kCAAC;;;;;;;;;;;;0BAInB,oNAAC,yKAAW;0BACT,OAAO,MAAM,KAAK,KAAK,aAAa,kBACnC,oNAAC;oBAAI,WAAU;;sCACb,oNAAC,gQAAY;4BAAC,WAAU;;;;;;sCACxB,oNAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,oNAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;yCAKpD,oNAAC;oBAAI,WAAU;8BACZ,OAAO,GAAG,CAAC,CAAC,OAAO;wBAClB,MAAM,eAAe,WAAW,IAC5B,KAAK,GAAG,CAAC,AAAC,MAAM,KAAK,GAAG,WAAY,KAAK,GAAG,kCAAkC;2BAC9E;wBACJ,MAAM,cAAc,UAAU,OAAO,MAAM,GAAG;wBAC9C,MAAM,iBAAiB,MAAM,aAAa;wBAE1C,qBACE,oNAAC;4BAAsB,WAAU;;8CAE/B,oNAAC;oCAAI,WAAU;;sDACb,oNAAC;4CAAI,WAAU;;8DACb,oNAAC;oDAAK,WAAU;8DAAe,MAAM,KAAK;;;;;;gDACzC,QAAQ,mBACP,oNAAC;oDACC,WAAW,IAAA,mJAAE,EACX,oCACA,kBAAkB,KACd,iFACA,kBAAkB,KAChB,yEACA;;wDAGP;wDAAe;;;;;;;;;;;;;sDAItB,oNAAC;4CAAI,WAAU;;8DACb,oNAAC;oDAAK,WAAU;8DACb,MAAM,KAAK,CAAC,cAAc;;;;;;8DAE7B,oNAAC;oDAAK,WAAU;;wDACb,MAAM,UAAU;wDAAC;;;;;;;;;;;;;;;;;;;8CAMxB,oNAAC;oCAAI,WAAU;;sDACb,oNAAC;4CACC,WAAW,IAAA,mJAAE,EACX,4CACA,aAAa,CAAC,MAAM,IAAI,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,EAC/D,eAAe;4CAEjB,OAAO;gDAAE,OAAO,GAAG,aAAa,CAAC,CAAC;4CAAC;sDAGnC,cAAA,oNAAC;gDAAI,WAAU;;;;;;;;;;;wCAIhB,QAAQ,OAAO,MAAM,GAAG,mBACvB,oNAAC;4CAAI,WAAU;sDACb,cAAA,oNAAC,0PAAU;gDAAC,WAAU;;;;;;;;;;;;;;;;;;2BA/CpB,MAAM,KAAK;;;;;oBAqDzB;;;;;;;;;;;;;;;;;AAMZ;GAxJgB;KAAA"}},
    {"offset": {"line": 891, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/funnel/components/onboarding-funnel.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { TrendingDown, ArrowRight, UserPlus } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface FunnelStage {\n  stage: string\n  count: number\n  pctOfTotal: number\n  pctOfPrevious: number\n}\n\ninterface OnboardingFunnelProps {\n  data?: FunnelStage[]\n}\n\n// Color gradient for funnel bars (from dark to light purple/violet)\nconst FUNNEL_COLORS = [\n  'bg-violet-600',\n  'bg-violet-500',\n  'bg-violet-400',\n  'bg-violet-300',\n  'bg-emerald-500', // Final stage gets a success color\n]\n\nexport function OnboardingFunnel({ data }: OnboardingFunnelProps) {\n  const [stages, setStages] = useState<FunnelStage[]>([])\n  const [loading, setLoading] = useState(!data)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (data) {\n      setStages(data)\n      return\n    }\n\n    async function fetchData() {\n      try {\n        const response = await fetch('/api/admin/growth/funnel')\n        if (!response.ok) throw new Error('Failed to fetch funnel data')\n        const result = await response.json()\n        setStages(result.data.onboardingFunnel)\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'An error occurred')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [data])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <UserPlus className=\"h-5 w-5 text-muted-foreground\" />\n            Onboarding Funnel\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"border-destructive/50\">\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2 text-destructive\">\n            <UserPlus className=\"h-5 w-5\" />\n            Onboarding Funnel\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-destructive\">{error}</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  const maxCount = stages[0]?.count || 0\n\n  return (\n    <Card>\n      <CardHeader className=\"pb-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <UserPlus className=\"h-5 w-5 text-violet-500\" />\n          Onboarding Funnel\n        </CardTitle>\n        <CardDescription>\n          Track user journey from account creation to first investment\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        {stages.length === 0 || maxCount === 0 ? (\n          <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n            <TrendingDown className=\"h-12 w-12 text-muted-foreground/50 mb-4\" />\n            <p className=\"text-muted-foreground\">No funnel data available yet</p>\n            <p className=\"text-sm text-muted-foreground mt-1\">\n              Data will appear once users start signing up\n            </p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {stages.map((stage, index) => {\n              const widthPercent = maxCount > 0\n                ? Math.max((stage.count / maxCount) * 100, 5) // Minimum 5% width for visibility\n                : 0\n              const isLastStage = index === stages.length - 1\n              const conversionRate = stage.pctOfPrevious\n\n              return (\n                <div key={stage.stage} className=\"space-y-1\">\n                  {/* Stage header */}\n                  <div className=\"flex justify-between items-center text-sm\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-medium\">{stage.stage}</span>\n                      {index > 0 && (\n                        <span\n                          className={cn(\n                            'text-xs px-2 py-0.5 rounded-full',\n                            conversionRate >= 50\n                              ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400'\n                              : conversionRate >= 25\n                                ? 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400'\n                                : 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400'\n                          )}\n                        >\n                          {conversionRate}% conv.\n                        </span>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-4 text-muted-foreground\">\n                      <span className=\"font-semibold text-foreground\">\n                        {stage.count.toLocaleString()}\n                      </span>\n                      <span className=\"text-xs\">\n                        {stage.pctOfTotal}% of total\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Funnel bar */}\n                  <div className=\"relative\">\n                    <div\n                      className={cn(\n                        'h-10 rounded transition-all duration-500',\n                        FUNNEL_COLORS[index] || FUNNEL_COLORS[FUNNEL_COLORS.length - 1],\n                        isLastStage && 'animate-pulse'\n                      )}\n                      style={{ width: `${widthPercent}%` }}\n                    >\n                      {/* Inner gradient overlay for depth */}\n                      <div className=\"absolute inset-0 bg-gradient-to-b from-white/20 dark:from-white/10 to-transparent rounded\" />\n                    </div>\n\n                    {/* Connection arrow to next stage */}\n                    {index < stages.length - 1 && (\n                      <div className=\"absolute -bottom-3 left-4 text-muted-foreground/50\">\n                        <ArrowRight className=\"h-4 w-4 rotate-90\" />\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;;;AALA;;;;;AAkBA,oEAAoE;AACpE,MAAM,gBAAgB;IACpB;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS,iBAAiB,EAAE,IAAI,EAAyB;;IAC9D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gMAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gMAAQ,EAAC,CAAC;IACxC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gMAAQ,EAAgB;IAElD,IAAA,iMAAS;sCAAC;YACR,IAAI,MAAM;gBACR,UAAU;gBACV;YACF;YAEA,eAAe;gBACb,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;oBAClC,MAAM,SAAS,MAAM,SAAS,IAAI;oBAClC,UAAU,OAAO,IAAI,CAAC,gBAAgB;gBACxC,EAAE,OAAO,KAAK;oBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAChD,SAAU;oBACR,WAAW;gBACb;YACF;YAEA;QACF;qCAAG;QAAC;KAAK;IAET,IAAI,SAAS;QACX,qBACE,oNAAC,kKAAI;;8BACH,oNAAC,wKAAU;oBAAC,WAAU;8BACpB,cAAA,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,oPAAQ;gCAAC,WAAU;;;;;;4BAAkC;;;;;;;;;;;;8BAI1D,oNAAC,yKAAW;8BACV,cAAA,oNAAC;wBAAI,WAAU;kCACb,cAAA,oNAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,IAAI,OAAO;QACT,qBACE,oNAAC,kKAAI;YAAC,WAAU;;8BACd,oNAAC,wKAAU;oBAAC,WAAU;8BACpB,cAAA,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,oPAAQ;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;8BAIpC,oNAAC,yKAAW;8BACV,cAAA,oNAAC;wBAAE,WAAU;kCAA4B;;;;;;;;;;;;;;;;;IAIjD;IAEA,MAAM,WAAW,MAAM,CAAC,EAAE,EAAE,SAAS;IAErC,qBACE,oNAAC,kKAAI;;0BACH,oNAAC,wKAAU;gBAAC,WAAU;;kCACpB,oNAAC,uKAAS;wBAAC,WAAU;;0CACnB,oNAAC,oPAAQ;gCAAC,WAAU;;;;;;4BAA4B;;;;;;;kCAGlD,oNAAC,6KAAe;kCAAC;;;;;;;;;;;;0BAInB,oNAAC,yKAAW;0BACT,OAAO,MAAM,KAAK,KAAK,aAAa,kBACnC,oNAAC;oBAAI,WAAU;;sCACb,oNAAC,gQAAY;4BAAC,WAAU;;;;;;sCACxB,oNAAC;4BAAE,WAAU;sCAAwB;;;;;;sCACrC,oNAAC;4BAAE,WAAU;sCAAqC;;;;;;;;;;;yCAKpD,oNAAC;oBAAI,WAAU;8BACZ,OAAO,GAAG,CAAC,CAAC,OAAO;wBAClB,MAAM,eAAe,WAAW,IAC5B,KAAK,GAAG,CAAC,AAAC,MAAM,KAAK,GAAG,WAAY,KAAK,GAAG,kCAAkC;2BAC9E;wBACJ,MAAM,cAAc,UAAU,OAAO,MAAM,GAAG;wBAC9C,MAAM,iBAAiB,MAAM,aAAa;wBAE1C,qBACE,oNAAC;4BAAsB,WAAU;;8CAE/B,oNAAC;oCAAI,WAAU;;sDACb,oNAAC;4CAAI,WAAU;;8DACb,oNAAC;oDAAK,WAAU;8DAAe,MAAM,KAAK;;;;;;gDACzC,QAAQ,mBACP,oNAAC;oDACC,WAAW,IAAA,mJAAE,EACX,oCACA,kBAAkB,KACd,iFACA,kBAAkB,KAChB,yEACA;;wDAGP;wDAAe;;;;;;;;;;;;;sDAItB,oNAAC;4CAAI,WAAU;;8DACb,oNAAC;oDAAK,WAAU;8DACb,MAAM,KAAK,CAAC,cAAc;;;;;;8DAE7B,oNAAC;oDAAK,WAAU;;wDACb,MAAM,UAAU;wDAAC;;;;;;;;;;;;;;;;;;;8CAMxB,oNAAC;oCAAI,WAAU;;sDACb,oNAAC;4CACC,WAAW,IAAA,mJAAE,EACX,4CACA,aAAa,CAAC,MAAM,IAAI,aAAa,CAAC,cAAc,MAAM,GAAG,EAAE,EAC/D,eAAe;4CAEjB,OAAO;gDAAE,OAAO,GAAG,aAAa,CAAC,CAAC;4CAAC;sDAGnC,cAAA,oNAAC;gDAAI,WAAU;;;;;;;;;;;wCAIhB,QAAQ,OAAO,MAAM,GAAG,mBACvB,oNAAC;4CAAI,WAAU;sDACb,cAAA,oNAAC,0PAAU;gDAAC,WAAU;;;;;;;;;;;;;;;;;;2BA/CpB,MAAM,KAAK;;;;;oBAqDzB;;;;;;;;;;;;;;;;;AAMZ;GAxJgB;KAAA"}},
    {"offset": {"line": 1266, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/funnel/components/dropoff-analysis.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { AlertTriangle, ArrowDown, CheckCircle2, TrendingDown } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface BiggestDropoff {\n  fromStage: string\n  toStage: string\n  dropRate: number\n}\n\ninterface DropoffAnalysisProps {\n  data?: BiggestDropoff\n}\n\nexport function DropoffAnalysis({ data }: DropoffAnalysisProps) {\n  const [dropoff, setDropoff] = useState<BiggestDropoff | null>(data || null)\n  const [loading, setLoading] = useState(!data)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (data) {\n      setDropoff(data)\n      return\n    }\n\n    async function fetchData() {\n      try {\n        const response = await fetch('/api/admin/growth/funnel')\n        if (!response.ok) throw new Error('Failed to fetch funnel data')\n        const result = await response.json()\n        setDropoff(result.data.biggestDropoff)\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'An error occurred')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [data])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <TrendingDown className=\"h-5 w-5 text-muted-foreground\" />\n            Drop-off Analysis\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card className=\"border-destructive/50\">\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2 text-destructive\">\n            <TrendingDown className=\"h-5 w-5\" />\n            Drop-off Analysis\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-sm text-destructive\">{error}</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // No significant drop-off or no data\n  if (!dropoff || !dropoff.fromStage || dropoff.dropRate === 0) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <CardTitle className=\"flex items-center gap-2\">\n            <TrendingDown className=\"h-5 w-5 text-emerald-500\" />\n            Drop-off Analysis\n          </CardTitle>\n          <CardDescription>\n            Identify the biggest conversion bottleneck in your funnels\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col items-center justify-center py-8 text-center\">\n            <div className=\"rounded-full bg-emerald-100 p-4 dark:bg-emerald-900/30 mb-4\">\n              <CheckCircle2 className=\"h-10 w-10 text-emerald-600 dark:text-emerald-400\" />\n            </div>\n            <h3 className=\"text-lg font-semibold text-emerald-700 dark:text-emerald-400\">\n              Great Conversion Flow!\n            </h3>\n            <p className=\"text-sm text-muted-foreground mt-2 max-w-sm\">\n              No significant drop-off detected in your funnels. Keep up the good work!\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // Determine severity based on drop rate\n  const getSeverity = (rate: number) => {\n    if (rate >= 70) return { level: 'critical', color: 'text-red-600 dark:text-red-400', bg: 'bg-red-100 dark:bg-red-900/30', border: 'border-red-200 dark:border-red-800' }\n    if (rate >= 50) return { level: 'high', color: 'text-orange-600 dark:text-orange-400', bg: 'bg-orange-100 dark:bg-orange-900/30', border: 'border-orange-200 dark:border-orange-800' }\n    if (rate >= 30) return { level: 'medium', color: 'text-amber-600 dark:text-amber-400', bg: 'bg-amber-100 dark:bg-amber-900/30', border: 'border-amber-200 dark:border-amber-800' }\n    return { level: 'low', color: 'text-blue-600 dark:text-blue-400', bg: 'bg-blue-100 dark:bg-blue-900/30', border: 'border-blue-200 dark:border-blue-800' }\n  }\n\n  const severity = getSeverity(dropoff.dropRate)\n\n  return (\n    <Card className={cn('border-2', severity.border)}>\n      <CardHeader className=\"pb-2\">\n        <CardTitle className=\"flex items-center gap-2\">\n          <AlertTriangle className={cn('h-5 w-5', severity.color)} />\n          Drop-off Analysis\n        </CardTitle>\n        <CardDescription>\n          Identify the biggest conversion bottleneck in your funnels\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex flex-col items-center py-6\">\n          {/* Drop-off percentage badge */}\n          <div className={cn('rounded-full p-6 mb-6', severity.bg)}>\n            <div className=\"text-center\">\n              <span className={cn('text-4xl font-bold', severity.color)}>\n                {dropoff.dropRate}%\n              </span>\n              <p className={cn('text-sm font-medium mt-1', severity.color)}>\n                Drop-off Rate\n              </p>\n            </div>\n          </div>\n\n          {/* Stage transition visualization */}\n          <div className=\"flex flex-col items-center space-y-2 w-full max-w-xs\">\n            {/* From stage */}\n            <div className=\"w-full px-4 py-3 rounded-lg bg-muted text-center\">\n              <span className=\"font-medium\">{dropoff.fromStage}</span>\n            </div>\n\n            {/* Arrow */}\n            <div className=\"flex items-center justify-center py-1\">\n              <ArrowDown className={cn('h-6 w-6', severity.color)} />\n            </div>\n\n            {/* To stage */}\n            <div className=\"w-full px-4 py-3 rounded-lg bg-muted text-center\">\n              <span className=\"font-medium\">{dropoff.toStage}</span>\n            </div>\n          </div>\n\n          {/* Insight text */}\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-muted-foreground max-w-md\">\n              {dropoff.dropRate >= 70 && (\n                <>\n                  <span className=\"font-semibold text-red-600 dark:text-red-400\">Critical:</span>{' '}\n                  Users are abandoning at this step. Consider simplifying the process or adding guidance.\n                </>\n              )}\n              {dropoff.dropRate >= 50 && dropoff.dropRate < 70 && (\n                <>\n                  <span className=\"font-semibold text-orange-600 dark:text-orange-400\">High priority:</span>{' '}\n                  This step needs attention. Review the user experience and identify friction points.\n                </>\n              )}\n              {dropoff.dropRate >= 30 && dropoff.dropRate < 50 && (\n                <>\n                  <span className=\"font-semibold text-amber-600 dark:text-amber-400\">Moderate:</span>{' '}\n                  There&apos;s room for improvement at this transition. Consider A/B testing different approaches.\n                </>\n              )}\n              {dropoff.dropRate < 30 && (\n                <>\n                  <span className=\"font-semibold text-blue-600 dark:text-blue-400\">Minor:</span>{' '}\n                  This is your biggest drop-off but it&apos;s within acceptable range. Monitor for changes.\n                </>\n              )}\n            </p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1762, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/funnel/page.tsx"],"sourcesContent":["'use client'\n\nimport { Suspense, useEffect, useState } from 'react'\nimport { FunnelSkeleton } from './components/funnel-skeleton'\nimport { InvestmentFunnel } from './components/investment-funnel'\nimport { OnboardingFunnel } from './components/onboarding-funnel'\nimport { DropoffAnalysis } from './components/dropoff-analysis'\n\ninterface FunnelStage {\n  stage: string\n  count: number\n  pctOfTotal: number\n  pctOfPrevious: number\n}\n\ninterface BiggestDropoff {\n  fromStage: string\n  toStage: string\n  dropRate: number\n}\n\ninterface FunnelData {\n  investmentFunnel: FunnelStage[]\n  onboardingFunnel: FunnelStage[]\n  biggestDropoff: BiggestDropoff\n}\n\nfunction FunnelContent() {\n  const [data, setData] = useState<FunnelData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchFunnelData() {\n      try {\n        const response = await fetch('/api/admin/growth/funnel')\n        if (!response.ok) {\n          throw new Error('Failed to fetch funnel data')\n        }\n        const result = await response.json()\n        setData(result.data)\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'An error occurred')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchFunnelData()\n  }, [])\n\n  if (loading) {\n    return <FunnelSkeleton />\n  }\n\n  if (error) {\n    throw new Error(error) // This will be caught by the error boundary\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Two-column layout for funnels on larger screens */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <InvestmentFunnel data={data?.investmentFunnel} />\n        <OnboardingFunnel data={data?.onboardingFunnel} />\n      </div>\n\n      {/* Drop-off Analysis Card */}\n      <DropoffAnalysis data={data?.biggestDropoff} />\n    </div>\n  )\n}\n\nexport default function FunnelPage() {\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold\">Conversion Funnels</h1>\n        <p className=\"text-muted-foreground mt-1\">\n          Analyze conversion rates across investment and onboarding journeys\n        </p>\n      </div>\n\n      {/* Main content with Suspense */}\n      <Suspense fallback={<FunnelSkeleton />}>\n        <FunnelContent />\n      </Suspense>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AA2BA,SAAS;;IACP,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gMAAQ,EAAoB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gMAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gMAAQ,EAAgB;IAElD,IAAA,iMAAS;mCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM;oBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;wBAChB,MAAM,IAAI,MAAM;oBAClB;oBACA,MAAM,SAAS,MAAM,SAAS,IAAI;oBAClC,QAAQ,OAAO,IAAI;gBACrB,EAAE,OAAO,KAAK;oBACZ,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;gBAChD,SAAU;oBACR,WAAW;gBACb;YACF;YAEA;QACF;kCAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBAAO,oNAAC,+OAAc;;;;;IACxB;IAEA,IAAI,OAAO;QACT,MAAM,IAAI,MAAM,OAAO,4CAA4C;;IACrE;IAEA,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;gBAAI,WAAU;;kCACb,oNAAC,mPAAgB;wBAAC,MAAM,MAAM;;;;;;kCAC9B,oNAAC,mPAAgB;wBAAC,MAAM,MAAM;;;;;;;;;;;;0BAIhC,oNAAC,iPAAe;gBAAC,MAAM,MAAM;;;;;;;;;;;;AAGnC;GA5CS;KAAA;AA8CM,SAAS;IACtB,qBACE,oNAAC;QAAI,WAAU;;0BAEb,oNAAC;;kCACC,oNAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,oNAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAM5C,oNAAC,gMAAQ;gBAAC,wBAAU,oNAAC,+OAAc;;;;;0BACjC,cAAA,oNAAC;;;;;;;;;;;;;;;;AAIT;MAjBwB"}}]
}