{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,kMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,oNAAC;QACC,WAAW,IAAA,mJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,oNAAC;YACC,aAAU;YACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAZS;AAcT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 backdrop-blur-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background border-border text-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg backdrop-blur-xl\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold text-foreground\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,oNAAC,6MAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,oNAAC,gNAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,oNAAC,gNAA4B;QAC3B,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,2KACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,oNAAC;;0BACC,oNAAC;;;;;0BACD,oNAAC,gNAA4B;gBAC3B,aAAU;gBACV,WAAW,IAAA,mJAAE,EACX,8ZACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,oNAAC,8MAA0B;QACzB,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,oNAAC,oNAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAC1B,WAAW,IAAA,mJAAE,EAAC,IAAA,8KAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,oNAAC,+MAA2B;QAC1B,WAAW,IAAA,mJAAE,EAAC,IAAA,8KAAc,EAAC;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS"}},
    {"offset": {"line": 499, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,iDAAiD;AACjD,MAAM,qBAAO,GAAA,kMAAgB,SAG3B,CAAC,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;;IACnB,MAAM,cAAc,6LAAW;IAC/B,qBAAO,oNAAC,kMAAkB;QAAC,KAAK;QAAK,IAAI,MAAM;QAAc,GAAG,KAAK;;;;;;AACvE;;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,yBAAW,kMAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,kMAAkB;QACjB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,kMAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,+YACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,kMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,oNAAC,qMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,mJAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,qMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/fee-plans/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { toast } from 'sonner'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from '@/components/ui/table'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog'\r\nimport {\r\n  Plus,\r\n  Edit,\r\n  Trash2,\r\n  FileText,\r\n  Users,\r\n  Loader2,\r\n  AlertCircle,\r\n  Building2,\r\n  UserPlus,\r\n  Briefcase,\r\n  X,\r\n  Send,\r\n  CheckCircle,\r\n  ChevronDown,\r\n  ChevronRight,\r\n  LayoutList,\r\n  FolderKanban,\r\n} from 'lucide-react'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { createClient } from '@/lib/supabase/client'\r\n\r\ntype FeeComponent = {\r\n  id?: string\r\n  kind: string\r\n  calc_method?: string\r\n  frequency?: string\r\n  rate_bps?: number\r\n  flat_amount?: number\r\n  description?: string\r\n  payment_schedule?: string\r\n}\r\n\r\ntype FeePlan = {\r\n  id: string\r\n  name: string\r\n  description: string | null\r\n  is_active: boolean\r\n  is_default: boolean\r\n  partner_id: string | null\r\n  introducer_id: string | null\r\n  commercial_partner_id: string | null\r\n  components?: FeeComponent[]\r\n  subscription_count?: number\r\n  created_at: string\r\n  status?: 'draft' | 'sent' | 'acknowledged'\r\n  sent_at?: string | null\r\n  deal_id?: string | null\r\n}\r\n\r\ntype Partner = {\r\n  id: string\r\n  name: string\r\n  type: 'partner' | 'introducer' | 'commercial_partner'\r\n}\r\n\r\nconst FEE_KINDS = [\r\n  { value: 'subscription', label: 'Subscription Fee' },\r\n  { value: 'management', label: 'Management Fee' },\r\n  { value: 'performance', label: 'Performance Fee' },\r\n  { value: 'bd_fee', label: 'Broker-Dealer Fee' },\r\n  { value: 'flat', label: 'Flat Fee' },\r\n  { value: 'other', label: 'Other' },\r\n]\r\n\r\nconst PAYMENT_SCHEDULES = [\r\n  { value: 'upfront', label: 'Upfront' },\r\n  { value: 'recurring', label: 'Recurring' },\r\n  { value: 'on_demand', label: 'On Demand' },\r\n]\r\n\r\nexport default function FeePlansPage() {\r\n  const [plans, setPlans] = useState<FeePlan[]>([])\r\n  const [partners, setPartners] = useState<Partner[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  // View mode state\r\n  const [viewMode, setViewMode] = useState<'list' | 'by-opportunity'>('list')\r\n  const [dealFeeData, setDealFeeData] = useState<Map<string, { deal: { id: string; name: string; status?: string }; plans: FeePlan[] }>>(new Map())\r\n  const [expandedDeals, setExpandedDeals] = useState<Set<string>>(new Set())\r\n\r\n  // Modal states\r\n  const [editModalOpen, setEditModalOpen] = useState(false)\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false)\r\n  const [selectedPlan, setSelectedPlan] = useState<FeePlan | null>(null)\r\n  const [saving, setSaving] = useState(false)\r\n  const [sending, setSending] = useState<string | null>(null)\r\n\r\n  // Form state\r\n  const [formName, setFormName] = useState('')\r\n  const [formDescription, setFormDescription] = useState('')\r\n  const [formEntityType, setFormEntityType] = useState<string>('none')\r\n  const [formEntityId, setFormEntityId] = useState<string>('none')\r\n  const [formComponents, setFormComponents] = useState<FeeComponent[]>([])\r\n\r\n  useEffect(() => {\r\n    fetchData()\r\n  }, [])\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const supabase = createClient()\r\n\r\n      // Fetch fee plans\r\n      const plansRes = await fetch('/api/arrangers/me/fee-plans?include_components=true&is_active=all')\r\n      if (!plansRes.ok) throw new Error('Failed to fetch fee plans')\r\n      const plansData = await plansRes.json()\r\n      setPlans(plansData.data || [])\r\n\r\n      // Fetch partners for the dropdown\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      if (!user) throw new Error('Not authenticated')\r\n\r\n      // Get arranger's partners\r\n      const { data: arrangerUser } = await supabase\r\n        .from('arranger_users')\r\n        .select('arranger_id')\r\n        .eq('user_id', user.id)\r\n        .single()\r\n\r\n      if (arrangerUser) {\r\n        // Get deals for this arranger\r\n        const { data: deals } = await supabase\r\n          .from('deals')\r\n          .select('id')\r\n          .eq('arranger_entity_id', arrangerUser.arranger_id)\r\n\r\n        if (deals && deals.length > 0) {\r\n          const dealIds = deals.map(d => d.id)\r\n\r\n          // Get partner referrals on these deals\r\n          const { data: referrals } = await supabase\r\n            .from('deal_memberships')\r\n            .select('referred_by_entity_id, referred_by_entity_type')\r\n            .in('deal_id', dealIds)\r\n            .not('referred_by_entity_id', 'is', null)\r\n\r\n          const partnerIds = [...new Set(\r\n            (referrals || [])\r\n              .filter(r => r.referred_by_entity_type === 'partner')\r\n              .map(r => r.referred_by_entity_id)\r\n          )]\r\n          const introducerIds = [...new Set(\r\n            (referrals || [])\r\n              .filter(r => r.referred_by_entity_type === 'introducer')\r\n              .map(r => r.referred_by_entity_id)\r\n          )]\r\n\r\n          const allPartners: Partner[] = []\r\n\r\n          if (partnerIds.length > 0) {\r\n            const { data: partnersData } = await supabase\r\n              .from('partners')\r\n              .select('id, name')\r\n              .in('id', partnerIds)\r\n\r\n            ;(partnersData || []).forEach((p: any) => {\r\n              allPartners.push({ id: p.id, name: p.name, type: 'partner' })\r\n            })\r\n          }\r\n\r\n          if (introducerIds.length > 0) {\r\n            const { data: introducersData } = await supabase\r\n              .from('introducers')\r\n              .select('id, legal_name')\r\n              .in('id', introducerIds)\r\n\r\n            ;(introducersData || []).forEach((i: any) => {\r\n              allPartners.push({ id: i.id, name: i.legal_name, type: 'introducer' })\r\n            })\r\n          }\r\n\r\n          // Get commercial partner referrals on these deals\r\n          const commercialPartnerIdsFromReferrals = (referrals || [])\r\n            .filter(r => r.referred_by_entity_type === 'commercial_partner')\r\n            .map(r => r.referred_by_entity_id)\r\n\r\n          // Also get CPs from placement agreements (they may not have referrals yet)\r\n          const { data: placementAgreements } = await supabase\r\n            .from('placement_agreements')\r\n            .select('commercial_partner_id')\r\n            .eq('arranger_id', arrangerUser.arranger_id)\r\n\r\n          const commercialPartnerIdsFromAgreements = (placementAgreements || [])\r\n            .map((pa: any) => pa.commercial_partner_id)\r\n            .filter(Boolean)\r\n\r\n          // Combine both sources (dedupe)\r\n          const commercialPartnerIds = [...new Set([\r\n            ...commercialPartnerIdsFromReferrals,\r\n            ...commercialPartnerIdsFromAgreements\r\n          ])]\r\n\r\n          if (commercialPartnerIds.length > 0) {\r\n            const { data: cpData } = await supabase\r\n              .from('commercial_partners')\r\n              .select('id, name, legal_name')\r\n              .in('id', commercialPartnerIds)\r\n\r\n            ;(cpData || []).forEach((cp: any) => {\r\n              allPartners.push({\r\n                id: cp.id,\r\n                name: cp.name || cp.legal_name || 'Unknown CP',\r\n                type: 'commercial_partner'\r\n              })\r\n            })\r\n          }\r\n\r\n          setPartners(allPartners)\r\n\r\n          // Group fee plans by deal for per-opportunity view\r\n          const groupedByDeal = new Map<string, { deal: { id: string; name: string; status?: string }; plans: FeePlan[] }>()\r\n\r\n          // Get deal details for plans with deal_id\r\n          const planDealIds = [...new Set(\r\n            (plansData.data || [])\r\n              .filter((p: FeePlan) => p.deal_id)\r\n              .map((p: FeePlan) => p.deal_id)\r\n          )]\r\n\r\n          let dealsMap = new Map<string, { id: string; name: string; status?: string }>()\r\n          if (planDealIds.length > 0) {\r\n            const { data: dealsData } = await supabase\r\n              .from('deals')\r\n              .select('id, name, status')\r\n              .in('id', planDealIds)\r\n\r\n            dealsMap = new Map((dealsData || []).map((d: any) => [d.id, d]))\r\n          }\r\n\r\n          // Group plans by deal\r\n          for (const plan of (plansData.data || []) as FeePlan[]) {\r\n            const dealId = plan.deal_id || 'general'\r\n            const deal = plan.deal_id\r\n              ? dealsMap.get(plan.deal_id) || { id: plan.deal_id, name: 'Unknown Deal' }\r\n              : { id: 'general', name: 'General (No Deal)', status: 'active' }\r\n\r\n            if (!groupedByDeal.has(dealId)) {\r\n              groupedByDeal.set(dealId, { deal, plans: [] })\r\n            }\r\n            groupedByDeal.get(dealId)!.plans.push(plan)\r\n          }\r\n\r\n          setDealFeeData(groupedByDeal)\r\n        }\r\n      }\r\n\r\n      setError(null)\r\n    } catch (err) {\r\n      console.error('[FeePlansPage] Error:', err)\r\n      setError(err instanceof Error ? err.message : 'Failed to load data')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setFormName('')\r\n    setFormDescription('')\r\n    setFormEntityType('none')\r\n    setFormEntityId('none')\r\n    setFormComponents([])\r\n  }\r\n\r\n  const openCreateModal = () => {\r\n    resetForm()\r\n    setSelectedPlan(null)\r\n    setEditModalOpen(true)\r\n  }\r\n\r\n  const openEditModal = (plan: FeePlan) => {\r\n    setSelectedPlan(plan)\r\n    setFormName(plan.name)\r\n    setFormDescription(plan.description || '')\r\n\r\n    if (plan.partner_id) {\r\n      setFormEntityType('partner')\r\n      setFormEntityId(plan.partner_id)\r\n    } else if (plan.introducer_id) {\r\n      setFormEntityType('introducer')\r\n      setFormEntityId(plan.introducer_id)\r\n    } else if (plan.commercial_partner_id) {\r\n      setFormEntityType('commercial_partner')\r\n      setFormEntityId(plan.commercial_partner_id)\r\n    } else {\r\n      setFormEntityType('none')\r\n      setFormEntityId('none')\r\n    }\r\n\r\n    setFormComponents(plan.components || [])\r\n    setEditModalOpen(true)\r\n  }\r\n\r\n  const openDeleteDialog = (plan: FeePlan) => {\r\n    setSelectedPlan(plan)\r\n    setDeleteDialogOpen(true)\r\n  }\r\n\r\n  const addComponent = () => {\r\n    setFormComponents([\r\n      ...formComponents,\r\n      {\r\n        kind: 'management',\r\n        calc_method: 'percent_per_annum',\r\n        frequency: 'quarterly',\r\n        payment_schedule: 'recurring',\r\n      },\r\n    ])\r\n  }\r\n\r\n  const removeComponent = (index: number) => {\r\n    setFormComponents(formComponents.filter((_, i) => i !== index))\r\n  }\r\n\r\n  const updateComponent = (index: number, updates: Partial<FeeComponent>) => {\r\n    const updated = [...formComponents]\r\n    updated[index] = { ...updated[index], ...updates }\r\n    setFormComponents(updated)\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    if (!formName.trim()) {\r\n      setError('Plan name is required')\r\n      return\r\n    }\r\n    if (formComponents.length === 0) {\r\n      setError('At least one fee component is required')\r\n      return\r\n    }\r\n\r\n    setSaving(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const payload: any = {\r\n        name: formName.trim(),\r\n        description: formDescription.trim() || undefined,\r\n        components: formComponents.map(c => ({\r\n          ...c,\r\n          rate_bps: c.rate_bps ? Number(c.rate_bps) : undefined,\r\n          flat_amount: c.flat_amount ? Number(c.flat_amount) : undefined,\r\n        })),\r\n      }\r\n\r\n      // Set entity based on type\r\n      if (formEntityType === 'partner' && formEntityId !== 'none') {\r\n        payload.partner_id = formEntityId\r\n      } else if (formEntityType === 'introducer' && formEntityId !== 'none') {\r\n        payload.introducer_id = formEntityId\r\n      } else if (formEntityType === 'commercial_partner' && formEntityId !== 'none') {\r\n        payload.commercial_partner_id = formEntityId\r\n      }\r\n\r\n      const url = selectedPlan\r\n        ? `/api/arrangers/me/fee-plans/${selectedPlan.id}`\r\n        : '/api/arrangers/me/fee-plans'\r\n\r\n      const res = await fetch(url, {\r\n        method: selectedPlan ? 'PUT' : 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload),\r\n      })\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json()\r\n        throw new Error(errorData.error || 'Failed to save fee plan')\r\n      }\r\n\r\n      await fetchData()\r\n      setEditModalOpen(false)\r\n      resetForm()\r\n      toast.success(selectedPlan ? 'Fee plan updated' : 'Fee plan created', {\r\n        description: `\"${formName}\" has been saved successfully.`,\r\n      })\r\n    } catch (err) {\r\n      console.error('[FeePlansPage] Save error:', err)\r\n      setError(err instanceof Error ? err.message : 'Failed to save fee plan')\r\n    } finally {\r\n      setSaving(false)\r\n    }\r\n  }\r\n\r\n  const handleDelete = async () => {\r\n    if (!selectedPlan) return\r\n\r\n    const planName = selectedPlan.name\r\n    try {\r\n      const res = await fetch(`/api/arrangers/me/fee-plans/${selectedPlan.id}`, {\r\n        method: 'DELETE',\r\n      })\r\n\r\n      if (!res.ok) throw new Error('Failed to delete fee plan')\r\n\r\n      await fetchData()\r\n      setDeleteDialogOpen(false)\r\n      setSelectedPlan(null)\r\n      toast.success('Fee plan deleted', {\r\n        description: `\"${planName}\" has been removed.`,\r\n      })\r\n    } catch (err) {\r\n      console.error('[FeePlansPage] Delete error:', err)\r\n      setError(err instanceof Error ? err.message : 'Failed to delete fee plan')\r\n    }\r\n  }\r\n\r\n  const handleSend = async (plan: FeePlan) => {\r\n    if (!plan.partner_id && !plan.introducer_id && !plan.commercial_partner_id) {\r\n      toast.error('Cannot send fee plan', {\r\n        description: 'Please assign this fee plan to a partner, introducer, or commercial partner first.',\r\n      })\r\n      return\r\n    }\r\n\r\n    setSending(plan.id)\r\n    setError(null)\r\n\r\n    try {\r\n      const res = await fetch(`/api/arrangers/me/fee-plans/${plan.id}/send`, {\r\n        method: 'POST',\r\n      })\r\n\r\n      if (!res.ok) {\r\n        const errorData = await res.json()\r\n        throw new Error(errorData.error || 'Failed to send fee plan')\r\n      }\r\n\r\n      const result = await res.json()\r\n      await fetchData()\r\n\r\n      // Show appropriate toast based on notification status\r\n      if (result.notification_status === 'no_users') {\r\n        toast.warning('Fee plan sent', {\r\n          description: `\"${plan.name}\" was marked as sent, but there are no users to notify.`,\r\n        })\r\n      } else if (result.notification_status === 'failed') {\r\n        toast.warning('Fee plan sent', {\r\n          description: `\"${plan.name}\" was sent, but notifications could not be delivered.`,\r\n        })\r\n      } else {\r\n        toast.success('Fee plan sent', {\r\n          description: `\"${plan.name}\" has been sent to ${result.notified_users} user(s).`,\r\n        })\r\n      }\r\n    } catch (err) {\r\n      console.error('[FeePlansPage] Send error:', err)\r\n      toast.error('Failed to send fee plan', {\r\n        description: err instanceof Error ? err.message : 'An unexpected error occurred.',\r\n      })\r\n    } finally {\r\n      setSending(null)\r\n    }\r\n  }\r\n\r\n  const toggleDeal = (dealId: string) => {\r\n    const newExpanded = new Set(expandedDeals)\r\n    if (newExpanded.has(dealId)) {\r\n      newExpanded.delete(dealId)\r\n    } else {\r\n      newExpanded.add(dealId)\r\n    }\r\n    setExpandedDeals(newExpanded)\r\n  }\r\n\r\n  const formatBps = (bps: number) => `${(bps / 100).toFixed(2)}%`\r\n\r\n  const getEntityName = (plan: FeePlan) => {\r\n    if (plan.partner_id) {\r\n      const partner = partners.find(p => p.id === plan.partner_id && p.type === 'partner')\r\n      return partner?.name || 'Partner'\r\n    }\r\n    if (plan.introducer_id) {\r\n      const introducer = partners.find(p => p.id === plan.introducer_id && p.type === 'introducer')\r\n      return introducer?.name || 'Introducer'\r\n    }\r\n    if (plan.commercial_partner_id) {\r\n      const cp = partners.find(p => p.id === plan.commercial_partner_id && p.type === 'commercial_partner')\r\n      return cp?.name || 'Commercial Partner'\r\n    }\r\n    return 'General'\r\n  }\r\n\r\n  const getEntityIcon = (plan: FeePlan) => {\r\n    if (plan.partner_id) return <Users className=\"h-4 w-4 text-blue-400\" />\r\n    if (plan.introducer_id) return <UserPlus className=\"h-4 w-4 text-green-400\" />\r\n    if (plan.commercial_partner_id) return <Briefcase className=\"h-4 w-4 text-purple-400\" />\r\n    return <Building2 className=\"h-4 w-4 text-gray-400\" />\r\n  }\r\n\r\n  // By Opportunity View Component\r\n  const ByOpportunityView = () => (\r\n    <div className=\"space-y-4\">\r\n      {Array.from(dealFeeData.entries()).map(([dealId, { deal, plans: dealPlans }]) => (\r\n        <Card key={dealId}>\r\n          <CardHeader\r\n            className=\"cursor-pointer hover:bg-muted/50 transition-colors py-4\"\r\n            onClick={() => toggleDeal(dealId)}\r\n            onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleDeal(dealId) } }}\r\n            tabIndex={0}\r\n            role=\"button\"\r\n            aria-expanded={expandedDeals.has(dealId)}\r\n            aria-label={`${deal.name} - ${dealPlans.length} fee plan${dealPlans.length !== 1 ? 's' : ''}`}\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {expandedDeals.has(dealId) ? (\r\n                  <ChevronDown className=\"h-5 w-5\" aria-hidden=\"true\" />\r\n                ) : (\r\n                  <ChevronRight className=\"h-5 w-5\" aria-hidden=\"true\" />\r\n                )}\r\n                <div>\r\n                  <CardTitle className=\"text-lg\">{deal.name}</CardTitle>\r\n                  <CardDescription>\r\n                    {dealPlans.length} fee plan{dealPlans.length !== 1 ? 's' : ''}\r\n                    {deal.status && ` â€¢ ${deal.status}`}\r\n                  </CardDescription>\r\n                </div>\r\n              </div>\r\n              <Badge variant=\"outline\">{dealPlans.length}</Badge>\r\n            </div>\r\n          </CardHeader>\r\n\r\n          {expandedDeals.has(dealId) && (\r\n            <CardContent className=\"pt-0\">\r\n              <div className=\"space-y-3\">\r\n                {dealPlans.map((plan) => (\r\n                  <div\r\n                    key={plan.id}\r\n                    className=\"border rounded-lg p-4 bg-muted/30\"\r\n                  >\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <span className=\"font-medium\">{plan.name}</span>\r\n                        {plan.status === 'sent' && (\r\n                          <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-500 text-xs\">\r\n                            Sent\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {getEntityIcon(plan)}\r\n                        <span className=\"text-sm text-muted-foreground\">{getEntityName(plan)}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {plan.description && (\r\n                      <p className=\"text-sm text-muted-foreground mb-2\">{plan.description}</p>\r\n                    )}\r\n\r\n                    {/* Fee Components Summary */}\r\n                    <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                      {plan.components?.map((comp, i) => (\r\n                        <Badge key={i} variant=\"secondary\" className=\"text-xs\">\r\n                          {comp.kind}: {comp.rate_bps ? formatBps(comp.rate_bps) :\r\n                            comp.flat_amount ? `$${comp.flat_amount}` : 'N/A'}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex gap-2 mt-3 pt-3 border-t\">\r\n                      {(plan.partner_id || plan.introducer_id || plan.commercial_partner_id) &&\r\n                       plan.status !== 'sent' && (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            handleSend(plan)\r\n                          }}\r\n                          disabled={sending === plan.id}\r\n                        >\r\n                          {sending === plan.id ? (\r\n                            <Loader2 className=\"h-3 w-3 mr-1 animate-spin\" />\r\n                          ) : (\r\n                            <Send className=\"h-3 w-3 mr-1\" />\r\n                          )}\r\n                          Send\r\n                        </Button>\r\n                      )}\r\n                      {/* Hide Edit for sent plans - consistent with list view */}\r\n                      {plan.status !== 'sent' && (\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={(e) => {\r\n                            e.stopPropagation()\r\n                            openEditModal(plan)\r\n                          }}\r\n                        >\r\n                          <Edit className=\"h-3 w-3 mr-1\" /> Edit\r\n                        </Button>\r\n                      )}\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation()\r\n                          openDeleteDialog(plan)\r\n                        }}\r\n                      >\r\n                        <Trash2 className=\"h-3 w-3 mr-1 text-red-500\" /> Delete\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </CardContent>\r\n          )}\r\n        </Card>\r\n      ))}\r\n\r\n      {dealFeeData.size === 0 && (\r\n        <div className=\"border border-dashed rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\r\n          <FolderKanban className=\"h-10 w-10 text-muted-foreground\" />\r\n          <p className=\"text-sm text-muted-foreground\">No fee plans to display by opportunity</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n        <span className=\"ml-3 text-muted-foreground\">Loading fee plans...</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-foreground\">Fee Plans</h1>\r\n          <p className=\"text-muted-foreground mt-1\">\r\n            Create and manage fee structures for your network partners\r\n          </p>\r\n        </div>\r\n        <Button onClick={openCreateModal} className=\"gap-2\">\r\n          <Plus className=\"h-4 w-4\" />\r\n          Create Fee Plan\r\n        </Button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"bg-red-500/10 border border-red-500/30 text-red-400 text-sm p-4 rounded flex items-center gap-2\">\r\n          <AlertCircle className=\"h-4 w-4\" />\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Info Card */}\r\n      <Card className=\"bg-blue-500/10 border-blue-500/30\">\r\n        <CardContent className=\"pt-6\">\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            <strong className=\"text-blue-400\">How Fee Plans Work:</strong> Create fee structures for your\r\n            partners, introducers, and commercial partners. These plans define the fee components that will\r\n            apply to subscriptions they refer. You can assign different fee structures to different entities\r\n            based on your agreements.\r\n          </p>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* View Mode Tabs */}\r\n      <Tabs value={viewMode} onValueChange={(v) => setViewMode(v as 'list' | 'by-opportunity')}>\r\n        <TabsList className=\"mb-4\">\r\n          <TabsTrigger value=\"list\" className=\"gap-2\">\r\n            <LayoutList className=\"h-4 w-4\" />\r\n            List View\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"by-opportunity\" className=\"gap-2\">\r\n            <FolderKanban className=\"h-4 w-4\" />\r\n            By Opportunity\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"list\">\r\n          {/* Fee Plans Table */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Your Fee Plans</CardTitle>\r\n              <CardDescription>\r\n                {plans.length} fee plan{plans.length !== 1 ? 's' : ''} created\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n          {plans.length === 0 ? (\r\n            <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\r\n              <FileText className=\"h-10 w-10 text-muted-foreground\" />\r\n              <p className=\"text-sm text-muted-foreground\">No fee plans created yet</p>\r\n              <Button onClick={openCreateModal} variant=\"outline\" size=\"sm\">\r\n                <Plus className=\"h-4 w-4 mr-1\" />\r\n                Create Your First Fee Plan\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"rounded-md border overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>Plan Name</TableHead>\r\n                    <TableHead>Assigned To</TableHead>\r\n                    <TableHead>Fee Components</TableHead>\r\n                    <TableHead>Status</TableHead>\r\n                    <TableHead className=\"text-right\">Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {plans.map((plan) => (\r\n                    <TableRow key={plan.id}>\r\n                      <TableCell>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n                          <div>\r\n                            <div className=\"font-medium\">{plan.name}</div>\r\n                            {plan.description && (\r\n                              <div className=\"text-sm text-muted-foreground truncate max-w-[200px]\">\r\n                                {plan.description}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {getEntityIcon(plan)}\r\n                          <span>{getEntityName(plan)}</span>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <div className=\"flex flex-wrap gap-1\">\r\n                          {plan.components?.slice(0, 3).map((comp, i) => (\r\n                            <Badge key={i} variant=\"outline\" className=\"text-xs\">\r\n                              {comp.kind}: {comp.rate_bps ? formatBps(comp.rate_bps) :\r\n                                comp.flat_amount ? `$${comp.flat_amount}` : 'N/A'}\r\n                            </Badge>\r\n                          ))}\r\n                          {(plan.components?.length || 0) > 3 && (\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              +{(plan.components?.length || 0) - 3} more\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          {plan.is_active ? (\r\n                            <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-500 border-green-500\">\r\n                              Active\r\n                            </Badge>\r\n                          ) : (\r\n                            <Badge variant=\"outline\" className=\"bg-gray-500/10 text-gray-500 border-gray-500\">\r\n                              Inactive\r\n                            </Badge>\r\n                          )}\r\n                          {plan.status === 'sent' && (\r\n                            <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-500 border-blue-500\">\r\n                              Sent\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right\">\r\n                        <div className=\"flex gap-1 justify-end\">\r\n                          {/* Send button - show if assigned to entity and not already sent */}\r\n                          {(plan.partner_id || plan.introducer_id || plan.commercial_partner_id) &&\r\n                           plan.status !== 'sent' && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleSend(plan)}\r\n                              disabled={sending === plan.id}\r\n                              title=\"Send to entity\"\r\n                              aria-label={`Send fee plan \"${plan.name}\" to entity`}\r\n                            >\r\n                              {sending === plan.id ? (\r\n                                <Loader2 className=\"h-4 w-4 animate-spin\" aria-hidden=\"true\" />\r\n                              ) : (\r\n                                <Send className=\"h-4 w-4 text-blue-500\" aria-hidden=\"true\" />\r\n                              )}\r\n                            </Button>\r\n                          )}\r\n                          {plan.status === 'sent' && (\r\n                            <Button variant=\"ghost\" size=\"sm\" disabled title=\"Already sent\" aria-label=\"Fee plan already sent\">\r\n                              <CheckCircle className=\"h-4 w-4 text-green-500\" aria-hidden=\"true\" />\r\n                            </Button>\r\n                          )}\r\n                          {/* Hide Edit for sent plans */}\r\n                          {plan.status !== 'sent' && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => openEditModal(plan)}\r\n                              aria-label={`Edit fee plan \"${plan.name}\"`}\r\n                            >\r\n                              <Edit className=\"h-4 w-4\" aria-hidden=\"true\" />\r\n                            </Button>\r\n                          )}\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => openDeleteDialog(plan)}\r\n                            aria-label={`Delete fee plan \"${plan.name}\"`}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4 text-red-500\" aria-hidden=\"true\" />\r\n                          </Button>\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"by-opportunity\">\r\n          <ByOpportunityView />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Edit/Create Modal */}\r\n      <Dialog open={editModalOpen} onOpenChange={setEditModalOpen}>\r\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {selectedPlan ? 'Edit Fee Plan' : 'Create Fee Plan'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Define the fee structure for your network partners\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {/* Show error inside modal so it's visible even when scrolled */}\r\n          {error && (\r\n            <div className=\"bg-red-500/10 border border-red-500/30 text-red-400 text-sm p-3 rounded flex items-center gap-2\">\r\n              <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-6 py-4\">\r\n            {/* Basic Info */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Plan Name *</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  value={formName}\r\n                  onChange={(e) => setFormName(e.target.value)}\r\n                  placeholder=\"e.g., Standard Partner Fee\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Description</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  value={formDescription}\r\n                  onChange={(e) => setFormDescription(e.target.value)}\r\n                  placeholder=\"Optional description\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>Entity Type</Label>\r\n                  <Select value={formEntityType} onValueChange={(val) => {\r\n                    setFormEntityType(val)\r\n                    setFormEntityId('none')\r\n                  }}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">General (No specific entity)</SelectItem>\r\n                      <SelectItem value=\"partner\">Partner</SelectItem>\r\n                      <SelectItem value=\"introducer\">Introducer</SelectItem>\r\n                      <SelectItem value=\"commercial_partner\">Commercial Partner</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                {formEntityType !== 'none' && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label>Select {formEntityType === 'partner' ? 'Partner' : formEntityType === 'introducer' ? 'Introducer' : 'Commercial Partner'}</Label>\r\n                    <Select value={formEntityId} onValueChange={setFormEntityId}>\r\n                      <SelectTrigger>\r\n                        <SelectValue placeholder=\"Select...\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"none\">None</SelectItem>\r\n                        {partners\r\n                          .filter(p => p.type === formEntityType)\r\n                          .map((p) => (\r\n                            <SelectItem key={p.id} value={p.id}>{p.name}</SelectItem>\r\n                          ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Fee Components */}\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <Label>Fee Components ({formComponents.length})</Label>\r\n                <Button onClick={addComponent} size=\"sm\" variant=\"outline\">\r\n                  <Plus className=\"h-4 w-4 mr-1\" />\r\n                  Add Component\r\n                </Button>\r\n              </div>\r\n\r\n              {formComponents.length === 0 ? (\r\n                <div className=\"border border-dashed rounded-lg py-8 text-center text-muted-foreground\">\r\n                  Click \"Add Component\" to define fee components\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {formComponents.map((comp, index) => (\r\n                    <Card key={index}>\r\n                      <CardHeader className=\"py-3 flex flex-row items-center justify-between\">\r\n                        <CardTitle className=\"text-sm\">Component {index + 1}</CardTitle>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => removeComponent(index)}\r\n                        >\r\n                          <X className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </CardHeader>\r\n                      <CardContent className=\"space-y-4\">\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          <div className=\"space-y-2\">\r\n                            <Label>Fee Type</Label>\r\n                            <Select\r\n                              value={comp.kind}\r\n                              onValueChange={(val) => updateComponent(index, { kind: val })}\r\n                            >\r\n                              <SelectTrigger>\r\n                                <SelectValue />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {FEE_KINDS.map((k) => (\r\n                                  <SelectItem key={k.value} value={k.value}>{k.label}</SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n\r\n                          <div className=\"space-y-2\">\r\n                            <Label>Payment Schedule</Label>\r\n                            <Select\r\n                              value={comp.payment_schedule || 'recurring'}\r\n                              onValueChange={(val) => updateComponent(index, { payment_schedule: val })}\r\n                            >\r\n                              <SelectTrigger>\r\n                                <SelectValue />\r\n                              </SelectTrigger>\r\n                              <SelectContent>\r\n                                {PAYMENT_SCHEDULES.map((s) => (\r\n                                  <SelectItem key={s.value} value={s.value}>{s.label}</SelectItem>\r\n                                ))}\r\n                              </SelectContent>\r\n                            </Select>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                          <div className=\"space-y-2\">\r\n                            <Label>Rate (basis points)</Label>\r\n                            <Input\r\n                              type=\"number\"\r\n                              value={comp.rate_bps || ''}\r\n                              onChange={(e) => updateComponent(index, {\r\n                                rate_bps: e.target.value ? Number(e.target.value) : undefined\r\n                              })}\r\n                              placeholder=\"e.g., 200 = 2%\"\r\n                            />\r\n                            {comp.rate_bps && (\r\n                              <p className=\"text-xs text-muted-foreground\">\r\n                                = {(comp.rate_bps / 100).toFixed(2)}%\r\n                              </p>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div className=\"space-y-2\">\r\n                            <Label>Flat Amount ($)</Label>\r\n                            <Input\r\n                              type=\"number\"\r\n                              value={comp.flat_amount || ''}\r\n                              onChange={(e) => updateComponent(index, {\r\n                                flat_amount: e.target.value ? Number(e.target.value) : undefined\r\n                              })}\r\n                              placeholder=\"e.g., 5000\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setEditModalOpen(false)} disabled={saving}>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSave} disabled={saving}>\r\n              {saving ? (\r\n                <>\r\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                selectedPlan ? 'Update Plan' : 'Create Plan'\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Fee Plan?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Are you sure you want to delete &quot;{selectedPlan?.name}&quot;? This will deactivate\r\n              the fee plan and hide it from the list. Existing subscriptions using this plan\r\n              will not be affected.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-red-500 hover:bg-red-600\">\r\n              Delete\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}