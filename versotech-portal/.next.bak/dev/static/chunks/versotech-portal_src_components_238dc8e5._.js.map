{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oNAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,kMAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,oNAAC;QACC,WAAW,IAAA,mJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/deals/create-deal-form.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { ArrowLeft, ArrowRight, Loader2, Upload } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport Image from 'next/image'\r\n\r\ninterface CreateDealFormProps {\r\n  entities: Array<{\r\n    id: string\r\n    name: string\r\n    type: string\r\n    currency: string\r\n    logo_url?: string | null\r\n    website_url?: string | null\r\n    arranger_entity_id?: string | null\r\n  }>\r\n  /** Arranger entities available for assignment */\r\n  arrangerEntities?: Array<{\r\n    id: string\r\n    legal_name: string\r\n    company_name?: string | null\r\n  }>\r\n  /** Base path for navigation (e.g., '/versotech/staff' or '/versotech_main') */\r\n  basePath?: string\r\n}\r\n\r\nexport function CreateDealForm({ entities, arrangerEntities = [], basePath = '/versotech/staff' }: CreateDealFormProps) {\r\n  const router = useRouter()\r\n  const [step, setStep] = useState(1)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  const [formData, setFormData] = useState({\r\n    // Step 1: Basic Info\r\n    name: '',\r\n    company_name: '',\r\n    deal_type: 'equity_secondary',\r\n    stock_type: 'common',\r\n    vehicle_id: '',\r\n    arranger_entity_id: '',\r\n    sector: '',\r\n    stage: '',\r\n    location: '',\r\n\r\n    // Step 2: Pipeline & Currency\r\n    // Note: offer_unit_price, minimum_investment, maximum_investment\r\n    // are now ONLY set in the termsheet (source of truth)\r\n    currency: 'USD',\r\n    target_amount: '',\r\n\r\n    // Step 3: Timeline & Description\r\n    open_at: '',\r\n    close_at: '',\r\n    description: '',\r\n    investment_thesis: ''\r\n  })\r\n\r\n  // Logo upload state\r\n  const [logoUploading, setLogoUploading] = useState(false)\r\n  const [logoError, setLogoError] = useState<string | null>(null)\r\n  const [companyLogoUrl, setCompanyLogoUrl] = useState<string>('')\r\n  const [logoSource, setLogoSource] = useState<'entity' | 'manual' | 'none'>('none')\r\n\r\n  const selectedEntity = useMemo(\r\n    () => entities.find((entity) => entity.id === formData.vehicle_id),\r\n    [entities, formData.vehicle_id]\r\n  )\r\n  const entityLogo = selectedEntity?.logo_url ?? ''\r\n\r\n  useEffect(() => {\r\n    if (!selectedEntity) {\r\n      if (logoSource === 'entity') {\r\n        setLogoSource(companyLogoUrl ? 'manual' : 'none')\r\n      }\r\n      return\r\n    }\r\n\r\n    if (entityLogo) {\r\n      if (logoSource !== 'manual') {\r\n        if (companyLogoUrl !== entityLogo) {\r\n          setCompanyLogoUrl(entityLogo)\r\n        }\r\n        if (logoSource !== 'entity') {\r\n          setLogoSource('entity')\r\n        }\r\n        setLogoError(null)\r\n      }\r\n    } else if (logoSource === 'entity') {\r\n      setCompanyLogoUrl('')\r\n      setLogoSource('none')\r\n    }\r\n  }, [selectedEntity, entityLogo, logoSource, companyLogoUrl])\r\n\r\n  const updateField = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }))\r\n  }\r\n\r\n  const handleVehicleSelect = (value: string) => {\r\n    const normalized = value === 'none' ? '' : value\r\n    updateField('vehicle_id', normalized)\r\n\r\n    // Auto-populate arranger from vehicle if available and arranger not already set\r\n    if (normalized) {\r\n      const vehicle = entities.find(e => e.id === normalized)\r\n      if (vehicle?.arranger_entity_id && !formData.arranger_entity_id) {\r\n        updateField('arranger_entity_id', vehicle.arranger_entity_id)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true)\r\n    setError(null)\r\n\r\n    try {\r\n      const payload = {\r\n        name: formData.name.trim(),\r\n        company_name: formData.company_name.trim() || null,\r\n        deal_type: formData.deal_type,\r\n        stock_type: formData.stock_type || null,\r\n        vehicle_id: formData.vehicle_id || null,\r\n        arranger_entity_id: formData.arranger_entity_id || null,\r\n        sector: formData.sector.trim() || null,\r\n        stage: formData.stage.trim() || null,\r\n        location: formData.location.trim() || null,\r\n        currency: formData.currency,\r\n        // Note: offer_unit_price, minimum_investment, maximum_investment are now ONLY in termsheet\r\n        target_amount: formData.target_amount ? parseFloat(formData.target_amount) : null,\r\n        open_at: formData.open_at || null,\r\n        close_at: formData.close_at || null,\r\n        description: formData.description.trim() || null,\r\n        investment_thesis: formData.investment_thesis.trim() || null,\r\n        company_logo_url: companyLogoUrl || undefined\r\n      }\r\n      \r\n      console.log('[CreateDealForm] Submitting payload:', payload)\r\n      \r\n      const response = await fetch('/api/deals', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        console.error('[CreateDealForm] Response not OK:', response.status, response.statusText)\r\n        \r\n        let data: any = {}\r\n        try {\r\n          data = await response.json()\r\n          console.error('[CreateDealForm] Error response:', data)\r\n        } catch (e) {\r\n          console.error('[CreateDealForm] Failed to parse error response:', e)\r\n          throw new Error(`Server error: ${response.status} ${response.statusText}`)\r\n        }\r\n        \r\n        // Show detailed validation errors if available\r\n        if (data.details && Array.isArray(data.details)) {\r\n          const errorMessages = data.details.map((e: any) => `${e.path.join('.')}: ${e.message}`).join(', ')\r\n          throw new Error(`Validation failed: ${errorMessages}`)\r\n        }\r\n        \r\n        throw new Error(data.error || data.details || `Failed to create deal (${response.status})`)\r\n      }\r\n\r\n      const { deal } = await response.json()\r\n      router.push(`${basePath}/deals/${deal.id}`)\r\n    } catch (err: any) {\r\n      setError(err.message)\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Create New Deal</h1>\r\n          <p className=\"text-muted-foreground mt-1\">Set up a new investment opportunity</p>\r\n        </div>\r\n        <Link href={`${basePath}/deals`}>\r\n          <Button variant=\"ghost\" className=\"gap-2\">\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            Back to Deals\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Progress Steps */}\r\n      <div className=\"flex items-center justify-center gap-4\">\r\n        {[1, 2, 3].map((s) => (\r\n          <div key={s} className=\"flex items-center gap-2\">\r\n            <div\r\n              className={`w-10 h-10 rounded-full flex items-center justify-center font-medium transition-colors ${\r\n                s === step\r\n                  ? 'bg-emerald-500 text-white'\r\n                  : s < step\r\n                  ? 'bg-emerald-500/50 text-white'\r\n                  : 'bg-white/10 text-muted-foreground'\r\n              }`}\r\n            >\r\n              {s}\r\n            </div>\r\n            <span className={`text-sm ${s === step ? 'text-foreground font-medium' : 'text-muted-foreground'}`}>\r\n              {s === 1 ? 'Basic Info' : s === 2 ? 'Pipeline' : 'Timeline & Details'}\r\n            </span>\r\n            {s < 3 && <ArrowRight className=\"h-4 w-4 text-muted-foreground ml-2\" />}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Form Steps */}\r\n      <Card className=\"border border-white/10 bg-white/5\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-foreground\">\r\n            {step === 1 ? 'Basic Information' : step === 2 ? 'Pipeline & Currency' : 'Timeline & Description'}\r\n          </CardTitle>\r\n          <CardDescription>\r\n            {step === 1\r\n              ? 'Enter the core details about this investment opportunity'\r\n              : step === 2\r\n              ? 'Set the target amount and currency. Investment limits (min/max) are defined in the termsheet.'\r\n              : 'Set dates and provide context about the deal'}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Step 1: Basic Info */}\r\n          {step === 1 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"name\" className=\"text-foreground\">Deal Name *</Label>\r\n                  <Input\r\n                    id=\"name\"\r\n                    placeholder=\"e.g., Concluder Secondary Q1 2025\"\r\n                    value={formData.name}\r\n                    onChange={(e) => updateField('name', e.target.value)}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"company_name\" className=\"text-foreground\">Company Name</Label>\r\n                  <Input\r\n                    id=\"company_name\"\r\n                    placeholder=\"e.g., Concluder Inc.\"\r\n                    value={formData.company_name}\r\n                    onChange={(e) => updateField('company_name', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"deal_type\" className=\"text-foreground\">Deal Type *</Label>\r\n                  <Select value={formData.deal_type} onValueChange={(v) => updateField('deal_type', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"equity_secondary\">Secondary Equity</SelectItem>\r\n                      <SelectItem value=\"equity_primary\">Primary Equity</SelectItem>\r\n                      <SelectItem value=\"credit_trade_finance\">Credit & Trade Finance</SelectItem>\r\n                      <SelectItem value=\"other\">Other</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"stock_type\" className=\"text-foreground\">Stock Type *</Label>\r\n                  <Select value={formData.stock_type} onValueChange={(v) => updateField('stock_type', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"common\">Common/Ordinary Shares</SelectItem>\r\n                      <SelectItem value=\"preferred\">Preferred Shares</SelectItem>\r\n                      <SelectItem value=\"convertible\">Convertible Notes</SelectItem>\r\n                      <SelectItem value=\"warrant\">Warrants</SelectItem>\r\n                      <SelectItem value=\"bond\">Bonds</SelectItem>\r\n                      <SelectItem value=\"note\">Notes</SelectItem>\r\n                      <SelectItem value=\"other\">Other</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <Label htmlFor=\"vehicle_id\" className=\"text-foreground\">\r\n                      Entity (Optional)\r\n                    </Label>\r\n                  </div>\r\n                  <Select value={formData.vehicle_id || 'none'} onValueChange={handleVehicleSelect}>\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select entity or skip\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">No entity - Direct deal</SelectItem>\r\n                      {entities.map((entity) => (\r\n                        <SelectItem key={entity.id} value={entity.id}>\r\n                          {entity.name} ({entity.type})\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Choose an entity for pooled investments, or \"No entity\" for direct ownership deals. Manage entities from{' '}\r\n                    <Link href={`${basePath}/entities`} className=\"text-emerald-300 hover:text-emerald-200 underline\">\r\n                      Entities\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"arranger_entity_id\" className=\"text-foreground\">Arranger (Optional)</Label>\r\n                  <Select\r\n                    value={formData.arranger_entity_id || 'none'}\r\n                    onValueChange={(v) => updateField('arranger_entity_id', v === 'none' ? '' : v)}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select arranger or skip\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"none\">No Arranger</SelectItem>\r\n                      {arrangerEntities.map((arranger) => (\r\n                        <SelectItem key={arranger.id} value={arranger.id}>\r\n                          {arranger.company_name || arranger.legal_name}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Assign an arranger to manage this deal (mandate)\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"sector\" className=\"text-foreground\">Sector</Label>\r\n                  <Input\r\n                    id=\"sector\"\r\n                    placeholder=\"e.g., SaaS, FinTech\"\r\n                    value={formData.sector}\r\n                    onChange={(e) => updateField('sector', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"stage\" className=\"text-foreground\">Stage</Label>\r\n                  <Input\r\n                    id=\"stage\"\r\n                    placeholder=\"e.g., Series B, Growth\"\r\n                    value={formData.stage}\r\n                    onChange={(e) => updateField('stage', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2 md:col-span-2\">\r\n                  <Label htmlFor=\"location\" className=\"text-foreground\">Location</Label>\r\n                  <Input\r\n                    id=\"location\"\r\n                    placeholder=\"e.g., San Francisco, USA\"\r\n                    value={formData.location}\r\n                    onChange={(e) => updateField('location', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Company Logo Upload */}\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-foreground\">Company Logo</Label>\r\n                <div className=\"flex flex-col gap-3\">\r\n                  <div className=\"flex items-center gap-4\">\r\n                    {companyLogoUrl ? (\r\n                      <Image\r\n                        src={companyLogoUrl}\r\n                        alt={`${(selectedEntity?.name ?? formData.name) || 'Deal'} logo`}\r\n                        width={56}\r\n                        height={56}\r\n                        className=\"rounded-lg object-contain bg-white border border-gray-200 p-2\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"h-14 w-14 rounded-lg bg-white/10 border border-white/20 flex items-center justify-center text-muted-foreground\">\r\n                        56×56\r\n                      </div>\r\n                    )}\r\n                    <div className=\"space-y-2\">\r\n                      <label\r\n                        className=\"inline-flex items-center gap-2 px-3 py-2 border rounded-md cursor-pointer text-sm\"\r\n                        onClick={() => {\r\n                          if (logoSource === 'entity') {\r\n                            setLogoSource('manual')\r\n                            setCompanyLogoUrl('')\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Upload className=\"h-4 w-4\" />\r\n                        <span>{logoSource === 'entity' ? 'Replace Logo' : 'Upload Logo'}</span>\r\n                        <input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          className=\"hidden\"\r\n                          onChange={async (e) => {\r\n                            const file = e.target.files?.[0]\r\n                            if (!file) return\r\n                            setLogoError(null)\r\n                            setLogoUploading(true)\r\n                            try {\r\n                              const formData = new FormData()\r\n                              formData.append('file', file)\r\n                              formData.append('deal_id', 'new')\r\n                              const res = await fetch('/api/deals/logo-upload', {\r\n                                method: 'POST',\r\n                                body: formData\r\n                              })\r\n                              const payload = await res.json().catch(() => ({}))\r\n                              if (!res.ok || !payload?.url) {\r\n                                throw new Error(payload?.error || 'Failed to upload logo')\r\n                              }\r\n                              setCompanyLogoUrl(payload.url)\r\n                              setLogoSource('manual')\r\n                            } catch (err) {\r\n                              setLogoError(err instanceof Error ? err.message : 'Failed to upload logo')\r\n                            } finally {\r\n                              setLogoUploading(false)\r\n                              e.target.value = ''\r\n                            }\r\n                          }}\r\n                        />\r\n                      </label>\r\n                      {selectedEntity?.logo_url && logoSource === 'manual' && (\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          className=\"px-0 text-xs text-emerald-300 hover:text-emerald-200\"\r\n                          onClick={() => {\r\n                            setCompanyLogoUrl(selectedEntity.logo_url ?? '')\r\n                            setLogoSource('entity')\r\n                            setLogoError(null)\r\n                          }}\r\n                        >\r\n                          Use {selectedEntity.name} logo\r\n                        </Button>\r\n                      )}\r\n                      {logoUploading && (\r\n                        <span className=\"text-xs text-muted-foreground\">Uploading…</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  {logoError && (\r\n                    <p className=\"text-xs text-rose-500\">{logoError}</p>\r\n                  )}\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {logoSource === 'entity' && selectedEntity?.name\r\n                      ? `Prefilled from ${selectedEntity.name}. Replace if you need a different logo.`\r\n                      : 'Optional branding shown to investors.'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Pipeline & Currency */}\r\n          {step === 2 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"currency\" className=\"text-foreground\">Currency *</Label>\r\n                  <Select value={formData.currency} onValueChange={(v) => updateField('currency', v)}>\r\n                    <SelectTrigger>\r\n                      <SelectValue />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"USD\">USD</SelectItem>\r\n                      <SelectItem value=\"EUR\">EUR</SelectItem>\r\n                      <SelectItem value=\"GBP\">GBP</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"target_amount\" className=\"text-foreground\">Target Amount</Label>\r\n                  <Input\r\n                    id=\"target_amount\"\r\n                    type=\"number\"\r\n                    step=\"1\"\r\n                    placeholder=\"5000000\"\r\n                    value={formData.target_amount}\r\n                    onChange={(e) => updateField('target_amount', e.target.value)}\r\n                  />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    Total amount you aim to raise for this deal\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20\">\r\n                <p className=\"text-sm text-amber-200\">\r\n                  <strong>Note:</strong> Investment terms (price per share, minimum/maximum investment) are set in the Term Sheet\r\n                  after creating this deal. The termsheet is the source of truth for investor-facing financial details.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Timeline & Description */}\r\n          {step === 3 && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"open_at\" className=\"text-foreground\">Open Date</Label>\r\n                  <Input\r\n                    id=\"open_at\"\r\n                    type=\"datetime-local\"\r\n                    value={formData.open_at}\r\n                    onChange={(e) => updateField('open_at', e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"close_at\" className=\"text-foreground\">Close Date</Label>\r\n                  <Input\r\n                    id=\"close_at\"\r\n                    type=\"datetime-local\"\r\n                    value={formData.close_at}\r\n                    onChange={(e) => updateField('close_at', e.target.value)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\" className=\"text-foreground\">Description</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  placeholder=\"Provide a brief overview of this investment opportunity...\"\r\n                  rows={4}\r\n                  value={formData.description}\r\n                  onChange={(e) => updateField('description', e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"investment_thesis\" className=\"text-foreground\">Investment Thesis</Label>\r\n                <Textarea\r\n                  id=\"investment_thesis\"\r\n                  placeholder=\"Explain why this is an attractive investment...\"\r\n                  rows={6}\r\n                  value={formData.investment_thesis}\r\n                  onChange={(e) => updateField('investment_thesis', e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"p-4 rounded-lg bg-red-500/20 border border-red-400/30 text-red-200\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {/* Navigation Buttons */}\r\n          <div className=\"flex items-center justify-between pt-4 border-t border-white/10\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setStep(s => Math.max(1, s - 1))}\r\n              disabled={step === 1 || loading}\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Previous\r\n            </Button>\r\n\r\n            {step < 3 ? (\r\n              <Button\r\n                onClick={() => setStep(s => Math.min(3, s + 1))}\r\n                disabled={!formData.name}\r\n              >\r\n                Next\r\n                <ArrowRight className=\"h-4 w-4 ml-2\" />\r\n              </Button>\r\n            ) : (\r\n              <Button onClick={handleSubmit} disabled={loading || !formData.name}>\r\n                {loading ? (\r\n                  <>\r\n                    <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    Creating...\r\n                  </>\r\n                ) : (\r\n                  'Create Deal'\r\n                )}\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}