{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr'\nimport { createClient as createSupabaseClient } from '@supabase/supabase-js'\nimport { cookies } from 'next/headers'\n\nexport const createClient = async () => {\n  const cookieStore = await cookies()\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll()\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) => {\n              cookieStore.set(name, value, options)\n            })\n          } catch (error) {\n            // The `setAll` method was called from a Server Component.\n            // This can be ignored if you have middleware refreshing\n            // user sessions.\n          }\n        },\n      },\n    }\n  )\n}\n\n// Server client with service role for admin operations\n// Uses raw supabase-js client which properly bypasses RLS with service role\nexport const createServiceClient = () => {\n  return createSupabaseClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.SUPABASE_SERVICE_ROLE_KEY!,\n    {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false,\n      },\n    }\n  )\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAEO,MAAM,eAAe;IAC1B,MAAM,cAAc,MAAM,IAAA,mKAAO;IAEjC,OAAO,IAAA,wNAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE;wBAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;oBAC/B;gBACF,EAAE,OAAO,OAAO;gBACd,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACnB;YACF;QACF;IACF;AAEJ;AAIO,MAAM,sBAAsB;IACjC,OAAO,IAAA,gOAAoB,gFAEzB,QAAQ,GAAG,CAAC,yBAAyB,EACrC;QACE,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;QAClB;IACF;AAEJ"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/api-auth.ts"],"sourcesContent":["/**\r\n * Helper to get authenticated user from Supabase auth\r\n * Works with both createClient() and createServiceClient()\r\n */\r\nexport async function getAuthenticatedUser(supabase: any) {\r\n  const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n\r\n  return {\r\n    user,\r\n    error: authError\r\n  }\r\n}\r\n\r\n/**\r\n * Get user role from database profile\r\n */\r\nexport async function getUserRole(supabase: any, user: any): Promise<string | null> {\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', user.id)\r\n    .single()\r\n\r\n  return profile?.role || null\r\n}\r\n\r\n/**\r\n * Check if user has a specific permission OR is CEO (CEO bypasses all permission checks)\r\n *\r\n * This centralizes permission checking so that:\r\n * 1. CEO users automatically have ALL permissions without needing staff_permissions entries\r\n * 2. Regular staff users need explicit permissions in staff_permissions table\r\n *\r\n * @param supabase - Supabase client (can be regular or service client)\r\n * @param userId - The user's ID\r\n * @param requiredPermissions - Array of permissions (user needs ANY of these, not all)\r\n * @returns true if user has permission or is CEO\r\n */\r\nexport async function hasPermission(\r\n  supabase: any,\r\n  userId: string,\r\n  requiredPermissions: string[]\r\n): Promise<boolean> {\r\n  // First, check if user is CEO - CEO bypasses all permission checks\r\n  const { data: profile } = await supabase\r\n    .from('profiles')\r\n    .select('role')\r\n    .eq('id', userId)\r\n    .single()\r\n\r\n  if (profile?.role === 'ceo') {\r\n    return true // CEO has all permissions\r\n  }\r\n\r\n  // Also check if user has CEO persona (for multi_persona users)\r\n  const { data: ceoUser } = await supabase\r\n    .from('ceo_users')\r\n    .select('user_id')\r\n    .eq('user_id', userId)\r\n    .maybeSingle()\r\n\r\n  if (ceoUser) {\r\n    return true // User is in ceo_users table, has all permissions\r\n  }\r\n\r\n  // For non-CEO users, check staff_permissions table\r\n  const { data: permission } = await supabase\r\n    .from('staff_permissions')\r\n    .select('permission')\r\n    .eq('user_id', userId)\r\n    .in('permission', requiredPermissions)\r\n    .limit(1)\r\n    .maybeSingle()\r\n\r\n  return !!permission\r\n}\r\n\r\n/**\r\n * Check if user has super_admin permission OR is CEO\r\n * Convenience function for the most common permission check\r\n */\r\nexport async function isSuperAdmin(supabase: any, userId: string): Promise<boolean> {\r\n  return hasPermission(supabase, userId, ['super_admin'])\r\n}\r\n\r\n/**\r\n * Check if user is staff using both profile role AND persona system\r\n *\r\n * Users can have staff access through:\r\n * 1. Legacy role field: 'staff_*' or 'ceo' in profiles.role\r\n * 2. Persona system: staff or ceo persona via get_user_personas RPC\r\n */\r\nexport async function isStaffUser(supabase: any, user: any): Promise<boolean> {\r\n  // First check legacy role field\r\n  const role = await getUserRole(supabase, user)\r\n  if (role && (role.startsWith('staff_') || role === 'ceo')) {\r\n    return true\r\n  }\r\n\r\n  // For multi_persona users, check personas via RPC\r\n  if (role === 'multi_persona') {\r\n    try {\r\n      const { data: personas } = await supabase.rpc('get_user_personas', {\r\n        p_user_id: user.id\r\n      })\r\n\r\n      if (personas && Array.isArray(personas)) {\r\n        return personas.some(\r\n          (p: any) => p.persona_type === 'staff' || p.persona_type === 'ceo'\r\n        )\r\n      }\r\n    } catch (err) {\r\n      console.error('[isStaffUser] Error checking personas:', err)\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;AACM,eAAe,qBAAqB,QAAa;IACtD,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAExE,OAAO;QACL;QACA,OAAO;IACT;AACF;AAKO,eAAe,YAAY,QAAa,EAAE,IAAS;IACxD,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;IAET,OAAO,SAAS,QAAQ;AAC1B;AAcO,eAAe,cACpB,QAAa,EACb,MAAc,EACd,mBAA6B;IAE7B,mEAAmE;IACnE,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QACT,MAAM;IAET,IAAI,SAAS,SAAS,OAAO;QAC3B,OAAO,KAAK,0BAA0B;;IACxC;IAEA,+DAA+D;IAC/D,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,aACL,MAAM,CAAC,WACP,EAAE,CAAC,WAAW,QACd,WAAW;IAEd,IAAI,SAAS;QACX,OAAO,KAAK,kDAAkD;;IAChE;IAEA,mDAAmD;IACnD,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,SAChC,IAAI,CAAC,qBACL,MAAM,CAAC,cACP,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,cAAc,qBACjB,KAAK,CAAC,GACN,WAAW;IAEd,OAAO,CAAC,CAAC;AACX;AAMO,eAAe,aAAa,QAAa,EAAE,MAAc;IAC9D,OAAO,cAAc,UAAU,QAAQ;QAAC;KAAc;AACxD;AASO,eAAe,YAAY,QAAa,EAAE,IAAS;IACxD,gCAAgC;IAChC,MAAM,OAAO,MAAM,YAAY,UAAU;IACzC,IAAI,QAAQ,CAAC,KAAK,UAAU,CAAC,aAAa,SAAS,KAAK,GAAG;QACzD,OAAO;IACT;IAEA,kDAAkD;IAClD,IAAI,SAAS,iBAAiB;QAC5B,IAAI;YACF,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,SAAS,GAAG,CAAC,qBAAqB;gBACjE,WAAW,KAAK,EAAE;YACpB;YAEA,IAAI,YAAY,MAAM,OAAO,CAAC,WAAW;gBACvC,OAAO,SAAS,IAAI,CAClB,CAAC,IAAW,EAAE,YAAY,KAAK,WAAW,EAAE,YAAY,KAAK;YAEjE;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,0CAA0C;QAC1D;IACF;IAEA,OAAO;AACT"}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/api/admin/staff/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { hasPermission } from '@/lib/api-auth'\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Use regular client for authentication (reads cookies)\r\n    const authSupabase = await createClient()\r\n    const { data: { user } } = await authSupabase.auth.getUser()\r\n\r\n    // Use service client for admin operations (bypasses RLS)\r\n    const supabase = createServiceClient()\r\n\r\n    if (!user) {\r\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 })\r\n    }\r\n\r\n    // Check permissions (CEO bypasses this check via hasPermission)\r\n    const canAccess = await hasPermission(supabase, user.id, ['super_admin', 'manage_staff'])\r\n\r\n    if (!canAccess) {\r\n      return NextResponse.json({ error: 'Insufficient permissions' }, { status: 403 })\r\n    }\r\n\r\n    // Get all staff members\r\n    const { data: staffMembers, error: staffError } = await supabase\r\n      .from('profiles')\r\n      .select(`\r\n        id,\r\n        email,\r\n        display_name,\r\n        role,\r\n        title,\r\n        last_login_at,\r\n        created_at,\r\n        updated_at,\r\n        password_set\r\n      `)\r\n      .in('role', ['staff_admin', 'staff_ops', 'staff_rm', 'ceo'])\r\n      .order('created_at', { ascending: false })\r\n\r\n    if (staffError) {\r\n      console.error('Staff fetch error:', staffError)\r\n      return NextResponse.json({ error: 'Failed to fetch staff members' }, { status: 500 })\r\n    }\r\n\r\n    // Get permissions for each staff member\r\n    const { data: allPermissions } = await supabase\r\n      .from('staff_permissions')\r\n      .select('user_id, permission')\r\n      .in('user_id', staffMembers?.map(s => s.id) || [])\r\n\r\n    // Get assigned investor counts (primary + secondary RM)\r\n    const staffIds = staffMembers?.map(s => s.id) || []\r\n\r\n    const { data: primaryAssignments } = await supabase\r\n      .from('investors')\r\n      .select('primary_rm')\r\n      .in('primary_rm', staffIds)\r\n\r\n    const { data: secondaryAssignments } = await supabase\r\n      .from('investors')\r\n      .select('secondary_rm')\r\n      .in('secondary_rm', staffIds)\r\n\r\n    // Count assignments per staff member\r\n    const assignmentCounts: Record<string, number> = {}\r\n    staffIds.forEach(id => { assignmentCounts[id] = 0 })\r\n    primaryAssignments?.forEach(a => {\r\n      if (a.primary_rm) assignmentCounts[a.primary_rm] = (assignmentCounts[a.primary_rm] || 0) + 1\r\n    })\r\n    secondaryAssignments?.forEach(a => {\r\n      if (a.secondary_rm) assignmentCounts[a.secondary_rm] = (assignmentCounts[a.secondary_rm] || 0) + 1\r\n    })\r\n\r\n    // Get 7-day activity counts for activity score\r\n    const sevenDaysAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\r\n    const { data: activityCounts } = await supabase\r\n      .from('audit_logs')\r\n      .select('actor_id')\r\n      .in('actor_id', staffIds)\r\n      .gte('created_at', sevenDaysAgo)\r\n\r\n    // Count activities per staff member\r\n    const activityScores: Record<string, number> = {}\r\n    staffIds.forEach(id => { activityScores[id] = 0 })\r\n    activityCounts?.forEach(a => {\r\n      if (a.actor_id) activityScores[a.actor_id] = (activityScores[a.actor_id] || 0) + 1\r\n    })\r\n\r\n    // Get activity stats for each staff member\r\n    const staffWithStats = await Promise.all(\r\n      (staffMembers || []).map(async (staff) => {\r\n        // Get last activity from audit_logs (correct column: created_at, not timestamp)\r\n        const { data: lastActivity } = await supabase\r\n          .from('audit_logs')\r\n          .select('created_at, action')\r\n          .eq('actor_id', staff.id)\r\n          .order('created_at', { ascending: false })\r\n          .limit(1)\r\n          .single()\r\n\r\n        // Get failed login attempts from audit_logs (no login_attempts table exists)\r\n        const twentyFourHoursAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()\r\n        const { data: failedLogins } = await supabase\r\n          .from('audit_logs')\r\n          .select('id')\r\n          .eq('actor_id', staff.id)\r\n          .eq('action', 'login_failed')\r\n          .gte('created_at', twentyFourHoursAgo)\r\n\r\n        const permissions = allPermissions?.filter(p => p.user_id === staff.id).map(p => p.permission) || []\r\n\r\n        return {\r\n          ...staff,\r\n          status: staff.password_set === false ? 'invited' : 'active',\r\n          permissions,\r\n          is_super_admin: permissions.includes('super_admin'),\r\n          last_activity: lastActivity?.created_at || null,\r\n          last_action: lastActivity?.action || null,\r\n          recent_login_count: 0, // Would need to track successful logins in audit_logs\r\n          recent_failed_logins: failedLogins?.length || 0,\r\n          assigned_investors: assignmentCounts[staff.id] || 0,\r\n          activity_score_7d: activityScores[staff.id] || 0,\r\n        }\r\n      })\r\n    )\r\n\r\n    // Calculate summary statistics\r\n    const stats = {\r\n      total_staff: staffWithStats.length,\r\n      active_staff: staffWithStats.filter(s => s.status === 'active').length,\r\n      invited_staff: staffWithStats.filter(s => s.status === 'invited').length,\r\n      super_admins: staffWithStats.filter(s => s.is_super_admin).length,\r\n      by_role: {\r\n        staff_admin: staffWithStats.filter(s => s.role === 'staff_admin').length,\r\n        staff_ops: staffWithStats.filter(s => s.role === 'staff_ops').length,\r\n        staff_rm: staffWithStats.filter(s => s.role === 'staff_rm').length,\r\n      },\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: {\r\n        staff_members: staffWithStats,\r\n        statistics: stats,\r\n      },\r\n    })\r\n  } catch (error) {\r\n    console.error('Staff list error:', error)\r\n    return NextResponse.json({ error: 'Internal server error' }, { status: 500 })\r\n  }\r\n}"],"names":[],"mappings":"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"}}]
}