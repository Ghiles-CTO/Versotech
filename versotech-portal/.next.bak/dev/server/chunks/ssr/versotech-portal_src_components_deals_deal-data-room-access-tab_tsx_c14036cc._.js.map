{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/deals/deal-data-room-access-tab.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { useRouter } from 'next/navigation'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle\r\n} from '@/components/ui/card'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow\r\n} from '@/components/ui/table'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue\r\n} from '@/components/ui/select'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { format, formatDistanceToNow } from 'date-fns'\r\nimport { Loader2, ShieldCheck, KeyRound, Clock, Trash2, Plus, Edit, Download, FileText, ExternalLink } from 'lucide-react'\r\nimport { DataRoomDocumentUpload } from './data-room-document-upload'\r\nimport { toast } from 'sonner'\r\n\r\ninterface DealDataRoomAccessTabProps {\r\n  dealId: string\r\n  dealName: string\r\n  memberships: Array<Record<string, any>>\r\n  accessRecords: Array<Record<string, any>>\r\n  documents: Array<Record<string, any>>\r\n}\r\n\r\ninterface AccessFormState {\r\n  investorId: string\r\n  expiresAt: string\r\n  autoGranted: boolean\r\n  notes: string\r\n}\r\n\r\nconst emptyForm: AccessFormState = {\r\n  investorId: '',\r\n  expiresAt: '',\r\n  autoGranted: false,\r\n  notes: ''\r\n}\r\n\r\nexport function DealDataRoomAccessTab({\r\n  dealId,\r\n  dealName,\r\n  memberships,\r\n  accessRecords,\r\n  documents\r\n}: DealDataRoomAccessTabProps) {\r\n  const router = useRouter()\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const [formValues, setFormValues] = useState<AccessFormState>(emptyForm)\r\n  const [editingAccessId, setEditingAccessId] = useState<string | null>(null)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState<string | null>(null)\r\n  const [items, setItems] = useState(accessRecords ?? [])\r\n  const [editingDocId, setEditingDocId] = useState<string | null>(null)\r\n  const [docFormValues, setDocFormValues] = useState<any>({})\r\n  const [isDocDialogOpen, setIsDocDialogOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setItems(accessRecords ?? [])\r\n  }, [accessRecords])\r\n\r\n  const investorOptions = useMemo(() => {\r\n    const investors = memberships\r\n      ?.filter(member => member.investor_id && member.investors)\r\n      .map(member => ({\r\n        id: member.investor_id,\r\n        label: member.investors?.legal_name || 'Unnamed investor'\r\n      })) ?? []\r\n    return investors\r\n  }, [memberships])\r\n\r\n  const groupedDocuments = useMemo(() => {\r\n    const map = new Map<string, Array<Record<string, any>>>()\r\n    documents?.forEach(doc => {\r\n      const key = doc.folder || 'Uncategorised'\r\n      if (!map.has(key)) {\r\n        map.set(key, [])\r\n      }\r\n      map.get(key)!.push(doc)\r\n    })\r\n    return Array.from(map.entries())\r\n  }, [documents])\r\n\r\n  const resetForm = () => {\r\n    setFormValues(emptyForm)\r\n    setEditingAccessId(null)\r\n    setErrorMessage(null)\r\n  }\r\n\r\n  const openCreateDialog = () => {\r\n    resetForm()\r\n    setIsDialogOpen(true)\r\n  }\r\n\r\n  const openEditDialog = (record: Record<string, any>) => {\r\n    setFormValues({\r\n      investorId: record.investor_id,\r\n      expiresAt: record.expires_at ? record.expires_at.slice(0, 16) : '',\r\n      autoGranted: Boolean(record.auto_granted),\r\n      notes: record.notes ?? ''\r\n    })\r\n    setEditingAccessId(record.id)\r\n    setErrorMessage(null)\r\n    setIsDialogOpen(true)\r\n  }\r\n\r\n  const closeDialog = () => {\r\n    setIsDialogOpen(false)\r\n    resetForm()\r\n  }\r\n\r\n  const refresh = async () => {\r\n    const response = await fetch(`/api/deals/${dealId}/data-room-access`)\r\n    if (!response.ok) {\r\n      setErrorMessage('Failed to refresh access records. Please reload the page.')\r\n      return\r\n    }\r\n    const data = await response.json()\r\n    setItems(data.access ?? [])\r\n  }\r\n\r\n  const submitForm = async () => {\r\n    if (!formValues.investorId) {\r\n      setErrorMessage('Select an investor before submitting.')\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    setErrorMessage(null)\r\n    try {\r\n      const response = await fetch(`/api/deals/${dealId}/data-room-access`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          investor_id: formValues.investorId,\r\n          expires_at: formValues.expiresAt ? new Date(formValues.expiresAt).toISOString() : null,\r\n          auto_granted: formValues.autoGranted,\r\n          notes: formValues.notes || null\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const text = await response.text()\r\n        throw new Error(text || 'Failed to save access record')\r\n      }\r\n\r\n      await refresh()\r\n      closeDialog()\r\n    } catch (error) {\r\n      setErrorMessage(error instanceof Error ? error.message : 'Unexpected error saving access record')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const revokeAccess = async (record: Record<string, any>) => {\r\n    setIsSubmitting(true)\r\n    setErrorMessage(null)\r\n    try {\r\n      const response = await fetch(`/api/deals/${dealId}/data-room-access`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ access_id: record.id, reason: 'Revoked via staff portal' })\r\n      })\r\n      if (!response.ok) {\r\n        const text = await response.text()\r\n        throw new Error(text || 'Failed to revoke access')\r\n      }\r\n      await refresh()\r\n    } catch (error) {\r\n      setErrorMessage(error instanceof Error ? error.message : 'Unexpected error revoking access')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleDownloadDoc = async (doc: any) => {\r\n    try {\r\n      // If document has external link, open it directly\r\n      if (doc.external_link) {\r\n        window.open(doc.external_link, '_blank', 'noopener,noreferrer')\r\n        toast.success('Opening document in new tab')\r\n      } else {\r\n        // Otherwise, fetch download URL from API\r\n        const response = await fetch(`/api/deals/${dealId}/documents/${doc.id}/download`)\r\n        if (!response.ok) {\r\n          throw new Error('Failed to get download link')\r\n        }\r\n        const data = await response.json()\r\n        window.open(data.download_url, '_blank')\r\n        toast.success('Document download started')\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to open document')\r\n    }\r\n  }\r\n\r\n  const openEditDocDialog = (doc: any) => {\r\n    setEditingDocId(doc.id)\r\n    setDocFormValues({\r\n      file_name: doc.file_name || '',\r\n      folder: doc.folder || 'Legal',\r\n      visible_to_investors: doc.visible_to_investors || false,\r\n      document_notes: doc.document_notes || '',\r\n      external_link: doc.external_link || ''\r\n    })\r\n    setIsDocDialogOpen(true)\r\n  }\r\n\r\n  const handleSaveDocEdit = async () => {\r\n    if (!editingDocId) return\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      const response = await fetch(`/api/deals/${dealId}/documents/${editingDocId}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(docFormValues)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const error = await response.json()\r\n        throw new Error(error.error || 'Failed to update document')\r\n      }\r\n\r\n      toast.success('Document updated successfully')\r\n      setIsDocDialogOpen(false)\r\n      setEditingDocId(null)\r\n      router.refresh()\r\n    } catch (error) {\r\n      toast.error(error instanceof Error ? error.message : 'Failed to update document')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleDeleteDoc = async (doc: any) => {\r\n    if (!confirm(`Are you sure you want to delete \"${doc.file_name}\"? This action cannot be undone.`)) {\r\n      return\r\n    }\r\n\r\n    setIsSubmitting(true)\r\n    try {\r\n      const response = await fetch(`/api/deals/${dealId}/documents/${doc.id}`, {\r\n        method: 'DELETE'\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to delete document')\r\n      }\r\n\r\n      toast.success('Document deleted successfully')\r\n      router.refresh()\r\n    } catch (error) {\r\n      toast.error('Failed to delete document')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"border-border bg-muted/50\">\r\n        <CardHeader className=\"flex flex-row items-start justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-foreground\">Data Room Access</CardTitle>\r\n            <CardDescription>\r\n              Manage NDA-cleared investors, extend access windows, and keep visibility in sync with documentation.\r\n            </CardDescription>\r\n          </div>\r\n          <Button onClick={openCreateDialog} className=\"gap-2\" disabled={isSubmitting}>\r\n            <KeyRound className=\"h-4 w-4\" />\r\n            Grant Access\r\n          </Button>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {errorMessage && (\r\n            <div className=\"mb-4 rounded-md border border-destructive/40 bg-destructive/10 px-4 py-3 text-sm text-destructive\">\r\n              {errorMessage}\r\n            </div>\r\n          )}\r\n\r\n          <Table className=\"min-w-full\">\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>Investor</TableHead>\r\n                <TableHead>Granted</TableHead>\r\n                <TableHead>Expires</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {items?.length ? (\r\n                items.map(record => {\r\n                  const isRevoked = Boolean(record.revoked_at)\r\n                  const expiresSoon = !record.revoked_at && record.expires_at && new Date(record.expires_at) < new Date(Date.now() + 3 * 24 * 60 * 60 * 1000)\r\n                  return (\r\n                    <TableRow key={record.id}>\r\n                      <TableCell className=\"font-medium\">\r\n                        {record.investors?.legal_name || 'Unknown investor'}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {record.granted_at ? format(new Date(record.granted_at), 'dd MMM yyyy HH:mm') : '—'}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {record.expires_at\r\n                          ? `${format(new Date(record.expires_at), 'dd MMM yyyy HH:mm')} (${formatDistanceToNow(new Date(record.expires_at), { addSuffix: true })})`\r\n                          : 'No expiry'}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Badge className={isRevoked ? 'bg-rose-500/20 text-rose-100' : expiresSoon ? 'bg-amber-500/20 text-amber-100' : 'bg-emerald-500/20 text-emerald-100'}>\r\n                          {isRevoked ? 'REVOKED' : expiresSoon ? 'EXPIRING' : 'ACTIVE'}\r\n                        </Badge>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right space-x-2\">\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          className=\"gap-2\"\r\n                          onClick={() => openEditDialog(record)}\r\n                          disabled={isSubmitting || isRevoked}\r\n                        >\r\n                          <Clock className=\"h-4 w-4\" />\r\n                          Extend\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          className=\"gap-2 text-rose-300\"\r\n                          onClick={() => revokeAccess(record)}\r\n                          disabled={isSubmitting || isRevoked}\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                          Revoke\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )\r\n                })\r\n              ) : (\r\n                <TableRow>\r\n                  <TableCell colSpan={5} className=\"text-center text-muted-foreground py-6\">\r\n                    No active access yet. Grant access once the NDA is signed.\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"border-border bg-muted/50\">\r\n        <CardHeader className=\"flex flex-row items-start justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-foreground\">Data Room Documents</CardTitle>\r\n            <CardDescription>\r\n              Upload and manage documents that investors can access in their data room.\r\n            </CardDescription>\r\n          </div>\r\n          <DataRoomDocumentUpload\r\n            dealId={dealId}\r\n            onUploadComplete={refresh}\r\n            trigger={\r\n              <Button className=\"gap-2\">\r\n                <Plus className=\"h-4 w-4\" />\r\n                Upload Files\r\n              </Button>\r\n            }\r\n          />\r\n        </CardHeader>\r\n        <CardContent>\r\n          {documents?.length ? (\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>Document</TableHead>\r\n                  <TableHead>Folder</TableHead>\r\n                  <TableHead>Visible to Investors</TableHead>\r\n                  <TableHead>Uploaded</TableHead>\r\n                  <TableHead className=\"text-right\">Actions</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {documents.map(doc => (\r\n                  <TableRow key={doc.id}>\r\n                    <TableCell className=\"font-medium\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {doc.external_link ? (\r\n                          <ExternalLink className=\"h-4 w-4 text-blue-500\" />\r\n                        ) : (\r\n                          <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n                        )}\r\n                        {doc.file_name || doc.file_key?.split('/').pop() || 'Untitled'}\r\n                        {doc.external_link && (\r\n                          <Badge variant=\"outline\" className=\"ml-2 text-xs bg-blue-500/10 text-blue-400 border-blue-500/30\">\r\n                            Link\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Badge variant=\"outline\">{doc.folder || 'Uncategorized'}</Badge>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <Badge className={doc.visible_to_investors ? 'bg-emerald-500/20 text-emerald-100' : 'bg-muted text-muted-foreground'}>\r\n                        {doc.visible_to_investors ? 'YES' : 'NO'}\r\n                      </Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-sm text-muted-foreground\">\r\n                      {doc.created_at ? format(new Date(doc.created_at), 'MMM d, yyyy') : '—'}\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right space-x-2\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        className=\"gap-2\"\r\n                        onClick={() => handleDownloadDoc(doc)}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        {doc.external_link ? (\r\n                          <>\r\n                            <ExternalLink className=\"h-4 w-4\" />\r\n                            View\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <Download className=\"h-4 w-4\" />\r\n                            Download\r\n                          </>\r\n                        )}\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        className=\"gap-2\"\r\n                        onClick={() => openEditDocDialog(doc)}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        <Edit className=\"h-4 w-4\" />\r\n                        Edit\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        size=\"sm\"\r\n                        className=\"gap-2 text-rose-300\"\r\n                        onClick={() => handleDeleteDoc(doc)}\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                        Delete\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-muted-foreground\">\r\n              No documents have been published to the data room yet.\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={isDialogOpen} onOpenChange={open => !open && closeDialog()}>\r\n        <DialogContent className=\"sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingAccessId ? 'Update Data Room Access' : 'Grant Data Room Access'}</DialogTitle>\r\n            <CardDescription>\r\n              Select an investor and optionally set an expiry to control data room visibility for {dealName}.\r\n            </CardDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-2\">\r\n            <div className=\"space-y-2\">\r\n              <Label>Investor</Label>\r\n              <Select\r\n                value={formValues.investorId}\r\n                onValueChange={value => setFormValues(prev => ({ ...prev, investorId: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select investor\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {investorOptions.length ? (\r\n                    investorOptions.map(option => (\r\n                      <SelectItem key={option.id} value={option.id}>\r\n                        {option.label}\r\n                      </SelectItem>\r\n                    ))\r\n                  ) : (\r\n                    <SelectItem value=\"\">No investors invited yet</SelectItem>\r\n                  )}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"expiresAt\">Expiry</Label>\r\n              <Input\r\n                id=\"expiresAt\"\r\n                type=\"datetime-local\"\r\n                value={formValues.expiresAt}\r\n                onChange={event => setFormValues(prev => ({ ...prev, expiresAt: event.target.value }))}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">Leave blank for open-ended access.</p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"autoGranted\"\r\n                checked={formValues.autoGranted}\r\n                onCheckedChange={checked =>\r\n                  setFormValues(prev => ({ ...prev, autoGranted: Boolean(checked) }))\r\n                }\r\n              />\r\n              <Label htmlFor=\"autoGranted\" className=\"text-sm font-medium\">\r\n                Mark as auto-granted (automation)\r\n              </Label>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"notes\">Notes</Label>\r\n              <Textarea\r\n                id=\"notes\"\r\n                rows={3}\r\n                value={formValues.notes}\r\n                onChange={event => setFormValues(prev => ({ ...prev, notes: event.target.value }))}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter className=\"flex items-center justify-between\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"ghost\"\r\n              onClick={closeDialog}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={submitForm} disabled={isSubmitting}>\r\n              {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Save Access\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Document Edit Dialog */}\r\n      <Dialog open={isDocDialogOpen} onOpenChange={setIsDocDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Document</DialogTitle>\r\n            <CardDescription>\r\n              Update document metadata, folder, and visibility settings.\r\n            </CardDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4 py-2\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"fileName\">Document Name</Label>\r\n              <Input\r\n                id=\"fileName\"\r\n                value={docFormValues.file_name || ''}\r\n                onChange={event => setDocFormValues((prev: any) => ({ ...prev, file_name: event.target.value }))}\r\n                placeholder=\"Enter document name...\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"externalLink\">External Link (optional)</Label>\r\n              <Input\r\n                id=\"externalLink\"\r\n                type=\"url\"\r\n                value={docFormValues.external_link || ''}\r\n                onChange={event => setDocFormValues((prev: any) => ({ ...prev, external_link: event.target.value }))}\r\n                placeholder=\"https://drive.google.com/file/d/...\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                Leave empty for uploaded files. Add a Google Drive, Dropbox, or other external link to reference documents hosted elsewhere.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label>Folder</Label>\r\n              <Select\r\n                value={docFormValues.folder}\r\n                onValueChange={value => setDocFormValues((prev: any) => ({ ...prev, folder: value }))}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"Legal\">Legal</SelectItem>\r\n                  <SelectItem value=\"KYC\">KYC</SelectItem>\r\n                  <SelectItem value=\"Reports\">Reports</SelectItem>\r\n                  <SelectItem value=\"Presentations\">Presentations</SelectItem>\r\n                  <SelectItem value=\"Financial Models\">Financial Models</SelectItem>\r\n                  <SelectItem value=\"Misc\">Misc</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Checkbox\r\n                id=\"docVisible\"\r\n                checked={docFormValues.visible_to_investors}\r\n                onCheckedChange={checked =>\r\n                  setDocFormValues((prev: any) => ({ ...prev, visible_to_investors: Boolean(checked) }))\r\n                }\r\n              />\r\n              <Label htmlFor=\"docVisible\" className=\"text-sm font-medium\">\r\n                Visible to investors\r\n              </Label>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"docNotes\">Notes</Label>\r\n              <Textarea\r\n                id=\"docNotes\"\r\n                rows={3}\r\n                value={docFormValues.document_notes}\r\n                onChange={event => setDocFormValues((prev: any) => ({ ...prev, document_notes: event.target.value }))}\r\n                placeholder=\"Internal notes about this document...\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter className=\"flex items-center justify-between\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"ghost\"\r\n              onClick={() => setIsDocDialogOpen(false)}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSaveDocEdit} disabled={isSubmitting}>\r\n              {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n              Save Changes\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}