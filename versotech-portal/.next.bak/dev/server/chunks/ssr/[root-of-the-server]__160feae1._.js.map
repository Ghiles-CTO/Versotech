{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/calendar/calendar-split-view.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CalendarSplitView = registerClientReference(\n    function() { throw new Error(\"Attempted to call CalendarSplitView() from the server but CalendarSplitView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/calendar/calendar-split-view.tsx <module evaluation>\",\n    \"CalendarSplitView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,+RAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,kGACA","ignoreList":[0]}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/calendar/calendar-split-view.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CalendarSplitView = registerClientReference(\n    function() { throw new Error(\"Attempted to call CalendarSplitView() from the server but CalendarSplitView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/calendar/calendar-split-view.tsx\",\n    \"CalendarSplitView\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,oBAAoB,IAAA,+RAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,8EACA","ignoreList":[0]}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/calendar/page.tsx"],"sourcesContent":["import { CalendarSplitView } from '@/components/calendar/calendar-split-view'\r\nimport type { CalendarEvent } from '@/components/calendar/calendar-view'\r\nimport { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { AlertCircle } from 'lucide-react'\r\nimport { checkStaffAccess } from '@/lib/auth'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\n// Color palettes for different event types\r\nconst TASK_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  high: { id: 'task-high', name: 'Task • High priority', color: '#dc2626' },\r\n  medium: { id: 'task-medium', name: 'Task • Medium priority', color: '#f97316' },\r\n  low: { id: 'task-low', name: 'Task • Standard priority', color: '#2563eb' }\r\n}\r\n\r\nconst REQUEST_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  urgent: { id: 'request-urgent', name: 'Investor request • Urgent', color: '#be123c' },\r\n  high: { id: 'request-high', name: 'Investor request • High', color: '#b45309' },\r\n  normal: { id: 'request-normal', name: 'Investor request • Standard', color: '#0ea5e9' },\r\n  low: { id: 'request-low', name: 'Investor request • Low', color: '#64748b' }\r\n}\r\n\r\nconst DEAL_PALETTE: Record<string, { id: string; name: string; color: string }> = {\r\n  open: { id: 'deal-open', name: 'Deal close • Open', color: '#7c3aed' },\r\n  allocation_pending: { id: 'deal-allocation', name: 'Deal close • Allocation pending', color: '#a855f7' },\r\n  due_diligence: { id: 'deal-dd', name: 'Deal close • Due diligence', color: '#9333ea' },\r\n  closed: { id: 'deal-closed', name: 'Deal close • Closed', color: '#64748b' }\r\n}\r\n\r\nconst CAPITAL_CALL_PALETTE = {\r\n  pending: { id: 'call-pending', name: 'Capital call due', color: '#dc2626' },\r\n  draft: { id: 'call-draft', name: 'Capital call • Draft', color: '#f97316' }\r\n}\r\n\r\nconst DISTRIBUTION_PALETTE = {\r\n  scheduled: { id: 'dist-scheduled', name: 'Distribution', color: '#16a34a' }\r\n}\r\n\r\nconst KYC_PALETTE = {\r\n  expiring_soon: { id: 'kyc-expiring', name: 'KYC expiring', color: '#f59e0b' },\r\n  expired: { id: 'kyc-expired', name: 'KYC expired', color: '#dc2626' },\r\n  accred_expiring: { id: 'accred-expiring', name: 'Accreditation expiring', color: '#ea580c' }\r\n}\r\n\r\nconst APPROVAL_PALETTE = {\r\n  sla_breach: { id: 'approval-breach', name: 'Approval • SLA breach', color: '#dc2626' },\r\n  pending: { id: 'approval-pending', name: 'Approval pending', color: '#f59e0b' }\r\n}\r\n\r\nconst FEE_PALETTE = {\r\n  accrued: { id: 'fee-accrued', name: 'Fee event', color: '#14b8a6' }\r\n}\r\n\r\nconst DATA_ROOM_PALETTE = {\r\n  expiring: { id: 'data-room-expiring', name: 'Data room access expiring', color: '#8b5cf6' }\r\n}\r\n\r\nconst SUBSCRIPTION_PALETTE = {\r\n  funding: { id: 'sub-funding', name: 'Subscription funding due', color: '#10b981' }\r\n}\r\n\r\nfunction addDays(base: Date, days: number) {\r\n  return new Date(base.getTime() + days * 86_400_000)\r\n}\r\n\r\nfunction sentenceCase(input: string | null): string | undefined {\r\n  if (!input) return undefined\r\n  return input\r\n    .toLowerCase()\r\n    .split('_')\r\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\r\n    .join(' ')\r\n}\r\n\r\n/**\r\n * Calendar Page for Unified Portal (versotech_main)\r\n *\r\n * Persona-aware calendar view:\r\n * - Staff/CEO personas: Full access to calendar\r\n * - Other personas: Access denied\r\n */\r\nexport default async function CalendarPage() {\r\n  const clientSupabase = await createClient()\r\n  const { data: { user }, error: userError } = await clientSupabase.auth.getUser()\r\n\r\n  if (!user || userError) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"text-center py-16\">\r\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n            Authentication Required\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Please log in to view calendar.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Check if user has staff/CEO persona for full access\r\n  const hasStaffAccess = await checkStaffAccess(user.id)\r\n  const serviceSupabase = createServiceClient()\r\n\r\n  if (!hasStaffAccess) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"text-center py-16\">\r\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n            Access Restricted\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            Calendar is only available to staff members.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const calendarEvents: CalendarEvent[] = []\r\n\r\n  // 1. TASKS - All staff tasks\r\n  const { data: taskRows } = await serviceSupabase\r\n    .from('tasks')\r\n    .select('id, title, status, priority, due_at, category, created_at')\r\n    .not('status', 'eq', 'completed')\r\n    .not('owner_user_id', 'is', null)\r\n    .order('due_at', { ascending: true, nullsFirst: false })\r\n    .limit(50)\r\n\r\n  for (const task of taskRows ?? []) {\r\n    const priorityKey = task.priority || 'medium'\r\n    const palette = TASK_PALETTE[priorityKey] ?? TASK_PALETTE.low\r\n    const endDate = task.due_at ? new Date(task.due_at) : new Date(task.created_at)\r\n    const startDate = task.due_at ? addDays(endDate, -1) : new Date(task.created_at)\r\n\r\n    calendarEvents.push({\r\n      id: `task-${task.id}`,\r\n      name: task.title,\r\n      startAt: startDate.toISOString(),\r\n      endAt: endDate.toISOString(),\r\n      status: palette,\r\n      description: task.category ? `Category • ${sentenceCase(task.category)}` : undefined\r\n    })\r\n  }\r\n\r\n  // 2. DEALS - Target close dates\r\n  const { data: dealRows } = await serviceSupabase\r\n    .from('deals')\r\n    .select('id, name, status, close_at, created_at, vehicles ( name )')\r\n    .in('status', ['open', 'allocation_pending', 'draft'])\r\n    .not('close_at', 'is', null)\r\n    .order('close_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const deal of dealRows ?? []) {\r\n    const statusKey = deal.status ?? 'open'\r\n    const palette = DEAL_PALETTE[statusKey] ?? DEAL_PALETTE.open\r\n    const closeDate = new Date(deal.close_at!)\r\n    const startDate = addDays(closeDate, -7)\r\n\r\n    calendarEvents.push({\r\n      id: `deal-${deal.id}`,\r\n      name: `Deal Close: ${deal.name}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: deal.close_at!,\r\n      status: palette,\r\n      description: deal.vehicles?.[0]?.name ? `Vehicle • ${deal.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 3. CAPITAL CALLS - Due dates\r\n  const { data: capitalCallRows } = await serviceSupabase\r\n    .from('capital_calls')\r\n    .select('id, name, due_date, status, vehicles ( name )')\r\n    .in('status', ['draft', 'pending', 'active'])\r\n    .not('due_date', 'is', null)\r\n    .order('due_date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const call of capitalCallRows ?? []) {\r\n    const palette = call.status === 'pending' ? CAPITAL_CALL_PALETTE.pending : CAPITAL_CALL_PALETTE.draft\r\n    const dueDate = new Date(call.due_date!)\r\n    const startDate = addDays(dueDate, -3)\r\n\r\n    calendarEvents.push({\r\n      id: `call-${call.id}`,\r\n      name: call.name,\r\n      startAt: startDate.toISOString(),\r\n      endAt: call.due_date!,\r\n      status: palette,\r\n      description: call.vehicles?.[0]?.name ? `Vehicle • ${call.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 4. DISTRIBUTIONS - Distribution dates\r\n  const { data: distributionRows } = await serviceSupabase\r\n    .from('distributions')\r\n    .select('id, name, date, vehicles ( name )')\r\n    .gte('date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0])\r\n    .order('date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const dist of distributionRows ?? []) {\r\n    const distDate = new Date(dist.date)\r\n\r\n    calendarEvents.push({\r\n      id: `dist-${dist.id}`,\r\n      name: dist.name,\r\n      startAt: distDate.toISOString(),\r\n      endAt: distDate.toISOString(),\r\n      status: DISTRIBUTION_PALETTE.scheduled,\r\n      description: dist.vehicles?.[0]?.name ? `Vehicle • ${dist.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 5. KYC RENEWALS - KYC and accreditation expiry dates\r\n  const ninetyDaysFromNow = new Date(Date.now() + 90 * 86_400_000).toISOString().split('T')[0]\r\n\r\n  const { data: kycRows } = await serviceSupabase\r\n    .from('investors')\r\n    .select('id, legal_name, kyc_expiry_date, accreditation_expiry')\r\n    .or(`kyc_expiry_date.lte.${ninetyDaysFromNow},accreditation_expiry.lte.${ninetyDaysFromNow}`)\r\n    .limit(50)\r\n\r\n  for (const investor of kycRows ?? []) {\r\n    if (investor.kyc_expiry_date) {\r\n      const expiryDate = new Date(investor.kyc_expiry_date)\r\n      const isExpired = expiryDate < new Date()\r\n      const palette = isExpired ? KYC_PALETTE.expired : KYC_PALETTE.expiring_soon\r\n      const startDate = addDays(expiryDate, -14)\r\n\r\n      calendarEvents.push({\r\n        id: `kyc-${investor.id}`,\r\n        name: `KYC Renewal: ${investor.legal_name}`,\r\n        startAt: startDate.toISOString(),\r\n        endAt: investor.kyc_expiry_date,\r\n        status: palette,\r\n        description: isExpired ? 'Expired' : 'Expiring soon'\r\n      })\r\n    }\r\n\r\n    if (investor.accreditation_expiry) {\r\n      const expiryDate = new Date(investor.accreditation_expiry)\r\n      const startDate = addDays(expiryDate, -14)\r\n\r\n      calendarEvents.push({\r\n        id: `accred-${investor.id}`,\r\n        name: `Accreditation Renewal: ${investor.legal_name}`,\r\n        startAt: startDate.toISOString(),\r\n        endAt: investor.accreditation_expiry,\r\n        status: KYC_PALETTE.accred_expiring,\r\n        description: 'Accreditation expiring'\r\n      })\r\n    }\r\n  }\r\n\r\n  // 6. APPROVALS - Pending approvals with SLA tracking\r\n  const { data: approvalRows } = await serviceSupabase\r\n    .from('approvals')\r\n    .select('id, entity_type, action, entity_id, created_at, sla_breach_at, requested_by:profiles!requested_by ( display_name )')\r\n    .eq('status', 'pending')\r\n    .order('sla_breach_at', { ascending: true, nullsFirst: false })\r\n    .limit(30)\r\n\r\n  for (const approval of approvalRows ?? []) {\r\n    const breachDate = approval.sla_breach_at\r\n      ? new Date(approval.sla_breach_at)\r\n      : addDays(new Date(approval.created_at), 3)\r\n\r\n    const isBreach = breachDate < new Date()\r\n    const palette = isBreach ? APPROVAL_PALETTE.sla_breach : APPROVAL_PALETTE.pending\r\n    const startDate = new Date(approval.created_at)\r\n\r\n    const approvalType = approval.action\r\n      ? sentenceCase(approval.action)\r\n      : sentenceCase(approval.entity_type)\r\n\r\n    calendarEvents.push({\r\n      id: `approval-${approval.id}`,\r\n      name: `Approval: ${approvalType}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: breachDate.toISOString(),\r\n      status: palette,\r\n      description: Array.isArray(approval.requested_by) && approval.requested_by[0]?.display_name\r\n        ? `Requested by ${approval.requested_by[0].display_name}`\r\n        : undefined\r\n    })\r\n  }\r\n\r\n  // 7. SUBSCRIPTION FUNDING - Funding due dates\r\n  const { data: subscriptionRows } = await serviceSupabase\r\n    .from('subscriptions')\r\n    .select('id, subscription_number, funding_due_at, investors ( legal_name ), vehicles ( name )')\r\n    .in('status', ['committed', 'active'])\r\n    .not('funding_due_at', 'is', null)\r\n    .gte('funding_due_at', new Date().toISOString())\r\n    .order('funding_due_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const sub of subscriptionRows ?? []) {\r\n    const fundingDate = new Date(sub.funding_due_at!)\r\n    const startDate = addDays(fundingDate, -5)\r\n\r\n    calendarEvents.push({\r\n      id: `sub-${sub.id}`,\r\n      name: `Funding Due: ${(Array.isArray(sub.investors) ? sub.investors[0]?.legal_name : null) || sub.subscription_number}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: sub.funding_due_at!,\r\n      status: SUBSCRIPTION_PALETTE.funding,\r\n      description: sub.vehicles?.[0]?.name ? `Vehicle • ${sub.vehicles[0].name}` : undefined\r\n    })\r\n  }\r\n\r\n  // 8. FEE EVENTS - Fee accrual/payment dates\r\n  const { data: feeRows } = await serviceSupabase\r\n    .from('fee_events')\r\n    .select('id, fee_type, event_date, computed_amount, deals ( name ), investors ( legal_name, display_name )')\r\n    .in('status', ['accrued', 'invoiced'])\r\n    .gte('event_date', new Date(Date.now() - 30 * 86_400_000).toISOString().split('T')[0])\r\n    .order('event_date', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const fee of feeRows ?? []) {\r\n    const feeDate = new Date(fee.event_date)\r\n\r\n    const dealName = Array.isArray(fee.deals) && fee.deals[0]?.name\r\n      ? fee.deals[0].name\r\n      : null\r\n\r\n    const investorName = Array.isArray(fee.investors) && fee.investors[0]\r\n      ? (fee.investors[0].display_name || fee.investors[0].legal_name)\r\n      : null\r\n\r\n    const description = dealName\r\n      ? `Deal • ${dealName}`\r\n      : investorName\r\n      ? `Investor • ${investorName}`\r\n      : undefined\r\n\r\n    calendarEvents.push({\r\n      id: `fee-${fee.id}`,\r\n      name: `Fee Event: ${sentenceCase(fee.fee_type)}`,\r\n      startAt: feeDate.toISOString(),\r\n      endAt: feeDate.toISOString(),\r\n      status: FEE_PALETTE.accrued,\r\n      description\r\n    })\r\n  }\r\n\r\n  // 9. REQUEST TICKETS - Custom requests with due dates\r\n  const { data: requestRows } = await serviceSupabase\r\n    .from('request_tickets')\r\n    .select('id, subject, status, priority, due_date, created_at, investors ( legal_name )')\r\n    .in('status', ['open', 'in_progress'])\r\n    .order('due_date', { ascending: true, nullsFirst: false })\r\n    .limit(30)\r\n\r\n  for (const request of requestRows ?? []) {\r\n    const palette = REQUEST_PALETTE[request.priority] ?? REQUEST_PALETTE.normal\r\n    const endDate = request.due_date ? new Date(request.due_date) : addDays(new Date(request.created_at), 5)\r\n    const startDate = new Date(request.created_at)\r\n\r\n    calendarEvents.push({\r\n      id: `request-${request.id}`,\r\n      name: request.subject || 'Investor Request',\r\n      startAt: startDate.toISOString(),\r\n      endAt: endDate.toISOString(),\r\n      status: palette,\r\n      description: Array.isArray(request.investors) && request.investors[0]?.legal_name\r\n        ? `Investor • ${request.investors[0].legal_name}`\r\n        : undefined\r\n    })\r\n  }\r\n\r\n  // 10. DATA ROOM ACCESS - Expiring access\r\n  const thirtyDaysFromNow = new Date(Date.now() + 30 * 86_400_000).toISOString()\r\n\r\n  const { data: dataRoomRows } = await serviceSupabase\r\n    .from('deal_data_room_access')\r\n    .select('id, expires_at, deals ( name ), investors ( legal_name, display_name )')\r\n    .is('revoked_at', null)\r\n    .lte('expires_at', thirtyDaysFromNow)\r\n    .order('expires_at', { ascending: true })\r\n    .limit(30)\r\n\r\n  for (const access of dataRoomRows ?? []) {\r\n    const expiryDate = new Date(access.expires_at)\r\n    const startDate = addDays(expiryDate, -3)\r\n\r\n    const investorName = Array.isArray(access.investors) && access.investors[0]\r\n      ? (access.investors[0].display_name || access.investors[0].legal_name)\r\n      : null\r\n\r\n    calendarEvents.push({\r\n      id: `dataroom-${access.id}`,\r\n      name: `Data Room Expiry: ${(Array.isArray(access.deals) ? access.deals[0]?.name : null) || 'Deal'}`,\r\n      startAt: startDate.toISOString(),\r\n      endAt: access.expires_at,\r\n      status: DATA_ROOM_PALETTE.expiring,\r\n      description: investorName ? `Investor • ${investorName}` : undefined\r\n    })\r\n  }\r\n\r\n  // Sort events by start date\r\n  calendarEvents.sort((a, b) => new Date(a.startAt).getTime() - new Date(b.startAt).getTime())\r\n\r\n  return (\r\n    <div className=\"space-y-8 px-6 py-8\">\r\n      <div className=\"space-y-2\">\r\n        <h1 className=\"text-3xl font-bold\">Calendar</h1>\r\n        <p className=\"text-muted-foreground\">\r\n          View all important deadlines, events, and tasks across the platform\r\n        </p>\r\n      </div>\r\n      <CalendarSplitView\r\n        calendarEvents={calendarEvents}\r\n        emptyCalendarMessage=\"No upcoming events or deadlines scheduled.\"\r\n        brand=\"versotech\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}