{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/deals/deal-detail-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle\r\n} from '@/components/ui/dialog'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Textarea } from '@/components/ui/textarea'\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'\r\nimport {\r\n  Building2,\r\n  Users,\r\n  Package,\r\n  DollarSign,\r\n  FileText,\r\n  Activity,\r\n  HandCoins,\r\n  ArrowLeft,\r\n  Edit,\r\n  Loader2\r\n} from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { useRouter } from 'next/navigation'\r\nimport { DealOverviewTab } from './deal-overview-tab'\r\nimport { DealInventoryTab } from './deal-inventory-tab'\r\nimport { DealMembersTab } from './deal-members-tab'\r\nimport { DealFeePlansTab } from './deal-fee-plans-tab'\r\nimport { DealDocumentsTab } from './deal-documents-tab'\r\nimport { DealActivityTab } from './deal-activity-tab'\r\nimport { DealTermSheetTab } from './deal-term-sheet-tab'\r\nimport { DealInterestTab } from './deal-interest-tab'\r\nimport { DealDataRoomAccessTab } from './deal-data-room-access-tab'\r\nimport { DealSubscriptionsTab } from './deal-subscriptions-tab'\r\nimport { DealFaqTab } from './deal-faq-tab'\r\n\r\nconst statusColors = {\r\n  draft: 'bg-muted text-foreground border border-border',\r\n  open: 'bg-emerald-500/20 text-emerald-200 border border-emerald-400/30',\r\n  allocation_pending: 'bg-amber-500/15 text-amber-200 border border-amber-400/30',\r\n  closed: 'bg-blue-500/20 text-blue-200 border border-blue-400/30',\r\n  cancelled: 'bg-red-500/20 text-red-200 border border-red-400/30'\r\n}\r\n\r\nconst dealTypeLabels = {\r\n  equity_secondary: 'Secondary',\r\n  equity_primary: 'Primary',\r\n  credit_trade_finance: 'Credit/Trade',\r\n  other: 'Other'\r\n}\r\n\r\ninterface DealDetailClientProps {\r\n  deal: any\r\n  inventorySummary: {\r\n    total_units: number\r\n    available_units: number\r\n    reserved_units: number\r\n    allocated_units: number\r\n  }\r\n  documents: any[]\r\n  termSheets: any[]\r\n  interests: any[]\r\n  dataRoomAccess: any[]\r\n  dataRoomDocuments: any[]\r\n  subscriptions: any[]\r\n  subscriptionsForJourney?: any[] // Subscriptions with journey tracking fields\r\n  activitySummary: Record<string, number>\r\n  userProfile: { role: string }\r\n  /** Arranger entities available for assignment */\r\n  arrangerEntities?: Array<{\r\n    id: string\r\n    legal_name: string\r\n    company_name?: string | null\r\n  }>\r\n}\r\n\r\nexport function DealDetailClient({\r\n  deal,\r\n  inventorySummary,\r\n  documents,\r\n  termSheets,\r\n  interests,\r\n  dataRoomAccess,\r\n  dataRoomDocuments,\r\n  subscriptions,\r\n  subscriptionsForJourney = [],\r\n  activitySummary,\r\n  userProfile,\r\n  arrangerEntities = []\r\n}: DealDetailClientProps) {\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false)\r\n  const [shareLots, setShareLots] = useState<any[]>([])\r\n  const [isSaving, setIsSaving] = useState(false)\r\n  const [editFormData, setEditFormData] = useState({\r\n    name: deal?.name || '',\r\n    description: deal?.description || '',\r\n    investment_thesis: deal?.investment_thesis || '',\r\n    status: deal?.status || 'draft',\r\n    deal_type: deal?.deal_type || 'equity_secondary',\r\n    stock_type: deal?.stock_type || 'common',\r\n    company_name: deal?.company_name || '',\r\n    company_website: deal?.company_website || '',\r\n    sector: deal?.sector || '',\r\n    stage: deal?.stage || '',\r\n    location: deal?.location || '',\r\n    open_at: deal?.open_at ? deal.open_at.slice(0, 16) : '',\r\n    close_at: deal?.close_at ? deal.close_at.slice(0, 16) : '',\r\n    // Note: offer_unit_price, minimum_investment, maximum_investment are now ONLY in termsheet\r\n    target_amount: deal?.target_amount || '',\r\n    currency: deal?.currency || 'USD',\r\n    arranger_entity_id: deal?.arranger_entity_id || ''\r\n  })\r\n  const router = useRouter()\r\n\r\n  // Fetch share lots for inventory\r\n  const fetchShareLots = async () => {\r\n    try {\r\n      const response = await fetch(`/api/deals/${deal.id}/inventory`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setShareLots(data.inventory || [])\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch share lots:', error)\r\n    }\r\n  }\r\n\r\n  // Fetch share lots on mount\r\n  useEffect(() => {\r\n    if (deal?.id) {\r\n      fetchShareLots()\r\n    }\r\n  }, [deal?.id])\r\n\r\n  // Refresh handler for inventory tab\r\n  const handleInventoryRefresh = () => {\r\n    fetchShareLots()\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Log component mount for debugging\r\n    console.log('[DealDetailClient] Component mounted', {\r\n      dealId: deal?.id,\r\n      dealName: deal?.name,\r\n      dealStatus: deal?.status,\r\n      hasInventory: !!inventorySummary,\r\n      termSheetCount: termSheets?.length || 0,\r\n      interestCount: interests?.length || 0,\r\n      userRole: userProfile?.role\r\n    })\r\n  }, [deal, inventorySummary, termSheets, interests, userProfile])\r\n\r\n  const handleSaveDeal = async () => {\r\n    setIsSaving(true)\r\n    try {\r\n      const response = await fetch(`/api/deals/${deal.id}`, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          ...editFormData,\r\n          // Note: offer_unit_price, minimum_investment, maximum_investment are now ONLY in termsheet\r\n          target_amount: editFormData.target_amount ? parseFloat(editFormData.target_amount as string) : null,\r\n          arranger_entity_id: editFormData.arranger_entity_id === 'none' || !editFormData.arranger_entity_id ? null : editFormData.arranger_entity_id\r\n        })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update deal')\r\n      }\r\n\r\n      setEditDialogOpen(false)\r\n      router.refresh()\r\n    } catch (error) {\r\n      console.error('Error updating deal:', error)\r\n      alert('Failed to update deal. Please try again.')\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  const publishedTermSheet = termSheets?.find((sheet: any) => sheet.status === 'published')\r\n  const pendingInterests = interests?.filter((interest: any) => interest.status === 'pending_review') ?? []\r\n  const approvedInterests = interests?.filter((interest: any) => interest.status === 'approved') ?? []\r\n  const activeAccess = dataRoomAccess?.filter((record: any) => !record.revoked_at) ?? []\r\n  const pendingSubscriptions = subscriptions?.filter((submission: any) => submission.status === 'pending_review') ?? []\r\n  const ndaCompletedCount = activitySummary?.nda_completed ?? 0\r\n  const subscriptionCompletedCount = activitySummary?.subscription_completed ?? 0\r\n\r\n  // Safety check - if no deal, show error state (server should handle redirect)\r\n  if (!deal || !deal.id) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <Card className=\"border border-destructive/50 bg-destructive/10\">\r\n          <CardContent className=\"p-6 text-center text-foreground\">\r\n            <p>Unable to load deal details</p>\r\n            <Link href=\"/versotech_main/deals\">\r\n              <Button variant=\"outline\" className=\"mt-4\">\r\n                Back to Deals\r\n              </Button>\r\n            </Link>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"space-y-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <Button \r\n              variant=\"ghost\" \r\n              size=\"sm\" \r\n              className=\"gap-2 text-foreground hover:text-sky-400 hover:bg-muted\"\r\n              onClick={() => router.push('/versotech_main/deals')}\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4\" />\r\n              Back to Deals\r\n            </Button>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-3\">\r\n            <h1 className=\"text-3xl font-bold text-foreground\">{deal.name}</h1>\r\n            <Badge className={statusColors[deal.status as keyof typeof statusColors]}>\r\n              {deal.status.replace('_', ' ')}\r\n            </Badge>\r\n            <Badge variant=\"outline\" className=\"border-border text-foreground\">\r\n              {dealTypeLabels[deal.deal_type as keyof typeof dealTypeLabels]}\r\n            </Badge>\r\n          </div>\r\n\r\n          {deal.company_name && (\r\n            <p className=\"text-muted-foreground text-lg\">\r\n              {deal.company_name}\r\n              {deal.sector && ` • ${deal.sector}`}\r\n              {deal.location && ` • ${deal.location}`}\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            className=\"gap-2 border-border text-foreground hover:bg-muted\"\r\n            onClick={() => setEditDialogOpen(true)}\r\n          >\r\n            <Edit className=\"h-4 w-4\" />\r\n            Edit Deal\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border border-border bg-muted/50\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              Interest Signals\r\n            </CardTitle>\r\n            <HandCoins className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {interests?.length ?? 0}\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">{pendingInterests.length} awaiting review</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border border-border bg-muted/50\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              Active NDAs\r\n            </CardTitle>\r\n            <FileText className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {activeAccess.length}\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {approvedInterests.length} interests approved\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border border-border bg-muted/50\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              Published Term Sheet\r\n            </CardTitle>\r\n            <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {publishedTermSheet ? `V${publishedTermSheet.version}` : '—'}\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {publishedTermSheet\r\n                ? `Published ${publishedTermSheet.published_at ? new Date(publishedTermSheet.published_at).toLocaleDateString() : ''}`\r\n                : 'No published version'}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card className=\"border border-border bg-muted/50\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              Subscriptions\r\n            </CardTitle>\r\n            <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-foreground\">\r\n              {subscriptions?.length ?? 0}\r\n            </div>\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {pendingSubscriptions.length} awaiting approval\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"border border-border bg-muted/50\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n              Conversions (90d)\r\n            </CardTitle>\r\n            <Badge variant=\"outline\">Analytics</Badge>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"flex flex-col gap-1 text-xs text-muted-foreground\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span>NDA completed</span>\r\n                <span className=\"font-semibold text-foreground\">{ndaCompletedCount}</span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span>Subscriptions funded</span>\r\n                <span className=\"font-semibold text-foreground\">{subscriptionCompletedCount}</span>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      <Tabs defaultValue=\"overview\" value={activeTab} onValueChange={setActiveTab} id={`deal-tabs-${deal.id}`}>\r\n        <TabsList className=\"flex flex-wrap gap-2\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"term-sheet\">Term Sheets</TabsTrigger>\r\n          <TabsTrigger value=\"interests\">Interests</TabsTrigger>\r\n          <TabsTrigger value=\"data-room\">Data Room</TabsTrigger>\r\n          <TabsTrigger value=\"inventory\">Inventory</TabsTrigger>\r\n          <TabsTrigger value=\"members\">Members</TabsTrigger>\r\n          <TabsTrigger value=\"fees\">Fee Plans</TabsTrigger>\r\n          <TabsTrigger value=\"subscriptions\">Subscriptions</TabsTrigger>\r\n          <TabsTrigger value=\"documents\">Documents</TabsTrigger>\r\n          <TabsTrigger value=\"faq\">FAQ</TabsTrigger>\r\n          <TabsTrigger value=\"activity\">Activity</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\">\r\n          <DealOverviewTab\r\n            deal={deal}\r\n            memberships={deal.deal_memberships || []}\r\n            subscriptionsForJourney={subscriptionsForJourney}\r\n          />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"term-sheet\">\r\n          <DealTermSheetTab dealId={deal.id} termSheets={termSheets} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"interests\">\r\n          <DealInterestTab\r\n            dealId={deal.id}\r\n            interests={interests}\r\n            subscriptions={subscriptions}\r\n          />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"data-room\">\r\n          <DealDataRoomAccessTab\r\n            dealId={deal.id}\r\n            dealName={deal.name}\r\n            memberships={deal.deal_memberships || []}\r\n            accessRecords={dataRoomAccess}\r\n            documents={dataRoomDocuments}\r\n          />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"inventory\">\r\n          <DealInventoryTab dealId={deal.id} shareLots={shareLots} inventorySummary={inventorySummary} onRefresh={handleInventoryRefresh} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"members\">\r\n          <DealMembersTab dealId={deal.id} members={deal.deal_memberships || []} subscriptions={subscriptionsForJourney} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"fees\">\r\n          <DealFeePlansTab dealId={deal.id} feePlans={deal.fee_plans || []} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"subscriptions\">\r\n          <DealSubscriptionsTab dealId={deal.id} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"documents\">\r\n          <DealDocumentsTab dealId={deal.id} documents={documents} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"faq\">\r\n          <DealFaqTab dealId={deal.id} />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"activity\">\r\n          <DealActivityTab dealId={deal.id} />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Edit Deal Dialog */}\r\n      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Deal</DialogTitle>\r\n            <DialogDescription>\r\n              Update deal information. Changes will be reflected immediately.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6 py-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label htmlFor=\"edit-name\">Deal Name *</Label>\r\n                <Input\r\n                  id=\"edit-name\"\r\n                  value={editFormData.name}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, name: e.target.value })}\r\n                  placeholder=\"e.g., Revolut Secondary 2025\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-status\">Status</Label>\r\n                <Select\r\n                  value={editFormData.status}\r\n                  onValueChange={(value) => setEditFormData({ ...editFormData, status: value })}\r\n                >\r\n                  <SelectTrigger id=\"edit-status\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"draft\">Draft</SelectItem>\r\n                    <SelectItem value=\"open\">Open</SelectItem>\r\n                    <SelectItem value=\"allocation_pending\">Allocation Pending</SelectItem>\r\n                    <SelectItem value=\"closed\">Closed</SelectItem>\r\n                    <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-deal-type\">Deal Type</Label>\r\n                <Select\r\n                  value={editFormData.deal_type}\r\n                  onValueChange={(value) => setEditFormData({ ...editFormData, deal_type: value })}\r\n                >\r\n                  <SelectTrigger id=\"edit-deal-type\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"equity_secondary\">Secondary</SelectItem>\r\n                    <SelectItem value=\"equity_primary\">Primary</SelectItem>\r\n                    <SelectItem value=\"credit_trade_finance\">Credit/Trade Finance</SelectItem>\r\n                    <SelectItem value=\"other\">Other</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-stock-type\">Stock Type</Label>\r\n                <Select\r\n                  value={editFormData.stock_type}\r\n                  onValueChange={(value) => setEditFormData({ ...editFormData, stock_type: value })}\r\n                >\r\n                  <SelectTrigger id=\"edit-stock-type\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"common\">Common/Ordinary Shares</SelectItem>\r\n                    <SelectItem value=\"preferred\">Preferred Shares</SelectItem>\r\n                    <SelectItem value=\"convertible\">Convertible Notes</SelectItem>\r\n                    <SelectItem value=\"warrant\">Warrants</SelectItem>\r\n                    <SelectItem value=\"bond\">Bonds</SelectItem>\r\n                    <SelectItem value=\"note\">Notes</SelectItem>\r\n                    <SelectItem value=\"other\">Other</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-company-name\">Company Name</Label>\r\n                <Input\r\n                  id=\"edit-company-name\"\r\n                  value={editFormData.company_name}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, company_name: e.target.value })}\r\n                  placeholder=\"e.g., Revolut Ltd\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-company-website\">Company Website</Label>\r\n                <Input\r\n                  id=\"edit-company-website\"\r\n                  type=\"url\"\r\n                  value={editFormData.company_website}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, company_website: e.target.value })}\r\n                  placeholder=\"https://...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-sector\">Sector</Label>\r\n                <Input\r\n                  id=\"edit-sector\"\r\n                  value={editFormData.sector}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, sector: e.target.value })}\r\n                  placeholder=\"e.g., Fintech\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-stage\">Stage</Label>\r\n                <Input\r\n                  id=\"edit-stage\"\r\n                  value={editFormData.stage}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, stage: e.target.value })}\r\n                  placeholder=\"e.g., Series E\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-location\">Location</Label>\r\n                <Input\r\n                  id=\"edit-location\"\r\n                  value={editFormData.location}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, location: e.target.value })}\r\n                  placeholder=\"e.g., London, UK\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-currency\">Currency</Label>\r\n                <Select\r\n                  value={editFormData.currency}\r\n                  onValueChange={(value) => setEditFormData({ ...editFormData, currency: value })}\r\n                >\r\n                  <SelectTrigger id=\"edit-currency\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"USD\">USD</SelectItem>\r\n                    <SelectItem value=\"EUR\">EUR</SelectItem>\r\n                    <SelectItem value=\"GBP\">GBP</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-arranger\">Arranger (Mandate)</Label>\r\n                <Select\r\n                  value={editFormData.arranger_entity_id || 'none'}\r\n                  onValueChange={(value) => setEditFormData({ ...editFormData, arranger_entity_id: value === 'none' ? '' : value })}\r\n                >\r\n                  <SelectTrigger id=\"edit-arranger\">\r\n                    <SelectValue placeholder=\"Select arranger\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"none\">No Arranger</SelectItem>\r\n                    {arrangerEntities.map((arranger) => (\r\n                      <SelectItem key={arranger.id} value={arranger.id}>\r\n                        {arranger.company_name || arranger.legal_name}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Assign an arranger to manage this deal as their mandate\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-open-at\">Open Date</Label>\r\n                <Input\r\n                  id=\"edit-open-at\"\r\n                  type=\"datetime-local\"\r\n                  value={editFormData.open_at}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, open_at: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-close-at\">Close Date</Label>\r\n                <Input\r\n                  id=\"edit-close-at\"\r\n                  type=\"datetime-local\"\r\n                  value={editFormData.close_at}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, close_at: e.target.value })}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"edit-target-amount\">Target Amount</Label>\r\n                <Input\r\n                  id=\"edit-target-amount\"\r\n                  type=\"number\"\r\n                  step=\"1\"\r\n                  value={editFormData.target_amount}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, target_amount: e.target.value })}\r\n                  placeholder=\"e.g., 5000000\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  Investment terms (price, min/max) are set in the Term Sheet\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label htmlFor=\"edit-description\">Description</Label>\r\n                <Textarea\r\n                  id=\"edit-description\"\r\n                  rows={3}\r\n                  value={editFormData.description}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, description: e.target.value })}\r\n                  placeholder=\"Brief description of the deal...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label htmlFor=\"edit-investment-thesis\">Investment Thesis</Label>\r\n                <Textarea\r\n                  id=\"edit-investment-thesis\"\r\n                  rows={3}\r\n                  value={editFormData.investment_thesis}\r\n                  onChange={(e) => setEditFormData({ ...editFormData, investment_thesis: e.target.value })}\r\n                  placeholder=\"Why this is a good investment opportunity...\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-2 pt-4\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setEditDialogOpen(false)}\r\n                disabled={isSaving}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={handleSaveDeal}\r\n                disabled={isSaving || !editFormData.name}\r\n              >\r\n                {isSaving && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                Save Changes\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}