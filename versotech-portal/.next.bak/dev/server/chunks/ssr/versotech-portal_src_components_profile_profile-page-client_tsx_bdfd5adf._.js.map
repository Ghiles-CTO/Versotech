{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/profile/profile-page-client.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { ProfileImageUpload } from '@/components/profile/profile-image-upload'\r\nimport { ProfileForm } from '@/components/profile/profile-form'\r\nimport { PasswordChangeForm } from '@/components/profile/password-change-form'\r\nimport { PreferencesEditor } from '@/components/profile/preferences-editor'\r\nimport { KYCDocumentsTab } from '@/components/profile/kyc-documents-tab'\r\nimport { CounterpartyEntitiesTab } from '@/components/profile/counterparty-entities-tab'\r\nimport { ComplianceTab } from '@/components/profile/compliance-tab'\r\nimport { KYCQuestionnaire } from '@/components/kyc/KYCQuestionnaire'\r\nimport { GenericEntityMembersTab } from '@/components/profile/generic-entity-members-tab'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Button } from '@/components/ui/button'\r\nimport {\r\n  User,\r\n  Lock,\r\n  Settings,\r\n  Briefcase,\r\n  Building2,\r\n  Bell,\r\n  ShieldCheck,\r\n  ShieldAlert,\r\n  Users,\r\n  FileSignature,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  Clock,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  Edit,\r\n  Shield,\r\n  Globe,\r\n} from 'lucide-react'\r\nimport { MembersManagementTab } from '@/components/members/members-management-tab'\r\nimport { SignatureSpecimenTab } from '@/components/profile/signature-specimen-tab'\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { IndividualKycDisplay, EntityKYCEditDialog, EntityAddressEditDialog, EntityInfoEditDialog } from '@/components/shared'\r\n\r\n// Types for investor entity data passed from server\r\ntype InvestorInfo = {\r\n  id: string\r\n  legal_name: string\r\n  display_name: string | null\r\n  type: string | null\r\n  status: string | null\r\n  kyc_status: string | null\r\n  onboarding_status: string | null\r\n  country: string | null\r\n  country_of_incorporation: string | null\r\n  tax_residency: string | null\r\n  email: string | null\r\n  phone: string | null\r\n  website: string | null\r\n  registered_address: string | null\r\n  city: string | null\r\n  representative_name: string | null\r\n  representative_title: string | null\r\n  is_professional_investor: boolean | null\r\n  is_qualified_purchaser: boolean | null\r\n  aml_risk_rating: string | null\r\n  logo_url: string | null\r\n  // Individual KYC fields\r\n  first_name: string | null\r\n  middle_name: string | null\r\n  last_name: string | null\r\n  name_suffix: string | null\r\n  date_of_birth: string | null\r\n  country_of_birth: string | null\r\n  nationality: string | null\r\n  // Phone numbers\r\n  phone_mobile: string | null\r\n  phone_office: string | null\r\n  // Residential address (for individuals)\r\n  residential_street: string | null\r\n  residential_line_2: string | null\r\n  residential_city: string | null\r\n  residential_state: string | null\r\n  residential_postal_code: string | null\r\n  residential_country: string | null\r\n  // Registered address (for entities)\r\n  registered_address_line_1: string | null\r\n  registered_address_line_2: string | null\r\n  registered_city: string | null\r\n  registered_state: string | null\r\n  registered_postal_code: string | null\r\n  registered_country: string | null\r\n  // US Tax compliance\r\n  is_us_citizen: boolean | null\r\n  is_us_taxpayer: boolean | null\r\n  us_taxpayer_id: string | null\r\n  country_of_tax_residency: string | null\r\n  // ID Document\r\n  id_type: string | null\r\n  id_number: string | null\r\n  id_issue_date: string | null\r\n  id_expiry_date: string | null\r\n  id_issuing_country: string | null\r\n  // Additional KYC fields\r\n  middle_initial?: string | null\r\n  proof_of_address_date?: string | null\r\n  proof_of_address_expiry?: string | null\r\n  tax_id_number?: string | null\r\n}\r\n\r\ntype InvestorUserInfo = {\r\n  role: string\r\n  is_primary: boolean\r\n  can_sign: boolean\r\n}\r\n\r\ninterface ProfilePageClientProps {\r\n  userEmail?: string\r\n  profile: {\r\n    id: string\r\n    email: string | null\r\n    display_name: string | null\r\n    full_name?: string | null\r\n    title: string | null\r\n    avatar_url: string | null\r\n    phone: string | null\r\n    office_location: string | null\r\n    bio: string | null\r\n    role: string\r\n    created_at: string\r\n  }\r\n  variant?: 'investor' | 'staff'\r\n  defaultTab?: string\r\n  investorInfo?: InvestorInfo | null\r\n  investorUserInfo?: InvestorUserInfo | null\r\n}\r\n\r\n// Status badge configurations\r\nconst STATUS_BADGES: Record<string, { label: string; className: string; icon: typeof CheckCircle2 }> = {\r\n  active: { label: 'Active', className: 'bg-emerald-100 text-emerald-800 border-emerald-200', icon: CheckCircle2 },\r\n  pending: { label: 'Pending', className: 'bg-amber-100 text-amber-800 border-amber-200', icon: Clock },\r\n  inactive: { label: 'Inactive', className: 'bg-gray-100 text-gray-800 border-gray-200', icon: AlertCircle },\r\n  suspended: { label: 'Suspended', className: 'bg-red-100 text-red-800 border-red-200', icon: AlertCircle },\r\n}\r\n\r\nconst KYC_BADGES: Record<string, { label: string; className: string }> = {\r\n  approved: { label: 'KYC Approved', className: 'bg-emerald-100 text-emerald-800 border-emerald-200' },\r\n  pending: { label: 'KYC Pending', className: 'bg-amber-100 text-amber-800 border-amber-200' },\r\n  rejected: { label: 'KYC Rejected', className: 'bg-red-100 text-red-800 border-red-200' },\r\n  not_started: { label: 'KYC Not Started', className: 'bg-gray-100 text-gray-800 border-gray-200' },\r\n}\r\n\r\nexport function ProfilePageClient({\r\n  userEmail,\r\n  profile: initialProfile,\r\n  variant = 'investor',\r\n  defaultTab = 'overview',\r\n  investorInfo,\r\n  investorUserInfo\r\n}: ProfilePageClientProps) {\r\n  const [profile, setProfile] = useState(initialProfile)\r\n  const [showKycDialog, setShowKycDialog] = useState(false)\r\n  const [showAddressDialog, setShowAddressDialog] = useState(false)\r\n  const [showEntityInfoDialog, setShowEntityInfoDialog] = useState(false)\r\n  const isStaff = variant === 'staff'\r\n\r\n  // Use server-passed investorInfo instead of client-side fetching\r\n  const hasInvestorEntity = !!investorInfo\r\n  const isIndividual = investorInfo?.type === 'individual'\r\n  const isEntity = hasInvestorEntity && investorInfo?.type !== 'individual'\r\n\r\n  // Debug logging on client\r\n  console.log('[ProfilePageClient] Props received:', {\r\n    variant,\r\n    isStaff,\r\n    hasInvestorEntity,\r\n    isIndividual,\r\n    isEntity,\r\n    investorInfo: investorInfo ? { id: investorInfo.id, legal_name: investorInfo.legal_name, type: investorInfo.type } : null,\r\n  })\r\n\r\n  const handleAvatarUpdate = (newAvatarUrl: string) => {\r\n    setProfile(prev => ({\r\n      ...prev,\r\n      avatar_url: newAvatarUrl\r\n    }))\r\n  }\r\n\r\n  const handleProfileUpdate = (updatedProfile: any) => {\r\n    setProfile(prev => ({\r\n      ...prev,\r\n      ...updatedProfile\r\n    }))\r\n  }\r\n\r\n  // Get status badges for investor\r\n  const statusBadge = STATUS_BADGES[investorInfo?.status || 'pending'] || STATUS_BADGES.pending\r\n  const StatusIcon = statusBadge.icon\r\n  const kycBadge = KYC_BADGES[investorInfo?.kyc_status || 'not_started'] || KYC_BADGES.not_started\r\n\r\n  // Staff layout - keep the original grid layout\r\n  if (isStaff) {\r\n    return (\r\n      <div className=\"grid gap-6 lg:grid-cols-3\">\r\n        {/* Left Column - Avatar */}\r\n        <div className=\"lg:col-span-1\">\r\n          <div className=\"sticky top-6\">\r\n            <ProfileImageUpload\r\n              currentAvatarUrl={profile.avatar_url}\r\n              userName={profile.display_name || profile.email || 'Staff User'}\r\n              onAvatarUpdate={handleAvatarUpdate}\r\n            />\r\n\r\n            {/* Quick Info Card - Staff Only */}\r\n            <div className=\"mt-6 p-4 border border-border rounded-lg bg-muted/50 space-y-3\">\r\n              <div>\r\n                <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\r\n                  Contact\r\n                </p>\r\n                <p className=\"text-sm mt-1 text-foreground\">{profile.email}</p>\r\n                {profile.phone && (\r\n                  <p className=\"text-sm text-muted-foreground\">{profile.phone}</p>\r\n                )}\r\n              </div>\r\n\r\n              {profile.office_location && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\r\n                    Office\r\n                  </p>\r\n                  <p className=\"text-sm mt-1 text-foreground\">{profile.office_location}</p>\r\n                </div>\r\n              )}\r\n\r\n              {profile.title && (\r\n                <div>\r\n                  <p className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\r\n                    Title\r\n                  </p>\r\n                  <p className=\"text-sm mt-1 text-foreground\">{profile.title}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right Column - Tabs */}\r\n        <div className=\"lg:col-span-2\">\r\n          <Tabs defaultValue=\"profile\" className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-3\">\r\n              <TabsTrigger value=\"profile\">\r\n                <Briefcase className=\"h-4 w-4 mr-2\" />\r\n                Profile\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"security\">\r\n                <Lock className=\"h-4 w-4 mr-2\" />\r\n                Security\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"preferences\">\r\n                <Bell className=\"h-4 w-4 mr-2\" />\r\n                Notifications\r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"profile\" className=\"mt-6\">\r\n              <ProfileForm\r\n                userId={profile.id}\r\n                initialData={profile}\r\n                onUpdate={handleProfileUpdate}\r\n                showStaffFields={true}\r\n              />\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"security\" className=\"mt-6\">\r\n              <PasswordChangeForm />\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"preferences\" className=\"mt-6\">\r\n              <PreferencesEditor variant=\"staff\" />\r\n            </TabsContent>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Investor layout - full-width like Partner profile\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header with Avatar and Status */}\r\n      <div className=\"flex items-start justify-between\">\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Avatar */}\r\n          <ProfileImageUpload\r\n            currentAvatarUrl={profile.avatar_url}\r\n            userName={profile.display_name || profile.email || 'User'}\r\n            onAvatarUpdate={handleAvatarUpdate}\r\n            compact\r\n          />\r\n\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-foreground\">\r\n              {hasInvestorEntity\r\n                ? (investorInfo!.display_name || investorInfo!.legal_name)\r\n                : 'My Profile'\r\n              }\r\n            </h1>\r\n            <p className=\"text-muted-foreground mt-1\">\r\n              {hasInvestorEntity\r\n                ? 'Manage your investor profile, documents, and team'\r\n                : 'Manage your personal profile settings'\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status Badges */}\r\n        {hasInvestorEntity && (\r\n          <div className=\"flex items-center gap-2\">\r\n            <Badge className={statusBadge.className}>\r\n              <StatusIcon className=\"h-3 w-3 mr-1\" />\r\n              {statusBadge.label}\r\n            </Badge>\r\n            <Badge className={kycBadge.className}>\r\n              {kycBadge.label}\r\n            </Badge>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <Tabs defaultValue={defaultTab} className=\"space-y-6\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"overview\" className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-4 w-4\" />\r\n            Overview\r\n          </TabsTrigger>\r\n          {hasInvestorEntity && (\r\n            <>\r\n              <TabsTrigger value=\"kyc\" className=\"flex items-center gap-2\">\r\n                <ShieldCheck className=\"h-4 w-4\" />\r\n                KYC\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"compliance\" className=\"flex items-center gap-2\">\r\n                <ShieldAlert className=\"h-4 w-4\" />\r\n                Compliance\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"members\" className=\"flex items-center gap-2\">\r\n                <Users className=\"h-4 w-4\" />\r\n                Team\r\n              </TabsTrigger>\r\n              {isEntity && (\r\n                <TabsTrigger value=\"entity-members\" className=\"flex items-center gap-2\">\r\n                  <Users className=\"h-4 w-4\" />\r\n                  Directors/UBOs\r\n                </TabsTrigger>\r\n              )}\r\n              <TabsTrigger value=\"entities\" className=\"flex items-center gap-2\">\r\n                <Building2 className=\"h-4 w-4\" />\r\n                Entities\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"signature\" className=\"flex items-center gap-2\">\r\n                <FileSignature className=\"h-4 w-4\" />\r\n                Signature\r\n              </TabsTrigger>\r\n            </>\r\n          )}\r\n          <TabsTrigger value=\"security\" className=\"flex items-center gap-2\">\r\n            <Lock className=\"h-4 w-4\" />\r\n            Security\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"preferences\" className=\"flex items-center gap-2\">\r\n            <Settings className=\"h-4 w-4\" />\r\n            Preferences\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Overview Tab */}\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* Your Info Card */}\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <User className=\"h-5 w-5\" />\r\n                  Your Information\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  Your account details within this investor entity\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-muted-foreground\">Full Name</Label>\r\n                  <div className=\"font-medium\">\r\n                    {profile.display_name || 'Not set'}\r\n                  </div>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-muted-foreground\">Email</Label>\r\n                  <div className=\"font-medium flex items-center gap-2\">\r\n                    <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                    {profile.email || userEmail}\r\n                  </div>\r\n                </div>\r\n                {hasInvestorEntity && (\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-muted-foreground\">Role</Label>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Badge variant=\"outline\" className=\"capitalize\">\r\n                        {investorUserInfo?.role || 'member'}\r\n                      </Badge>\r\n                      {investorUserInfo?.is_primary && (\r\n                        <Badge variant=\"secondary\">Primary Contact</Badge>\r\n                      )}\r\n                      {investorUserInfo?.can_sign && (\r\n                        <Badge className=\"bg-blue-100 text-blue-800 border-blue-200\">\r\n                          Signatory\r\n                        </Badge>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Investor Entity Info - Only for ENTITY type, not individual */}\r\n            {isEntity && investorInfo && (\r\n              <Card>\r\n                <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <Building2 className=\"h-5 w-5\" />\r\n                      Entity Information\r\n                    </CardTitle>\r\n                    <CardDescription>\r\n                      Organization details\r\n                    </CardDescription>\r\n                  </div>\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => setShowEntityInfoDialog(true)}>\r\n                    <Edit className=\"h-4 w-4 mr-2\" />\r\n                    Edit\r\n                  </Button>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-muted-foreground\">Display Name</Label>\r\n                    <div className=\"font-medium\">\r\n                      {investorInfo.display_name || '-'}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-muted-foreground\">Legal Name</Label>\r\n                    <div className=\"font-medium\">{investorInfo.legal_name || '-'}</div>\r\n                  </div>\r\n                  {investorInfo.country_of_incorporation && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-muted-foreground\">Country of Incorporation</Label>\r\n                      <div className=\"font-medium\">{investorInfo.country_of_incorporation}</div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-muted-foreground\">Type</Label>\r\n                    <Badge variant=\"outline\" className=\"capitalize\">\r\n                      {(investorInfo.type || 'entity').replace(/_/g, ' ')}\r\n                    </Badge>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            )}\r\n          </div>\r\n\r\n          {/* Contact & Address for ENTITY investors only (individual investors show this in IndividualKycDisplay) */}\r\n          {isEntity && (\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n              {/* Contact Info */}\r\n              <Card>\r\n                <CardHeader className=\"flex flex-row items-center justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"flex items-center gap-2\">\r\n                      <Phone className=\"h-5 w-5\" />\r\n                      Contact Information\r\n                    </CardTitle>\r\n                  </div>\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => setShowAddressDialog(true)}>\r\n                    <Edit className=\"h-4 w-4 mr-2\" />\r\n                    Edit\r\n                  </Button>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  {investorInfo!.email && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-muted-foreground\">Email</Label>\r\n                      <div className=\"font-medium flex items-center gap-2\">\r\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n                        {investorInfo!.email}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {investorInfo!.phone && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-muted-foreground\">Phone</Label>\r\n                      <div className=\"font-medium flex items-center gap-2\">\r\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                        {investorInfo!.phone}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {investorInfo!.phone_mobile && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-muted-foreground\">Mobile</Label>\r\n                      <div className=\"font-medium flex items-center gap-2\">\r\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                        {investorInfo!.phone_mobile}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {investorInfo!.website && (\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-muted-foreground\">Website</Label>\r\n                      <div className=\"font-medium flex items-center gap-2\">\r\n                        <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                        <a href={investorInfo!.website} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-600 hover:underline\">\r\n                          {investorInfo!.website}\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {!investorInfo!.email && !investorInfo!.phone && !investorInfo!.phone_mobile && !investorInfo!.website && (\r\n                    <p className=\"text-muted-foreground text-sm\">No contact information available</p>\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n\r\n              {/* Address */}\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <MapPin className=\"h-5 w-5\" />\r\n                    {isEntity ? 'Registered Address' : 'Address'}\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-4\">\r\n                  {isEntity ? (\r\n                    // Entity address display - use registered_* columns\r\n                    investorInfo!.registered_address_line_1 ? (\r\n                      <>\r\n                        <div className=\"font-medium\">\r\n                          {investorInfo!.registered_address_line_1}\r\n                        </div>\r\n                        {investorInfo!.registered_address_line_2 && (\r\n                          <div className=\"text-muted-foreground\">{investorInfo!.registered_address_line_2}</div>\r\n                        )}\r\n                        {(investorInfo!.registered_city || investorInfo!.registered_state || investorInfo!.registered_postal_code || investorInfo!.registered_country) && (\r\n                          <div className=\"text-muted-foreground\">\r\n                            {[\r\n                              investorInfo!.registered_city,\r\n                              investorInfo!.registered_state,\r\n                              investorInfo!.registered_postal_code,\r\n                              investorInfo!.registered_country\r\n                            ].filter(Boolean).join(', ')}\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-muted-foreground text-sm\">No address information available</p>\r\n                    )\r\n                  ) : (\r\n                    // Individual address display - use residential_* columns\r\n                    investorInfo!.residential_street ? (\r\n                      <>\r\n                        <div className=\"font-medium\">\r\n                          {investorInfo!.residential_street}\r\n                        </div>\r\n                        {investorInfo!.residential_line_2 && (\r\n                          <div className=\"text-muted-foreground\">{investorInfo!.residential_line_2}</div>\r\n                        )}\r\n                        {(investorInfo!.residential_city || investorInfo!.residential_state || investorInfo!.residential_postal_code || investorInfo!.residential_country) && (\r\n                          <div className=\"text-muted-foreground\">\r\n                            {[\r\n                              investorInfo!.residential_city,\r\n                              investorInfo!.residential_state,\r\n                              investorInfo!.residential_postal_code,\r\n                              investorInfo!.residential_country\r\n                            ].filter(Boolean).join(', ')}\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    ) : (\r\n                      <p className=\"text-muted-foreground text-sm\">No address information available</p>\r\n                    )\r\n                  )}\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          )}\r\n\r\n          {/* Individual KYC Info Display */}\r\n          {isIndividual && investorInfo && (\r\n            <IndividualKycDisplay\r\n              data={{\r\n                first_name: investorInfo.first_name,\r\n                middle_name: investorInfo.middle_name,\r\n                last_name: investorInfo.last_name,\r\n                name_suffix: investorInfo.name_suffix,\r\n                date_of_birth: investorInfo.date_of_birth,\r\n                country_of_birth: investorInfo.country_of_birth,\r\n                nationality: investorInfo.nationality,\r\n                email: investorInfo.email,\r\n                phone_mobile: investorInfo.phone_mobile,\r\n                phone_office: investorInfo.phone_office,\r\n                residential_street: investorInfo.residential_street,\r\n                residential_city: investorInfo.residential_city,\r\n                residential_state: investorInfo.residential_state,\r\n                residential_postal_code: investorInfo.residential_postal_code,\r\n                residential_country: investorInfo.residential_country,\r\n                is_us_citizen: investorInfo.is_us_citizen,\r\n                is_us_taxpayer: investorInfo.is_us_taxpayer,\r\n                us_taxpayer_id: investorInfo.us_taxpayer_id,\r\n                country_of_tax_residency: investorInfo.country_of_tax_residency,\r\n                id_type: investorInfo.id_type,\r\n                id_number: investorInfo.id_number,\r\n                id_issue_date: investorInfo.id_issue_date,\r\n                id_expiry_date: investorInfo.id_expiry_date,\r\n                id_issuing_country: investorInfo.id_issuing_country,\r\n              }}\r\n              onEdit={() => setShowKycDialog(true)}\r\n              title=\"Personal KYC Information\"\r\n            />\r\n          )}\r\n\r\n          {/* If no investor entity, show basic profile edit */}\r\n          {!hasInvestorEntity && (\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle className=\"flex items-center gap-2\">\r\n                  <Settings className=\"h-5 w-5\" />\r\n                  Edit Profile\r\n                </CardTitle>\r\n                <CardDescription>\r\n                  Update your profile information\r\n                </CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ProfileForm\r\n                  userId={profile.id}\r\n                  initialData={profile}\r\n                  onUpdate={handleProfileUpdate}\r\n                  showStaffFields={false}\r\n                />\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n        </TabsContent>\r\n\r\n        {/* KYC Tab */}\r\n        {hasInvestorEntity && (\r\n          <TabsContent value=\"kyc\" className=\"space-y-6\">\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold tracking-tight\">KYC Documents</h2>\r\n              <p className=\"text-muted-foreground\">\r\n                Upload required identity and verification documents.\r\n              </p>\r\n            </div>\r\n\r\n            {/* KYC Documents */}\r\n            <KYCDocumentsTab />\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Compliance Tab */}\r\n        {hasInvestorEntity && (\r\n          <TabsContent value=\"compliance\" className=\"space-y-6\">\r\n            <ComplianceTab />\r\n\r\n            {/* Compliance Questionnaire */}\r\n            <div className=\"pt-6 border-t\">\r\n              <KYCQuestionnaire />\r\n            </div>\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Members Tab - Portal Team Members (ALL investors) */}\r\n        {hasInvestorEntity && investorInfo && (\r\n          <TabsContent value=\"members\" className=\"space-y-4\">\r\n            <MembersManagementTab\r\n              entityType=\"investor\"\r\n              entityId={investorInfo.id}\r\n              entityName={investorInfo.display_name || investorInfo.legal_name}\r\n              showSignatoryOption={isEntity}\r\n              canManageMembers={investorUserInfo?.role === 'admin' || investorUserInfo?.is_primary}\r\n            />\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Directors/UBOs Tab - Entity Members for KYC (only for entity type investors) */}\r\n        {isEntity && investorInfo && (\r\n          <TabsContent value=\"entity-members\" className=\"space-y-4\">\r\n            <GenericEntityMembersTab\r\n              entityType=\"investor\"\r\n              entityId={investorInfo.id}\r\n              entityName={investorInfo.display_name || investorInfo.legal_name}\r\n              apiEndpoint=\"/api/investors/me/members\"\r\n              canManage={investorUserInfo?.role === 'admin' || investorUserInfo?.is_primary}\r\n              title=\"Directors, UBOs & Signatories\"\r\n              description=\"Manage directors, beneficial owners (>25% ownership), and authorized signatories with full KYC information\"\r\n            />\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Entities Tab */}\r\n        {hasInvestorEntity && (\r\n          <TabsContent value=\"entities\" className=\"space-y-4\">\r\n            <CounterpartyEntitiesTab />\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Signature Tab */}\r\n        {hasInvestorEntity && (\r\n          <TabsContent value=\"signature\" className=\"space-y-6\">\r\n            {!investorUserInfo?.can_sign ? (\r\n              <Card>\r\n                <CardHeader>\r\n                  <CardTitle className=\"flex items-center gap-2\">\r\n                    <FileSignature className=\"h-5 w-5\" />\r\n                    Signature Specimen\r\n                  </CardTitle>\r\n                  <CardDescription>\r\n                    You do not have signing permissions for this investor entity\r\n                  </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"border border-dashed border-muted rounded-lg py-8 px-4 text-center\">\r\n                    <AlertCircle className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Signing permissions are required to upload a signature specimen.\r\n                      Contact your entity administrator for access.\r\n                    </p>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ) : (\r\n              <SignatureSpecimenTab\r\n                entityType=\"investor\"\r\n                entityId={investorInfo?.id}\r\n              />\r\n            )}\r\n          </TabsContent>\r\n        )}\r\n\r\n        {/* Security Tab */}\r\n        <TabsContent value=\"security\" className=\"space-y-4\">\r\n          <PasswordChangeForm />\r\n        </TabsContent>\r\n\r\n        {/* Preferences Tab */}\r\n        <TabsContent value=\"preferences\" className=\"space-y-4\">\r\n          <PreferencesEditor variant=\"investor\" />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* KYC Edit Dialog for Individual Investors */}\r\n      {isIndividual && investorInfo && (\r\n        <EntityKYCEditDialog\r\n          open={showKycDialog}\r\n          onOpenChange={setShowKycDialog}\r\n          entityType=\"investor\"\r\n          entityId={investorInfo.id}\r\n          entityName={investorInfo.display_name || investorInfo.legal_name}\r\n          initialData={{\r\n            first_name: investorInfo.first_name ?? undefined,\r\n            middle_name: investorInfo.middle_name ?? undefined,\r\n            last_name: investorInfo.last_name ?? undefined,\r\n            name_suffix: investorInfo.name_suffix ?? undefined,\r\n            date_of_birth: investorInfo.date_of_birth ?? undefined,\r\n            nationality: investorInfo.nationality ?? undefined,\r\n            country_of_birth: investorInfo.country_of_birth ?? undefined,\r\n            phone_mobile: investorInfo.phone_mobile ?? undefined,\r\n            phone_office: investorInfo.phone_office ?? undefined,\r\n            is_us_citizen: investorInfo.is_us_citizen === true,\r\n            is_us_taxpayer: investorInfo.is_us_taxpayer === true,\r\n            us_taxpayer_id: investorInfo.us_taxpayer_id ?? undefined,\r\n            country_of_tax_residency: investorInfo.country_of_tax_residency ?? undefined,\r\n            id_type: investorInfo.id_type ?? undefined,\r\n            id_number: investorInfo.id_number ?? undefined,\r\n            id_issue_date: investorInfo.id_issue_date ?? undefined,\r\n            id_expiry_date: investorInfo.id_expiry_date ?? undefined,\r\n            id_issuing_country: investorInfo.id_issuing_country ?? undefined,\r\n            residential_street: investorInfo.residential_street ?? undefined,\r\n            residential_city: investorInfo.residential_city ?? undefined,\r\n            residential_state: investorInfo.residential_state ?? undefined,\r\n            residential_postal_code: investorInfo.residential_postal_code ?? undefined,\r\n            residential_country: investorInfo.residential_country ?? undefined,\r\n          }}\r\n          apiEndpoint=\"/api/investors/me\"\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n\r\n      {/* Address/Contact Edit Dialog */}\r\n      {hasInvestorEntity && investorInfo && (\r\n        <EntityAddressEditDialog\r\n          open={showAddressDialog}\r\n          onOpenChange={setShowAddressDialog}\r\n          entityType=\"investor\"\r\n          entityName={investorInfo.display_name || investorInfo.legal_name}\r\n          initialData={isEntity ? {\r\n            // Entity address mapping - use registered_* columns\r\n            email: investorInfo.email ?? undefined,\r\n            phone: investorInfo.phone ?? undefined,\r\n            phone_mobile: investorInfo.phone_mobile ?? undefined,\r\n            phone_office: investorInfo.phone_office ?? undefined,\r\n            website: investorInfo.website ?? undefined,\r\n            address_line_1: investorInfo.registered_address_line_1 ?? undefined,\r\n            address_line_2: investorInfo.registered_address_line_2 ?? undefined,\r\n            city: investorInfo.registered_city ?? undefined,\r\n            state_province: investorInfo.registered_state ?? undefined,\r\n            postal_code: investorInfo.registered_postal_code ?? undefined,\r\n            country: investorInfo.registered_country ?? undefined,\r\n          } : {\r\n            // Individual address mapping - use residential_* columns\r\n            email: investorInfo.email ?? undefined,\r\n            phone: investorInfo.phone ?? undefined,\r\n            phone_mobile: investorInfo.phone_mobile ?? undefined,\r\n            phone_office: investorInfo.phone_office ?? undefined,\r\n            website: investorInfo.website ?? undefined,\r\n            address_line_1: investorInfo.residential_street ?? undefined,\r\n            address_line_2: investorInfo.residential_line_2 ?? undefined,\r\n            city: investorInfo.residential_city ?? undefined,\r\n            state_province: investorInfo.residential_state ?? undefined,\r\n            postal_code: investorInfo.residential_postal_code ?? undefined,\r\n            country: investorInfo.residential_country ?? undefined,\r\n          }}\r\n          apiEndpoint=\"/api/investors/me\"\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n\r\n      {/* Entity Info Edit Dialog (display name, legal name) */}\r\n      {isEntity && investorInfo && (\r\n        <EntityInfoEditDialog\r\n          open={showEntityInfoDialog}\r\n          onOpenChange={setShowEntityInfoDialog}\r\n          initialData={{\r\n            display_name: investorInfo.display_name,\r\n            legal_name: investorInfo.legal_name,\r\n            country_of_incorporation: investorInfo.country_of_incorporation,\r\n          }}\r\n          onSuccess={() => window.location.reload()}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}