{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/introducer-profile/introducer-profile-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const IntroducerProfileClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call IntroducerProfileClient() from the server but IntroducerProfileClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/introducer-profile/introducer-profile-client.tsx <module evaluation>\",\n    \"IntroducerProfileClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,0BAA0B,IAAA,+RAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,kHACA","ignoreList":[0]}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/introducer-profile/introducer-profile-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const IntroducerProfileClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call IntroducerProfileClient() from the server but IntroducerProfileClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/introducer-profile/introducer-profile-client.tsx\",\n    \"IntroducerProfileClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,0BAA0B,IAAA,+RAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,8FACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/introducer-profile/page.tsx"],"sourcesContent":["import { createClient, createServiceClient } from '@/lib/supabase/server'\nimport { AlertCircle } from 'lucide-react'\nimport { IntroducerProfileClient } from '@/components/introducer-profile/introducer-profile-client'\n\nexport const dynamic = 'force-dynamic'\n\nexport default async function IntroducerProfilePage() {\n  const clientSupabase = await createClient()\n  const { data: { user }, error: userError } = await clientSupabase.auth.getUser()\n\n  if (!user || userError) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center py-16\">\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\n            Authentication Required\n          </h3>\n          <p className=\"text-muted-foreground\">\n            Please log in to view your profile.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  const serviceSupabase = createServiceClient()\n\n  // Check if user is an introducer\n  const { data: personas } = await serviceSupabase.rpc('get_user_personas', {\n    p_user_id: user.id\n  })\n\n  const introducerPersona = personas?.find((p: any) => p.persona_type === 'introducer')\n\n  if (!introducerPersona) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center py-16\">\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\n            Introducer Access Required\n          </h3>\n          <p className=\"text-muted-foreground\">\n            This section is available only to introducer users.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  // Get introducer user info\n  const { data: introducerUser } = await serviceSupabase\n    .from('introducer_users')\n    .select('introducer_id, role, is_primary, can_sign')\n    .eq('user_id', user.id)\n    .maybeSingle()\n\n  if (!introducerUser?.introducer_id) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"text-center py-16\">\n          <AlertCircle className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\n            No Introducer Profile Linked\n          </h3>\n          <p className=\"text-muted-foreground\">\n            Please contact the VERSO team to link your introducer profile.\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  // Get introducer entity details\n  const { data: introducer } = await serviceSupabase\n    .from('introducers')\n    .select('*')\n    .eq('id', introducerUser.introducer_id)\n    .maybeSingle()\n\n  // Get user profile info\n  const { data: profile } = await serviceSupabase\n    .from('profiles')\n    .select('display_name, email, avatar_url')\n    .eq('id', user.id)\n    .maybeSingle()\n\n  // Get active agreement for this introducer\n  const { data: activeAgreement } = await serviceSupabase\n    .from('introducer_agreements')\n    .select('id, agreement_type, default_commission_bps, territory, status, effective_date, expiry_date')\n    .eq('introducer_id', introducerUser.introducer_id)\n    .eq('status', 'active')\n    .maybeSingle()\n\n  // Get introduction count for this introducer\n  const { count: introductionCount } = await serviceSupabase\n    .from('introductions')\n    .select('id', { count: 'exact', head: true })\n    .eq('introducer_id', introducerUser.introducer_id)\n\n  return (\n    <IntroducerProfileClient\n      userEmail={user.email || ''}\n      profile={profile ? {\n        full_name: profile.display_name,\n        email: profile.email || user.email || '',\n        avatar_url: profile.avatar_url\n      } : null}\n      introducerInfo={introducer ? {\n        id: introducer.id,\n        legal_name: introducer.legal_name,\n        contact_name: introducer.contact_name,\n        email: introducer.email,\n        default_commission_bps: introducer.default_commission_bps,\n        payment_terms: introducer.payment_terms,\n        commission_cap_amount: introducer.commission_cap_amount,\n        status: introducer.status,\n        notes: introducer.notes,\n        created_at: introducer.created_at,\n        logo_url: introducer.logo_url,\n        kyc_status: introducer.kyc_status,\n        // Entity type\n        type: introducer.type,\n        // Address fields\n        address_line_1: introducer.address_line_1,\n        address_line_2: introducer.address_line_2,\n        city: introducer.city,\n        state_province: introducer.state_province,\n        postal_code: introducer.postal_code,\n        country: introducer.country,\n        // Phone/contact\n        phone: introducer.phone,\n        phone_mobile: introducer.phone_mobile,\n        phone_office: introducer.phone_office,\n        website: introducer.website,\n        // Individual KYC fields\n        first_name: introducer.first_name,\n        middle_name: introducer.middle_name,\n        last_name: introducer.last_name,\n        name_suffix: introducer.name_suffix,\n        date_of_birth: introducer.date_of_birth,\n        country_of_birth: introducer.country_of_birth,\n        nationality: introducer.nationality,\n        // US Tax compliance\n        is_us_citizen: introducer.is_us_citizen,\n        is_us_taxpayer: introducer.is_us_taxpayer,\n        us_taxpayer_id: introducer.us_taxpayer_id,\n        country_of_tax_residency: introducer.country_of_tax_residency,\n        // ID Document\n        id_type: introducer.id_type,\n        id_number: introducer.id_number,\n        id_issue_date: introducer.id_issue_date,\n        id_expiry_date: introducer.id_expiry_date,\n        id_issuing_country: introducer.id_issuing_country,\n        // Residential Address\n        residential_street: introducer.residential_street,\n        residential_city: introducer.residential_city,\n        residential_state: introducer.residential_state,\n        residential_postal_code: introducer.residential_postal_code,\n        residential_country: introducer.residential_country,\n        // Entity fields\n        country_of_incorporation: introducer.country_of_incorporation,\n        registration_number: introducer.registration_number,\n        tax_id: introducer.tax_id,\n        // Additional KYC fields\n        residential_line_2: introducer.residential_line_2,\n        middle_initial: introducer.middle_initial,\n        proof_of_address_date: introducer.proof_of_address_date,\n        proof_of_address_expiry: introducer.proof_of_address_expiry,\n        tax_id_number: introducer.tax_id_number,\n      } : null}\n      introducerUserInfo={{\n        role: introducerUser.role,\n        is_primary: introducerUser.is_primary,\n        can_sign: introducerUser.can_sign || false,\n      }}\n      activeAgreement={activeAgreement ? {\n        id: activeAgreement.id,\n        agreement_type: activeAgreement.agreement_type,\n        commission_bps: activeAgreement.default_commission_bps,\n        territory: activeAgreement.territory,\n        status: activeAgreement.status,\n        effective_date: activeAgreement.effective_date,\n        expiry_date: activeAgreement.expiry_date,\n      } : null}\n      introductionCount={introductionCount || 0}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAEO,MAAM,UAAU;AAER,eAAe;IAC5B,MAAM,iBAAiB,MAAM,IAAA,uKAAY;IACzC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,eAAe,IAAI,CAAC,OAAO;IAE9E,IAAI,CAAC,QAAQ,WAAW;QACtB,qBACE,qQAAC;YAAI,WAAU;sBACb,cAAA,qQAAC;gBAAI,WAAU;;kCACb,qQAAC,0PAAW;wBAAC,WAAU;;;;;;kCACvB,qQAAC;wBAAG,WAAU;kCAA2C;;;;;;kCAGzD,qQAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAM7C;IAEA,MAAM,kBAAkB,IAAA,8KAAmB;IAE3C,iCAAiC;IACjC,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,gBAAgB,GAAG,CAAC,qBAAqB;QACxE,WAAW,KAAK,EAAE;IACpB;IAEA,MAAM,oBAAoB,UAAU,KAAK,CAAC,IAAW,EAAE,YAAY,KAAK;IAExE,IAAI,CAAC,mBAAmB;QACtB,qBACE,qQAAC;YAAI,WAAU;sBACb,cAAA,qQAAC;gBAAI,WAAU;;kCACb,qQAAC,0PAAW;wBAAC,WAAU;;;;;;kCACvB,qQAAC;wBAAG,WAAU;kCAA2C;;;;;;kCAGzD,qQAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAM7C;IAEA,2BAA2B;IAC3B,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,MAAM,gBACpC,IAAI,CAAC,oBACL,MAAM,CAAC,6CACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,WAAW;IAEd,IAAI,CAAC,gBAAgB,eAAe;QAClC,qBACE,qQAAC;YAAI,WAAU;sBACb,cAAA,qQAAC;gBAAI,WAAU;;kCACb,qQAAC,0PAAW;wBAAC,WAAU;;;;;;kCACvB,qQAAC;wBAAG,WAAU;kCAA2C;;;;;;kCAGzD,qQAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;IAM7C;IAEA,gCAAgC;IAChC,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,gBAChC,IAAI,CAAC,eACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,eAAe,aAAa,EACrC,WAAW;IAEd,wBAAwB;IACxB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,gBAC7B,IAAI,CAAC,YACL,MAAM,CAAC,mCACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,WAAW;IAEd,2CAA2C;IAC3C,MAAM,EAAE,MAAM,eAAe,EAAE,GAAG,MAAM,gBACrC,IAAI,CAAC,yBACL,MAAM,CAAC,8FACP,EAAE,CAAC,iBAAiB,eAAe,aAAa,EAChD,EAAE,CAAC,UAAU,UACb,WAAW;IAEd,6CAA6C;IAC7C,MAAM,EAAE,OAAO,iBAAiB,EAAE,GAAG,MAAM,gBACxC,IAAI,CAAC,iBACL,MAAM,CAAC,MAAM;QAAE,OAAO;QAAS,MAAM;IAAK,GAC1C,EAAE,CAAC,iBAAiB,eAAe,aAAa;IAEnD,qBACE,qQAAC,gOAAuB;QACtB,WAAW,KAAK,KAAK,IAAI;QACzB,SAAS,UAAU;YACjB,WAAW,QAAQ,YAAY;YAC/B,OAAO,QAAQ,KAAK,IAAI,KAAK,KAAK,IAAI;YACtC,YAAY,QAAQ,UAAU;QAChC,IAAI;QACJ,gBAAgB,aAAa;YAC3B,IAAI,WAAW,EAAE;YACjB,YAAY,WAAW,UAAU;YACjC,cAAc,WAAW,YAAY;YACrC,OAAO,WAAW,KAAK;YACvB,wBAAwB,WAAW,sBAAsB;YACzD,eAAe,WAAW,aAAa;YACvC,uBAAuB,WAAW,qBAAqB;YACvD,QAAQ,WAAW,MAAM;YACzB,OAAO,WAAW,KAAK;YACvB,YAAY,WAAW,UAAU;YACjC,UAAU,WAAW,QAAQ;YAC7B,YAAY,WAAW,UAAU;YACjC,cAAc;YACd,MAAM,WAAW,IAAI;YACrB,iBAAiB;YACjB,gBAAgB,WAAW,cAAc;YACzC,gBAAgB,WAAW,cAAc;YACzC,MAAM,WAAW,IAAI;YACrB,gBAAgB,WAAW,cAAc;YACzC,aAAa,WAAW,WAAW;YACnC,SAAS,WAAW,OAAO;YAC3B,gBAAgB;YAChB,OAAO,WAAW,KAAK;YACvB,cAAc,WAAW,YAAY;YACrC,cAAc,WAAW,YAAY;YACrC,SAAS,WAAW,OAAO;YAC3B,wBAAwB;YACxB,YAAY,WAAW,UAAU;YACjC,aAAa,WAAW,WAAW;YACnC,WAAW,WAAW,SAAS;YAC/B,aAAa,WAAW,WAAW;YACnC,eAAe,WAAW,aAAa;YACvC,kBAAkB,WAAW,gBAAgB;YAC7C,aAAa,WAAW,WAAW;YACnC,oBAAoB;YACpB,eAAe,WAAW,aAAa;YACvC,gBAAgB,WAAW,cAAc;YACzC,gBAAgB,WAAW,cAAc;YACzC,0BAA0B,WAAW,wBAAwB;YAC7D,cAAc;YACd,SAAS,WAAW,OAAO;YAC3B,WAAW,WAAW,SAAS;YAC/B,eAAe,WAAW,aAAa;YACvC,gBAAgB,WAAW,cAAc;YACzC,oBAAoB,WAAW,kBAAkB;YACjD,sBAAsB;YACtB,oBAAoB,WAAW,kBAAkB;YACjD,kBAAkB,WAAW,gBAAgB;YAC7C,mBAAmB,WAAW,iBAAiB;YAC/C,yBAAyB,WAAW,uBAAuB;YAC3D,qBAAqB,WAAW,mBAAmB;YACnD,gBAAgB;YAChB,0BAA0B,WAAW,wBAAwB;YAC7D,qBAAqB,WAAW,mBAAmB;YACnD,QAAQ,WAAW,MAAM;YACzB,wBAAwB;YACxB,oBAAoB,WAAW,kBAAkB;YACjD,gBAAgB,WAAW,cAAc;YACzC,uBAAuB,WAAW,qBAAqB;YACvD,yBAAyB,WAAW,uBAAuB;YAC3D,eAAe,WAAW,aAAa;QACzC,IAAI;QACJ,oBAAoB;YAClB,MAAM,eAAe,IAAI;YACzB,YAAY,eAAe,UAAU;YACrC,UAAU,eAAe,QAAQ,IAAI;QACvC;QACA,iBAAiB,kBAAkB;YACjC,IAAI,gBAAgB,EAAE;YACtB,gBAAgB,gBAAgB,cAAc;YAC9C,gBAAgB,gBAAgB,sBAAsB;YACtD,WAAW,gBAAgB,SAAS;YACpC,QAAQ,gBAAgB,MAAM;YAC9B,gBAAgB,gBAAgB,cAAc;YAC9C,aAAa,gBAAgB,WAAW;QAC1C,IAAI;QACJ,mBAAmB,qBAAqB;;;;;;AAG9C"}}]
}