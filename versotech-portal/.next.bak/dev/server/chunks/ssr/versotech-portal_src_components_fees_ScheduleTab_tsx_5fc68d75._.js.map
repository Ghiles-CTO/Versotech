{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/fees/ScheduleTab.tsx"],"sourcesContent":["/**\r\n * Schedule Tab - Calendar view of upcoming recurring fees\r\n */\r\n\r\n'use client';\r\n\r\nimport { useEffect, useState, useCallback, useMemo } from 'react';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { formatCurrency } from '@/lib/fees/calculations';\r\nimport { Calendar, DollarSign, Clock, Users, Building2, ChevronDown, ChevronRight, UserCheck, Handshake, Briefcase, X, Filter, Check, ChevronsUpDown } from 'lucide-react';\r\nimport {\r\n  Collapsible,\r\n  CollapsibleContent,\r\n  CollapsibleTrigger,\r\n} from '@/components/ui/collapsible';\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from '@/components/ui/popover';\r\nimport {\r\n  Command,\r\n  CommandEmpty,\r\n  CommandGroup,\r\n  CommandInput,\r\n  CommandItem,\r\n  CommandList,\r\n} from '@/components/ui/command';\r\nimport { DateRangePicker } from '@/components/ui/date-range-picker';\r\nimport type { DateRange } from 'react-day-picker';\r\n\r\ninterface UpcomingFee {\r\n  id: string;\r\n  subscription_id: string;\r\n  subscription_number: string;\r\n  investor: {\r\n    id: string;\r\n    legal_name: string;\r\n    display_name: string;\r\n  };\r\n  vehicle: {\r\n    id: string;\r\n    name: string;\r\n  };\r\n  fee_type: string;\r\n  fee_name: string;\r\n  amount: number;\r\n  frequency: string;\r\n  next_due_date: string;\r\n  status: string;\r\n}\r\n\r\ninterface InvestorFeeEvent {\r\n  id: string;\r\n  fee_type: string;\r\n  computed_amount: number;\r\n  period_start_date: string | null;\r\n  period_end_date: string | null;\r\n  status: string;\r\n  event_date: string;\r\n  investor: {\r\n    id: string;\r\n    legal_name: string;\r\n    display_name: string;\r\n  } | null;\r\n  deal: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n}\r\n\r\ninterface IntroducerCommission {\r\n  id: string;\r\n  entity_type: 'introducer';\r\n  entity_id: string;\r\n  entity_name: string;\r\n  deal_id: string | null;\r\n  deal_name?: string;\r\n  investor_id: string | null;\r\n  investor_name?: string;\r\n  accrual_amount: number;\r\n  status: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface PartnerCommission {\r\n  id: string;\r\n  entity_type: 'partner';\r\n  entity_id: string;\r\n  entity_name: string;\r\n  deal_id: string | null;\r\n  deal_name?: string;\r\n  investor_id: string | null;\r\n  investor_name?: string;\r\n  accrual_amount: number;\r\n  status: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface CommercialPartnerCommission {\r\n  id: string;\r\n  entity_type: 'commercial_partner';\r\n  entity_id: string;\r\n  entity_name: string;\r\n  deal_id: string | null;\r\n  deal_name?: string;\r\n  investor_id: string | null;\r\n  investor_name?: string;\r\n  accrual_amount: number;\r\n  status: string;\r\n  created_at: string;\r\n}\r\n\r\ninterface ScheduleData {\r\n  data: UpcomingFee[];\r\n  summary: {\r\n    total_scheduled: number;\r\n    total_amount: number;\r\n    date_range: {\r\n      from: string;\r\n      to: string;\r\n    };\r\n  };\r\n  by_month: Record<string, {\r\n    fees: UpcomingFee[];\r\n    total: number;\r\n  }>;\r\n}\r\n\r\ninterface Deal {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\ninterface Entity {\r\n  id: string;\r\n  name: string;\r\n  type: 'introducer' | 'partner' | 'commercial_partner';\r\n}\r\n\r\nexport default function ScheduleTab() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n\r\n  const [data, setData] = useState<ScheduleData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [daysAhead, setDaysAhead] = useState(60);\r\n  const [investorFees, setInvestorFees] = useState<InvestorFeeEvent[]>([]);\r\n  const [investorFeesLoading, setInvestorFeesLoading] = useState(true);\r\n  const [investorFeesExpanded, setInvestorFeesExpanded] = useState(true);\r\n  const [introducerCommissions, setIntroducerCommissions] = useState<IntroducerCommission[]>([]);\r\n  const [introducerCommissionsLoading, setIntroducerCommissionsLoading] = useState(true);\r\n  const [introducerCommissionsExpanded, setIntroducerCommissionsExpanded] = useState(true);\r\n  const [partnerCommissions, setPartnerCommissions] = useState<PartnerCommission[]>([]);\r\n  const [partnerCommissionsLoading, setPartnerCommissionsLoading] = useState(true);\r\n  const [partnerCommissionsExpanded, setPartnerCommissionsExpanded] = useState(true);\r\n  const [commercialPartnerCommissions, setCommercialPartnerCommissions] = useState<CommercialPartnerCommission[]>([]);\r\n  const [commercialPartnerCommissionsLoading, setCommercialPartnerCommissionsLoading] = useState(true);\r\n  const [commercialPartnerCommissionsExpanded, setCommercialPartnerCommissionsExpanded] = useState(true);\r\n\r\n  // Filter state\r\n  const [deals, setDeals] = useState<Deal[]>([]);\r\n  const [entities, setEntities] = useState<Entity[]>([]);\r\n  const [selectedDealIds, setSelectedDealIds] = useState<string[]>(() => {\r\n    const dealIds = searchParams.get('deal_ids');\r\n    return dealIds ? dealIds.split(',') : [];\r\n  });\r\n  const [selectedEntityIds, setSelectedEntityIds] = useState<string[]>(() => {\r\n    const entityIds = searchParams.get('entity_ids');\r\n    return entityIds ? entityIds.split(',') : [];\r\n  });\r\n  const [dateRange, setDateRange] = useState<DateRange | undefined>(() => {\r\n    const from = searchParams.get('date_from');\r\n    const to = searchParams.get('date_to');\r\n    if (from || to) {\r\n      return {\r\n        from: from ? new Date(from) : undefined,\r\n        to: to ? new Date(to) : undefined,\r\n      };\r\n    }\r\n    return undefined;\r\n  });\r\n  const [dealPopoverOpen, setDealPopoverOpen] = useState(false);\r\n  const [entityPopoverOpen, setEntityPopoverOpen] = useState(false);\r\n\r\n  // Check if any filters are active\r\n  const hasActiveFilters = selectedDealIds.length > 0 || selectedEntityIds.length > 0 || dateRange?.from || dateRange?.to;\r\n\r\n  // Update URL when filters change\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n\r\n    if (selectedDealIds.length > 0) {\r\n      params.set('deal_ids', selectedDealIds.join(','));\r\n    } else {\r\n      params.delete('deal_ids');\r\n    }\r\n\r\n    if (selectedEntityIds.length > 0) {\r\n      params.set('entity_ids', selectedEntityIds.join(','));\r\n    } else {\r\n      params.delete('entity_ids');\r\n    }\r\n\r\n    if (dateRange?.from) {\r\n      params.set('date_from', dateRange.from.toISOString().split('T')[0]);\r\n    } else {\r\n      params.delete('date_from');\r\n    }\r\n\r\n    if (dateRange?.to) {\r\n      params.set('date_to', dateRange.to.toISOString().split('T')[0]);\r\n    } else {\r\n      params.delete('date_to');\r\n    }\r\n\r\n    const newUrl = params.toString() ? `?${params.toString()}` : window.location.pathname;\r\n    router.push(newUrl, { scroll: false });\r\n  }, [selectedDealIds, selectedEntityIds, dateRange, router, searchParams]);\r\n\r\n  // Fetch deals list for filter\r\n  const fetchDeals = useCallback(async () => {\r\n    try {\r\n      const res = await fetch('/api/deals');\r\n      const json = await res.json();\r\n      setDeals(json.deals || []);\r\n    } catch (error) {\r\n      console.error('Error fetching deals:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Fetch entities list for filter - uses commissions API to get unique entities\r\n  const fetchEntities = useCallback(async () => {\r\n    try {\r\n      // Fetch all commissions to extract unique entities\r\n      const res = await fetch('/api/staff/fees/commissions');\r\n      const json = await res.json();\r\n\r\n      // Use by_entity which has already grouped unique entities\r\n      const byEntity = json.by_entity || [];\r\n      const allEntities: Entity[] = byEntity.map((group: { entity_type: string; entity: { id: string; name: string } }) => ({\r\n        id: group.entity.id,\r\n        name: group.entity.name,\r\n        type: group.entity_type as 'introducer' | 'partner' | 'commercial_partner',\r\n      }));\r\n\r\n      // Also try to get introducers from dedicated endpoint for completeness\r\n      try {\r\n        const introducersRes = await fetch('/api/staff/introducers');\r\n        const introducersJson = await introducersRes.json();\r\n        const introducers = (introducersJson.data || []).map((e: { id: string; legal_name?: string; name?: string }) => ({\r\n          id: e.id,\r\n          name: e.legal_name || e.name || 'Unknown',\r\n          type: 'introducer' as const,\r\n        }));\r\n\r\n        // Merge introducers, avoiding duplicates\r\n        const existingIds = new Set(allEntities.map(e => e.id));\r\n        for (const introducer of introducers) {\r\n          if (!existingIds.has(introducer.id)) {\r\n            allEntities.push(introducer);\r\n          }\r\n        }\r\n      } catch {\r\n        // Introducers endpoint may not be accessible, that's ok\r\n      }\r\n\r\n      // Sort by name\r\n      allEntities.sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n      setEntities(allEntities);\r\n    } catch (error) {\r\n      console.error('Error fetching entities:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Clear all filters\r\n  const clearFilters = useCallback(() => {\r\n    setSelectedDealIds([]);\r\n    setSelectedEntityIds([]);\r\n    setDateRange(undefined);\r\n  }, []);\r\n\r\n  // Toggle deal selection\r\n  const toggleDeal = (dealId: string) => {\r\n    setSelectedDealIds((prev) =>\r\n      prev.includes(dealId) ? prev.filter((id) => id !== dealId) : [...prev, dealId]\r\n    );\r\n  };\r\n\r\n  // Toggle entity selection\r\n  const toggleEntity = (entityId: string) => {\r\n    setSelectedEntityIds((prev) =>\r\n      prev.includes(entityId) ? prev.filter((id) => id !== entityId) : [...prev, entityId]\r\n    );\r\n  };\r\n\r\n  // Get selected deal names for display\r\n  const selectedDealNames = useMemo(() => {\r\n    return selectedDealIds\r\n      .map((id) => deals.find((d) => d.id === id)?.name)\r\n      .filter(Boolean)\r\n      .join(', ');\r\n  }, [selectedDealIds, deals]);\r\n\r\n  // Get selected entity names for display\r\n  const selectedEntityNames = useMemo(() => {\r\n    return selectedEntityIds\r\n      .map((id) => entities.find((e) => e.id === id)?.name)\r\n      .filter(Boolean)\r\n      .join(', ');\r\n  }, [selectedEntityIds, entities]);\r\n\r\n  // Load deals and entities on mount\r\n  useEffect(() => {\r\n    fetchDeals();\r\n    fetchEntities();\r\n  }, [fetchDeals, fetchEntities]);\r\n\r\n  const fetchSchedules = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`/api/staff/fees/schedules?days=${daysAhead}`);\r\n      const json = await res.json();\r\n      setData(json);\r\n    } catch (error) {\r\n      console.error('Error fetching schedules:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [daysAhead]);\r\n\r\n  const fetchInvestorFees = useCallback(async () => {\r\n    setInvestorFeesLoading(true);\r\n    try {\r\n      // Get fee events with status = 'accrued' and future period_start_date\r\n      const params = new URLSearchParams();\r\n      params.set('status', 'accrued');\r\n      params.set('limit', '200');\r\n\r\n      // Use date range or default to today\r\n      if (dateRange?.from) {\r\n        params.set('period_from', dateRange.from.toISOString().split('T')[0]);\r\n      } else {\r\n        params.set('period_from', new Date().toISOString().split('T')[0]);\r\n      }\r\n      if (dateRange?.to) {\r\n        params.set('period_to', dateRange.to.toISOString().split('T')[0]);\r\n      }\r\n\r\n      const res = await fetch(`/api/staff/fees/events?${params.toString()}`);\r\n      const json = await res.json();\r\n\r\n      let feeData = json.data || [];\r\n\r\n      // Filter by selected deals (client-side since API doesn't support multiple deal_ids)\r\n      if (selectedDealIds.length > 0) {\r\n        feeData = feeData.filter((fee: InvestorFeeEvent) =>\r\n          fee.deal?.id && selectedDealIds.includes(fee.deal.id)\r\n        );\r\n      }\r\n\r\n      setInvestorFees(feeData);\r\n    } catch (error) {\r\n      console.error('Error fetching investor fees:', error);\r\n      setInvestorFees([]);\r\n    } finally {\r\n      setInvestorFeesLoading(false);\r\n    }\r\n  }, [selectedDealIds, dateRange]);\r\n\r\n  const fetchIntroducerCommissions = useCallback(async () => {\r\n    setIntroducerCommissionsLoading(true);\r\n    try {\r\n      // Get introducer commissions with status = 'accrued' for schedule view\r\n      const params = new URLSearchParams();\r\n      params.set('entity_type', 'introducer');\r\n      params.set('status', 'accrued');\r\n\r\n      const res = await fetch(`/api/staff/fees/commissions?${params.toString()}`);\r\n      const json = await res.json();\r\n\r\n      let introducerData = (json.data || []).filter(\r\n        (c: IntroducerCommission) => c.entity_type === 'introducer'\r\n      );\r\n\r\n      // Filter by selected deals\r\n      if (selectedDealIds.length > 0) {\r\n        introducerData = introducerData.filter((c: IntroducerCommission) =>\r\n          c.deal_id && selectedDealIds.includes(c.deal_id)\r\n        );\r\n      }\r\n\r\n      // Filter by selected entities (introducers)\r\n      if (selectedEntityIds.length > 0) {\r\n        introducerData = introducerData.filter((c: IntroducerCommission) =>\r\n          selectedEntityIds.includes(c.entity_id)\r\n        );\r\n      }\r\n\r\n      // Filter by date range (created_at)\r\n      if (dateRange?.from) {\r\n        introducerData = introducerData.filter((c: IntroducerCommission) =>\r\n          new Date(c.created_at) >= dateRange.from!\r\n        );\r\n      }\r\n      if (dateRange?.to) {\r\n        introducerData = introducerData.filter((c: IntroducerCommission) =>\r\n          new Date(c.created_at) <= dateRange.to!\r\n        );\r\n      }\r\n\r\n      setIntroducerCommissions(introducerData);\r\n    } catch (error) {\r\n      console.error('Error fetching introducer commissions:', error);\r\n      setIntroducerCommissions([]);\r\n    } finally {\r\n      setIntroducerCommissionsLoading(false);\r\n    }\r\n  }, [selectedDealIds, selectedEntityIds, dateRange]);\r\n\r\n  const fetchPartnerCommissions = useCallback(async () => {\r\n    setPartnerCommissionsLoading(true);\r\n    try {\r\n      // Get partner commissions with status = 'accrued' for schedule view\r\n      const params = new URLSearchParams();\r\n      params.set('entity_type', 'partner');\r\n      params.set('status', 'accrued');\r\n\r\n      const res = await fetch(`/api/staff/fees/commissions?${params.toString()}`);\r\n      const json = await res.json();\r\n\r\n      let partnerData = (json.data || []).filter(\r\n        (c: PartnerCommission) => c.entity_type === 'partner'\r\n      );\r\n\r\n      // Filter by selected deals\r\n      if (selectedDealIds.length > 0) {\r\n        partnerData = partnerData.filter((c: PartnerCommission) =>\r\n          c.deal_id && selectedDealIds.includes(c.deal_id)\r\n        );\r\n      }\r\n\r\n      // Filter by selected entities (partners)\r\n      if (selectedEntityIds.length > 0) {\r\n        partnerData = partnerData.filter((c: PartnerCommission) =>\r\n          selectedEntityIds.includes(c.entity_id)\r\n        );\r\n      }\r\n\r\n      // Filter by date range (created_at)\r\n      if (dateRange?.from) {\r\n        partnerData = partnerData.filter((c: PartnerCommission) =>\r\n          new Date(c.created_at) >= dateRange.from!\r\n        );\r\n      }\r\n      if (dateRange?.to) {\r\n        partnerData = partnerData.filter((c: PartnerCommission) =>\r\n          new Date(c.created_at) <= dateRange.to!\r\n        );\r\n      }\r\n\r\n      setPartnerCommissions(partnerData);\r\n    } catch (error) {\r\n      console.error('Error fetching partner commissions:', error);\r\n      setPartnerCommissions([]);\r\n    } finally {\r\n      setPartnerCommissionsLoading(false);\r\n    }\r\n  }, [selectedDealIds, selectedEntityIds, dateRange]);\r\n\r\n  const fetchCommercialPartnerCommissions = useCallback(async () => {\r\n    setCommercialPartnerCommissionsLoading(true);\r\n    try {\r\n      // Get commercial partner commissions with status = 'accrued' for schedule view\r\n      const params = new URLSearchParams();\r\n      params.set('entity_type', 'commercial_partner');\r\n      params.set('status', 'accrued');\r\n\r\n      const res = await fetch(`/api/staff/fees/commissions?${params.toString()}`);\r\n      const json = await res.json();\r\n\r\n      let commercialPartnerData = (json.data || []).filter(\r\n        (c: CommercialPartnerCommission) => c.entity_type === 'commercial_partner'\r\n      );\r\n\r\n      // Filter by selected deals\r\n      if (selectedDealIds.length > 0) {\r\n        commercialPartnerData = commercialPartnerData.filter((c: CommercialPartnerCommission) =>\r\n          c.deal_id && selectedDealIds.includes(c.deal_id)\r\n        );\r\n      }\r\n\r\n      // Filter by selected entities (commercial partners)\r\n      if (selectedEntityIds.length > 0) {\r\n        commercialPartnerData = commercialPartnerData.filter((c: CommercialPartnerCommission) =>\r\n          selectedEntityIds.includes(c.entity_id)\r\n        );\r\n      }\r\n\r\n      // Filter by date range (created_at)\r\n      if (dateRange?.from) {\r\n        commercialPartnerData = commercialPartnerData.filter((c: CommercialPartnerCommission) =>\r\n          new Date(c.created_at) >= dateRange.from!\r\n        );\r\n      }\r\n      if (dateRange?.to) {\r\n        commercialPartnerData = commercialPartnerData.filter((c: CommercialPartnerCommission) =>\r\n          new Date(c.created_at) <= dateRange.to!\r\n        );\r\n      }\r\n\r\n      setCommercialPartnerCommissions(commercialPartnerData);\r\n    } catch (error) {\r\n      console.error('Error fetching commercial partner commissions:', error);\r\n      setCommercialPartnerCommissions([]);\r\n    } finally {\r\n      setCommercialPartnerCommissionsLoading(false);\r\n    }\r\n  }, [selectedDealIds, selectedEntityIds, dateRange]);\r\n\r\n  useEffect(() => {\r\n    fetchSchedules();\r\n  }, [daysAhead, fetchSchedules]);\r\n\r\n  useEffect(() => {\r\n    fetchInvestorFees();\r\n  }, [fetchInvestorFees]);\r\n\r\n  useEffect(() => {\r\n    fetchIntroducerCommissions();\r\n  }, [fetchIntroducerCommissions]);\r\n\r\n  useEffect(() => {\r\n    fetchPartnerCommissions();\r\n  }, [fetchPartnerCommissions]);\r\n\r\n  useEffect(() => {\r\n    fetchCommercialPartnerCommissions();\r\n  }, [fetchCommercialPartnerCommissions]);\r\n\r\n  // Group investor fees by deal, then by investor\r\n  const groupedInvestorFees = useMemo(() => {\r\n    const byDeal: Record<string, {\r\n      deal: { id: string; name: string };\r\n      byInvestor: Record<string, {\r\n        investor: { id: string; name: string };\r\n        fees: InvestorFeeEvent[];\r\n        total: number;\r\n      }>;\r\n      total: number;\r\n    }> = {};\r\n\r\n    for (const fee of investorFees) {\r\n      const dealId = fee.deal?.id || 'unknown';\r\n      const dealName = fee.deal?.name || 'Unknown Deal';\r\n      const investorId = fee.investor?.id || 'unknown';\r\n      const investorName = fee.investor?.legal_name || fee.investor?.display_name || 'Unknown Investor';\r\n\r\n      if (!byDeal[dealId]) {\r\n        byDeal[dealId] = {\r\n          deal: { id: dealId, name: dealName },\r\n          byInvestor: {},\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      if (!byDeal[dealId].byInvestor[investorId]) {\r\n        byDeal[dealId].byInvestor[investorId] = {\r\n          investor: { id: investorId, name: investorName },\r\n          fees: [],\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      byDeal[dealId].byInvestor[investorId].fees.push(fee);\r\n      byDeal[dealId].byInvestor[investorId].total += fee.computed_amount;\r\n      byDeal[dealId].total += fee.computed_amount;\r\n    }\r\n\r\n    // Sort fees by period_start_date within each group\r\n    Object.values(byDeal).forEach(dealGroup => {\r\n      Object.values(dealGroup.byInvestor).forEach(investorGroup => {\r\n        investorGroup.fees.sort((a, b) => {\r\n          const dateA = a.period_start_date || a.event_date;\r\n          const dateB = b.period_start_date || b.event_date;\r\n          return new Date(dateA).getTime() - new Date(dateB).getTime();\r\n        });\r\n      });\r\n    });\r\n\r\n    return byDeal;\r\n  }, [investorFees]);\r\n\r\n  const investorFeesTotal = useMemo(() => {\r\n    return investorFees.reduce((sum, fee) => sum + fee.computed_amount, 0);\r\n  }, [investorFees]);\r\n\r\n  // Group introducer commissions by introducer, then by deal\r\n  const groupedIntroducerCommissions = useMemo(() => {\r\n    const byIntroducer: Record<string, {\r\n      introducer: { id: string; name: string };\r\n      byDeal: Record<string, {\r\n        deal: { id: string; name: string };\r\n        commissions: IntroducerCommission[];\r\n        total: number;\r\n      }>;\r\n      total: number;\r\n    }> = {};\r\n\r\n    for (const commission of introducerCommissions) {\r\n      const introducerId = commission.entity_id || 'unknown';\r\n      const introducerName = commission.entity_name || 'Unknown Introducer';\r\n      const dealId = commission.deal_id || 'unknown';\r\n      const dealName = commission.deal_name || 'Unknown Deal';\r\n\r\n      if (!byIntroducer[introducerId]) {\r\n        byIntroducer[introducerId] = {\r\n          introducer: { id: introducerId, name: introducerName },\r\n          byDeal: {},\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      if (!byIntroducer[introducerId].byDeal[dealId]) {\r\n        byIntroducer[introducerId].byDeal[dealId] = {\r\n          deal: { id: dealId, name: dealName },\r\n          commissions: [],\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      byIntroducer[introducerId].byDeal[dealId].commissions.push(commission);\r\n      byIntroducer[introducerId].byDeal[dealId].total += Number(commission.accrual_amount);\r\n      byIntroducer[introducerId].total += Number(commission.accrual_amount);\r\n    }\r\n\r\n    // Sort commissions by created_at within each group\r\n    Object.values(byIntroducer).forEach(introducerGroup => {\r\n      Object.values(introducerGroup.byDeal).forEach(dealGroup => {\r\n        dealGroup.commissions.sort((a, b) => {\r\n          return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\r\n        });\r\n      });\r\n    });\r\n\r\n    return byIntroducer;\r\n  }, [introducerCommissions]);\r\n\r\n  const introducerCommissionsTotal = useMemo(() => {\r\n    return introducerCommissions.reduce((sum, c) => sum + Number(c.accrual_amount), 0);\r\n  }, [introducerCommissions]);\r\n\r\n  // Group partner commissions by partner, then by deal\r\n  const groupedPartnerCommissions = useMemo(() => {\r\n    const byPartner: Record<string, {\r\n      partner: { id: string; name: string };\r\n      byDeal: Record<string, {\r\n        deal: { id: string; name: string };\r\n        commissions: PartnerCommission[];\r\n        total: number;\r\n      }>;\r\n      total: number;\r\n    }> = {};\r\n\r\n    for (const commission of partnerCommissions) {\r\n      const partnerId = commission.entity_id || 'unknown';\r\n      const partnerName = commission.entity_name || 'Unknown Partner';\r\n      const dealId = commission.deal_id || 'unknown';\r\n      const dealName = commission.deal_name || 'Unknown Deal';\r\n\r\n      if (!byPartner[partnerId]) {\r\n        byPartner[partnerId] = {\r\n          partner: { id: partnerId, name: partnerName },\r\n          byDeal: {},\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      if (!byPartner[partnerId].byDeal[dealId]) {\r\n        byPartner[partnerId].byDeal[dealId] = {\r\n          deal: { id: dealId, name: dealName },\r\n          commissions: [],\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      byPartner[partnerId].byDeal[dealId].commissions.push(commission);\r\n      byPartner[partnerId].byDeal[dealId].total += Number(commission.accrual_amount);\r\n      byPartner[partnerId].total += Number(commission.accrual_amount);\r\n    }\r\n\r\n    // Sort commissions by created_at within each group\r\n    Object.values(byPartner).forEach(partnerGroup => {\r\n      Object.values(partnerGroup.byDeal).forEach(dealGroup => {\r\n        dealGroup.commissions.sort((a, b) => {\r\n          return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\r\n        });\r\n      });\r\n    });\r\n\r\n    return byPartner;\r\n  }, [partnerCommissions]);\r\n\r\n  const partnerCommissionsTotal = useMemo(() => {\r\n    return partnerCommissions.reduce((sum, c) => sum + Number(c.accrual_amount), 0);\r\n  }, [partnerCommissions]);\r\n\r\n  // Group commercial partner commissions by commercial partner, then by deal\r\n  const groupedCommercialPartnerCommissions = useMemo(() => {\r\n    const byCommercialPartner: Record<string, {\r\n      commercialPartner: { id: string; name: string };\r\n      byDeal: Record<string, {\r\n        deal: { id: string; name: string };\r\n        commissions: CommercialPartnerCommission[];\r\n        total: number;\r\n      }>;\r\n      total: number;\r\n    }> = {};\r\n\r\n    for (const commission of commercialPartnerCommissions) {\r\n      const commercialPartnerId = commission.entity_id || 'unknown';\r\n      const commercialPartnerName = commission.entity_name || 'Unknown Commercial Partner';\r\n      const dealId = commission.deal_id || 'unknown';\r\n      const dealName = commission.deal_name || 'Unknown Deal';\r\n\r\n      if (!byCommercialPartner[commercialPartnerId]) {\r\n        byCommercialPartner[commercialPartnerId] = {\r\n          commercialPartner: { id: commercialPartnerId, name: commercialPartnerName },\r\n          byDeal: {},\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      if (!byCommercialPartner[commercialPartnerId].byDeal[dealId]) {\r\n        byCommercialPartner[commercialPartnerId].byDeal[dealId] = {\r\n          deal: { id: dealId, name: dealName },\r\n          commissions: [],\r\n          total: 0,\r\n        };\r\n      }\r\n\r\n      byCommercialPartner[commercialPartnerId].byDeal[dealId].commissions.push(commission);\r\n      byCommercialPartner[commercialPartnerId].byDeal[dealId].total += Number(commission.accrual_amount);\r\n      byCommercialPartner[commercialPartnerId].total += Number(commission.accrual_amount);\r\n    }\r\n\r\n    // Sort commissions by created_at within each group\r\n    Object.values(byCommercialPartner).forEach(commercialPartnerGroup => {\r\n      Object.values(commercialPartnerGroup.byDeal).forEach(dealGroup => {\r\n        dealGroup.commissions.sort((a, b) => {\r\n          return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\r\n        });\r\n      });\r\n    });\r\n\r\n    return byCommercialPartner;\r\n  }, [commercialPartnerCommissions]);\r\n\r\n  const commercialPartnerCommissionsTotal = useMemo(() => {\r\n    return commercialPartnerCommissions.reduce((sum, c) => sum + Number(c.accrual_amount), 0);\r\n  }, [commercialPartnerCommissions]);\r\n\r\n  if (loading) {\r\n    return <div className=\"text-white\">Loading fee schedules...</div>;\r\n  }\r\n\r\n  if (!data) {\r\n    return <div className=\"text-white\">Failed to load fee schedules</div>;\r\n  }\r\n\r\n  const feeTypeColors: Record<string, string> = {\r\n    management: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\r\n    subscription: 'bg-purple-500/20 text-purple-400 border-purple-500/30',\r\n    performance: 'bg-green-500/20 text-green-400 border-green-500/30',\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h2 className=\"text-2xl font-bold text-white\">Fee Schedule</h2>\r\n        <p className=\"text-gray-400\">Upcoming recurring fees for the next {daysAhead} days</p>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid gap-4 md:grid-cols-3\">\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Total Scheduled</CardTitle>\r\n            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">\r\n              {data.summary.total_scheduled}\r\n            </div>\r\n            <p className=\"text-xs text-gray-400\">\r\n              Recurring fees due\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Expected Revenue</CardTitle>\r\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-white\">\r\n              {formatCurrency(data.summary.total_amount)}\r\n            </div>\r\n            <p className=\"text-xs text-gray-400\">\r\n              Total amount scheduled\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium\">Date Range</CardTitle>\r\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-sm font-medium text-white\">\r\n              {new Date(data.summary.date_range.from).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\r\n              {' - '}\r\n              {new Date(data.summary.date_range.to).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}\r\n            </div>\r\n            <p className=\"text-xs text-gray-400\">\r\n              Forecast period\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Time Range Selector */}\r\n      <div className=\"flex gap-2\">\r\n        {[30, 60, 90, 180].map((days) => (\r\n          <Button\r\n            key={days}\r\n            variant={daysAhead === days ? 'default' : 'outline'}\r\n            size=\"sm\"\r\n            onClick={() => setDaysAhead(days)}\r\n          >\r\n            {days} days\r\n          </Button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Filter Controls */}\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Filter className=\"h-4 w-4 text-gray-400\" />\r\n              <CardTitle className=\"text-sm\">Filters</CardTitle>\r\n              {hasActiveFilters && (\r\n                <Badge variant=\"secondary\" className=\"text-xs\">\r\n                  {selectedDealIds.length + selectedEntityIds.length + (dateRange ? 1 : 0)} active\r\n                </Badge>\r\n              )}\r\n            </div>\r\n            {hasActiveFilters && (\r\n              <Button variant=\"ghost\" size=\"sm\" onClick={clearFilters} className=\"h-7 text-xs\">\r\n                <X className=\"h-3 w-3 mr-1\" />\r\n                Clear all\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            {/* Deal Filter */}\r\n            <Popover open={dealPopoverOpen} onOpenChange={setDealPopoverOpen}>\r\n              <PopoverTrigger asChild>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  role=\"combobox\"\r\n                  aria-expanded={dealPopoverOpen}\r\n                  className=\"min-w-[200px] justify-between text-left font-normal\"\r\n                >\r\n                  <span className=\"truncate\">\r\n                    {selectedDealIds.length > 0\r\n                      ? selectedDealIds.length === 1\r\n                        ? selectedDealNames\r\n                        : `${selectedDealIds.length} deals selected`\r\n                      : 'Select deals...'}\r\n                  </span>\r\n                  <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className=\"w-[300px] p-0\" align=\"start\">\r\n                <Command>\r\n                  <CommandInput placeholder=\"Search deals...\" />\r\n                  <CommandList>\r\n                    <CommandEmpty>No deals found.</CommandEmpty>\r\n                    <CommandGroup heading=\"Deals\">\r\n                      {deals.map((deal) => (\r\n                        <CommandItem\r\n                          key={deal.id}\r\n                          value={deal.name}\r\n                          onSelect={() => toggleDeal(deal.id)}\r\n                        >\r\n                          <div className=\"flex items-center gap-2 w-full\">\r\n                            <Checkbox\r\n                              checked={selectedDealIds.includes(deal.id)}\r\n                              onCheckedChange={() => toggleDeal(deal.id)}\r\n                              className=\"h-4 w-4\"\r\n                            />\r\n                            <span className=\"truncate\">{deal.name}</span>\r\n                          </div>\r\n                        </CommandItem>\r\n                      ))}\r\n                    </CommandGroup>\r\n                  </CommandList>\r\n                </Command>\r\n              </PopoverContent>\r\n            </Popover>\r\n\r\n            {/* Entity Filter */}\r\n            <Popover open={entityPopoverOpen} onOpenChange={setEntityPopoverOpen}>\r\n              <PopoverTrigger asChild>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  role=\"combobox\"\r\n                  aria-expanded={entityPopoverOpen}\r\n                  className=\"min-w-[200px] justify-between text-left font-normal\"\r\n                >\r\n                  <span className=\"truncate\">\r\n                    {selectedEntityIds.length > 0\r\n                      ? selectedEntityIds.length === 1\r\n                        ? selectedEntityNames\r\n                        : `${selectedEntityIds.length} entities selected`\r\n                      : 'Select entities...'}\r\n                  </span>\r\n                  <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\r\n                </Button>\r\n              </PopoverTrigger>\r\n              <PopoverContent className=\"w-[300px] p-0\" align=\"start\">\r\n                <Command>\r\n                  <CommandInput placeholder=\"Search entities...\" />\r\n                  <CommandList>\r\n                    <CommandEmpty>No entities found.</CommandEmpty>\r\n                    {/* Group by entity type */}\r\n                    {['introducer', 'partner', 'commercial_partner'].map((type) => {\r\n                      const typeEntities = entities.filter((e) => e.type === type);\r\n                      if (typeEntities.length === 0) return null;\r\n\r\n                      const typeLabels: Record<string, string> = {\r\n                        introducer: 'Introducers',\r\n                        partner: 'Partners',\r\n                        commercial_partner: 'Commercial Partners',\r\n                      };\r\n\r\n                      return (\r\n                        <CommandGroup key={type} heading={typeLabels[type]}>\r\n                          {typeEntities.map((entity) => (\r\n                            <CommandItem\r\n                              key={entity.id}\r\n                              value={`${entity.type}-${entity.name}`}\r\n                              onSelect={() => toggleEntity(entity.id)}\r\n                            >\r\n                              <div className=\"flex items-center gap-2 w-full\">\r\n                                <Checkbox\r\n                                  checked={selectedEntityIds.includes(entity.id)}\r\n                                  onCheckedChange={() => toggleEntity(entity.id)}\r\n                                  className=\"h-4 w-4\"\r\n                                />\r\n                                {entity.type === 'introducer' && (\r\n                                  <UserCheck className=\"h-3.5 w-3.5 text-blue-400 shrink-0\" />\r\n                                )}\r\n                                {entity.type === 'partner' && (\r\n                                  <Handshake className=\"h-3.5 w-3.5 text-green-400 shrink-0\" />\r\n                                )}\r\n                                {entity.type === 'commercial_partner' && (\r\n                                  <Briefcase className=\"h-3.5 w-3.5 text-purple-400 shrink-0\" />\r\n                                )}\r\n                                <span className=\"truncate\">{entity.name}</span>\r\n                              </div>\r\n                            </CommandItem>\r\n                          ))}\r\n                        </CommandGroup>\r\n                      );\r\n                    })}\r\n                  </CommandList>\r\n                </Command>\r\n              </PopoverContent>\r\n            </Popover>\r\n\r\n            {/* Date Range Filter */}\r\n            <DateRangePicker\r\n              value={dateRange}\r\n              onChange={setDateRange}\r\n              variant=\"dark\"\r\n            />\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Investor Fees Section */}\r\n      <Collapsible open={investorFeesExpanded} onOpenChange={setInvestorFeesExpanded}>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CollapsibleTrigger asChild>\r\n              <button className=\"flex w-full items-center justify-between text-left\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Users className=\"h-5 w-5 text-blue-400\" />\r\n                  <div>\r\n                    <CardTitle className=\"text-lg\">Investor Fees</CardTitle>\r\n                    <p className=\"text-sm text-gray-400 mt-0.5\">\r\n                      Accrued fees pending collection\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-medium text-white\">\r\n                      {investorFees.length} fee{investorFees.length !== 1 ? 's' : ''}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      {formatCurrency(investorFeesTotal)}\r\n                    </div>\r\n                  </div>\r\n                  {investorFeesExpanded ? (\r\n                    <ChevronDown className=\"h-5 w-5 text-gray-400\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-5 w-5 text-gray-400\" />\r\n                  )}\r\n                </div>\r\n              </button>\r\n            </CollapsibleTrigger>\r\n          </CardHeader>\r\n          <CollapsibleContent>\r\n            <CardContent className=\"pt-0\">\r\n              {investorFeesLoading ? (\r\n                <p className=\"text-gray-400 py-4\">Loading investor fees...</p>\r\n              ) : investorFees.length === 0 ? (\r\n                <p className=\"text-gray-400 py-4\">No accrued investor fees with future periods</p>\r\n              ) : (\r\n                <div className=\"space-y-6\">\r\n                  {Object.entries(groupedInvestorFees).map(([dealId, dealGroup]) => (\r\n                    <div key={dealId} className=\"space-y-4\">\r\n                      {/* Deal Header */}\r\n                      <div className=\"flex items-center gap-2 border-b border-gray-700 pb-2\">\r\n                        <Building2 className=\"h-4 w-4 text-purple-400\" />\r\n                        <h4 className=\"font-semibold text-white\">{dealGroup.deal.name}</h4>\r\n                        <span className=\"text-sm text-gray-400 ml-auto\">\r\n                          {formatCurrency(dealGroup.total)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Investors within Deal */}\r\n                      {Object.entries(dealGroup.byInvestor).map(([investorId, investorGroup]) => (\r\n                        <div key={investorId} className=\"ml-6 space-y-2\">\r\n                          {/* Investor Header */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Users className=\"h-3.5 w-3.5 text-gray-500\" />\r\n                            <h5 className=\"font-medium text-gray-200\">{investorGroup.investor.name}</h5>\r\n                            <span className=\"text-sm text-gray-400 ml-auto\">\r\n                              {formatCurrency(investorGroup.total)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {/* Fee Events Table */}\r\n                          <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                              <thead>\r\n                                <tr className=\"border-b border-gray-700\">\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Fee Type</th>\r\n                                  <th className=\"text-right py-2 px-2 text-gray-400 font-medium\">Amount</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Period Start</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Period End</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {investorGroup.fees.map((fee) => (\r\n                                  <tr key={fee.id} className=\"border-b border-gray-800\">\r\n                                    <td className=\"py-2 px-2\">\r\n                                      <Badge className={feeTypeColors[fee.fee_type] || 'bg-gray-500/20 text-gray-400 border-gray-500/30'}>\r\n                                        {fee.fee_type}\r\n                                      </Badge>\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-right text-white font-medium\">\r\n                                      {formatCurrency(fee.computed_amount)}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {fee.period_start_date\r\n                                        ? new Date(fee.period_start_date).toLocaleDateString('en-US', {\r\n                                            month: 'short',\r\n                                            day: 'numeric',\r\n                                            year: 'numeric',\r\n                                          })\r\n                                        : '-'}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {fee.period_end_date\r\n                                        ? new Date(fee.period_end_date).toLocaleDateString('en-US', {\r\n                                            month: 'short',\r\n                                            day: 'numeric',\r\n                                            year: 'numeric',\r\n                                          })\r\n                                        : '-'}\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </CollapsibleContent>\r\n        </Card>\r\n      </Collapsible>\r\n\r\n      {/* Introducer Commissions Section */}\r\n      <Collapsible open={introducerCommissionsExpanded} onOpenChange={setIntroducerCommissionsExpanded}>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CollapsibleTrigger asChild>\r\n              <button className=\"flex w-full items-center justify-between text-left\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <UserCheck className=\"h-5 w-5 text-blue-400\" />\r\n                  <div>\r\n                    <CardTitle className=\"text-lg\">Introducer Commissions</CardTitle>\r\n                    <p className=\"text-sm text-gray-400 mt-0.5\">\r\n                      Pending commission payments to introducers\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-medium text-white\">\r\n                      {introducerCommissions.length} commission{introducerCommissions.length !== 1 ? 's' : ''}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      {formatCurrency(introducerCommissionsTotal)}\r\n                    </div>\r\n                  </div>\r\n                  {introducerCommissionsExpanded ? (\r\n                    <ChevronDown className=\"h-5 w-5 text-gray-400\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-5 w-5 text-gray-400\" />\r\n                  )}\r\n                </div>\r\n              </button>\r\n            </CollapsibleTrigger>\r\n          </CardHeader>\r\n          <CollapsibleContent>\r\n            <CardContent className=\"pt-0\">\r\n              {introducerCommissionsLoading ? (\r\n                <p className=\"text-gray-400 py-4\">Loading introducer commissions...</p>\r\n              ) : introducerCommissions.length === 0 ? (\r\n                <p className=\"text-gray-400 py-4\">No pending introducer commissions</p>\r\n              ) : (\r\n                <div className=\"space-y-6\">\r\n                  {Object.entries(groupedIntroducerCommissions).map(([introducerId, introducerGroup]) => (\r\n                    <div key={introducerId} className=\"space-y-4\">\r\n                      {/* Introducer Header */}\r\n                      <div className=\"flex items-center gap-2 border-b border-gray-700 pb-2\">\r\n                        <UserCheck className=\"h-4 w-4 text-blue-400\" />\r\n                        <h4 className=\"font-semibold text-white\">{introducerGroup.introducer.name}</h4>\r\n                        <span className=\"text-sm text-gray-400 ml-auto\">\r\n                          {formatCurrency(introducerGroup.total)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Deals within Introducer */}\r\n                      {Object.entries(introducerGroup.byDeal).map(([dealId, dealGroup]) => (\r\n                        <div key={dealId} className=\"ml-6 space-y-2\">\r\n                          {/* Deal Header */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Building2 className=\"h-3.5 w-3.5 text-purple-400\" />\r\n                            <h5 className=\"font-medium text-gray-200\">{dealGroup.deal.name}</h5>\r\n                            <span className=\"text-sm text-gray-400 ml-auto\">\r\n                              {formatCurrency(dealGroup.total)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {/* Commissions Table */}\r\n                          <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                              <thead>\r\n                                <tr className=\"border-b border-gray-700\">\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Investor</th>\r\n                                  <th className=\"text-right py-2 px-2 text-gray-400 font-medium\">Amount</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Status</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Created Date</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {dealGroup.commissions.map((commission) => (\r\n                                  <tr key={commission.id} className=\"border-b border-gray-800\">\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {commission.investor_name || '-'}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-right text-white font-medium\">\r\n                                      {formatCurrency(Number(commission.accrual_amount))}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2\">\r\n                                      <Badge className=\"bg-amber-500/20 text-amber-400 border-amber-500/30\">\r\n                                        {commission.status}\r\n                                      </Badge>\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {new Date(commission.created_at).toLocaleDateString('en-US', {\r\n                                        month: 'short',\r\n                                        day: 'numeric',\r\n                                        year: 'numeric',\r\n                                      })}\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </CollapsibleContent>\r\n        </Card>\r\n      </Collapsible>\r\n\r\n      {/* Partner Commissions Section */}\r\n      <Collapsible open={partnerCommissionsExpanded} onOpenChange={setPartnerCommissionsExpanded}>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CollapsibleTrigger asChild>\r\n              <button className=\"flex w-full items-center justify-between text-left\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Handshake className=\"h-5 w-5 text-green-400\" />\r\n                  <div>\r\n                    <CardTitle className=\"text-lg\">Partner Commissions</CardTitle>\r\n                    <p className=\"text-sm text-gray-400 mt-0.5\">\r\n                      Pending commission payments to partners\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-medium text-white\">\r\n                      {partnerCommissions.length} commission{partnerCommissions.length !== 1 ? 's' : ''}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      {formatCurrency(partnerCommissionsTotal)}\r\n                    </div>\r\n                  </div>\r\n                  {partnerCommissionsExpanded ? (\r\n                    <ChevronDown className=\"h-5 w-5 text-gray-400\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-5 w-5 text-gray-400\" />\r\n                  )}\r\n                </div>\r\n              </button>\r\n            </CollapsibleTrigger>\r\n          </CardHeader>\r\n          <CollapsibleContent>\r\n            <CardContent className=\"pt-0\">\r\n              {partnerCommissionsLoading ? (\r\n                <p className=\"text-gray-400 py-4\">Loading partner commissions...</p>\r\n              ) : partnerCommissions.length === 0 ? (\r\n                <p className=\"text-gray-400 py-4\">No pending partner commissions</p>\r\n              ) : (\r\n                <div className=\"space-y-6\">\r\n                  {Object.entries(groupedPartnerCommissions).map(([partnerId, partnerGroup]) => (\r\n                    <div key={partnerId} className=\"space-y-4\">\r\n                      {/* Partner Header */}\r\n                      <div className=\"flex items-center gap-2 border-b border-gray-700 pb-2\">\r\n                        <Handshake className=\"h-4 w-4 text-green-400\" />\r\n                        <h4 className=\"font-semibold text-white\">{partnerGroup.partner.name}</h4>\r\n                        <span className=\"text-sm text-gray-400 ml-auto\">\r\n                          {formatCurrency(partnerGroup.total)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Deals within Partner */}\r\n                      {Object.entries(partnerGroup.byDeal).map(([dealId, dealGroup]) => (\r\n                        <div key={dealId} className=\"ml-6 space-y-2\">\r\n                          {/* Deal Header */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Building2 className=\"h-3.5 w-3.5 text-purple-400\" />\r\n                            <h5 className=\"font-medium text-gray-200\">{dealGroup.deal.name}</h5>\r\n                            <span className=\"text-sm text-gray-400 ml-auto\">\r\n                              {formatCurrency(dealGroup.total)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {/* Commissions Table */}\r\n                          <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                              <thead>\r\n                                <tr className=\"border-b border-gray-700\">\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Investor</th>\r\n                                  <th className=\"text-right py-2 px-2 text-gray-400 font-medium\">Amount</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Status</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Created Date</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {dealGroup.commissions.map((commission) => (\r\n                                  <tr key={commission.id} className=\"border-b border-gray-800\">\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {commission.investor_name || '-'}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-right text-white font-medium\">\r\n                                      {formatCurrency(Number(commission.accrual_amount))}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2\">\r\n                                      <Badge className=\"bg-amber-500/20 text-amber-400 border-amber-500/30\">\r\n                                        {commission.status}\r\n                                      </Badge>\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {new Date(commission.created_at).toLocaleDateString('en-US', {\r\n                                        month: 'short',\r\n                                        day: 'numeric',\r\n                                        year: 'numeric',\r\n                                      })}\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </CollapsibleContent>\r\n        </Card>\r\n      </Collapsible>\r\n\r\n      {/* Commercial Partner Commissions Section */}\r\n      <Collapsible open={commercialPartnerCommissionsExpanded} onOpenChange={setCommercialPartnerCommissionsExpanded}>\r\n        <Card>\r\n          <CardHeader className=\"pb-3\">\r\n            <CollapsibleTrigger asChild>\r\n              <button className=\"flex w-full items-center justify-between text-left\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Briefcase className=\"h-5 w-5 text-purple-400\" />\r\n                  <div>\r\n                    <CardTitle className=\"text-lg\">Commercial Partner Commissions</CardTitle>\r\n                    <p className=\"text-sm text-gray-400 mt-0.5\">\r\n                      Pending commission payments to commercial partners\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"text-right\">\r\n                    <div className=\"text-sm font-medium text-white\">\r\n                      {commercialPartnerCommissions.length} commission{commercialPartnerCommissions.length !== 1 ? 's' : ''}\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-400\">\r\n                      {formatCurrency(commercialPartnerCommissionsTotal)}\r\n                    </div>\r\n                  </div>\r\n                  {commercialPartnerCommissionsExpanded ? (\r\n                    <ChevronDown className=\"h-5 w-5 text-gray-400\" />\r\n                  ) : (\r\n                    <ChevronRight className=\"h-5 w-5 text-gray-400\" />\r\n                  )}\r\n                </div>\r\n              </button>\r\n            </CollapsibleTrigger>\r\n          </CardHeader>\r\n          <CollapsibleContent>\r\n            <CardContent className=\"pt-0\">\r\n              {commercialPartnerCommissionsLoading ? (\r\n                <p className=\"text-gray-400 py-4\">Loading commercial partner commissions...</p>\r\n              ) : commercialPartnerCommissions.length === 0 ? (\r\n                <p className=\"text-gray-400 py-4\">No pending commercial partner commissions</p>\r\n              ) : (\r\n                <div className=\"space-y-6\">\r\n                  {Object.entries(groupedCommercialPartnerCommissions).map(([commercialPartnerId, commercialPartnerGroup]) => (\r\n                    <div key={commercialPartnerId} className=\"space-y-4\">\r\n                      {/* Commercial Partner Header */}\r\n                      <div className=\"flex items-center gap-2 border-b border-gray-700 pb-2\">\r\n                        <Briefcase className=\"h-4 w-4 text-purple-400\" />\r\n                        <h4 className=\"font-semibold text-white\">{commercialPartnerGroup.commercialPartner.name}</h4>\r\n                        <span className=\"text-sm text-gray-400 ml-auto\">\r\n                          {formatCurrency(commercialPartnerGroup.total)}\r\n                        </span>\r\n                      </div>\r\n\r\n                      {/* Deals within Commercial Partner */}\r\n                      {Object.entries(commercialPartnerGroup.byDeal).map(([dealId, dealGroup]) => (\r\n                        <div key={dealId} className=\"ml-6 space-y-2\">\r\n                          {/* Deal Header */}\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <Building2 className=\"h-3.5 w-3.5 text-purple-400\" />\r\n                            <h5 className=\"font-medium text-gray-200\">{dealGroup.deal.name}</h5>\r\n                            <span className=\"text-sm text-gray-400 ml-auto\">\r\n                              {formatCurrency(dealGroup.total)}\r\n                            </span>\r\n                          </div>\r\n\r\n                          {/* Commissions Table */}\r\n                          <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-sm\">\r\n                              <thead>\r\n                                <tr className=\"border-b border-gray-700\">\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Investor</th>\r\n                                  <th className=\"text-right py-2 px-2 text-gray-400 font-medium\">Amount</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Status</th>\r\n                                  <th className=\"text-left py-2 px-2 text-gray-400 font-medium\">Created Date</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                                {dealGroup.commissions.map((commission) => (\r\n                                  <tr key={commission.id} className=\"border-b border-gray-800\">\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {commission.investor_name || '-'}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-right text-white font-medium\">\r\n                                      {formatCurrency(Number(commission.accrual_amount))}\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2\">\r\n                                      <Badge className=\"bg-amber-500/20 text-amber-400 border-amber-500/30\">\r\n                                        {commission.status}\r\n                                      </Badge>\r\n                                    </td>\r\n                                    <td className=\"py-2 px-2 text-gray-300\">\r\n                                      {new Date(commission.created_at).toLocaleDateString('en-US', {\r\n                                        month: 'short',\r\n                                        day: 'numeric',\r\n                                        year: 'numeric',\r\n                                      })}\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </CollapsibleContent>\r\n        </Card>\r\n      </Collapsible>\r\n\r\n      {/* Scheduled Recurring Fees - Grouped by Month */}\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold text-white mb-4\">Scheduled Recurring Fees</h3>\r\n      </div>\r\n      {Object.keys(data.by_month).length === 0 ? (\r\n        <Card>\r\n          <CardContent className=\"py-10 text-center\">\r\n            <p className=\"text-gray-400\">No upcoming fees scheduled for the next {daysAhead} days</p>\r\n          </CardContent>\r\n        </Card>\r\n      ) : (\r\n        <div className=\"space-y-6\">\r\n          {Object.entries(data.by_month).map(([month, monthData]) => (\r\n            <div key={month}>\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h3 className=\"text-lg font-semibold text-white\">{month}</h3>\r\n                <div className=\"text-sm text-gray-400\">\r\n                  {monthData.fees.length} fee{monthData.fees.length !== 1 ? 's' : ''}  {formatCurrency(monthData.total)}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3\">\r\n                {monthData.fees.map((fee) => (\r\n                  <Card key={fee.id}>\r\n                    <CardContent className=\"py-4\">\r\n                      <div className=\"flex items-start justify-between\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-2\">\r\n                            <Badge className={feeTypeColors[fee.fee_type] || 'bg-gray-500/20 text-gray-400 border-gray-500/30'}>\r\n                              {fee.fee_name}\r\n                            </Badge>\r\n                            <Badge variant=\"outline\" className=\"text-xs\">\r\n                              {fee.frequency}\r\n                            </Badge>\r\n                          </div>\r\n\r\n                          <div className=\"space-y-1\">\r\n                            <p className=\"font-medium text-white\">\r\n                              {fee.investor.legal_name || fee.investor.display_name}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-400\">\r\n                              {fee.vehicle.name}\r\n                            </p>\r\n                            <p className=\"text-sm text-gray-400\">\r\n                              Subscription: {fee.subscription_number}\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-500\">\r\n                              Due: {new Date(fee.next_due_date).toLocaleDateString('en-US', {\r\n                                weekday: 'short',\r\n                                month: 'short',\r\n                                day: 'numeric',\r\n                                year: 'numeric',\r\n                              })}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"text-right ml-4\">\r\n                          <div className=\"text-xl font-bold text-white\">\r\n                            {formatCurrency(fee.amount)}\r\n                          </div>\r\n                          <Badge variant=\"secondary\" className=\"mt-2\">\r\n                            {fee.status}\r\n                          </Badge>\r\n                        </div>\r\n                      </div>\r\n                    </CardContent>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}