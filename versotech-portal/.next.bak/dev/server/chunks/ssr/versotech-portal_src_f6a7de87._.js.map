{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/retention/components/retention-skeleton.tsx"],"sourcesContent":["import { Card, CardContent, CardHeader } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\n\nexport function RetentionSkeleton() {\n  return (\n    <div className=\"space-y-6\">\n      {/* KPI Cards Row */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <Card key={i}>\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <Skeleton className=\"h-4 w-4\" />\n                <Skeleton className=\"h-4 w-28\" />\n              </div>\n            </CardHeader>\n            <CardContent>\n              <Skeleton className=\"h-8 w-16 mb-2\" />\n              <Skeleton className=\"h-3 w-32\" />\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n\n      {/* Cohort Matrix */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-4 w-4\" />\n            <Skeleton className=\"h-5 w-44\" />\n          </div>\n          <Skeleton className=\"h-3 w-64 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            {/* Table Header */}\n            <div className=\"grid grid-cols-6 gap-2 mb-3 pb-2 border-b\">\n              <Skeleton className=\"h-4 w-20\" />\n              {Array.from({ length: 5 }).map((_, i) => (\n                <Skeleton key={i} className=\"h-4 w-16 mx-auto\" />\n              ))}\n            </div>\n            {/* Table Rows */}\n            {Array.from({ length: 5 }).map((_, rowIndex) => (\n              <div key={rowIndex} className=\"grid grid-cols-6 gap-2 py-2\">\n                <Skeleton className=\"h-4 w-16\" />\n                {Array.from({ length: 5 }).map((_, colIndex) => (\n                  <Skeleton\n                    key={colIndex}\n                    className=\"h-8 w-full rounded\"\n                    style={{ opacity: colIndex <= rowIndex ? 1 : 0.3 }}\n                  />\n                ))}\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* At-Risk Users Table */}\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-4 w-4\" />\n            <Skeleton className=\"h-5 w-32\" />\n          </div>\n          <Skeleton className=\"h-3 w-56 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {/* Table header */}\n            <div className=\"grid grid-cols-4 gap-4 pb-2 border-b\">\n              <Skeleton className=\"h-4 w-16\" />\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-24\" />\n              <Skeleton className=\"h-4 w-16\" />\n            </div>\n            {/* Table rows */}\n            {Array.from({ length: 5 }).map((_, i) => (\n              <div key={i} className=\"grid grid-cols-4 gap-4 py-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Skeleton className=\"h-8 w-8 rounded-full\" />\n                  <Skeleton className=\"h-4 w-24\" />\n                </div>\n                <Skeleton className=\"h-4 w-20\" />\n                <Skeleton className=\"h-4 w-24\" />\n                <Skeleton className=\"h-8 w-20 rounded\" />\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,SAAS;IACd,qBACE,qQAAC;QAAI,WAAU;;0BAEb,qQAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,qQAAC,+JAAI;;0CACH,qQAAC,qKAAU;gCAAC,WAAU;0CACpB,cAAA,qQAAC;oCAAI,WAAU;;sDACb,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGxB,qQAAC,sKAAW;;kDACV,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;kDACpB,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;;;;;;;;uBATb;;;;;;;;;;0BAgBf,qQAAC,+JAAI;;kCACH,qQAAC,qKAAU;wBAAC,WAAU;;0CACpB,qQAAC;gCAAI,WAAU;;kDACb,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;kDACpB,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,qQAAC,uKAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,qQAAC,sKAAW;kCACV,cAAA,qQAAC;4BAAI,WAAU;;8CAEb,qQAAC;oCAAI,WAAU;;sDACb,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;wCACnB,MAAM,IAAI,CAAC;4CAAE,QAAQ;wCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,qQAAC,uKAAQ;gDAAS,WAAU;+CAAb;;;;;;;;;;;gCAIlB,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,yBACjC,qQAAC;wCAAmB,WAAU;;0DAC5B,qQAAC,uKAAQ;gDAAC,WAAU;;;;;;4CACnB,MAAM,IAAI,CAAC;gDAAE,QAAQ;4CAAE,GAAG,GAAG,CAAC,CAAC,GAAG,yBACjC,qQAAC,uKAAQ;oDAEP,WAAU;oDACV,OAAO;wDAAE,SAAS,YAAY,WAAW,IAAI;oDAAI;mDAF5C;;;;;;uCAJD;;;;;;;;;;;;;;;;;;;;;;0BAgBlB,qQAAC,+JAAI;;kCACH,qQAAC,qKAAU;wBAAC,WAAU;;0CACpB,qQAAC;gCAAI,WAAU;;kDACb,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;kDACpB,qQAAC,uKAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,qQAAC,uKAAQ;gCAAC,WAAU;;;;;;;;;;;;kCAEtB,qQAAC,sKAAW;kCACV,cAAA,qQAAC;4BAAI,WAAU;;8CAEb,qQAAC;oCAAI,WAAU;;sDACb,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;sDACpB,qQAAC,uKAAQ;4CAAC,WAAU;;;;;;;;;;;;gCAGrB,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,qQAAC;wCAAY,WAAU;;0DACrB,qQAAC;gDAAI,WAAU;;kEACb,qQAAC,uKAAQ;wDAAC,WAAU;;;;;;kEACpB,qQAAC,uKAAQ;wDAAC,WAAU;;;;;;;;;;;;0DAEtB,qQAAC,uKAAQ;gDAAC,WAAU;;;;;;0DACpB,qQAAC,uKAAQ;gDAAC,WAAU;;;;;;0DACpB,qQAAC,uKAAQ;gDAAC,WAAU;;;;;;;uCAPZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAexB"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/retention/components/retention-kpi-cards.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { TrendingDown, TrendingUp, Calendar, UserX } from 'lucide-react'\nimport type { LucideIcon } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface RetentionData {\n  retentionRates: {\n    day7: number\n    day30: number\n    day90: number\n  }\n  churnRate: number\n}\n\ninterface RetentionKPICardsProps {\n  days: string\n}\n\ninterface KPIConfig {\n  key: 'day7' | 'day30' | 'day90' | 'churn'\n  label: string\n  icon: LucideIcon\n  getValue: (data: RetentionData) => number\n  isChurn?: boolean\n  description: string\n}\n\nconst KPI_CONFIGS: KPIConfig[] = [\n  {\n    key: 'day7',\n    label: '7-Day Retention',\n    icon: Calendar,\n    getValue: (data) => data.retentionRates.day7,\n    description: 'Users retained after 7 days',\n  },\n  {\n    key: 'day30',\n    label: '30-Day Retention',\n    icon: Calendar,\n    getValue: (data) => data.retentionRates.day30,\n    description: 'Users retained after 30 days',\n  },\n  {\n    key: 'day90',\n    label: '90-Day Retention',\n    icon: Calendar,\n    getValue: (data) => data.retentionRates.day90,\n    description: 'Users retained after 90 days',\n  },\n  {\n    key: 'churn',\n    label: 'Churn Rate',\n    icon: UserX,\n    getValue: (data) => data.churnRate,\n    isChurn: true,\n    description: 'Users lost in last 30 days',\n  },\n]\n\n// Get color class based on retention percentage\nfunction getRetentionColor(value: number, isChurn: boolean = false): string {\n  if (isChurn) {\n    // For churn, lower is better\n    if (value <= 10) return 'text-emerald-600 dark:text-emerald-400'\n    if (value <= 25) return 'text-amber-600 dark:text-amber-400'\n    return 'text-red-600 dark:text-red-400'\n  }\n  // For retention, higher is better\n  if (value >= 70) return 'text-emerald-600 dark:text-emerald-400'\n  if (value >= 40) return 'text-amber-600 dark:text-amber-400'\n  return 'text-red-600 dark:text-red-400'\n}\n\n// Get trend icon based on value\nfunction getTrendIcon(value: number, isChurn: boolean = false) {\n  if (isChurn) {\n    return value <= 15 ? TrendingDown : TrendingUp\n  }\n  return value >= 50 ? TrendingUp : TrendingDown\n}\n\nfunction KPICardSkeleton() {\n  return (\n    <Card>\n      <CardHeader className=\"pb-2\">\n        <div className=\"flex items-center gap-2\">\n          <Skeleton className=\"h-4 w-4\" />\n          <Skeleton className=\"h-4 w-28\" />\n        </div>\n      </CardHeader>\n      <CardContent>\n        <Skeleton className=\"h-8 w-16 mb-2\" />\n        <Skeleton className=\"h-3 w-32\" />\n      </CardContent>\n    </Card>\n  )\n}\n\nexport function RetentionKPICards({ days }: RetentionKPICardsProps) {\n  const [data, setData] = useState<RetentionData | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await fetch(`/api/admin/growth/retention?days=${days}`)\n        if (!response.ok) {\n          throw new Error('Failed to fetch retention data')\n        }\n        const result = await response.json()\n        if (result.success && result.data) {\n          setData(result.data)\n        } else {\n          throw new Error(result.error || 'No data available')\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load data')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [days])\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {Array.from({ length: 4 }).map((_, i) => (\n          <KPICardSkeleton key={i} />\n        ))}\n      </div>\n    )\n  }\n\n  if (error || !data) {\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n        {KPI_CONFIGS.map((config) => (\n          <Card key={config.key}>\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center gap-2\">\n                <config.icon className=\"h-4 w-4 text-muted-foreground\" />\n                <CardTitle className=\"text-sm font-medium\">{config.label}</CardTitle>\n              </div>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-destructive text-sm\">Error loading data</p>\n            </CardContent>\n          </Card>\n        ))}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n      {KPI_CONFIGS.map((config) => {\n        const value = config.getValue(data)\n        const colorClass = getRetentionColor(value, config.isChurn)\n        const TrendIcon = getTrendIcon(value, config.isChurn)\n        const isPositiveTrend = config.isChurn ? value <= 15 : value >= 50\n\n        return (\n          <Card key={config.key}>\n            <CardHeader className=\"pb-2\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <config.icon className=\"h-4 w-4 text-primary\" />\n                  <CardTitle className=\"text-sm font-medium\">{config.label}</CardTitle>\n                </div>\n                <TrendIcon\n                  className={cn(\n                    'h-4 w-4',\n                    isPositiveTrend\n                      ? 'text-emerald-500'\n                      : 'text-red-500'\n                  )}\n                />\n              </div>\n            </CardHeader>\n            <CardContent>\n              <p className={cn('text-2xl font-bold', colorClass)}>\n                {value.toFixed(1)}%\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-1\">{config.description}</p>\n            </CardContent>\n          </Card>\n        )\n      })}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/retention/components/cohort-matrix.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Table2 } from 'lucide-react'\nimport { cn } from '@/lib/utils'\n\ninterface CohortRow {\n  cohort_week: string\n  week_0: number\n  week_1: number\n  week_2: number\n  week_3: number\n  week_4: number\n}\n\ninterface RetentionData {\n  cohortMatrix: CohortRow[]\n}\n\ninterface CohortMatrixProps {\n  days: string\n}\n\n// Get background color based on retention percentage\nfunction getRetentionBgColor(value: number): string {\n  if (value === 0) return 'bg-muted'\n  if (value >= 70) return 'bg-emerald-500/80 dark:bg-emerald-600/80'\n  if (value >= 50) return 'bg-emerald-400/60 dark:bg-emerald-500/60'\n  if (value >= 30) return 'bg-amber-400/60 dark:bg-amber-500/60'\n  if (value >= 10) return 'bg-orange-400/60 dark:bg-orange-500/60'\n  return 'bg-red-400/60 dark:bg-red-500/60'\n}\n\n// Get text color based on retention percentage\nfunction getRetentionTextColor(value: number): string {\n  if (value === 0) return 'text-muted-foreground'\n  if (value >= 50) return 'text-white dark:text-white'\n  return 'text-foreground'\n}\n\nconst WEEK_HEADERS = ['Week 0', 'Week 1', 'Week 2', 'Week 3', 'Week 4']\n\nexport function CohortMatrix({ days }: CohortMatrixProps) {\n  const [data, setData] = useState<CohortRow[] | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await fetch(`/api/admin/growth/retention?days=${days}`)\n        if (!response.ok) {\n          throw new Error('Failed to fetch retention data')\n        }\n        const result = await response.json()\n        if (result.success && result.data) {\n          setData(result.data.cohortMatrix)\n        } else {\n          throw new Error(result.error || 'No data available')\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load data')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [days])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-4 w-4\" />\n            <Skeleton className=\"h-5 w-44\" />\n          </div>\n          <Skeleton className=\"h-3 w-64 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            <div className=\"grid grid-cols-6 gap-2 mb-3 pb-2 border-b\">\n              <Skeleton className=\"h-4 w-20\" />\n              {Array.from({ length: 5 }).map((_, i) => (\n                <Skeleton key={i} className=\"h-4 w-16 mx-auto\" />\n              ))}\n            </div>\n            {Array.from({ length: 5 }).map((_, rowIndex) => (\n              <div key={rowIndex} className=\"grid grid-cols-6 gap-2 py-2\">\n                <Skeleton className=\"h-4 w-16\" />\n                {Array.from({ length: 5 }).map((_, colIndex) => (\n                  <Skeleton key={colIndex} className=\"h-10 w-full rounded\" />\n                ))}\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error || !data) {\n    return (\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <Table2 className=\"h-4 w-4 text-muted-foreground\" />\n            <CardTitle className=\"text-base\">Retention Cohort Matrix</CardTitle>\n          </div>\n          <CardDescription>\n            Weekly cohort retention analysis\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-destructive text-sm\">Failed to load cohort data</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  // Reverse data to show oldest cohorts at top\n  const sortedData = [...data].reverse()\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center gap-2\">\n          <Table2 className=\"h-4 w-4 text-primary\" />\n          <CardTitle className=\"text-base\">Retention Cohort Matrix</CardTitle>\n        </div>\n        <CardDescription>\n          Track how different weekly user cohorts retain over time. Higher percentages (green) indicate better retention.\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          {/* Matrix Table */}\n          <div className=\"min-w-[600px]\">\n            {/* Header Row */}\n            <div className=\"grid grid-cols-6 gap-2 mb-3 pb-2 border-b\">\n              <div className=\"text-sm font-medium text-muted-foreground\">\n                Cohort\n              </div>\n              {WEEK_HEADERS.map((header) => (\n                <div\n                  key={header}\n                  className=\"text-sm font-medium text-muted-foreground text-center\"\n                >\n                  {header}\n                </div>\n              ))}\n            </div>\n\n            {/* Data Rows */}\n            {sortedData.map((row, rowIndex) => {\n              // Calculate which columns should be shown (based on how old the cohort is)\n              const maxWeek = 4 - rowIndex\n\n              return (\n                <div key={row.cohort_week} className=\"grid grid-cols-6 gap-2 py-1\">\n                  {/* Cohort Label */}\n                  <div className=\"flex items-center text-sm font-medium\">\n                    {row.cohort_week}\n                  </div>\n\n                  {/* Week Cells */}\n                  {[row.week_0, row.week_1, row.week_2, row.week_3, row.week_4].map(\n                    (value, weekIndex) => {\n                      const isAvailable = weekIndex <= maxWeek\n                      const bgColor = isAvailable ? getRetentionBgColor(value) : 'bg-muted/30'\n                      const textColor = isAvailable ? getRetentionTextColor(value) : 'text-muted-foreground/50'\n\n                      return (\n                        <div\n                          key={weekIndex}\n                          className={cn(\n                            'flex items-center justify-center h-10 rounded text-sm font-medium transition-colors',\n                            bgColor,\n                            textColor,\n                            !isAvailable && 'opacity-40'\n                          )}\n                          title={\n                            isAvailable\n                              ? `${row.cohort_week} - Week ${weekIndex}: ${value}% retention`\n                              : 'Not enough time has passed'\n                          }\n                        >\n                          {isAvailable ? `${value}%` : '-'}\n                        </div>\n                      )\n                    }\n                  )}\n                </div>\n              )\n            })}\n          </div>\n        </div>\n\n        {/* Legend */}\n        <div className=\"flex flex-wrap items-center gap-4 mt-6 pt-4 border-t\">\n          <span className=\"text-xs text-muted-foreground\">Legend:</span>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-emerald-500/80\" />\n            <span className=\"text-xs text-muted-foreground\">70%+</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-emerald-400/60\" />\n            <span className=\"text-xs text-muted-foreground\">50-69%</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-amber-400/60\" />\n            <span className=\"text-xs text-muted-foreground\">30-49%</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-orange-400/60\" />\n            <span className=\"text-xs text-muted-foreground\">10-29%</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-red-400/60\" />\n            <span className=\"text-xs text-muted-foreground\">&lt;10%</span>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <div className=\"w-4 h-4 rounded bg-muted\" />\n            <span className=\"text-xs text-muted-foreground\">No data</span>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1389, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,qQAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,qQAAC;YACC,aAAU;YACV,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 1515, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/retention/components/at-risk-users-table.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport { AlertTriangle, Mail, ExternalLink, UserX } from 'lucide-react'\nimport { formatDistanceToNow } from 'date-fns'\nimport Link from 'next/link'\n\ninterface AtRiskUser {\n  id: string\n  name: string\n  email: string\n  lastActive: string\n  totalInvested: number\n}\n\ninterface RetentionData {\n  atRiskUsers: AtRiskUser[]\n}\n\ninterface AtRiskUsersTableProps {\n  days: string\n}\n\n// Format currency values\nfunction formatCurrency(value: number): string {\n  if (value >= 1000000) {\n    return `$${(value / 1000000).toFixed(1)}M`\n  }\n  if (value >= 1000) {\n    return `$${(value / 1000).toFixed(0)}K`\n  }\n  return `$${value.toLocaleString()}`\n}\n\n// Get initials from name\nfunction getInitials(name: string): string {\n  return name\n    .split(' ')\n    .map((n) => n[0])\n    .join('')\n    .toUpperCase()\n    .slice(0, 2)\n}\n\nexport function AtRiskUsersTable({ days }: AtRiskUsersTableProps) {\n  const [users, setUsers] = useState<AtRiskUser[] | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await fetch(`/api/admin/growth/retention?days=${days}`)\n        if (!response.ok) {\n          throw new Error('Failed to fetch retention data')\n        }\n        const result = await response.json()\n        if (result.success && result.data) {\n          setUsers(result.data.atRiskUsers)\n        } else {\n          throw new Error(result.error || 'No data available')\n        }\n      } catch (err) {\n        setError(err instanceof Error ? err.message : 'Failed to load data')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [days])\n\n  if (loading) {\n    return (\n      <Card>\n        <CardHeader className=\"pb-2\">\n          <div className=\"flex items-center gap-2\">\n            <Skeleton className=\"h-4 w-4\" />\n            <Skeleton className=\"h-5 w-32\" />\n          </div>\n          <Skeleton className=\"h-3 w-56 mt-1\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-4 gap-4 pb-2 border-b\">\n              <Skeleton className=\"h-4 w-16\" />\n              <Skeleton className=\"h-4 w-20\" />\n              <Skeleton className=\"h-4 w-24\" />\n              <Skeleton className=\"h-4 w-16\" />\n            </div>\n            {Array.from({ length: 5 }).map((_, i) => (\n              <div key={i} className=\"grid grid-cols-4 gap-4 py-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Skeleton className=\"h-8 w-8 rounded-full\" />\n                  <Skeleton className=\"h-4 w-24\" />\n                </div>\n                <Skeleton className=\"h-4 w-20\" />\n                <Skeleton className=\"h-4 w-24\" />\n                <Skeleton className=\"h-8 w-20 rounded\" />\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-4 w-4 text-muted-foreground\" />\n            <CardTitle className=\"text-base\">At-Risk Users</CardTitle>\n          </div>\n          <CardDescription>\n            Users who haven&apos;t been active in 30+ days\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-destructive text-sm\">Failed to load at-risk users data</p>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (!users || users.length === 0) {\n    return (\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-2\">\n            <AlertTriangle className=\"h-4 w-4 text-primary\" />\n            <CardTitle className=\"text-base\">At-Risk Users</CardTitle>\n          </div>\n          <CardDescription>\n            Users who haven&apos;t been active in 30+ days\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n            <div className=\"rounded-full bg-emerald-100 dark:bg-emerald-900/30 p-4 mb-4\">\n              <UserX className=\"h-8 w-8 text-emerald-600 dark:text-emerald-400\" />\n            </div>\n            <h3 className=\"text-lg font-semibold\">No At-Risk Users</h3>\n            <p className=\"text-sm text-muted-foreground max-w-md mt-1\">\n              Great news! All users have been active within the last 30 days.\n            </p>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <div className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-4 w-4 text-amber-500\" />\n              <CardTitle className=\"text-base\">At-Risk Users</CardTitle>\n            </div>\n            <CardDescription>\n              Users who haven&apos;t been active in 30+ days, sorted by investment amount\n            </CardDescription>\n          </div>\n          <span className=\"text-sm text-muted-foreground\">\n            {users.length} user{users.length !== 1 ? 's' : ''}\n          </span>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead className=\"min-w-[200px]\">User</TableHead>\n                <TableHead>Last Active</TableHead>\n                <TableHead className=\"text-right\">Total Invested</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  {/* User Column */}\n                  <TableCell>\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar className=\"h-8 w-8\">\n                        <AvatarFallback className=\"text-xs bg-primary/10 text-primary\">\n                          {getInitials(user.name)}\n                        </AvatarFallback>\n                      </Avatar>\n                      <div>\n                        <Link\n                          href={`/versotech_admin/users/${user.id}`}\n                          className=\"font-medium hover:underline flex items-center gap-1\"\n                        >\n                          {user.name}\n                          <ExternalLink className=\"h-3 w-3 text-muted-foreground\" />\n                        </Link>\n                        <p className=\"text-xs text-muted-foreground\">{user.email}</p>\n                      </div>\n                    </div>\n                  </TableCell>\n\n                  {/* Last Active Column */}\n                  <TableCell>\n                    <span className=\"text-amber-600 dark:text-amber-400\">\n                      {formatDistanceToNow(new Date(user.lastActive), { addSuffix: true })}\n                    </span>\n                  </TableCell>\n\n                  {/* Total Invested Column */}\n                  <TableCell className=\"text-right\">\n                    <span className=\"font-medium\">\n                      {user.totalInvested > 0 ? formatCurrency(user.totalInvested) : '-'}\n                    </span>\n                  </TableCell>\n\n                  {/* Actions Column */}\n                  <TableCell className=\"text-right\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      asChild\n                    >\n                      <a\n                        href={`mailto:${user.email}?subject=We miss you at VERSO!&body=Hi ${user.name.split(' ')[0]},%0D%0A%0D%0AWe noticed you haven't logged in recently and wanted to check in. Is there anything we can help you with?%0D%0A%0D%0ABest regards,%0D%0AThe VERSO Team`}\n                      >\n                        <Mail className=\"h-4 w-4 mr-1\" />\n                        Contact\n                      </a>\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2186, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28admin%29/versotech_admin/growth/retention/page.tsx"],"sourcesContent":["'use client'\n\nimport { Suspense } from 'react'\nimport { useSearchParams, useRouter, usePathname } from 'next/navigation'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { RetentionSkeleton } from './components/retention-skeleton'\nimport { RetentionKPICards } from './components/retention-kpi-cards'\nimport { CohortMatrix } from './components/cohort-matrix'\nimport { AtRiskUsersTable } from './components/at-risk-users-table'\n\ntype DateRange = '7' | '30' | '90'\n\nconst DATE_RANGE_OPTIONS: { value: DateRange; label: string }[] = [\n  { value: '7', label: 'Last 7 days' },\n  { value: '30', label: 'Last 30 days' },\n  { value: '90', label: 'Last 90 days' },\n]\n\nfunction DateRangeSelector() {\n  const searchParams = useSearchParams()\n  const router = useRouter()\n  const pathname = usePathname()\n\n  const currentRange = (searchParams.get('days') as DateRange) || '30'\n\n  const handleRangeChange = (value: DateRange) => {\n    const params = new URLSearchParams(searchParams.toString())\n    params.set('days', value)\n    router.push(`${pathname}?${params.toString()}`)\n  }\n\n  return (\n    <Select value={currentRange} onValueChange={handleRangeChange}>\n      <SelectTrigger className=\"w-[160px]\">\n        <SelectValue placeholder=\"Select range\" />\n      </SelectTrigger>\n      <SelectContent>\n        {DATE_RANGE_OPTIONS.map((option) => (\n          <SelectItem key={option.value} value={option.value}>\n            {option.label}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  )\n}\n\nfunction RetentionContent() {\n  const searchParams = useSearchParams()\n  const days = searchParams.get('days') || '30'\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Retention KPI Cards */}\n      <RetentionKPICards days={days} />\n\n      {/* Cohort Retention Matrix */}\n      <CohortMatrix days={days} />\n\n      {/* At-Risk Users Table */}\n      <AtRiskUsersTable days={days} />\n    </div>\n  )\n}\n\nexport default function RetentionPage() {\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header with title and date range selector */}\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-2xl font-bold\">Retention Analytics</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            Analyze user retention patterns and identify at-risk users\n          </p>\n        </div>\n        <Suspense fallback={<div className=\"h-10 w-[160px] rounded-md bg-muted animate-pulse\" />}>\n          <DateRangeSelector />\n        </Suspense>\n      </div>\n\n      {/* Main content with Suspense */}\n      <Suspense fallback={<RetentionSkeleton />}>\n        <RetentionContent />\n      </Suspense>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAOA;AACA;AACA;AACA;AAdA;;;;;;;;;AAkBA,MAAM,qBAA4D;IAChE;QAAE,OAAO;QAAK,OAAO;IAAc;IACnC;QAAE,OAAO;QAAM,OAAO;IAAe;IACrC;QAAE,OAAO;QAAM,OAAO;IAAe;CACtC;AAED,SAAS;IACP,MAAM,eAAe,IAAA,4KAAe;IACpC,MAAM,SAAS,IAAA,sKAAS;IACxB,MAAM,WAAW,IAAA,wKAAW;IAE5B,MAAM,eAAe,AAAC,aAAa,GAAG,CAAC,WAAyB;IAEhE,MAAM,oBAAoB,CAAC;QACzB,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QACxD,OAAO,GAAG,CAAC,QAAQ;QACnB,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAChD;IAEA,qBACE,qQAAC,mKAAM;QAAC,OAAO;QAAc,eAAe;;0BAC1C,qQAAC,0KAAa;gBAAC,WAAU;0BACvB,cAAA,qQAAC,wKAAW;oBAAC,aAAY;;;;;;;;;;;0BAE3B,qQAAC,0KAAa;0BACX,mBAAmB,GAAG,CAAC,CAAC,uBACvB,qQAAC,uKAAU;wBAAoB,OAAO,OAAO,KAAK;kCAC/C,OAAO,KAAK;uBADE,OAAO,KAAK;;;;;;;;;;;;;;;;AAOvC;AAEA,SAAS;IACP,MAAM,eAAe,IAAA,4KAAe;IACpC,MAAM,OAAO,aAAa,GAAG,CAAC,WAAW;IAEzC,qBACE,qQAAC;QAAI,WAAU;;0BAEb,qQAAC,yPAAiB;gBAAC,MAAM;;;;;;0BAGzB,qQAAC,2OAAY;gBAAC,MAAM;;;;;;0BAGpB,qQAAC,2PAAgB;gBAAC,MAAM;;;;;;;;;;;;AAG9B;AAEe,SAAS;IACtB,qBACE,qQAAC;QAAI,WAAU;;0BAEb,qQAAC;gBAAI,WAAU;;kCACb,qQAAC;;0CACC,qQAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,qQAAC;gCAAE,WAAU;0CAA6B;;;;;;;;;;;;kCAI5C,qQAAC,wOAAQ;wBAAC,wBAAU,qQAAC;4BAAI,WAAU;;;;;;kCACjC,cAAA,qQAAC;;;;;;;;;;;;;;;;0BAKL,qQAAC,wOAAQ;gBAAC,wBAAU,qQAAC,qPAAiB;;;;;0BACpC,cAAA,qQAAC;;;;;;;;;;;;;;;;AAIT"}}]
}