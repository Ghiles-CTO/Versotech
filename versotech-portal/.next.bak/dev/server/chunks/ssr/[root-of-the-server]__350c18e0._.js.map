{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/deals/investor-deals-list-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InvestorDealsListClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call InvestorDealsListClient() from the server but InvestorDealsListClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/deals/investor-deals-list-client.tsx <module evaluation>\",\n    \"InvestorDealsListClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,0BAA0B,IAAA,+RAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,sGACA","ignoreList":[0]}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/deals/investor-deals-list-client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const InvestorDealsListClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call InvestorDealsListClient() from the server but InvestorDealsListClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/versotech-portal/src/components/deals/investor-deals-list-client.tsx\",\n    \"InvestorDealsListClient\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,0BAA0B,IAAA,+RAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,kFACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/opportunities/page.tsx"],"sourcesContent":["import { createClient, createServiceClient } from '@/lib/supabase/server'\r\nimport { AlertCircle } from 'lucide-react'\r\nimport { InvestorDealsListClient } from '@/components/deals/investor-deals-list-client'\r\n\r\nexport const dynamic = 'force-dynamic'\r\n\r\ntype Nullable<T> = T | null\r\n\r\n// ============================================================================\r\n// Partner Referral Types (US-5.6.1-01 through 07)\r\n// ============================================================================\r\n\r\ninterface PartnerReferral {\r\n  deal_id: string\r\n  investor_id: string\r\n  investor_name: string\r\n  dispatched_at: string | null\r\n  interest_confirmed_at: string | null\r\n}\r\n\r\ninterface ReferralSubscription {\r\n  investor_id: string\r\n  deal_id: string\r\n  status: string\r\n  commitment: number | null\r\n  currency: string | null\r\n  funded_at: string | null\r\n  signed_at: string | null\r\n}\r\n\r\ninterface PartnerCommission {\r\n  deal_id: string\r\n  investor_id: string\r\n  rate_bps: number | null\r\n  accrual_amount: number | null\r\n  currency: string | null\r\n  status: string\r\n}\r\n\r\ninterface PartnerSummary {\r\n  totalReferrals: number\r\n  converted: number // funded subscriptions\r\n  pipelineValue: number // sum of commitments in progress\r\n  pendingCommissions: number // sum of accrued commissions\r\n  currency: string\r\n}\r\n\r\n// ============================================================================\r\n// Investor Deal Types\r\n// ============================================================================\r\n\r\ninterface InvestorDeal {\r\n  id: string\r\n  name: string\r\n  deal_type: string\r\n  status: string\r\n  currency: string\r\n  offer_unit_price: number | null\r\n  open_at: string | null\r\n  close_at: string | null\r\n  created_at: string\r\n  description?: string | null\r\n  investment_thesis?: string | null\r\n  minimum_investment?: number | null\r\n  maximum_investment?: number | null\r\n  target_amount?: number | null\r\n  company_name?: string | null\r\n  company_logo_url?: string | null\r\n  company_website?: string | null\r\n  sector?: string | null\r\n  stage?: string | null\r\n  location?: string | null\r\n  vehicles?: {\r\n    id: string\r\n    name: string\r\n    type: string\r\n  }\r\n  deal_memberships: Array<{\r\n    role: string\r\n    accepted_at: string | null\r\n    dispatched_at: string | null\r\n  }>\r\n  fee_plans: Array<{\r\n    id: string\r\n    name: string\r\n    description: string | null\r\n    is_default: boolean\r\n    fee_components: Array<{\r\n      id: string\r\n      kind: string\r\n      calc_method: string\r\n      rate_bps: number | null\r\n      flat_amount: number | null\r\n      frequency: string | null\r\n      notes: string | null\r\n    }>\r\n  }>\r\n}\r\n\r\ninterface FeeStructure {\r\n  id: string\r\n  deal_id: string\r\n  created_at?: string\r\n  effective_at?: string | null\r\n  published_at?: string | null\r\n  allocation_up_to: number | null\r\n  price_per_share_text: string | null\r\n  minimum_ticket: number | null\r\n  term_sheet_date: string | null\r\n  transaction_type: string | null\r\n  opportunity_summary: string | null\r\n  issuer: string | null\r\n  vehicle: string | null\r\n  exclusive_arranger: string | null\r\n  purchaser: string | null\r\n  seller: string | null\r\n  structure: string | null\r\n  subscription_fee_percent: number | null\r\n  management_fee_percent: number | null\r\n  carried_interest_percent: number | null\r\n  legal_counsel: string | null\r\n  interest_confirmation_deadline: string | null\r\n  completion_date: string | null\r\n  completion_date_text: string | null\r\n  validity_date: string | null\r\n  term_sheet_attachment_key: string | null\r\n}\r\n\r\ninterface DealInterest {\r\n  id: string\r\n  deal_id: string\r\n  investor_id: string\r\n  status: 'pending_review' | 'approved' | 'rejected' | 'withdrawn'\r\n  submitted_at: string\r\n  approved_at: string | null\r\n  indicative_amount: number | null\r\n  indicative_currency: string | null\r\n  is_post_close: boolean\r\n}\r\n\r\ninterface DataRoomAccess {\r\n  id: string\r\n  deal_id: string\r\n  investor_id: string\r\n  granted_at: string\r\n  expires_at: string | null\r\n  auto_granted: boolean\r\n  revoked_at: string | null\r\n}\r\n\r\ninterface SubscriptionSubmission {\r\n  id: string\r\n  deal_id: string\r\n  investor_id: string\r\n  status: string\r\n  submitted_at: string\r\n}\r\n\r\nfunction groupByDealId<T extends { deal_id: string }>(\r\n  records: T[]\r\n) {\r\n  const map = new Map<string, T>()\r\n  for (const record of records) {\r\n    const existing = map.get(record.deal_id)\r\n    const currentTimestamp = 'submitted_at' in record\r\n      ? new Date((record as { submitted_at: string }).submitted_at).getTime()\r\n      : 'granted_at' in record\r\n        ? new Date((record as { granted_at: string }).granted_at).getTime()\r\n        : 0\r\n\r\n    if (!existing) {\r\n      map.set(record.deal_id, record)\r\n      continue\r\n    }\r\n\r\n    const existingTimestamp = 'submitted_at' in existing\r\n      ? new Date((existing as { submitted_at: string }).submitted_at).getTime()\r\n      : 'granted_at' in existing\r\n        ? new Date((existing as { granted_at: string }).granted_at).getTime()\r\n        : 0\r\n\r\n    if (currentTimestamp > existingTimestamp) {\r\n      map.set(record.deal_id, record)\r\n    }\r\n  }\r\n  return map\r\n}\r\n\r\n/**\r\n * Opportunities List Page - Unified Portal\r\n *\r\n * Access: Any user with deal_memberships (investors, partners, introducers, CPs, lawyers)\r\n * The deal_memberships table tracks who has access to which deals.\r\n */\r\nexport default async function OpportunitiesPage() {\r\n  const clientSupabase = await createClient()\r\n  const { data: { user }, error: userError } = await clientSupabase.auth.getUser()\r\n\r\n  if (!user || userError) {\r\n    throw new Error('Authentication required')\r\n  }\r\n\r\n  const serviceSupabase = createServiceClient()\r\n\r\n  // Fetch all deals accessible to this user via deal_memberships\r\n  // This works for ALL persona types: investors, partners, introducers, CPs, lawyers, arrangers\r\n  const { data: deals, error: dealsError } = await serviceSupabase\r\n    .from('deals')\r\n    .select(`\r\n      *,\r\n      vehicles (\r\n        id,\r\n        name,\r\n        type\r\n      ),\r\n      deal_memberships!inner (\r\n        role,\r\n        accepted_at,\r\n        dispatched_at\r\n      ),\r\n      fee_plans (\r\n        id,\r\n        name,\r\n        description,\r\n        is_default,\r\n        fee_components (\r\n          id,\r\n          kind,\r\n          calc_method,\r\n          rate_bps,\r\n          flat_amount,\r\n          frequency,\r\n          notes\r\n        )\r\n      )\r\n    `)\r\n    .eq('deal_memberships.user_id', user.id)\r\n    .order('status', { ascending: true })\r\n    .order('close_at', { ascending: true, nullsFirst: false })\r\n\r\n  if (dealsError) {\r\n    console.error('Failed to load deals', dealsError)\r\n  }\r\n\r\n  const dealsData = (deals ?? []) as unknown as InvestorDeal[]\r\n\r\n  // If user has no deal memberships, show appropriate message\r\n  if (dealsData.length === 0) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"text-center py-16\">\r\n          <AlertCircle className=\"h-12 w-12 text-muted-foreground mx-auto mb-4\" />\r\n          <h3 className=\"text-lg font-medium text-foreground mb-2\">\r\n            No opportunities available\r\n          </h3>\r\n          <p className=\"text-muted-foreground\">\r\n            You haven&apos;t been dispatched to any investment opportunities yet.\r\n            <br />\r\n            Please contact your relationship manager for access.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Get investor IDs if user has investor persona (optional - for interest/subscription tracking)\r\n  const { data: investorLinks } = await serviceSupabase\r\n    .from('investor_users')\r\n    .select('investor_id')\r\n    .eq('user_id', user.id)\r\n\r\n  const investorIds = investorLinks?.map(link => link.investor_id) ?? []\r\n  const primaryInvestorId = investorIds[0] ?? null\r\n\r\n  // Get partner ID if user is a partner (PRD Rows 95-96: Partner Share feature)\r\n  const { data: partnerUser } = await serviceSupabase\r\n    .from('partner_users')\r\n    .select('partner_id')\r\n    .eq('user_id', user.id)\r\n    .maybeSingle()\r\n\r\n  const partnerId = partnerUser?.partner_id ?? null\r\n  const dealIds = dealsData.map(deal => deal.id)\r\n\r\n  // ============================================================================\r\n  // Partner Referral Data (US-5.6.1-01 through 07)\r\n  // Fetch referrals, subscription statuses, and commissions for Partner persona\r\n  // ============================================================================\r\n\r\n  let referralsByDeal = new Map<string, PartnerReferral[]>()\r\n  let referralSubscriptionsByDeal = new Map<string, ReferralSubscription[]>()\r\n  let partnerCommissionsByDeal = new Map<string, PartnerCommission[]>()\r\n  let partnerSummary: PartnerSummary = {\r\n    totalReferrals: 0,\r\n    converted: 0,\r\n    pipelineValue: 0,\r\n    pendingCommissions: 0,\r\n    currency: 'USD'\r\n  }\r\n\r\n  if (partnerId && dealIds.length > 0) {\r\n    // 1. Get all deal_memberships where this partner referred investors\r\n    const { data: referralsRaw } = await serviceSupabase\r\n      .from('deal_memberships')\r\n      .select(`\r\n        deal_id,\r\n        investor_id,\r\n        dispatched_at,\r\n        interest_confirmed_at,\r\n        investors:investor_id (\r\n          id,\r\n          legal_name,\r\n          display_name\r\n        )\r\n      `)\r\n      .eq('referred_by_entity_id', partnerId)\r\n      .eq('referred_by_entity_type', 'partner')\r\n      .in('deal_id', dealIds)\r\n\r\n    // Process referrals - group by deal_id\r\n    if (referralsRaw && referralsRaw.length > 0) {\r\n      const referrals: PartnerReferral[] = referralsRaw.map(r => {\r\n        // Supabase returns the joined investor as a single object (not array) when using investor_id FK\r\n        const investor = r.investors as unknown as { id: string; legal_name: string; display_name: string | null } | null\r\n        return {\r\n          deal_id: r.deal_id,\r\n          investor_id: r.investor_id,\r\n          investor_name: investor?.display_name || investor?.legal_name || 'Unknown Investor',\r\n          dispatched_at: r.dispatched_at,\r\n          interest_confirmed_at: r.interest_confirmed_at\r\n        }\r\n      })\r\n\r\n      // Group referrals by deal_id\r\n      for (const referral of referrals) {\r\n        const existing = referralsByDeal.get(referral.deal_id) || []\r\n        existing.push(referral)\r\n        referralsByDeal.set(referral.deal_id, existing)\r\n      }\r\n\r\n      // 2. Get subscription statuses for referred investors\r\n      const referredInvestorIds = [...new Set(referrals.map(r => r.investor_id))]\r\n\r\n      const { data: subscriptionsRaw } = await serviceSupabase\r\n        .from('subscriptions')\r\n        .select('investor_id, deal_id, status, commitment, currency, funded_at, signed_at')\r\n        .in('investor_id', referredInvestorIds)\r\n        .in('deal_id', dealIds)\r\n\r\n      if (subscriptionsRaw) {\r\n        // Group subscriptions by deal_id\r\n        for (const sub of subscriptionsRaw) {\r\n          const existing = referralSubscriptionsByDeal.get(sub.deal_id) || []\r\n          existing.push(sub as ReferralSubscription)\r\n          referralSubscriptionsByDeal.set(sub.deal_id, existing)\r\n        }\r\n      }\r\n\r\n      // 3. Get partner commissions for fee rate display and pending amounts\r\n      const { data: commissionsRaw } = await serviceSupabase\r\n        .from('partner_commissions')\r\n        .select('deal_id, investor_id, rate_bps, accrual_amount, currency, status')\r\n        .eq('partner_id', partnerId)\r\n        .in('deal_id', dealIds)\r\n\r\n      if (commissionsRaw) {\r\n        // Group commissions by deal_id\r\n        for (const comm of commissionsRaw) {\r\n          const existing = partnerCommissionsByDeal.get(comm.deal_id) || []\r\n          existing.push(comm as PartnerCommission)\r\n          partnerCommissionsByDeal.set(comm.deal_id, existing)\r\n        }\r\n      }\r\n\r\n      // 4. Calculate Partner summary metrics\r\n      const fundedStatuses = ['funded', 'active', 'activated', 'committed']\r\n      const pipelineStatuses = ['pending', 'pending_review', 'approved', 'signed', 'pack_sent', 'pack_generated']\r\n\r\n      let totalPipelineValue = 0\r\n      let totalPendingCommissions = 0\r\n      let convertedCount = 0\r\n      let detectedCurrency = 'USD'\r\n\r\n      // Count conversions and pipeline value from subscriptions\r\n      for (const [, subs] of referralSubscriptionsByDeal) {\r\n        for (const sub of subs) {\r\n          if (sub.currency) detectedCurrency = sub.currency\r\n          if (fundedStatuses.includes(sub.status?.toLowerCase())) {\r\n            convertedCount++\r\n          } else if (pipelineStatuses.includes(sub.status?.toLowerCase()) && sub.commitment) {\r\n            totalPipelineValue += Number(sub.commitment)\r\n          }\r\n        }\r\n      }\r\n\r\n      // Sum pending commissions\r\n      for (const [, comms] of partnerCommissionsByDeal) {\r\n        for (const comm of comms) {\r\n          if (comm.status === 'accrued' && comm.accrual_amount) {\r\n            totalPendingCommissions += Number(comm.accrual_amount)\r\n            if (comm.currency) detectedCurrency = comm.currency\r\n          }\r\n        }\r\n      }\r\n\r\n      partnerSummary = {\r\n        totalReferrals: referrals.length,\r\n        converted: convertedCount,\r\n        pipelineValue: totalPipelineValue,\r\n        pendingCommissions: totalPendingCommissions,\r\n        currency: detectedCurrency\r\n      }\r\n    }\r\n  }\r\n\r\n  // ============================================================================\r\n  // Investor-Specific Data\r\n  // ============================================================================\r\n\r\n  let feeStructureMap = new Map<string, FeeStructure>()\r\n  let investorInterests: DealInterest[] = []\r\n  let ndaAccessRecords: DataRoomAccess[] = []\r\n  let subscriptionRecords: SubscriptionSubmission[] = []\r\n\r\n  if (dealIds.length > 0) {\r\n    const { data: feeStructures } = await serviceSupabase\r\n      .from('deal_fee_structures')\r\n      .select(`\r\n        id,\r\n        deal_id,\r\n        created_at,\r\n        effective_at,\r\n        published_at,\r\n        allocation_up_to,\r\n        price_per_share_text,\r\n        minimum_ticket,\r\n        term_sheet_date,\r\n        transaction_type,\r\n        opportunity_summary,\r\n        issuer,\r\n        vehicle,\r\n        exclusive_arranger,\r\n        purchaser,\r\n        seller,\r\n        structure,\r\n        subscription_fee_percent,\r\n        management_fee_percent,\r\n        carried_interest_percent,\r\n        legal_counsel,\r\n        interest_confirmation_deadline,\r\n        completion_date,\r\n        completion_date_text,\r\n        validity_date,\r\n        term_sheet_attachment_key\r\n      `)\r\n      .in('deal_id', dealIds)\r\n      .eq('status', 'published')\r\n      .order('effective_at', { ascending: false })\r\n\r\n      if (feeStructures && feeStructures.length > 0) {\r\n      feeStructureMap = feeStructures.reduce((map, structure) => {\r\n        const existing = map.get(structure.deal_id)\r\n        if (!existing) {\r\n          map.set(structure.deal_id, structure)\r\n          return map\r\n        }\r\n\r\n        const getTimestamp = (item: FeeStructure) => {\r\n          const candidate =\r\n            item.effective_at ??\r\n            item.published_at ??\r\n            item.validity_date ??\r\n            item.term_sheet_date ??\r\n            item.created_at ??\r\n            null\r\n          return candidate ? new Date(candidate).getTime() : 0\r\n        }\r\n\r\n        if (getTimestamp(structure) > getTimestamp(existing)) {\r\n          map.set(structure.deal_id, structure)\r\n        }\r\n        return map\r\n      }, new Map<string, FeeStructure>())\r\n    }\r\n\r\n    if (investorIds.length > 0) {\r\n      const { data: interests } = await serviceSupabase\r\n        .from('investor_deal_interest')\r\n        .select(`\r\n          id,\r\n          deal_id,\r\n          investor_id,\r\n          status,\r\n          submitted_at,\r\n          approved_at,\r\n          indicative_amount,\r\n          indicative_currency,\r\n          is_post_close\r\n        `)\r\n        .in('deal_id', dealIds)\r\n        .in('investor_id', investorIds)\r\n        .order('submitted_at', { ascending: false })\r\n\r\n      investorInterests = interests ?? []\r\n\r\n      const { data: accessData } = await serviceSupabase\r\n        .from('deal_data_room_access')\r\n        .select(`\r\n          id,\r\n          deal_id,\r\n          investor_id,\r\n          granted_at,\r\n          expires_at,\r\n          auto_granted,\r\n          revoked_at\r\n        `)\r\n        .in('deal_id', dealIds)\r\n        .in('investor_id', investorIds)\r\n        .order('granted_at', { ascending: false })\r\n\r\n      ndaAccessRecords = (accessData ?? []).filter(record => !record.revoked_at)\r\n\r\n      const { data: subscriptionData } = await serviceSupabase\r\n        .from('deal_subscription_submissions')\r\n        .select(`\r\n          id,\r\n          deal_id,\r\n          investor_id,\r\n          status,\r\n          submitted_at\r\n        `)\r\n        .in('deal_id', dealIds)\r\n        .in('investor_id', investorIds)\r\n        .order('submitted_at', { ascending: false })\r\n\r\n      subscriptionRecords = subscriptionData ?? []\r\n    }\r\n  }\r\n\r\n  const interestByDeal = groupByDealId(investorInterests)\r\n  const accessByDeal = groupByDealId(ndaAccessRecords)\r\n  const subscriptionByDeal = groupByDealId(subscriptionRecords)\r\n\r\n  // Calculate summary statistics (client-side filtering for getEffectiveStatus compatibility)\r\n  const now = new Date()\r\n  const summary = {\r\n    totalDeals: dealsData.length,\r\n    openDeals: dealsData.filter(deal => {\r\n      if (deal.status === 'closed' || deal.status === 'cancelled') return false\r\n      if (deal.close_at && new Date(deal.close_at) < now) return false\r\n      return deal.status === 'open'\r\n    }).length,\r\n    pendingInterests: investorInterests.filter(interest => interest.status === 'pending_review').length,\r\n    activeNdas: ndaAccessRecords.length,\r\n    submittedSubscriptions: subscriptionRecords.length\r\n  }\r\n\r\n  // Convert Maps to serializable objects for client component\r\n  const referralsByDealObj = Object.fromEntries(referralsByDeal)\r\n  const referralSubscriptionsByDealObj = Object.fromEntries(referralSubscriptionsByDeal)\r\n  const partnerCommissionsByDealObj = Object.fromEntries(partnerCommissionsByDeal)\r\n\r\n  return (\r\n    <InvestorDealsListClient\r\n      dealsData={dealsData}\r\n      feeStructureMap={feeStructureMap}\r\n      interestByDeal={interestByDeal}\r\n      accessByDeal={accessByDeal}\r\n      subscriptionByDeal={subscriptionByDeal}\r\n      primaryInvestorId={primaryInvestorId}\r\n      partnerId={partnerId}\r\n      summary={summary}\r\n      detailUrlBase=\"/versotech_main/opportunities\"\r\n      // Partner-specific props (US-5.6.1-01 through 07)\r\n      referralsByDeal={referralsByDealObj}\r\n      referralSubscriptionsByDeal={referralSubscriptionsByDealObj}\r\n      partnerCommissionsByDeal={partnerCommissionsByDealObj}\r\n      partnerSummary={partnerSummary}\r\n    />\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}