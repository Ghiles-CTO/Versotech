{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/fees/calculations.ts"],"sourcesContent":["/**\r\n * Fee Calculation Utilities\r\n * Handles calculations for subscription, management, performance, and spread fees\r\n */\r\n\r\nexport interface FeeCalculationInput {\r\n  investmentAmount: number;\r\n  rateBps?: number; // Basis points (e.g., 200 = 2%)\r\n  flatAmount?: number;\r\n  durationPeriods?: number;\r\n  numShares?: number;\r\n  entryPricePerShare?: number;\r\n  exitPricePerShare?: number;\r\n  costPerShare?: number;\r\n  tierThresholdMultiplier?: number;\r\n}\r\n\r\nexport interface PerformanceFeeTier {\r\n  rateBps: number;\r\n  thresholdMultiplier?: number; // e.g., 10.0 for \"10x return\"\r\n  nextTierComponentId?: string;\r\n}\r\n\r\nexport interface PerformanceFeeWithHurdleInput {\r\n  contributedCapital: number;\r\n  exitProceeds: number;\r\n  carryRateBps: number; // Carried interest rate in basis points (e.g., 2000 = 20%)\r\n  hurdleRateBps: number; // Hurdle rate in basis points (e.g., 800 = 8% annual)\r\n  yearsHeld: number; // Investment holding period in years\r\n}\r\n\r\nexport interface TieredPerformanceFeeInput {\r\n  contributedCapital: number;\r\n  exitProceeds: number;\r\n  yearsHeld: number;\r\n  hurdleRateBps: number;\r\n  // Tier 1: Base carry rate applies until threshold\r\n  tier1RateBps: number;\r\n  tier1ThresholdMultiplier?: number; // e.g., 2.0 for \"up to 2x return\"\r\n  // Tier 2: Higher carry rate above threshold\r\n  tier2RateBps?: number;\r\n  tier2ThresholdMultiplier?: number; // e.g., 3.0 for \"up to 3x return\"\r\n}\r\n\r\n/**\r\n * Convert basis points to decimal percentage\r\n * @param bps - Basis points (e.g., 200 for 2%)\r\n * @returns Decimal percentage (e.g., 0.02 for 2%)\r\n */\r\nexport function bpsToPercent(bps: number): number {\r\n  return bps / 10000;\r\n}\r\n\r\n/**\r\n * Convert decimal percentage to basis points\r\n * @param percent - Decimal percentage (e.g., 0.02 for 2%)\r\n * @returns Basis points (e.g., 200 for 2%)\r\n */\r\nexport function percentToBps(percent: number): number {\r\n  return Math.round(percent * 10000);\r\n}\r\n\r\n/**\r\n * Calculate subscription fee\r\n * Formula: investment_amount × subscription_fee_percent\r\n * @param input - Fee calculation input\r\n * @returns Calculated subscription fee\r\n */\r\nexport function calculateSubscriptionFee(input: FeeCalculationInput): number {\r\n  if (input.flatAmount) {\r\n    return input.flatAmount;\r\n  }\r\n\r\n  if (!input.rateBps) {\r\n    return 0;\r\n  }\r\n\r\n  const feePercent = bpsToPercent(input.rateBps);\r\n  return input.investmentAmount * feePercent;\r\n}\r\n\r\n/**\r\n * Calculate management fee (single period or total for upfront payment)\r\n * Formula: investment_amount × management_fee_percent × number_of_periods\r\n * @param input - Fee calculation input\r\n * @param isUpfront - If true, calculates total for all periods; if false, calculates single period\r\n * @returns Calculated management fee\r\n */\r\nexport function calculateManagementFee(\r\n  input: FeeCalculationInput,\r\n  isUpfront: boolean = false\r\n): number {\r\n  if (!input.rateBps) {\r\n    return 0;\r\n  }\r\n\r\n  const feePercent = bpsToPercent(input.rateBps);\r\n  const baseFee = input.investmentAmount * feePercent;\r\n\r\n  if (isUpfront && input.durationPeriods) {\r\n    return baseFee * input.durationPeriods;\r\n  }\r\n\r\n  return baseFee;\r\n}\r\n\r\nexport interface ManagementFeePeriodInput {\r\n  baseAmount: number;\r\n  rateBps: number;\r\n  periodStartDate: Date;\r\n  periodEndDate: Date;\r\n}\r\n\r\n/**\r\n * Calculate management fee for a specific period with pro-rata adjustment\r\n * Formula: base_amount × (rate_bps / 10000) × (period_days / 365)\r\n * @param input - Period-based fee calculation input\r\n * @returns Calculated management fee prorated for the period\r\n */\r\nexport function calculateManagementFeePeriod(input: ManagementFeePeriodInput): number {\r\n  if (!input.rateBps || input.rateBps <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  if (!input.baseAmount || input.baseAmount <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  const periodDays = calculateDaysBetween(input.periodStartDate, input.periodEndDate);\r\n  if (periodDays <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  const feePercent = bpsToPercent(input.rateBps);\r\n  const annualizedFraction = periodDays / 365;\r\n\r\n  return input.baseAmount * feePercent * annualizedFraction;\r\n}\r\n\r\n/**\r\n * Calculate the number of days between two dates (inclusive of end date)\r\n * @param startDate - Period start date\r\n * @param endDate - Period end date\r\n * @returns Number of days in the period\r\n */\r\nexport function calculateDaysBetween(startDate: Date, endDate: Date): number {\r\n  const msPerDay = 24 * 60 * 60 * 1000;\r\n  const diffMs = endDate.getTime() - startDate.getTime();\r\n  // Add 1 to include the end date in the count (both start and end are inclusive)\r\n  return Math.floor(diffMs / msPerDay) + 1;\r\n}\r\n\r\n/**\r\n * Calculate the end date for a fee period based on frequency\r\n * @param startDate - Period start date\r\n * @param frequency - Fee frequency (annual, quarterly, monthly)\r\n * @returns Period end date (day before next period starts)\r\n */\r\nexport function calculatePeriodEndDate(\r\n  startDate: Date,\r\n  frequency: 'annual' | 'quarterly' | 'monthly'\r\n): Date {\r\n  const endDate = new Date(startDate);\r\n\r\n  switch (frequency) {\r\n    case 'annual':\r\n      endDate.setFullYear(endDate.getFullYear() + 1);\r\n      break;\r\n    case 'quarterly':\r\n      endDate.setMonth(endDate.getMonth() + 3);\r\n      break;\r\n    case 'monthly':\r\n      endDate.setMonth(endDate.getMonth() + 1);\r\n      break;\r\n  }\r\n\r\n  // Subtract 1 day to get the last day of the current period\r\n  endDate.setDate(endDate.getDate() - 1);\r\n\r\n  return endDate;\r\n}\r\n\r\n/**\r\n * Calculate simple performance fee (no tiers)\r\n * Formula: (exit_price - entry_price) × num_shares × performance_fee_percent\r\n * @param input - Fee calculation input\r\n * @returns Calculated performance fee\r\n */\r\nexport function calculateSimplePerformanceFee(input: FeeCalculationInput): number {\r\n  if (!input.rateBps || !input.numShares || !input.entryPricePerShare || !input.exitPricePerShare) {\r\n    return 0;\r\n  }\r\n\r\n  const gainPerShare = input.exitPricePerShare - input.entryPricePerShare;\r\n\r\n  // No performance fee if there's no gain\r\n  if (gainPerShare <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  const feePercent = bpsToPercent(input.rateBps);\r\n  return gainPerShare * input.numShares * feePercent;\r\n}\r\n\r\n/**\r\n * Calculate tiered performance fee\r\n * Example: 20% on gains up to 10x, 30% on gains above 10x\r\n * @param input - Fee calculation input\r\n * @param tiers - Array of performance fee tiers\r\n * @returns Calculated tiered performance fee\r\n */\r\nexport function calculateTieredPerformanceFee(\r\n  input: FeeCalculationInput,\r\n  tiers: PerformanceFeeTier[]\r\n): number {\r\n  if (!input.numShares || !input.entryPricePerShare || !input.exitPricePerShare) {\r\n    return 0;\r\n  }\r\n\r\n  const gainPerShare = input.exitPricePerShare - input.entryPricePerShare;\r\n\r\n  // No performance fee if there's no gain\r\n  if (gainPerShare <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  const returnMultiplier = input.exitPricePerShare / input.entryPricePerShare;\r\n  let totalFee = 0;\r\n\r\n  // Sort tiers by threshold (ascending)\r\n  const sortedTiers = [...tiers].sort((a, b) => {\r\n    const aThreshold = a.thresholdMultiplier || Infinity;\r\n    const bThreshold = b.thresholdMultiplier || Infinity;\r\n    return aThreshold - bThreshold;\r\n  });\r\n\r\n  let previousThreshold = 1; // Start at 1x (entry price)\r\n\r\n  for (const tier of sortedTiers) {\r\n    const currentThreshold = tier.thresholdMultiplier || Infinity;\r\n\r\n    if (returnMultiplier <= previousThreshold) {\r\n      break; // Return is below this tier\r\n    }\r\n\r\n    const applicableMultiplier = Math.min(returnMultiplier, currentThreshold);\r\n    const tierGainPerShare = input.entryPricePerShare * (applicableMultiplier - previousThreshold);\r\n    const tierFeePercent = bpsToPercent(tier.rateBps);\r\n    const tierFee = tierGainPerShare * input.numShares * tierFeePercent;\r\n\r\n    totalFee += tierFee;\r\n    previousThreshold = currentThreshold;\r\n\r\n    if (returnMultiplier <= currentThreshold) {\r\n      break; // Return doesn't reach next tier\r\n    }\r\n  }\r\n\r\n  return totalFee;\r\n}\r\n\r\n/**\r\n * Calculate performance fee with hurdle rate (carried interest)\r\n * Formula:\r\n *   profit = exit_proceeds - contributed_capital\r\n *   hurdle_return = contributed_capital × (hurdle_bps / 10000) × years_held\r\n *   profit_above_hurdle = profit - hurdle_return\r\n *   performance_fee = profit_above_hurdle × (carry_bps / 10000) if positive, else 0\r\n *\r\n * This matches the database function calculate_performance_fee()\r\n * @param input - Performance fee calculation input\r\n * @returns Calculated performance fee (carried interest)\r\n */\r\nexport function calculatePerformanceFeeWithHurdle(\r\n  input: PerformanceFeeWithHurdleInput\r\n): number {\r\n  const { contributedCapital, exitProceeds, carryRateBps, hurdleRateBps, yearsHeld } = input;\r\n\r\n  // Calculate profit\r\n  const profit = exitProceeds - contributedCapital;\r\n\r\n  // No performance fee if there's no profit\r\n  if (profit <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  // Calculate hurdle return (minimum return threshold)\r\n  const hurdleReturn = contributedCapital * bpsToPercent(hurdleRateBps) * yearsHeld;\r\n\r\n  // Calculate profit above the hurdle\r\n  const profitAboveHurdle = profit - hurdleReturn;\r\n\r\n  // No performance fee if profit doesn't exceed hurdle\r\n  if (profitAboveHurdle <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  // Calculate and return the performance fee\r\n  const carryRate = bpsToPercent(carryRateBps);\r\n  return Math.round(profitAboveHurdle * carryRate * 100) / 100;\r\n}\r\n\r\n/**\r\n * Calculate tiered performance fee with hurdle rate\r\n * Supports two tiers with different carry rates based on return multiples\r\n *\r\n * Example: 20% carry up to 2x return, 30% carry above 2x\r\n *\r\n * @param input - Tiered performance fee calculation input\r\n * @returns Calculated tiered performance fee\r\n */\r\nexport function calculateTieredPerformanceFeeWithHurdle(\r\n  input: TieredPerformanceFeeInput\r\n): number {\r\n  const {\r\n    contributedCapital,\r\n    exitProceeds,\r\n    yearsHeld,\r\n    hurdleRateBps,\r\n    tier1RateBps,\r\n    tier1ThresholdMultiplier,\r\n    tier2RateBps,\r\n    tier2ThresholdMultiplier,\r\n  } = input;\r\n\r\n  // Calculate profit\r\n  const profit = exitProceeds - contributedCapital;\r\n\r\n  // No performance fee if there's no profit\r\n  if (profit <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  // Calculate hurdle return\r\n  const hurdleReturn = contributedCapital * bpsToPercent(hurdleRateBps) * yearsHeld;\r\n\r\n  // Calculate profit above hurdle\r\n  const profitAboveHurdle = profit - hurdleReturn;\r\n\r\n  // No performance fee if profit doesn't exceed hurdle\r\n  if (profitAboveHurdle <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  // Calculate return multiple: exitProceeds / contributedCapital\r\n  const returnMultiple = exitProceeds / contributedCapital;\r\n\r\n  // If no tier structure, apply single rate\r\n  if (!tier1ThresholdMultiplier || !tier2RateBps) {\r\n    const carryRate = bpsToPercent(tier1RateBps);\r\n    return Math.round(profitAboveHurdle * carryRate * 100) / 100;\r\n  }\r\n\r\n  let totalFee = 0;\r\n\r\n  // Tier 1: Profit from hurdle to tier1 threshold (or actual return if lower)\r\n  // tier1 threshold is expressed as a multiple (e.g., 2.0 = 2x return)\r\n  const tier1MaxProfit = contributedCapital * (tier1ThresholdMultiplier - 1); // Profit at tier 1 threshold\r\n  const tier1Profit = Math.min(profitAboveHurdle, Math.max(0, tier1MaxProfit - hurdleReturn));\r\n  if (tier1Profit > 0) {\r\n    totalFee += tier1Profit * bpsToPercent(tier1RateBps);\r\n  }\r\n\r\n  // Tier 2: Profit from tier1 threshold to tier2 threshold (or actual return if lower)\r\n  if (returnMultiple > tier1ThresholdMultiplier) {\r\n    const tier2Start = contributedCapital * (tier1ThresholdMultiplier - 1);\r\n    const tier2End = tier2ThresholdMultiplier\r\n      ? contributedCapital * (tier2ThresholdMultiplier - 1)\r\n      : profit;\r\n\r\n    const tier2Profit = Math.min(profit, tier2End) - tier2Start;\r\n    if (tier2Profit > 0) {\r\n      totalFee += tier2Profit * bpsToPercent(tier2RateBps);\r\n    }\r\n  }\r\n\r\n  return Math.round(totalFee * 100) / 100;\r\n}\r\n\r\n/**\r\n * Calculate spread (price per share markup)\r\n * Formula: (investor_price_per_share - cost_per_share) × num_shares\r\n * @param input - Fee calculation input\r\n * @returns Calculated spread revenue\r\n */\r\nexport function calculateSpread(input: FeeCalculationInput): number {\r\n  if (!input.numShares || !input.entryPricePerShare || !input.costPerShare) {\r\n    return 0;\r\n  }\r\n\r\n  const spreadPerShare = input.entryPricePerShare - input.costPerShare;\r\n\r\n  // No spread if investor price is at or below cost\r\n  if (spreadPerShare <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  return spreadPerShare * input.numShares;\r\n}\r\n\r\n/**\r\n * Calculate introducer commission\r\n * Formula: base_fee_amount × commission_rate_percent\r\n * @param baseFeeAmount - The base fee amount to calculate commission on\r\n * @param commissionRateBps - Commission rate in basis points\r\n * @returns Calculated commission amount\r\n */\r\nexport function calculateIntroducerCommission(\r\n  baseFeeAmount: number,\r\n  commissionRateBps: number\r\n): number {\r\n  const commissionPercent = bpsToPercent(commissionRateBps);\r\n  return baseFeeAmount * commissionPercent;\r\n}\r\n\r\n/**\r\n * Calculate total wire amount (investment + subscription fee)\r\n * @param investmentAmount - Base investment amount\r\n * @param subscriptionFeeBps - Subscription fee in basis points\r\n * @returns Total amount investor needs to wire\r\n */\r\nexport function calculateTotalWireAmount(\r\n  investmentAmount: number,\r\n  subscriptionFeeBps: number\r\n): number {\r\n  const subscriptionFee = calculateSubscriptionFee({\r\n    investmentAmount,\r\n    rateBps: subscriptionFeeBps,\r\n  });\r\n\r\n  return investmentAmount + subscriptionFee;\r\n}\r\n\r\n/**\r\n * Calculate net fee retained by Verso after introducer commission\r\n * @param grossFee - Total fee collected\r\n * @param introducerCommissionBps - Introducer commission rate in basis points\r\n * @returns Net fee retained\r\n */\r\nexport function calculateNetFeeRetained(\r\n  grossFee: number,\r\n  introducerCommissionBps: number\r\n): number {\r\n  const commission = calculateIntroducerCommission(grossFee, introducerCommissionBps);\r\n  return grossFee - commission;\r\n}\r\n\r\n/**\r\n * Format currency for display\r\n * @param amount - Amount to format\r\n * @param currency - Currency code (default: USD)\r\n * @returns Formatted currency string\r\n */\r\nexport function formatCurrency(amount: number, currency: string = 'USD'): string {\r\n  return new Intl.NumberFormat('en-US', {\r\n    style: 'currency',\r\n    currency,\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n}\r\n\r\n/**\r\n * Format basis points for display\r\n * @param bps - Basis points\r\n * @returns Formatted percentage string (e.g., \"2.00%\")\r\n */\r\nexport function formatBps(bps: number): string {\r\n  const percent = bpsToPercent(bps) * 100;\r\n  return `${percent.toFixed(2)}%`;\r\n}\r\n\r\n/**\r\n * Invoice validation types and functions\r\n */\r\n\r\nexport interface InvoiceLineWithFeeEvent {\r\n  id?: string;\r\n  fee_event_id?: string | null;\r\n  kind?: string;\r\n  amount: number;\r\n  fee_event?: {\r\n    id: string;\r\n    computed_amount: number;\r\n  } | null;\r\n}\r\n\r\nexport interface InvoiceValidationInput {\r\n  invoiceTotal: number;\r\n  invoiceSubtotal: number;\r\n  lines: InvoiceLineWithFeeEvent[];\r\n}\r\n\r\nexport interface InvoiceValidationResult {\r\n  isValid: boolean;\r\n  hasDiscrepancy: boolean;\r\n  expectedTotal: number;\r\n  actualTotal: number;\r\n  discrepancyAmount: number;\r\n  discrepancyPercent: number;\r\n  feeEventsTotal: number;\r\n  customItemsTotal: number;\r\n  lineItemsTotal: number;\r\n  details: string[];\r\n}\r\n\r\n/**\r\n * Validate that an invoice total matches the sum of its linked fee events\r\n *\r\n * Invoice total should equal:\r\n *   SUM(fee_events.computed_amount for linked events) + SUM(custom_line_items.amount)\r\n *\r\n * @param input - Invoice validation input\r\n * @returns Validation result with discrepancy details\r\n */\r\nexport function validateInvoiceTotal(input: InvoiceValidationInput): InvoiceValidationResult {\r\n  const { invoiceTotal, invoiceSubtotal, lines } = input;\r\n  const details: string[] = [];\r\n\r\n  // Calculate totals from line items\r\n  let feeEventsTotal = 0;\r\n  let customItemsTotal = 0;\r\n  let lineItemsTotal = 0;\r\n\r\n  for (const line of lines) {\r\n    const lineAmount = Number(line.amount) || 0;\r\n    lineItemsTotal += lineAmount;\r\n\r\n    if (line.fee_event_id && line.fee_event) {\r\n      // Fee event line - check if line amount matches fee event computed_amount\r\n      const eventAmount = Number(line.fee_event.computed_amount) || 0;\r\n      feeEventsTotal += eventAmount;\r\n\r\n      // Check for line-level discrepancy\r\n      if (Math.abs(lineAmount - eventAmount) > 0.01) {\r\n        details.push(\r\n          `Line for fee event ${line.fee_event_id}: line amount ${formatCurrency(lineAmount)} differs from fee event computed_amount ${formatCurrency(eventAmount)}`\r\n        );\r\n      }\r\n    } else {\r\n      // Custom line item\r\n      customItemsTotal += lineAmount;\r\n    }\r\n  }\r\n\r\n  // Expected total = sum of all line items\r\n  const expectedTotal = lineItemsTotal;\r\n  const discrepancyAmount = Math.abs(invoiceTotal - expectedTotal);\r\n  const discrepancyPercent = expectedTotal > 0\r\n    ? (discrepancyAmount / expectedTotal) * 100\r\n    : (invoiceTotal > 0 ? 100 : 0);\r\n\r\n  // Allow for small rounding differences (within 1 cent)\r\n  const hasDiscrepancy = discrepancyAmount > 0.01;\r\n  const isValid = !hasDiscrepancy;\r\n\r\n  // Add summary details\r\n  if (hasDiscrepancy) {\r\n    details.unshift(\r\n      `Invoice total (${formatCurrency(invoiceTotal)}) does not match sum of line items (${formatCurrency(expectedTotal)}). Discrepancy: ${formatCurrency(discrepancyAmount)} (${discrepancyPercent.toFixed(2)}%)`\r\n    );\r\n  }\r\n\r\n  // Check subtotal vs total (in case tax is applied later)\r\n  if (Math.abs(invoiceTotal - invoiceSubtotal) > 0.01) {\r\n    details.push(\r\n      `Invoice total (${formatCurrency(invoiceTotal)}) differs from subtotal (${formatCurrency(invoiceSubtotal)}) - verify tax calculation if applicable`\r\n    );\r\n  }\r\n\r\n  return {\r\n    isValid,\r\n    hasDiscrepancy,\r\n    expectedTotal,\r\n    actualTotal: invoiceTotal,\r\n    discrepancyAmount,\r\n    discrepancyPercent,\r\n    feeEventsTotal,\r\n    customItemsTotal,\r\n    lineItemsTotal,\r\n    details,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/fees/term-sheet-sync.ts"],"sourcesContent":["/**\r\n * Term Sheet & Fee Plan Utilities\r\n *\r\n * IMPORTANT ARCHITECTURAL NOTE:\r\n * Term sheets and fee plans/models serve DIFFERENT purposes:\r\n * - Term sheets: Investor-facing fee disclosures\r\n * - Fee models: Introducer/Partner commission agreements\r\n *\r\n * Fee models must be MANUALLY created and linked to term sheets.\r\n * Auto-sync between term sheets and fee plans has been DEPRECATED.\r\n */\r\n\r\nimport { SupabaseClient } from '@supabase/supabase-js';\r\n\r\n/**\r\n * Convert percent to basis points\r\n * @param percent - Percentage value (e.g., 2.5 for 2.5%)\r\n * @returns Basis points (e.g., 250 for 2.5%)\r\n */\r\nexport function percentToBps(percent: number | null | undefined): number | null {\r\n  if (percent === null || percent === undefined) return null;\r\n  return Math.round(percent * 100);\r\n}\r\n\r\n/**\r\n * Convert basis points to percent\r\n * @param bps - Basis points (e.g., 250 for 2.5%)\r\n * @returns Percentage value (e.g., 2.5 for 2.5%)\r\n */\r\nexport function bpsToPercent(bps: number | null | undefined): number | null {\r\n  if (bps === null || bps === undefined) return null;\r\n  return bps / 100;\r\n}\r\n\r\n/**\r\n * Validate that fee model values do not exceed term sheet limits\r\n * @param feeComponents - Array of fee components to validate\r\n * @param termSheet - The term sheet to validate against\r\n * @returns Array of validation error messages (empty if valid)\r\n */\r\nexport function validateFeeComponentsAgainstTermSheet(\r\n  feeComponents: Array<{ kind: string; rate_bps?: number | null }>,\r\n  termSheet: {\r\n    subscription_fee_percent?: number | null;\r\n    management_fee_percent?: number | null;\r\n    carried_interest_percent?: number | null;\r\n  }\r\n): string[] {\r\n  const errors: string[] = [];\r\n\r\n  for (const comp of feeComponents) {\r\n    if (!comp.rate_bps) continue;\r\n\r\n    const compPercent = bpsToPercent(comp.rate_bps);\r\n    if (compPercent === null) continue;\r\n\r\n    switch (comp.kind) {\r\n      case 'subscription':\r\n        if (termSheet.subscription_fee_percent !== null &&\r\n            termSheet.subscription_fee_percent !== undefined &&\r\n            compPercent > termSheet.subscription_fee_percent) {\r\n          errors.push(\r\n            `Subscription fee (${compPercent}%) exceeds term sheet limit (${termSheet.subscription_fee_percent}%)`\r\n          );\r\n        }\r\n        break;\r\n      case 'management':\r\n        if (termSheet.management_fee_percent !== null &&\r\n            termSheet.management_fee_percent !== undefined &&\r\n            compPercent > termSheet.management_fee_percent) {\r\n          errors.push(\r\n            `Management fee (${compPercent}%) exceeds term sheet limit (${termSheet.management_fee_percent}%)`\r\n          );\r\n        }\r\n        break;\r\n      case 'performance':\r\n        if (termSheet.carried_interest_percent !== null &&\r\n            termSheet.carried_interest_percent !== undefined &&\r\n            compPercent > termSheet.carried_interest_percent) {\r\n          errors.push(\r\n            `Performance fee (${compPercent}%) exceeds term sheet limit (${termSheet.carried_interest_percent}%)`\r\n          );\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  return errors;\r\n}\r\n\r\n/**\r\n * @deprecated Fee models must be manually created. Auto-sync is disabled.\r\n *\r\n * This function previously auto-generated fee plans from published term sheets.\r\n * Per business requirements (Fred), fee models are commercial agreements with\r\n * introducers/partners and must be manually created, not auto-generated.\r\n *\r\n * The function is kept for backward compatibility but does nothing.\r\n * All callers should be removed.\r\n */\r\nexport async function syncTermSheetToFeePlan(\r\n  supabase: SupabaseClient,\r\n  termSheet: {\r\n    id: string;\r\n    subscription_fee_percent?: number | null;\r\n    management_fee_percent?: number | null;\r\n    carried_interest_percent?: number | null;\r\n  },\r\n  dealId: string,\r\n  userId: string\r\n): Promise<{ success: boolean; error?: string; feePlanId?: string }> {\r\n  console.warn(\r\n    '[DEPRECATED] syncTermSheetToFeePlan() called but auto-sync is disabled. ' +\r\n    'Fee models must be manually created by staff and linked to term sheets. ' +\r\n    `Term sheet: ${termSheet.id}, Deal: ${dealId}`\r\n  );\r\n\r\n  // No-op - return success without creating anything\r\n  return { success: true };\r\n}\r\n\r\n/**\r\n * @deprecated Fee models and term sheets serve different purposes - no sync.\r\n *\r\n * This function previously synced fee plan values back to term sheets.\r\n * Per business requirements (Fred):\r\n * - Term sheets are investor-facing fee disclosures\r\n * - Fee models are introducer/partner commission agreements\r\n *\r\n * They should NOT sync as they have different values for different audiences.\r\n * The function is kept for backward compatibility but does nothing.\r\n */\r\nexport async function syncFeePlanToTermSheet(\r\n  supabase: SupabaseClient,\r\n  feePlanId: string,\r\n  dealId: string\r\n): Promise<{ success: boolean; error?: string }> {\r\n  console.warn(\r\n    '[DEPRECATED] syncFeePlanToTermSheet() called but sync is disabled. ' +\r\n    'Term sheets (investor-facing) and fee models (partner/introducer agreements) ' +\r\n    'serve different purposes and should not sync. ' +\r\n    `Fee plan: ${feePlanId}, Deal: ${dealId}`\r\n  );\r\n\r\n  // No-op - return success without doing anything\r\n  return { success: true };\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;;;;;CAUC;;;;;;;;;;;;AASM,SAAS,aAAa,OAAkC;IAC7D,IAAI,YAAY,QAAQ,YAAY,WAAW,OAAO;IACtD,OAAO,KAAK,KAAK,CAAC,UAAU;AAC9B;AAOO,SAAS,aAAa,GAA8B;IACzD,IAAI,QAAQ,QAAQ,QAAQ,WAAW,OAAO;IAC9C,OAAO,MAAM;AACf;AAQO,SAAS,sCACd,aAAgE,EAChE,SAIC;IAED,MAAM,SAAmB,EAAE;IAE3B,KAAK,MAAM,QAAQ,cAAe;QAChC,IAAI,CAAC,KAAK,QAAQ,EAAE;QAEpB,MAAM,cAAc,aAAa,KAAK,QAAQ;QAC9C,IAAI,gBAAgB,MAAM;QAE1B,OAAQ,KAAK,IAAI;YACf,KAAK;gBACH,IAAI,UAAU,wBAAwB,KAAK,QACvC,UAAU,wBAAwB,KAAK,aACvC,cAAc,UAAU,wBAAwB,EAAE;oBACpD,OAAO,IAAI,CACT,CAAC,kBAAkB,EAAE,YAAY,6BAA6B,EAAE,UAAU,wBAAwB,CAAC,EAAE,CAAC;gBAE1G;gBACA;YACF,KAAK;gBACH,IAAI,UAAU,sBAAsB,KAAK,QACrC,UAAU,sBAAsB,KAAK,aACrC,cAAc,UAAU,sBAAsB,EAAE;oBAClD,OAAO,IAAI,CACT,CAAC,gBAAgB,EAAE,YAAY,6BAA6B,EAAE,UAAU,sBAAsB,CAAC,EAAE,CAAC;gBAEtG;gBACA;YACF,KAAK;gBACH,IAAI,UAAU,wBAAwB,KAAK,QACvC,UAAU,wBAAwB,KAAK,aACvC,cAAc,UAAU,wBAAwB,EAAE;oBACpD,OAAO,IAAI,CACT,CAAC,iBAAiB,EAAE,YAAY,6BAA6B,EAAE,UAAU,wBAAwB,CAAC,EAAE,CAAC;gBAEzG;gBACA;QACJ;IACF;IAEA,OAAO;AACT;AAYO,eAAe,uBACpB,QAAwB,EACxB,SAKC,EACD,MAAc,EACd,MAAc;IAEd,QAAQ,IAAI,CACV,6EACA,6EACA,CAAC,YAAY,EAAE,UAAU,EAAE,CAAC,QAAQ,EAAE,QAAQ;IAGhD,mDAAmD;IACnD,OAAO;QAAE,SAAS;IAAK;AACzB;AAaO,eAAe,uBACpB,QAAwB,EACxB,SAAiB,EACjB,MAAc;IAEd,QAAQ,IAAI,CACV,wEACA,kFACA,mDACA,CAAC,UAAU,EAAE,UAAU,QAAQ,EAAE,QAAQ;IAG3C,gDAAgD;IAChD,OAAO;QAAE,SAAS;IAAK;AACzB"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/fees/fees-page-client.tsx"],"sourcesContent":["'use client'\r\n\r\n/**\r\n * Fees Management Page Client Component\r\n * Tabbed navigation for fee management\r\n */\r\n\r\nimport { useState } from 'react'\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\r\nimport {\r\n  LayoutDashboard,\r\n  FileText,\r\n  Receipt,\r\n  Calendar,\r\n  Users,\r\n} from 'lucide-react'\r\n\r\n// Direct imports for instant tab switching\r\nimport OverviewTab from '@/components/fees/OverviewTab'\r\nimport FeePlansTab from '@/components/fees/FeePlansTab'\r\nimport InvoicesTab from '@/components/fees/InvoicesTab'\r\nimport ScheduleTab from '@/components/fees/ScheduleTab'\r\nimport CommissionsTab from '@/components/fees/CommissionsTab'\r\n\r\nexport function FeesPageClient() {\r\n  const [activeTab, setActiveTab] = useState('overview')\r\n\r\n  return (\r\n    <div className=\"container mx-auto py-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold tracking-tight text-foreground\">Fees Management</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage fee structures, invoices, and revenue tracking\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\r\n        <TabsList className=\"grid w-full grid-cols-5\">\r\n          <TabsTrigger value=\"overview\" className=\"flex items-center gap-2\">\r\n            <LayoutDashboard className=\"h-4 w-4\" />\r\n            Overview\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"plans\" className=\"flex items-center gap-2\">\r\n            <FileText className=\"h-4 w-4\" />\r\n            Fee Plans\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"invoices\" className=\"flex items-center gap-2\">\r\n            <Receipt className=\"h-4 w-4\" />\r\n            Fee Billing\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"schedule\" className=\"flex items-center gap-2\">\r\n            <Calendar className=\"h-4 w-4\" />\r\n            Schedule\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"commissions\" className=\"flex items-center gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            Commissions\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\" className=\"space-y-4\">\r\n          <OverviewTab />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"plans\" className=\"space-y-4\">\r\n          <FeePlansTab />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"invoices\" className=\"space-y-4\">\r\n          <InvoicesTab />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"schedule\" className=\"space-y-4\">\r\n          <ScheduleTab />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"commissions\" className=\"space-y-4\">\r\n          <CommissionsTab />\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;CAGC,GAED;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAQA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AAtBA;;;;;;;;;;AAwBO,SAAS;IACd,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wOAAQ,EAAC;IAE3C,qBACE,qQAAC;QAAI,WAAU;;0BACb,qQAAC;gBAAI,WAAU;0BACb,cAAA,qQAAC;;sCACC,qQAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAClE,qQAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;0BAMzC,qQAAC,+JAAI;gBAAC,OAAO;gBAAW,eAAe;gBAAc,WAAU;;kCAC7D,qQAAC,mKAAQ;wBAAC,WAAU;;0CAClB,qQAAC,sKAAW;gCAAC,OAAM;gCAAW,WAAU;;kDACtC,qQAAC,sQAAe;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAGzC,qQAAC,sKAAW;gCAAC,OAAM;gCAAQ,WAAU;;kDACnC,qQAAC,iPAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAGlC,qQAAC,sKAAW;gCAAC,OAAM;gCAAW,WAAU;;kDACtC,qQAAC,0OAAO;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAGjC,qQAAC,sKAAW;gCAAC,OAAM;gCAAW,WAAU;;kDACtC,qQAAC,6OAAQ;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAGlC,qQAAC,sKAAW;gCAAC,OAAM;gCAAc,WAAU;;kDACzC,qQAAC,oOAAK;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;kCAKjC,qQAAC,sKAAW;wBAAC,OAAM;wBAAW,WAAU;kCACtC,cAAA,qQAAC,2KAAW;;;;;;;;;;kCAGd,qQAAC,sKAAW;wBAAC,OAAM;wBAAQ,WAAU;kCACnC,cAAA,qQAAC,2KAAW;;;;;;;;;;kCAGd,qQAAC,sKAAW;wBAAC,OAAM;wBAAW,WAAU;kCACtC,cAAA,qQAAC,2KAAW;;;;;;;;;;kCAGd,qQAAC,sKAAW;wBAAC,OAAM;wBAAW,WAAU;kCACtC,cAAA,qQAAC,2KAAW;;;;;;;;;;kCAGd,qQAAC,sKAAW;wBAAC,OAAM;wBAAc,WAAU;kCACzC,cAAA,qQAAC,8KAAc;;;;;;;;;;;;;;;;;;;;;;AAKzB"}}]
}