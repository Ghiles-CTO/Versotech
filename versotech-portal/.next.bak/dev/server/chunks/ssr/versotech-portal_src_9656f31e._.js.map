{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/table.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"text-foreground h-11 md:h-10 px-2 text-left align-middle font-medium text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        // Responsive: smaller text on mobile, allow text wrapping for narrow screens\n        \"p-2 align-middle text-xs sm:text-sm [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,qQAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,qQAAC;YACC,aAAU;YACV,WAAW,IAAA,gJAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,6EAA6E;QAC7E,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,6EAA6E;QAC7E,2GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,qQAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/lib/format.ts"],"sourcesContent":["export const formatCurrency = (value: number | null | undefined, currency: string = 'USD') => {\n  if (!value) return '$0'\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: currency,\n    maximumFractionDigits: 0,\n  }).format(value)\n}\n\nexport const formatBps = (bps: number | null | undefined) => {\n  if (bps === null || bps === undefined) return '—'\n  return `${bps} bps`\n}\n\nexport const formatPercentage = (value: number | null | undefined) => {\n  if (!value) return '0%'\n  return `${(value * 100).toFixed(1)}%`\n}\n\nexport const formatDate = (value: string | Date | null | undefined) => {\n  if (!value) return '—'\n  const date = typeof value === 'string' ? new Date(value) : value\n  if (Number.isNaN(date?.getTime?.())) return '—'\n  // Use explicit locale to prevent hydration mismatch between server/client\n  return date.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  })\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,iBAAiB,CAAC,OAAkC,WAAmB,KAAK;IACvF,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;IACzB,GAAG,MAAM,CAAC;AACZ;AAEO,MAAM,YAAY,CAAC;IACxB,IAAI,QAAQ,QAAQ,QAAQ,WAAW,OAAO;IAC9C,OAAO,GAAG,IAAI,IAAI,CAAC;AACrB;AAEO,MAAM,mBAAmB,CAAC;IAC/B,IAAI,CAAC,OAAO,OAAO;IACnB,OAAO,GAAG,CAAC,QAAQ,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;AACvC;AAEO,MAAM,aAAa,CAAC;IACzB,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,OAAO,OAAO,UAAU,WAAW,IAAI,KAAK,SAAS;IAC3D,IAAI,OAAO,KAAK,CAAC,MAAM,cAAc,OAAO;IAC5C,0EAA0E;IAC1E,OAAO,KAAK,kBAAkB,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Wrapper to provide stable ID for SSR hydration\nconst Tabs = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Root>\n>(({ id, ...props }, ref) => {\n  const generatedId = React.useId()\n  return <TabsPrimitive.Root ref={ref} id={id ?? generatedId} {...props} />\n})\nTabs.displayName = \"Tabs\"\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-11 md:h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 md:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,iDAAiD;AACjD,MAAM,qBAAO,0OAAgB,CAG3B,CAAC,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;IACnB,MAAM,cAAc,qOAAW;IAC/B,qBAAO,qQAAC,+LAAkB;QAAC,KAAK;QAAK,IAAI,MAAM;QAAc,GAAG,KAAK;;;;;;AACvE;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,yBAAW,0OAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qQAAC,+LAAkB;QACjB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,sGACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,+LAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,0OAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qQAAC,kMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,+YACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kMAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,0OAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,qQAAC,kMAAqB;QACpB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kMAAqB,CAAC,WAAW"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,0OAAgB,CAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,qQAAC,oMAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,gJAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG,oMAAuB,CAAC,WAAW"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/common/commission-summary.tsx"],"sourcesContent":["'use client'\n\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { DollarSign, Clock, FileCheck, CheckCircle2, XCircle } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\nimport { cn } from '@/lib/utils'\n\n/**\n * Commission summary type - shared between partners and introducers\n */\nexport type CommissionSummary = {\n  accrued: number\n  invoice_requested: number\n  invoice_submitted?: number\n  invoiced: number\n  paid: number\n  cancelled: number\n  rejected?: number\n  total_owed: number\n  currency: string\n}\n\ninterface CommissionSummaryProps {\n  summary: CommissionSummary\n  variant?: 'card' | 'compact' | 'inline'\n  className?: string\n  /** Optional title override (default: \"Commission Summary\") */\n  title?: string\n}\n\n/**\n * Displays commission summary for a partner or introducer\n * Shows breakdown by status: accrued, invoiced, paid\n *\n * Variants:\n * - 'card': Full card with header, grid layout, and progress bar\n * - 'compact': Horizontal badges for smaller displays\n * - 'inline': Minimal text for table cells\n */\nexport function CommissionSummary({\n  summary,\n  variant = 'card',\n  className,\n  title = 'Commission Summary',\n}: CommissionSummaryProps) {\n  const invoiceSubmitted = summary.invoice_submitted ?? 0\n  const { accrued, invoice_requested, invoiced, paid, total_owed, currency } = summary\n  const invoicedTotal = invoice_requested + invoiceSubmitted + invoiced\n\n  // Inline variant - for table cells\n  if (variant === 'inline') {\n    return (\n      <div className={cn('space-y-1', className)}>\n        {paid > 0 && (\n          <div className=\"text-sm\">\n            <span className=\"text-green-600 font-medium\">\n              {formatCurrency(paid, currency)}\n            </span>\n            <span className=\"text-muted-foreground text-xs ml-1\">paid</span>\n          </div>\n        )}\n        {total_owed > 0 && (\n          <div className=\"text-xs text-yellow-600\">\n            {formatCurrency(total_owed, currency)} pending\n          </div>\n        )}\n        {paid === 0 && total_owed === 0 && (\n          <span className=\"text-muted-foreground text-xs\">No commissions</span>\n        )}\n      </div>\n    )\n  }\n\n  // Compact variant - for smaller displays\n  if (variant === 'compact') {\n    return (\n      <div className={cn('flex flex-wrap gap-2', className)}>\n        {accrued > 0 && (\n          <Badge variant=\"outline\" className=\"bg-blue-500/10 text-blue-600 border-blue-200\">\n            <Clock className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(accrued, currency)} accrued\n          </Badge>\n        )}\n        {invoicedTotal > 0 && (\n          <Badge variant=\"outline\" className=\"bg-yellow-500/10 text-yellow-600 border-yellow-200\">\n            <FileCheck className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(invoicedTotal, currency)} invoiced\n          </Badge>\n        )}\n        {paid > 0 && (\n          <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-600 border-green-200\">\n            <CheckCircle2 className=\"h-3 w-3 mr-1\" />\n            {formatCurrency(paid, currency)} paid\n          </Badge>\n        )}\n      </div>\n    )\n  }\n\n  // Default card variant\n  return (\n    <Card className={className}>\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\n          <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          {title}\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"grid grid-cols-2 gap-4\">\n          {/* Accrued */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <Clock className=\"h-3 w-3 text-blue-500\" />\n              Accrued\n            </div>\n            <div className=\"text-lg font-semibold text-blue-600\">\n              {formatCurrency(accrued, currency)}\n            </div>\n          </div>\n\n          {/* Invoiced */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <FileCheck className=\"h-3 w-3 text-yellow-500\" />\n              Invoiced\n            </div>\n            <div className=\"text-lg font-semibold text-yellow-600\">\n            {formatCurrency(invoicedTotal, currency)}\n            </div>\n          </div>\n\n          {/* Paid */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <CheckCircle2 className=\"h-3 w-3 text-green-500\" />\n              Paid\n            </div>\n            <div className=\"text-lg font-semibold text-green-600\">\n              {formatCurrency(paid, currency)}\n            </div>\n          </div>\n\n          {/* Total Owed */}\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n              <DollarSign className=\"h-3 w-3 text-purple-500\" />\n              Total Owed\n            </div>\n            <div className=\"text-lg font-semibold text-purple-600\">\n              {formatCurrency(total_owed, currency)}\n            </div>\n          </div>\n        </div>\n\n        {/* Progress bar showing paid vs owed */}\n        {(paid + total_owed) > 0 && (\n          <div className=\"mt-4 pt-3 border-t\">\n            <div className=\"flex justify-between text-xs text-muted-foreground mb-1\">\n              <span>Payment Progress</span>\n              <span>\n                {Math.round((paid / (paid + total_owed)) * 100)}% paid\n              </span>\n            </div>\n            <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-green-500 transition-all duration-300\"\n                style={{ width: `${(paid / (paid + total_owed)) * 100}%` }}\n              />\n            </div>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  )\n}\n\n/**\n * Displays a simple badge showing payment status\n */\nexport function PaymentStatusBadge({\n  summary,\n  className,\n}: {\n  summary: CommissionSummary\n  className?: string\n}) {\n  const { paid, total_owed } = summary\n\n  if (paid === 0 && total_owed === 0) {\n    return (\n      <Badge variant=\"outline\" className={cn('text-muted-foreground', className)}>\n        No commissions\n      </Badge>\n    )\n  }\n\n  if (total_owed === 0 && paid > 0) {\n    return (\n      <Badge variant=\"outline\" className={cn('bg-green-500/10 text-green-600 border-green-200', className)}>\n        <CheckCircle2 className=\"h-3 w-3 mr-1\" />\n        All paid\n      </Badge>\n    )\n  }\n\n  return (\n    <Badge variant=\"outline\" className={cn('bg-yellow-500/10 text-yellow-600 border-yellow-200', className)}>\n      <Clock className=\"h-3 w-3 mr-1\" />\n      {formatCurrency(total_owed, summary.currency)} pending\n    </Badge>\n  )\n}\n\n// Re-export with old names for backwards compatibility during migration\nexport { CommissionSummary as PartnerCommissionSummary }\nexport { PaymentStatusBadge as PartnerPaymentBadge }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/partner-commission-summary.tsx"],"sourcesContent":["'use client'\n\n/**\n * @deprecated This file re-exports from @/components/common/commission-summary\n * Import directly from '@/components/common/commission-summary' instead.\n *\n * Kept for backwards compatibility during migration.\n */\n\nexport {\n  CommissionSummary as PartnerCommissionSummary,\n  PaymentStatusBadge as PartnerPaymentBadge,\n  type CommissionSummary,\n} from '@/components/common/commission-summary'\n"],"names":[],"mappings":";AAEA;;;;;CAKC,GAED;AATA"}},
    {"offset": {"line": 847, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,0OAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,qQAAC;QACC,WAAW,IAAA,gJAAE,EACX,+RACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/record-commission-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Label } from '@/components/ui/label'\nimport { Textarea } from '@/components/ui/textarea'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Loader2, Calculator } from 'lucide-react'\nimport { formatCurrency } from '@/lib/format'\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n  currency: string\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  components: any[]\n}\n\ninterface RecordCommissionDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  partnerId: string\n  partnerName: string\n  deals: Deal[]\n  feePlans: FeePlan[]\n  onSuccess: () => void\n}\n\nconst BASIS_TYPES = [\n  { value: 'invested_amount', label: 'Invested Amount' },\n  { value: 'spread', label: 'Spread' },\n  { value: 'management_fee', label: 'Management Fee' },\n  { value: 'performance_fee', label: 'Performance Fee' },\n]\n\nexport function RecordCommissionDialog({\n  open,\n  onOpenChange,\n  partnerId,\n  partnerName,\n  deals,\n  feePlans,\n  onSuccess,\n}: RecordCommissionDialogProps) {\n  const [saving, setSaving] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  // Form state\n  const [dealId, setDealId] = useState<string>('')\n  const [feePlanId, setFeePlanId] = useState<string>('')\n  const [basisType, setBasisType] = useState<string>('invested_amount')\n  const [rateBps, setRateBps] = useState<string>('')\n  const [baseAmount, setBaseAmount] = useState<string>('')\n  const [accrualAmount, setAccrualAmount] = useState<string>('')\n  const [currency, setCurrency] = useState<string>('USD')\n  const [paymentDueDate, setPaymentDueDate] = useState<string>('')\n  const [notes, setNotes] = useState<string>('')\n\n  // Reset form when dialog opens\n  useEffect(() => {\n    if (open) {\n      setDealId('')\n      setFeePlanId('')\n      setBasisType('invested_amount')\n      setRateBps('')\n      setBaseAmount('')\n      setAccrualAmount('')\n      setCurrency('USD')\n      setPaymentDueDate('')\n      setNotes('')\n      setError(null)\n    }\n  }, [open])\n\n  // Auto-calculate accrual when rate and base amount change\n  useEffect(() => {\n    if (rateBps && baseAmount) {\n      const rate = parseFloat(rateBps) / 10000 // Convert bps to decimal\n      const base = parseFloat(baseAmount)\n      if (!isNaN(rate) && !isNaN(base)) {\n        const calculated = (base * rate).toFixed(2)\n        setAccrualAmount(calculated)\n      }\n    }\n  }, [rateBps, baseAmount])\n\n  // Update currency when deal changes\n  useEffect(() => {\n    if (dealId) {\n      const deal = deals.find(d => d.id === dealId)\n      if (deal?.currency) {\n        setCurrency(deal.currency)\n      }\n    }\n  }, [dealId, deals])\n\n  // Auto-fill rate from fee plan\n  useEffect(() => {\n    if (feePlanId) {\n      const plan = feePlans.find(p => p.id === feePlanId)\n      if (plan?.components && plan.components.length > 0) {\n        // Find first component with rate_bps\n        const comp = plan.components.find((c: any) => c.rate_bps)\n        if (comp?.rate_bps) {\n          setRateBps(comp.rate_bps.toString())\n        }\n      }\n    }\n  }, [feePlanId, feePlans])\n\n  const handleSubmit = async () => {\n    // Validation\n    if (!rateBps || parseFloat(rateBps) <= 0) {\n      setError('Rate is required and must be greater than 0')\n      return\n    }\n    if (!accrualAmount || parseFloat(accrualAmount) <= 0) {\n      setError('Commission amount is required and must be greater than 0')\n      return\n    }\n\n    setSaving(true)\n    setError(null)\n\n    try {\n      const payload = {\n        partner_id: partnerId,\n        deal_id: dealId || undefined,\n        fee_plan_id: feePlanId || undefined,\n        basis_type: basisType,\n        rate_bps: parseInt(rateBps, 10),\n        base_amount: baseAmount ? parseFloat(baseAmount) : undefined,\n        accrual_amount: parseFloat(accrualAmount),\n        currency,\n        payment_due_date: paymentDueDate || undefined,\n        notes: notes || undefined,\n      }\n\n      const response = await fetch('/api/arrangers/me/partner-commissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to record commission')\n      }\n\n      onSuccess()\n      onOpenChange(false)\n    } catch (err) {\n      console.error('[RecordCommissionDialog] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to record commission')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const ratePercent = rateBps ? (parseFloat(rateBps) / 100).toFixed(2) : '0.00'\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-lg\">\n        <DialogHeader>\n          <DialogTitle>Record Commission</DialogTitle>\n          <DialogDescription>\n            Record a commission owed to {partnerName}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive/30 text-destructive text-sm p-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          {/* Deal Selection */}\n          <div className=\"space-y-2\">\n            <Label>Deal (Optional)</Label>\n            <Select value={dealId} onValueChange={setDealId}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select deal...\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"\">No specific deal</SelectItem>\n                {deals.map((deal) => (\n                  <SelectItem key={deal.id} value={deal.id}>\n                    {deal.name} {deal.company_name && `(${deal.company_name})`}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Fee Plan Selection */}\n          {feePlans.length > 0 && (\n            <div className=\"space-y-2\">\n              <Label>Fee Plan (Optional)</Label>\n              <Select value={feePlanId} onValueChange={setFeePlanId}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select fee plan...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"\">No fee plan</SelectItem>\n                  {feePlans.map((plan) => (\n                    <SelectItem key={plan.id} value={plan.id}>\n                      {plan.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          )}\n\n          {/* Basis Type */}\n          <div className=\"space-y-2\">\n            <Label>Commission Basis</Label>\n            <Select value={basisType} onValueChange={setBasisType}>\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {BASIS_TYPES.map((type) => (\n                  <SelectItem key={type.value} value={type.value}>\n                    {type.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Rate and Base Amount */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Rate (basis points) *</Label>\n              <Input\n                type=\"number\"\n                value={rateBps}\n                onChange={(e) => setRateBps(e.target.value)}\n                placeholder=\"e.g., 100 = 1%\"\n              />\n              {rateBps && (\n                <p className=\"text-xs text-muted-foreground\">= {ratePercent}%</p>\n              )}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Base Amount ({currency})</Label>\n              <Input\n                type=\"number\"\n                value={baseAmount}\n                onChange={(e) => setBaseAmount(e.target.value)}\n                placeholder=\"e.g., 100000\"\n              />\n            </div>\n          </div>\n\n          {/* Commission Amount */}\n          <div className=\"space-y-2\">\n            <Label className=\"flex items-center gap-2\">\n              Commission Amount ({currency}) *\n              {rateBps && baseAmount && (\n                <span className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <Calculator className=\"h-3 w-3\" />\n                  Auto-calculated\n                </span>\n              )}\n            </Label>\n            <Input\n              type=\"number\"\n              value={accrualAmount}\n              onChange={(e) => setAccrualAmount(e.target.value)}\n              placeholder=\"Commission amount\"\n            />\n            {accrualAmount && (\n              <p className=\"text-sm font-medium text-primary\">\n                {formatCurrency(parseFloat(accrualAmount), currency)}\n              </p>\n            )}\n          </div>\n\n          {/* Payment Due Date */}\n          <div className=\"space-y-2\">\n            <Label>Payment Due Date (Optional)</Label>\n            <Input\n              type=\"date\"\n              value={paymentDueDate}\n              onChange={(e) => setPaymentDueDate(e.target.value)}\n            />\n          </div>\n\n          {/* Notes */}\n          <div className=\"space-y-2\">\n            <Label>Notes (Optional)</Label>\n            <Textarea\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              placeholder=\"Any additional notes...\"\n              rows={2}\n            />\n          </div>\n        </div>\n\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={saving}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={saving}>\n            {saving ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Recording...\n              </>\n            ) : (\n              'Record Commission'\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/partners/partner-detail-drawer.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet'\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Separator } from '@/components/ui/separator'\nimport {\n  Building2,\n  Mail,\n  Phone,\n  Globe,\n  FileText,\n  Users,\n  TrendingUp,\n  ExternalLink,\n  Loader2,\n  AlertCircle,\n  Briefcase,\n} from 'lucide-react'\nimport { formatCurrency, formatDate } from '@/lib/format'\nimport { cn } from '@/lib/utils'\nimport { PartnerCommissionSummary, type CommissionSummary } from './partner-commission-summary'\nimport { RecordCommissionDialog } from './record-commission-dialog'\nimport Link from 'next/link'\nimport { Plus } from 'lucide-react'\n\ntype PartnerDetail = {\n  id: string\n  name: string\n  legal_name: string | null\n  partner_type: string | null\n  status: string\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  country: string | null\n  logo_url: string | null\n  kyc_status: string | null\n  created_at: string | null\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  description: string | null\n  is_active: boolean\n  effective_from: string | null\n  effective_until: string | null\n  deal_id: string | null\n  created_at: string | null\n  components: any[]\n}\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n  status: string\n  currency: string\n}\n\ntype Referral = {\n  id: string\n  created_at: string\n  investor: { id: string; name: string } | null\n  deal: { id: string; name: string; company_name: string | null } | null\n}\n\ntype PartnerData = {\n  partner: PartnerDetail\n  fee_plans: FeePlan[]\n  commission_summary: CommissionSummary\n  deals: Deal[]\n  recent_referrals: Referral[]\n  stats: {\n    total_deals: number\n    total_referrals: number\n    active_fee_plans: number\n  }\n}\n\ninterface PartnerDetailDrawerProps {\n  partnerId: string | null\n  open: boolean\n  onOpenChange: (open: boolean) => void\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst KYC_STYLES: Record<string, string> = {\n  approved: 'bg-green-100 text-green-800',\n  pending: 'bg-yellow-100 text-yellow-800',\n  expired: 'bg-red-100 text-red-800',\n  not_started: 'bg-gray-100 text-gray-800',\n}\n\nexport function PartnerDetailDrawer({\n  partnerId,\n  open,\n  onOpenChange,\n}: PartnerDetailDrawerProps) {\n  const [data, setData] = useState<PartnerData | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [recordCommissionOpen, setRecordCommissionOpen] = useState(false)\n\n  const fetchPartnerDetail = async () => {\n    if (!partnerId) return\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(`/api/arrangers/me/partners/${partnerId}`)\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to load partner details')\n      }\n\n      const result = await response.json()\n      setData(result.data)\n    } catch (err) {\n      console.error('[PartnerDetailDrawer] Error:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load partner details')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!open || !partnerId) {\n      setData(null)\n      setError(null)\n      return\n    }\n\n    fetchPartnerDetail()\n  }, [open, partnerId])\n\n  return (\n    <Sheet open={open} onOpenChange={onOpenChange}>\n      <SheetContent className=\"w-full sm:max-w-xl overflow-y-auto\">\n        {loading && (\n          <div className=\"flex items-center justify-center py-16\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n            <span className=\"ml-3 text-muted-foreground\">Loading partner details...</span>\n          </div>\n        )}\n\n        {error && (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <AlertCircle className=\"h-12 w-12 text-destructive mb-4\" />\n            <p className=\"text-muted-foreground\">{error}</p>\n            <Button\n              variant=\"outline\"\n              className=\"mt-4\"\n              onClick={() => onOpenChange(false)}\n            >\n              Close\n            </Button>\n          </div>\n        )}\n\n        {data && (\n          <>\n            <SheetHeader className=\"pb-4\">\n              <div className=\"flex items-center gap-3\">\n                {data.partner.logo_url ? (\n                  <img\n                    src={data.partner.logo_url}\n                    alt={data.partner.name}\n                    className=\"h-12 w-12 rounded-lg object-cover\"\n                  />\n                ) : (\n                  <div className=\"h-12 w-12 rounded-lg bg-muted flex items-center justify-center\">\n                    <Building2 className=\"h-6 w-6 text-muted-foreground\" />\n                  </div>\n                )}\n                <div>\n                  <SheetTitle>{data.partner.name}</SheetTitle>\n                  <SheetDescription>\n                    {data.partner.partner_type && (\n                      <span className=\"capitalize\">{data.partner.partner_type.replace('_', ' ')}</span>\n                    )}\n                    {data.partner.country && ` • ${data.partner.country}`}\n                  </SheetDescription>\n                </div>\n              </div>\n\n              {/* Status badges */}\n              <div className=\"flex gap-2 mt-3\">\n                <Badge\n                  variant=\"outline\"\n                  className={cn('capitalize', STATUS_STYLES[data.partner.status] || STATUS_STYLES.active)}\n                >\n                  {data.partner.status}\n                </Badge>\n                {data.partner.kyc_status && (\n                  <Badge\n                    variant=\"secondary\"\n                    className={cn('text-xs', KYC_STYLES[data.partner.kyc_status] || '')}\n                  >\n                    KYC: {data.partner.kyc_status.replace('_', ' ')}\n                  </Badge>\n                )}\n              </div>\n            </SheetHeader>\n\n            <Separator className=\"my-4\" />\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-3 gap-3 mb-6\">\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-primary\">{data.stats.total_deals}</div>\n                <div className=\"text-xs text-muted-foreground\">Deals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-blue-600\">{data.stats.total_referrals}</div>\n                <div className=\"text-xs text-muted-foreground\">Referrals</div>\n              </Card>\n              <Card className=\"p-3\">\n                <div className=\"text-2xl font-bold text-purple-600\">{data.stats.active_fee_plans}</div>\n                <div className=\"text-xs text-muted-foreground\">Fee Plans</div>\n              </Card>\n            </div>\n\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"fees\">Fee Plans</TabsTrigger>\n                <TabsTrigger value=\"commissions\">Commissions</TabsTrigger>\n                <TabsTrigger value=\"activity\">Activity</TabsTrigger>\n              </TabsList>\n\n              {/* Overview Tab */}\n              <TabsContent value=\"overview\" className=\"mt-4 space-y-4\">\n                {/* Contact Info */}\n                <Card>\n                  <CardHeader className=\"pb-2\">\n                    <CardTitle className=\"text-sm\">Contact Information</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-2 text-sm\">\n                    {data.partner.contact_name && (\n                      <div className=\"flex items-center gap-2\">\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.contact_name}</span>\n                      </div>\n                    )}\n                    {data.partner.contact_email && (\n                      <div className=\"flex items-center gap-2\">\n                        <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                        <a href={`mailto:${data.partner.contact_email}`} className=\"text-primary hover:underline\">\n                          {data.partner.contact_email}\n                        </a>\n                      </div>\n                    )}\n                    {data.partner.contact_phone && (\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.contact_phone}</span>\n                      </div>\n                    )}\n                    {data.partner.country && (\n                      <div className=\"flex items-center gap-2\">\n                        <Globe className=\"h-4 w-4 text-muted-foreground\" />\n                        <span>{data.partner.country}</span>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* Deals List */}\n                {data.deals.length > 0 && (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Deals Involved</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-2\">\n                        {data.deals.map((deal) => (\n                          <div key={deal.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">{deal.name}</div>\n                              {deal.company_name && (\n                                <div className=\"text-xs text-muted-foreground\">{deal.company_name}</div>\n                              )}\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Badge variant=\"outline\" className=\"text-xs capitalize\">\n                                {deal.status}\n                              </Badge>\n                              <Link href={`/versotech_main/opportunities/${deal.id}`}>\n                                <Button variant=\"ghost\" size=\"sm\">\n                                  <ExternalLink className=\"h-3.5 w-3.5\" />\n                                </Button>\n                              </Link>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n\n              {/* Fee Plans Tab */}\n              <TabsContent value=\"fees\" className=\"mt-4 space-y-4\">\n                {data.fee_plans.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <FileText className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No fee plans assigned to this partner</p>\n                      <Link href=\"/versotech_main/fee-plans\">\n                        <Button variant=\"outline\" size=\"sm\" className=\"mt-3\">\n                          Create Fee Plan\n                        </Button>\n                      </Link>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  data.fee_plans.map((plan) => (\n                    <Card key={plan.id}>\n                      <CardHeader className=\"pb-2\">\n                        <div className=\"flex items-center justify-between\">\n                          <CardTitle className=\"text-sm\">{plan.name}</CardTitle>\n                          <Badge variant={plan.is_active ? 'default' : 'secondary'}>\n                            {plan.is_active ? 'Active' : 'Inactive'}\n                          </Badge>\n                        </div>\n                        {plan.description && (\n                          <CardDescription className=\"text-xs\">{plan.description}</CardDescription>\n                        )}\n                      </CardHeader>\n                      <CardContent>\n                        {plan.components && plan.components.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {plan.components.map((comp: any, idx: number) => (\n                              <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                {comp.kind}: {comp.rate_bps ? `${(comp.rate_bps / 100).toFixed(2)}%` : comp.flat_amount ? `$${comp.flat_amount}` : 'N/A'}\n                              </Badge>\n                            ))}\n                          </div>\n                        ) : (\n                          <p className=\"text-xs text-muted-foreground\">No fee components defined</p>\n                        )}\n                        {plan.effective_from && (\n                          <p className=\"text-xs text-muted-foreground mt-2\">\n                            Effective from {formatDate(plan.effective_from)}\n                            {plan.effective_until && ` to ${formatDate(plan.effective_until)}`}\n                          </p>\n                        )}\n                      </CardContent>\n                    </Card>\n                  ))\n                )}\n              </TabsContent>\n\n              {/* Commissions Tab */}\n              <TabsContent value=\"commissions\" className=\"mt-4 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-sm font-medium\">Commission Summary</h3>\n                  <Button\n                    size=\"sm\"\n                    onClick={() => setRecordCommissionOpen(true)}\n                  >\n                    <Plus className=\"h-4 w-4 mr-1\" />\n                    Record Commission\n                  </Button>\n                </div>\n\n                <PartnerCommissionSummary summary={data.commission_summary} />\n\n                <div className=\"flex justify-end\">\n                  <Link href=\"/versotech_main/lawyer-reconciliation\">\n                    <Button variant=\"outline\" size=\"sm\">\n                      <TrendingUp className=\"h-4 w-4 mr-2\" />\n                      View Reconciliation\n                    </Button>\n                  </Link>\n                </div>\n              </TabsContent>\n\n              {/* Activity Tab - Shows fee plan assignments */}\n              <TabsContent value=\"activity\" className=\"mt-4 space-y-4\">\n                {data.recent_referrals.length === 0 ? (\n                  <Card>\n                    <CardContent className=\"py-8 text-center\">\n                      <FileText className=\"h-10 w-10 text-muted-foreground mx-auto mb-3\" />\n                      <p className=\"text-sm text-muted-foreground\">No activity yet</p>\n                    </CardContent>\n                  </Card>\n                ) : (\n                  <Card>\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm\">Recent Activity</CardTitle>\n                      <CardDescription className=\"text-xs\">Fee plan assignments to deals</CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3\">\n                        {data.recent_referrals.map((activity) => (\n                          <div key={activity.id} className=\"flex items-center justify-between p-2 rounded-md bg-muted/50\">\n                            <div>\n                              <div className=\"font-medium text-sm\">\n                                Assigned to {activity.deal?.name || 'Unknown Deal'}\n                              </div>\n                              <div className=\"text-xs text-muted-foreground\">\n                                {activity.deal?.company_name && `${activity.deal.company_name} • `}\n                                {activity.created_at && formatDate(activity.created_at)}\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n            </Tabs>\n\n            {/* Record Commission Dialog */}\n            <RecordCommissionDialog\n              open={recordCommissionOpen}\n              onOpenChange={setRecordCommissionOpen}\n              partnerId={data.partner.id}\n              partnerName={data.partner.name}\n              deals={data.deals}\n              feePlans={data.fee_plans}\n              onSuccess={fetchPartnerDetail}\n            />\n          </>\n        )}\n      </SheetContent>\n    </Sheet>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;AAAA;AACA;AACA;AACA;AAjCA;;;;;;;;;;;;;;;;AAgGA,MAAM,gBAAwC;IAC5C,QAAQ;IACR,SAAS;IACT,UAAU;IACV,WAAW;AACb;AAEA,MAAM,aAAqC;IACzC,UAAU;IACV,SAAS;IACT,SAAS;IACT,aAAa;AACf;AAEO,SAAS,oBAAoB,EAClC,SAAS,EACT,IAAI,EACJ,YAAY,EACa;IACzB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wOAAQ,EAAqB;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wOAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wOAAQ,EAAgB;IAClD,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,IAAA,wOAAQ,EAAC;IAEjE,MAAM,qBAAqB;QACzB,IAAI,CAAC,WAAW;QAEhB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,2BAA2B,EAAE,WAAW;YACtE,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;YACrC;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAClC,QAAQ,OAAO,IAAI;QACrB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;QAChD,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,yOAAS,EAAC;QACR,IAAI,CAAC,QAAQ,CAAC,WAAW;YACvB,QAAQ;YACR,SAAS;YACT;QACF;QAEA;IACF,GAAG;QAAC;QAAM;KAAU;IAEpB,qBACE,qQAAC,iKAAK;QAAC,MAAM;QAAM,cAAc;kBAC/B,cAAA,qQAAC,wKAAY;YAAC,WAAU;;gBACrB,yBACC,qQAAC;oBAAI,WAAU;;sCACb,qQAAC,mPAAO;4BAAC,WAAU;;;;;;sCACnB,qQAAC;4BAAK,WAAU;sCAA6B;;;;;;;;;;;;gBAIhD,uBACC,qQAAC;oBAAI,WAAU;;sCACb,qQAAC,0PAAW;4BAAC,WAAU;;;;;;sCACvB,qQAAC;4BAAE,WAAU;sCAAyB;;;;;;sCACtC,qQAAC,mKAAM;4BACL,SAAQ;4BACR,WAAU;4BACV,SAAS,IAAM,aAAa;sCAC7B;;;;;;;;;;;;gBAMJ,sBACC;;sCACE,qQAAC,uKAAW;4BAAC,WAAU;;8CACrB,qQAAC;oCAAI,WAAU;;wCACZ,KAAK,OAAO,CAAC,QAAQ,iBACpB,qQAAC;4CACC,KAAK,KAAK,OAAO,CAAC,QAAQ;4CAC1B,KAAK,KAAK,OAAO,CAAC,IAAI;4CACtB,WAAU;;;;;iEAGZ,qQAAC;4CAAI,WAAU;sDACb,cAAA,qQAAC,oPAAS;gDAAC,WAAU;;;;;;;;;;;sDAGzB,qQAAC;;8DACC,qQAAC,sKAAU;8DAAE,KAAK,OAAO,CAAC,IAAI;;;;;;8DAC9B,qQAAC,4KAAgB;;wDACd,KAAK,OAAO,CAAC,YAAY,kBACxB,qQAAC;4DAAK,WAAU;sEAAc,KAAK,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK;;;;;;wDAEtE,KAAK,OAAO,CAAC,OAAO,IAAI,CAAC,GAAG,EAAE,KAAK,OAAO,CAAC,OAAO,EAAE;;;;;;;;;;;;;;;;;;;8CAM3D,qQAAC;oCAAI,WAAU;;sDACb,qQAAC,iKAAK;4CACJ,SAAQ;4CACR,WAAW,IAAA,gJAAE,EAAC,cAAc,aAAa,CAAC,KAAK,OAAO,CAAC,MAAM,CAAC,IAAI,cAAc,MAAM;sDAErF,KAAK,OAAO,CAAC,MAAM;;;;;;wCAErB,KAAK,OAAO,CAAC,UAAU,kBACtB,qQAAC,iKAAK;4CACJ,SAAQ;4CACR,WAAW,IAAA,gJAAE,EAAC,WAAW,UAAU,CAAC,KAAK,OAAO,CAAC,UAAU,CAAC,IAAI;;gDACjE;gDACO,KAAK,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;;;;;;;;;sCAMnD,qQAAC,yKAAS;4BAAC,WAAU;;;;;;sCAGrB,qQAAC;4BAAI,WAAU;;8CACb,qQAAC,+JAAI;oCAAC,WAAU;;sDACd,qQAAC;4CAAI,WAAU;sDAAmC,KAAK,KAAK,CAAC,WAAW;;;;;;sDACxE,qQAAC;4CAAI,WAAU;sDAAgC;;;;;;;;;;;;8CAEjD,qQAAC,+JAAI;oCAAC,WAAU;;sDACd,qQAAC;4CAAI,WAAU;sDAAoC,KAAK,KAAK,CAAC,eAAe;;;;;;sDAC7E,qQAAC;4CAAI,WAAU;sDAAgC;;;;;;;;;;;;8CAEjD,qQAAC,+JAAI;oCAAC,WAAU;;sDACd,qQAAC;4CAAI,WAAU;sDAAsC,KAAK,KAAK,CAAC,gBAAgB;;;;;;sDAChF,qQAAC;4CAAI,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;sCAInD,qQAAC,+JAAI;4BAAC,cAAa;4BAAW,WAAU;;8CACtC,qQAAC,mKAAQ;oCAAC,WAAU;;sDAClB,qQAAC,sKAAW;4CAAC,OAAM;sDAAW;;;;;;sDAC9B,qQAAC,sKAAW;4CAAC,OAAM;sDAAO;;;;;;sDAC1B,qQAAC,sKAAW;4CAAC,OAAM;sDAAc;;;;;;sDACjC,qQAAC,sKAAW;4CAAC,OAAM;sDAAW;;;;;;;;;;;;8CAIhC,qQAAC,sKAAW;oCAAC,OAAM;oCAAW,WAAU;;sDAEtC,qQAAC,+JAAI;;8DACH,qQAAC,qKAAU;oDAAC,WAAU;8DACpB,cAAA,qQAAC,oKAAS;wDAAC,WAAU;kEAAU;;;;;;;;;;;8DAEjC,qQAAC,sKAAW;oDAAC,WAAU;;wDACpB,KAAK,OAAO,CAAC,YAAY,kBACxB,qQAAC;4DAAI,WAAU;;8EACb,qQAAC,oOAAK;oEAAC,WAAU;;;;;;8EACjB,qQAAC;8EAAM,KAAK,OAAO,CAAC,YAAY;;;;;;;;;;;;wDAGnC,KAAK,OAAO,CAAC,aAAa,kBACzB,qQAAC;4DAAI,WAAU;;8EACb,qQAAC,iOAAI;oEAAC,WAAU;;;;;;8EAChB,qQAAC;oEAAE,MAAM,CAAC,OAAO,EAAE,KAAK,OAAO,CAAC,aAAa,EAAE;oEAAE,WAAU;8EACxD,KAAK,OAAO,CAAC,aAAa;;;;;;;;;;;;wDAIhC,KAAK,OAAO,CAAC,aAAa,kBACzB,qQAAC;4DAAI,WAAU;;8EACb,qQAAC,oOAAK;oEAAC,WAAU;;;;;;8EACjB,qQAAC;8EAAM,KAAK,OAAO,CAAC,aAAa;;;;;;;;;;;;wDAGpC,KAAK,OAAO,CAAC,OAAO,kBACnB,qQAAC;4DAAI,WAAU;;8EACb,qQAAC,oOAAK;oEAAC,WAAU;;;;;;8EACjB,qQAAC;8EAAM,KAAK,OAAO,CAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;;wCAOlC,KAAK,KAAK,CAAC,MAAM,GAAG,mBACnB,qQAAC,+JAAI;;8DACH,qQAAC,qKAAU;oDAAC,WAAU;8DACpB,cAAA,qQAAC,oKAAS;wDAAC,WAAU;kEAAU;;;;;;;;;;;8DAEjC,qQAAC,sKAAW;8DACV,cAAA,qQAAC;wDAAI,WAAU;kEACZ,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,qBACf,qQAAC;gEAAkB,WAAU;;kFAC3B,qQAAC;;0FACC,qQAAC;gFAAI,WAAU;0FAAuB,KAAK,IAAI;;;;;;4EAC9C,KAAK,YAAY,kBAChB,qQAAC;gFAAI,WAAU;0FAAiC,KAAK,YAAY;;;;;;;;;;;;kFAGrE,qQAAC;wEAAI,WAAU;;0FACb,qQAAC,iKAAK;gFAAC,SAAQ;gFAAU,WAAU;0FAChC,KAAK,MAAM;;;;;;0FAEd,qQAAC,8LAAI;gFAAC,MAAM,CAAC,8BAA8B,EAAE,KAAK,EAAE,EAAE;0FACpD,cAAA,qQAAC,mKAAM;oFAAC,SAAQ;oFAAQ,MAAK;8FAC3B,cAAA,qQAAC,6PAAY;wFAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;+DAbtB,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;8CA0B7B,qQAAC,sKAAW;oCAAC,OAAM;oCAAO,WAAU;8CACjC,KAAK,SAAS,CAAC,MAAM,KAAK,kBACzB,qQAAC,+JAAI;kDACH,cAAA,qQAAC,sKAAW;4CAAC,WAAU;;8DACrB,qQAAC,iPAAQ;oDAAC,WAAU;;;;;;8DACpB,qQAAC;oDAAE,WAAU;8DAAgC;;;;;;8DAC7C,qQAAC,8LAAI;oDAAC,MAAK;8DACT,cAAA,qQAAC,mKAAM;wDAAC,SAAQ;wDAAU,MAAK;wDAAK,WAAU;kEAAO;;;;;;;;;;;;;;;;;;;;;+CAO3D,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,qBAClB,qQAAC,+JAAI;;8DACH,qQAAC,qKAAU;oDAAC,WAAU;;sEACpB,qQAAC;4DAAI,WAAU;;8EACb,qQAAC,oKAAS;oEAAC,WAAU;8EAAW,KAAK,IAAI;;;;;;8EACzC,qQAAC,iKAAK;oEAAC,SAAS,KAAK,SAAS,GAAG,YAAY;8EAC1C,KAAK,SAAS,GAAG,WAAW;;;;;;;;;;;;wDAGhC,KAAK,WAAW,kBACf,qQAAC,0KAAe;4DAAC,WAAU;sEAAW,KAAK,WAAW;;;;;;;;;;;;8DAG1D,qQAAC,sKAAW;;wDACT,KAAK,UAAU,IAAI,KAAK,UAAU,CAAC,MAAM,GAAG,kBAC3C,qQAAC;4DAAI,WAAU;sEACZ,KAAK,UAAU,CAAC,GAAG,CAAC,CAAC,MAAW,oBAC/B,qQAAC,iKAAK;oEAAW,SAAQ;oEAAU,WAAU;;wEAC1C,KAAK,IAAI;wEAAC;wEAAG,KAAK,QAAQ,GAAG,GAAG,CAAC,KAAK,QAAQ,GAAG,GAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,WAAW,GAAG,CAAC,CAAC,EAAE,KAAK,WAAW,EAAE,GAAG;;mEADzG;;;;;;;;;iFAMhB,qQAAC;4DAAE,WAAU;sEAAgC;;;;;;wDAE9C,KAAK,cAAc,kBAClB,qQAAC;4DAAE,WAAU;;gEAAqC;gEAChC,IAAA,yJAAU,EAAC,KAAK,cAAc;gEAC7C,KAAK,eAAe,IAAI,CAAC,IAAI,EAAE,IAAA,yJAAU,EAAC,KAAK,eAAe,GAAG;;;;;;;;;;;;;;2CA3B/D,KAAK,EAAE;;;;;;;;;;8CAqCxB,qQAAC,sKAAW;oCAAC,OAAM;oCAAc,WAAU;;sDACzC,qQAAC;4CAAI,WAAU;;8DACb,qQAAC;oDAAG,WAAU;8DAAsB;;;;;;8DACpC,qQAAC,mKAAM;oDACL,MAAK;oDACL,SAAS,IAAM,wBAAwB;;sEAEvC,qQAAC,iOAAI;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;sDAKrC,qQAAC,yQAAwB;4CAAC,SAAS,KAAK,kBAAkB;;;;;;sDAE1D,qQAAC;4CAAI,WAAU;sDACb,cAAA,qQAAC,8LAAI;gDAAC,MAAK;0DACT,cAAA,qQAAC,mKAAM;oDAAC,SAAQ;oDAAU,MAAK;;sEAC7B,qQAAC,uPAAU;4DAAC,WAAU;;;;;;wDAAiB;;;;;;;;;;;;;;;;;;;;;;;8CAQ/C,qQAAC,sKAAW;oCAAC,OAAM;oCAAW,WAAU;8CACrC,KAAK,gBAAgB,CAAC,MAAM,KAAK,kBAChC,qQAAC,+JAAI;kDACH,cAAA,qQAAC,sKAAW;4CAAC,WAAU;;8DACrB,qQAAC,iPAAQ;oDAAC,WAAU;;;;;;8DACpB,qQAAC;oDAAE,WAAU;8DAAgC;;;;;;;;;;;;;;;;6DAIjD,qQAAC,+JAAI;;0DACH,qQAAC,qKAAU;gDAAC,WAAU;;kEACpB,qQAAC,oKAAS;wDAAC,WAAU;kEAAU;;;;;;kEAC/B,qQAAC,0KAAe;wDAAC,WAAU;kEAAU;;;;;;;;;;;;0DAEvC,qQAAC,sKAAW;0DACV,cAAA,qQAAC;oDAAI,WAAU;8DACZ,KAAK,gBAAgB,CAAC,GAAG,CAAC,CAAC,yBAC1B,qQAAC;4DAAsB,WAAU;sEAC/B,cAAA,qQAAC;;kFACC,qQAAC;wEAAI,WAAU;;4EAAsB;4EACtB,SAAS,IAAI,EAAE,QAAQ;;;;;;;kFAEtC,qQAAC;wEAAI,WAAU;;4EACZ,SAAS,IAAI,EAAE,gBAAgB,GAAG,SAAS,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;4EACjE,SAAS,UAAU,IAAI,IAAA,yJAAU,EAAC,SAAS,UAAU;;;;;;;;;;;;;2DAPlD,SAAS,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAoBnC,qQAAC,iNAAsB;4BACrB,MAAM;4BACN,cAAc;4BACd,WAAW,KAAK,OAAO,CAAC,EAAE;4BAC1B,aAAa,KAAK,OAAO,CAAC,IAAI;4BAC9B,OAAO,KAAK,KAAK;4BACjB,UAAU,KAAK,SAAS;4BACxB,WAAW;;;;;;;;;;;;;;;;;;;AAOzB"}},
    {"offset": {"line": 2537, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/app/%28main%29/versotech_main/my-partners/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table'\nimport {\n  Users,\n  Building2,\n  CheckCircle2,\n  Search,\n  Loader2,\n  AlertCircle,\n  Globe,\n  Mail,\n  Handshake,\n  FileText,\n  DollarSign,\n  ChevronRight,\n  TrendingUp,\n} from 'lucide-react'\nimport { cn } from '@/lib/utils'\nimport { formatCurrency } from '@/lib/format'\nimport { createClient } from '@/lib/supabase/client'\nimport Link from 'next/link'\nimport { PartnerDetailDrawer } from '@/components/partners/partner-detail-drawer'\nimport {\n  PartnerCommissionSummary,\n  type CommissionSummary,\n} from '@/components/partners/partner-commission-summary'\n\ntype ArrangerInfo = {\n  id: string\n  legal_name: string\n  status: string\n}\n\ntype Deal = {\n  id: string\n  name: string\n  company_name: string | null\n}\n\ntype FeePlan = {\n  id: string\n  name: string\n  is_active: boolean\n}\n\ntype Partner = {\n  id: string\n  name: string\n  legal_name: string | null\n  partner_type: string | null\n  status: string\n  contact_name: string | null\n  contact_email: string | null\n  contact_phone: string | null\n  country: string | null\n  logo_url: string | null\n  kyc_status: string | null\n  deals_count: number\n  referrals_count: number\n  total_referral_value: number\n  last_activity: string | null\n  fee_plans: FeePlan[]\n  commission_summary: CommissionSummary\n}\n\ntype Summary = {\n  totalPartners: number\n  activePartners: number\n  totalReferrals: number\n  totalReferralValue: number\n  totalOwed: number\n  totalPaid: number\n}\n\nconst STATUS_STYLES: Record<string, string> = {\n  active: 'bg-green-100 text-green-800 border-green-200',\n  pending: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n  inactive: 'bg-gray-100 text-gray-800 border-gray-200',\n  suspended: 'bg-red-100 text-red-800 border-red-200',\n}\n\nconst KYC_STYLES: Record<string, string> = {\n  approved: 'bg-green-100 text-green-800',\n  pending: 'bg-yellow-100 text-yellow-800',\n  expired: 'bg-red-100 text-red-800',\n  not_started: 'bg-gray-100 text-gray-800',\n}\n\nconst STATUS_FILTERS = [\n  { label: 'All Status', value: 'all' },\n  { label: 'Active', value: 'active' },\n  { label: 'Pending', value: 'pending' },\n  { label: 'Inactive', value: 'inactive' },\n]\n\nexport default function MyPartnersPage() {\n  const [arrangerInfo, setArrangerInfo] = useState<ArrangerInfo | null>(null)\n  const [arrangerId, setArrangerId] = useState<string | null>(null)\n  const [partners, setPartners] = useState<Partner[]>([])\n  const [deals, setDeals] = useState<Deal[]>([])\n  const [summary, setSummary] = useState<Summary>({\n    totalPartners: 0,\n    activePartners: 0,\n    totalReferrals: 0,\n    totalReferralValue: 0,\n    totalOwed: 0,\n    totalPaid: 0,\n  })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [search, setSearch] = useState('')\n  const [statusFilter, setStatusFilter] = useState('all')\n  const [dealFilter, setDealFilter] = useState('all')\n\n  // Detail drawer state\n  const [selectedPartnerId, setSelectedPartnerId] = useState<string | null>(null)\n  const [drawerOpen, setDrawerOpen] = useState(false)\n\n  const handlePartnerClick = (partnerId: string) => {\n    setSelectedPartnerId(partnerId)\n    setDrawerOpen(true)\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        setLoading(true)\n        const supabase = createClient()\n\n        // Get current user\n        const { data: { user } } = await supabase.auth.getUser()\n        if (!user) {\n          setError('Not authenticated')\n          return\n        }\n\n        // Check if user is an arranger\n        const { data: arrangerUser, error: arrangerUserError } = await supabase\n          .from('arranger_users')\n          .select('arranger_id')\n          .eq('user_id', user.id)\n          .single()\n\n        if (arrangerUserError || !arrangerUser) {\n          // Staff view - show all partners\n          await fetchAllPartners(supabase)\n          return\n        }\n\n        setArrangerId(arrangerUser.arranger_id)\n\n        // Fetch arranger info\n        const { data: arranger, error: arrangerError } = await supabase\n          .from('arranger_entities')\n          .select('id, legal_name, status')\n          .eq('id', arrangerUser.arranger_id)\n          .single()\n\n        if (arrangerError) throw arrangerError\n        setArrangerInfo(arranger)\n\n        // Get deals for this arranger (for filter dropdown)\n        const { data: arrangerDeals, error: dealsError } = await supabase\n          .from('deals')\n          .select('id, name, company_name')\n          .eq('arranger_entity_id', arrangerUser.arranger_id)\n          .order('name')\n\n        if (dealsError) throw dealsError\n        setDeals(arrangerDeals || [])\n\n        if (!arrangerDeals || arrangerDeals.length === 0) {\n          setPartners([])\n          setSummary({\n            totalPartners: 0,\n            activePartners: 0,\n            totalReferrals: 0,\n            totalReferralValue: 0,\n            totalOwed: 0,\n            totalPaid: 0,\n          })\n          return\n        }\n\n        const dealIds = arrangerDeals.map(d => d.id)\n\n        // CORRECT APPROACH: Get partners via fee_plans (partner assignment to deals)\n        // Partners are linked to deals when CEO dispatches with a fee model\n        const { data: feePlansWithPartners, error: fpError } = await supabase\n          .from('fee_plans')\n          .select(`\n            id,\n            name,\n            is_active,\n            partner_id,\n            deal_id,\n            created_at,\n            deal:deals(id, name, currency, created_at)\n          `)\n          .in('deal_id', dealIds)\n          .not('partner_id', 'is', null)\n\n        if (fpError) throw fpError\n\n        // Get unique partner IDs from fee_plans\n        const partnerIds = [...new Set((feePlansWithPartners || []).map(fp => fp.partner_id).filter(Boolean))]\n\n        if (partnerIds.length === 0) {\n          setPartners([])\n          setSummary({\n            totalPartners: 0,\n            activePartners: 0,\n            totalReferrals: 0,\n            totalReferralValue: 0,\n            totalOwed: 0,\n            totalPaid: 0,\n          })\n          return\n        }\n\n        // Fetch partner details\n        const { data: partnersData, error: partnersError } = await supabase\n          .from('partners')\n          .select('*')\n          .in('id', partnerIds)\n          .order('name')\n\n        if (partnersError) throw partnersError\n\n        // Build fee plans by partner\n        const feePlansByPartner = new Map<string, FeePlan[]>()\n        const dealsByPartner = new Map<string, Set<string>>()\n        ;(feePlansWithPartners || []).forEach((fp: any) => {\n          if (!fp.partner_id) return\n          const existing = feePlansByPartner.get(fp.partner_id) || []\n          existing.push({ id: fp.id, name: fp.name, is_active: fp.is_active })\n          feePlansByPartner.set(fp.partner_id, existing)\n\n          // Track which deals this partner is assigned to\n          const dealSet = dealsByPartner.get(fp.partner_id) || new Set()\n          if (fp.deal_id) dealSet.add(fp.deal_id)\n          dealsByPartner.set(fp.partner_id, dealSet)\n        })\n\n        // Get commissions for these partners\n        const { data: commissions } = await supabase\n          .from('partner_commissions')\n          .select('partner_id, status, accrual_amount, currency')\n          .in('partner_id', partnerIds)\n          .eq('arranger_id', arrangerUser.arranger_id)\n\n        // Build commission summaries by partner\n        const commissionsByPartner = new Map<string, CommissionSummary>()\n        partnerIds.forEach(pid => {\n          commissionsByPartner.set(pid, {\n            accrued: 0,\n            invoice_requested: 0,\n            invoice_submitted: 0,\n            invoiced: 0,\n            paid: 0,\n            cancelled: 0,\n            total_owed: 0,\n            currency: 'USD',\n          })\n        })\n\n        ;(commissions || []).forEach((c: any) => {\n          const summary = commissionsByPartner.get(c.partner_id)\n          if (!summary) return\n          const amount = Number(c.accrual_amount) || 0\n          if (c.status === 'accrued') summary.accrued += amount\n          else if (c.status === 'invoice_requested') summary.invoice_requested += amount\n          else if (c.status === 'invoice_submitted') summary.invoice_submitted = (summary.invoice_submitted || 0) + amount\n          else if (c.status === 'invoiced') summary.invoiced += amount\n          else if (c.status === 'paid') summary.paid += amount\n          else if (c.status === 'cancelled') summary.cancelled += amount\n          if (['accrued', 'invoice_requested', 'invoice_submitted', 'invoiced'].includes(c.status)) {\n            summary.total_owed += amount\n          }\n          if (c.currency) summary.currency = c.currency\n        })\n\n        // Process partners with stats\n        const processedPartners: Partner[] = (partnersData || []).map((p: any) => {\n          const partnerFeePlans = feePlansByPartner.get(p.id) || []\n          const partnerDealIds = dealsByPartner.get(p.id) || new Set()\n\n          return {\n            id: p.id,\n            name: p.name || p.legal_name || 'Unknown Partner',\n            legal_name: p.legal_name,\n            partner_type: p.partner_type,\n            status: p.status || 'active',\n            contact_name: p.contact_name,\n            contact_email: p.contact_email,\n            contact_phone: p.contact_phone,\n            country: p.country,\n            logo_url: p.logo_url,\n            kyc_status: p.kyc_status,\n            deals_count: partnerDealIds.size,\n            referrals_count: 0, // Will be populated if we track referrals separately\n            total_referral_value: 0, // Will be populated if we track referrals separately\n            last_activity: null,\n            fee_plans: partnerFeePlans,\n            commission_summary: commissionsByPartner.get(p.id) || {\n              accrued: 0,\n              invoice_requested: 0,\n              invoice_submitted: 0,\n              invoiced: 0,\n              paid: 0,\n              cancelled: 0,\n              total_owed: 0,\n              currency: 'USD',\n            },\n          }\n        })\n\n        setPartners(processedPartners)\n\n        const active = processedPartners.filter(p => p.status === 'active').length\n        const totalRefs = processedPartners.reduce((sum, p) => sum + p.referrals_count, 0)\n        const totalVal = processedPartners.reduce((sum, p) => sum + p.total_referral_value, 0)\n        const totalOwed = processedPartners.reduce((sum, p) => sum + p.commission_summary.total_owed, 0)\n        const totalPaid = processedPartners.reduce((sum, p) => sum + p.commission_summary.paid, 0)\n\n        setSummary({\n          totalPartners: processedPartners.length,\n          activePartners: active,\n          totalReferrals: totalRefs,\n          totalReferralValue: totalVal,\n          totalOwed,\n          totalPaid,\n        })\n\n        setError(null)\n      } catch (err) {\n        console.error('[MyPartnersPage] Error:', err)\n        setError(err instanceof Error ? err.message : 'Failed to load partners')\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    async function fetchAllPartners(supabase: any) {\n      // Staff view - show all partners\n      const { data: partnersData, error: partnersError } = await supabase\n        .from('partners')\n        .select('*')\n        .order('name')\n        .limit(100)\n\n      if (partnersError) throw partnersError\n\n      const emptyCommission: CommissionSummary = {\n        accrued: 0,\n        invoice_requested: 0,\n        invoiced: 0,\n        paid: 0,\n        cancelled: 0,\n        total_owed: 0,\n        currency: 'USD',\n      }\n\n      const processedPartners: Partner[] = (partnersData || []).map((p: any) => ({\n        id: p.id,\n        name: p.name || p.legal_name || 'Unknown Partner',\n        legal_name: p.legal_name,\n        partner_type: p.partner_type,\n        status: p.status || 'active',\n        contact_name: p.contact_name,\n        contact_email: p.contact_email,\n        contact_phone: p.contact_phone,\n        country: p.country,\n        logo_url: p.logo_url,\n        kyc_status: p.kyc_status,\n        deals_count: 0,\n        referrals_count: 0,\n        total_referral_value: 0,\n        last_activity: null,\n        fee_plans: [],\n        commission_summary: emptyCommission,\n      }))\n\n      setPartners(processedPartners)\n      setSummary({\n        totalPartners: processedPartners.length,\n        activePartners: processedPartners.filter(p => p.status === 'active').length,\n        totalReferrals: 0,\n        totalReferralValue: 0,\n        totalOwed: 0,\n        totalPaid: 0,\n      })\n    }\n\n    fetchData()\n  }, [])\n\n  // Filter partners\n  const filteredPartners = partners.filter(partner => {\n    const matchesStatus = statusFilter === 'all' || partner.status === statusFilter\n    const matchesSearch = !search ||\n      partner.name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.legal_name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.contact_name?.toLowerCase().includes(search.toLowerCase()) ||\n      partner.country?.toLowerCase().includes(search.toLowerCase())\n\n    // Deal filter - only applies if we have deal data\n    // Note: This is a simplified filter. For a real deal filter, you'd need\n    // to store which deals each partner has referrals on.\n    const matchesDeal = dealFilter === 'all' // TODO: Implement deal-specific filtering\n\n    return matchesStatus && matchesSearch && matchesDeal\n  })\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-16\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\n        <span className=\"ml-3 text-muted-foreground\">Loading partners...</span>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-16\">\n        <AlertCircle className=\"h-12 w-12 text-destructive mx-auto mb-4\" />\n        <h3 className=\"text-lg font-medium text-foreground mb-2\">Error Loading Partners</h3>\n        <p className=\"text-muted-foreground\">{error}</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-foreground\">My Partners</h1>\n          <p className=\"text-muted-foreground mt-1\">\n            {arrangerInfo\n              ? `Partners working with ${arrangerInfo.legal_name}`\n              : 'View all distribution partners'}\n          </p>\n        </div>\n        <Link href=\"/versotech_main/fee-plans\">\n          <Button variant=\"outline\" size=\"sm\">\n            <FileText className=\"h-4 w-4 mr-2\" />\n            Fee Plans\n          </Button>\n        </Link>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Users className=\"h-4 w-4\" />\n              Total Partners\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{summary.totalPartners}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              In your network\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              Active Partners\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">{summary.activePartners}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Currently active\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <Handshake className=\"h-4 w-4\" />\n              Total Referrals\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-blue-600\">{summary.totalReferrals}</div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Investors referred\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <TrendingUp className=\"h-4 w-4\" />\n              Referral Value\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-purple-600\">\n              {formatCurrency(summary.totalReferralValue, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Total commitments\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <DollarSign className=\"h-4 w-4\" />\n              Fees Owed\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-yellow-600\">\n              {formatCurrency(summary.totalOwed, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Pending payment\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground flex items-center gap-2\">\n              <CheckCircle2 className=\"h-4 w-4\" />\n              Fees Paid\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">\n              {formatCurrency(summary.totalPaid, 'USD')}\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              Total paid out\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardContent className=\"pt-6\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1\">\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search partners...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-10\"\n                />\n              </div>\n            </div>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-48\">\n                <SelectValue placeholder=\"Filter by status\" />\n              </SelectTrigger>\n              <SelectContent>\n                {STATUS_FILTERS.map((option) => (\n                  <SelectItem key={option.value} value={option.value}>\n                    {option.label}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            {deals.length > 0 && (\n              <Select value={dealFilter} onValueChange={setDealFilter}>\n                <SelectTrigger className=\"w-full md:w-56\">\n                  <SelectValue placeholder=\"Filter by deal\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All Deals</SelectItem>\n                  {deals.map((deal) => (\n                    <SelectItem key={deal.id} value={deal.id}>\n                      {deal.name}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Partners Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Partners</CardTitle>\n          <CardDescription>\n            {filteredPartners.length} partner{filteredPartners.length !== 1 ? 's' : ''} found\n            {arrangerInfo && ' • Click a row to view details'}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {filteredPartners.length === 0 ? (\n            <div className=\"border border-dashed border-muted rounded-lg py-12 flex flex-col items-center justify-center text-center space-y-2\">\n              <Users className=\"h-10 w-10 text-muted-foreground\" />\n              <p className=\"text-sm text-muted-foreground\">\n                {search || statusFilter !== 'all'\n                  ? 'No partners match your filters'\n                  : 'No partners in your network yet'}\n              </p>\n            </div>\n          ) : (\n            <div className=\"rounded-md border\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Partner</TableHead>\n                    <TableHead>Type</TableHead>\n                    <TableHead>Contact</TableHead>\n                    <TableHead>Fee Plans</TableHead>\n                    <TableHead>Referrals</TableHead>\n                    <TableHead>Payments</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead className=\"w-10\"></TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredPartners.map((partner) => (\n                    <TableRow\n                      key={partner.id}\n                      className={cn(\n                        arrangerInfo && 'cursor-pointer hover:bg-muted/50 transition-colors'\n                      )}\n                      onClick={() => arrangerInfo && handlePartnerClick(partner.id)}\n                    >\n                      <TableCell>\n                        <div className=\"flex items-center gap-3\">\n                          {partner.logo_url ? (\n                            <img\n                              src={partner.logo_url}\n                              alt={partner.name}\n                              className=\"h-10 w-10 rounded-lg object-cover\"\n                            />\n                          ) : (\n                            <div className=\"h-10 w-10 rounded-lg bg-muted flex items-center justify-center\">\n                              <Building2 className=\"h-5 w-5 text-muted-foreground\" />\n                            </div>\n                          )}\n                          <div>\n                            <div className=\"font-medium\">{partner.name}</div>\n                            {partner.country && (\n                              <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                                <Globe className=\"h-3 w-3\" />\n                                {partner.country}\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {partner.partner_type ? (\n                          <Badge variant=\"secondary\" className=\"capitalize\">\n                            {partner.partner_type.replace('_', ' ')}\n                          </Badge>\n                        ) : (\n                          <span className=\"text-muted-foreground text-xs\">—</span>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"space-y-1\">\n                          {partner.contact_name && (\n                            <div className=\"text-sm\">{partner.contact_name}</div>\n                          )}\n                          {partner.contact_email && (\n                            <div className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                              <Mail className=\"h-3 w-3\" />\n                              {partner.contact_email}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {partner.fee_plans.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-1\">\n                            {partner.fee_plans.slice(0, 2).map((fp) => (\n                              <Badge\n                                key={fp.id}\n                                variant={fp.is_active ? 'default' : 'secondary'}\n                                className=\"text-xs\"\n                              >\n                                {fp.name}\n                              </Badge>\n                            ))}\n                            {partner.fee_plans.length > 2 && (\n                              <Badge variant=\"outline\" className=\"text-xs\">\n                                +{partner.fee_plans.length - 2}\n                              </Badge>\n                            )}\n                          </div>\n                        ) : (\n                          <span className=\"text-muted-foreground text-xs\">No fee plans</span>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <div>\n                          <div className=\"font-medium\">{partner.referrals_count} referrals</div>\n                          {partner.total_referral_value > 0 && (\n                            <div className=\"text-xs text-muted-foreground\">\n                              {formatCurrency(partner.total_referral_value, 'USD')}\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        <PartnerCommissionSummary\n                          summary={partner.commission_summary}\n                          variant=\"inline\"\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"space-y-1\">\n                          <Badge\n                            variant=\"outline\"\n                            className={cn('capitalize', STATUS_STYLES[partner.status] || STATUS_STYLES.active)}\n                          >\n                            {partner.status}\n                          </Badge>\n                          {partner.kyc_status && (\n                            <div>\n                              <Badge\n                                variant=\"secondary\"\n                                className={cn('text-xs', KYC_STYLES[partner.kyc_status] || '')}\n                              >\n                                KYC: {partner.kyc_status.replace('_', ' ')}\n                              </Badge>\n                            </div>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell>\n                        {arrangerInfo && (\n                          <ChevronRight className=\"h-4 w-4 text-muted-foreground\" />\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Partner Detail Drawer */}\n      <PartnerDetailDrawer\n        partnerId={selectedPartnerId}\n        open={drawerOpen}\n        onOpenChange={setDrawerOpen}\n      />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}