{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/member-kyc-edit-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  FormDescription,\r\n} from '@/components/ui/form'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { toast } from 'sonner'\r\nimport {\r\n  Loader2,\r\n  User,\r\n  MapPin,\r\n  FileText,\r\n  IdCard,\r\n  Briefcase,\r\n  Calendar,\r\n  Globe,\r\n  Phone,\r\n  Percent,\r\n  LucideIcon,\r\n} from 'lucide-react'\r\nimport { CountrySelect, NationalitySelect } from '@/components/kyc/country-select'\r\n\r\n// Entity types that have members\r\ntype EntityType = 'investor' | 'partner' | 'introducer' | 'lawyer' | 'arranger' | 'commercial_partner'\r\n\r\n// Member roles\r\nconst MEMBER_ROLES = [\r\n  { value: 'director', label: 'Director' },\r\n  { value: 'ubo', label: 'Ultimate Beneficial Owner (UBO)' },\r\n  { value: 'signatory', label: 'Authorized Signatory' },\r\n  { value: 'authorized_representative', label: 'Authorized Representative' },\r\n  { value: 'beneficiary', label: 'Beneficiary' },\r\n  { value: 'shareholder', label: 'Shareholder' },\r\n  { value: 'officer', label: 'Officer' },\r\n  { value: 'trustee', label: 'Trustee' },\r\n  { value: 'managing_member', label: 'Managing Member' },\r\n  { value: 'general_partner', label: 'General Partner' },\r\n  { value: 'limited_partner', label: 'Limited Partner' },\r\n] as const\r\n\r\n// ID document types\r\nconst ID_TYPES = [\r\n  { value: 'passport', label: 'Passport' },\r\n  { value: 'national_id', label: 'National ID Card' },\r\n  { value: 'drivers_license', label: \"Driver's License\" },\r\n  { value: 'residence_permit', label: 'Residence Permit' },\r\n  { value: 'other', label: 'Other Government ID' },\r\n]\r\n\r\n// Member KYC schema\r\nconst memberKycEditSchema = z.object({\r\n  // Member role\r\n  role: z.string().min(1, 'Role is required'),\r\n\r\n  // Personal Info\r\n  first_name: z.string().min(1, 'First name is required').max(100),\r\n  middle_name: z.string().max(100).optional().nullable(),\r\n  middle_initial: z.string().max(5).optional().nullable(),\r\n  last_name: z.string().min(1, 'Last name is required').max(100),\r\n  name_suffix: z.string().max(20).optional().nullable(),\r\n  date_of_birth: z.string().optional().nullable(),\r\n  country_of_birth: z.string().optional().nullable(),\r\n  nationality: z.string().optional().nullable(),\r\n  email: z.string().email('Invalid email').optional().nullable().or(z.literal('')),\r\n  phone_mobile: z.string().optional().nullable(),\r\n  phone_office: z.string().optional().nullable(),\r\n\r\n  // Residential Address\r\n  residential_street: z.string().max(200).optional().nullable(),\r\n  residential_line_2: z.string().max(200).optional().nullable(),\r\n  residential_city: z.string().max(100).optional().nullable(),\r\n  residential_state: z.string().max(100).optional().nullable(),\r\n  residential_postal_code: z.string().max(20).optional().nullable(),\r\n  residential_country: z.string().optional().nullable(),\r\n\r\n  // Tax Information\r\n  is_us_citizen: z.boolean(),\r\n  is_us_taxpayer: z.boolean(),\r\n  us_taxpayer_id: z.string().optional().nullable(),\r\n  country_of_tax_residency: z.string().optional().nullable(),\r\n  tax_id_number: z.string().max(50).optional().nullable(),\r\n\r\n  // Identification Document\r\n  id_type: z.string().optional().nullable(),\r\n  id_number: z.string().max(50).optional().nullable(),\r\n  id_issue_date: z.string().optional().nullable(),\r\n  id_expiry_date: z.string().optional().nullable(),\r\n  id_issuing_country: z.string().optional().nullable(),\r\n\r\n  // Proof of Address Document Dates\r\n  proof_of_address_date: z.string().optional().nullable(),\r\n  proof_of_address_expiry: z.string().optional().nullable(),\r\n\r\n  // UBO-specific\r\n  ownership_percentage: z.number().min(0).max(100).optional().nullable(),\r\n})\r\n\r\ntype MemberKycEditForm = z.infer<typeof memberKycEditSchema>\r\n\r\ninterface MemberKYCEditDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  entityType: EntityType\r\n  entityId: string\r\n  memberId?: string\r\n  memberName?: string\r\n  initialData?: Partial<MemberKycEditForm>\r\n  apiEndpoint: string\r\n  onSuccess?: () => void\r\n  mode?: 'create' | 'edit'\r\n}\r\n\r\n// Section wrapper component for visual separation\r\nfunction FormSection({\r\n  icon: Icon,\r\n  title,\r\n  description,\r\n  children,\r\n}: {\r\n  icon: LucideIcon\r\n  title: string\r\n  description?: string\r\n  children: React.ReactNode\r\n}) {\r\n  return (\r\n    <div className=\"rounded-lg border bg-card p-6 space-y-5\">\r\n      <div className=\"flex items-start gap-3 pb-4 border-b\">\r\n        <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10\">\r\n          <Icon className=\"h-5 w-5 text-primary\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg\">{title}</h3>\r\n          {description && (\r\n            <p className=\"text-sm text-muted-foreground mt-0.5\">{description}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function MemberKYCEditDialog({\r\n  open,\r\n  onOpenChange,\r\n  entityType,\r\n  entityId,\r\n  memberId,\r\n  memberName,\r\n  initialData,\r\n  apiEndpoint,\r\n  onSuccess,\r\n  mode = 'edit',\r\n}: MemberKYCEditDialogProps) {\r\n  const [isSaving, setIsSaving] = useState(false)\r\n\r\n  const form = useForm<MemberKycEditForm>({\r\n    resolver: zodResolver(memberKycEditSchema),\r\n    defaultValues: {\r\n      role: initialData?.role || 'director',\r\n      first_name: initialData?.first_name || '',\r\n      middle_name: initialData?.middle_name || '',\r\n      middle_initial: initialData?.middle_initial || '',\r\n      last_name: initialData?.last_name || '',\r\n      name_suffix: initialData?.name_suffix || '',\r\n      date_of_birth: initialData?.date_of_birth || '',\r\n      country_of_birth: initialData?.country_of_birth || '',\r\n      nationality: initialData?.nationality || '',\r\n      email: initialData?.email || '',\r\n      phone_mobile: initialData?.phone_mobile || '',\r\n      phone_office: initialData?.phone_office || '',\r\n      residential_street: initialData?.residential_street || '',\r\n      residential_line_2: initialData?.residential_line_2 || '',\r\n      residential_city: initialData?.residential_city || '',\r\n      residential_state: initialData?.residential_state || '',\r\n      residential_postal_code: initialData?.residential_postal_code || '',\r\n      residential_country: initialData?.residential_country || '',\r\n      is_us_citizen: initialData?.is_us_citizen || false,\r\n      is_us_taxpayer: initialData?.is_us_taxpayer || false,\r\n      us_taxpayer_id: initialData?.us_taxpayer_id || '',\r\n      country_of_tax_residency: initialData?.country_of_tax_residency || '',\r\n      tax_id_number: initialData?.tax_id_number || '',\r\n      id_type: initialData?.id_type || '',\r\n      id_number: initialData?.id_number || '',\r\n      id_issue_date: initialData?.id_issue_date || '',\r\n      id_expiry_date: initialData?.id_expiry_date || '',\r\n      id_issuing_country: initialData?.id_issuing_country || '',\r\n      proof_of_address_date: initialData?.proof_of_address_date || '',\r\n      proof_of_address_expiry: initialData?.proof_of_address_expiry || '',\r\n      ownership_percentage: initialData?.ownership_percentage ?? undefined,\r\n    },\r\n  })\r\n\r\n  // Reset form when initialData changes (e.g., switching between members)\r\n  useEffect(() => {\r\n    if (open) {\r\n      form.reset({\r\n        role: initialData?.role || 'director',\r\n        first_name: initialData?.first_name || '',\r\n        middle_name: initialData?.middle_name || '',\r\n        middle_initial: initialData?.middle_initial || '',\r\n        last_name: initialData?.last_name || '',\r\n        name_suffix: initialData?.name_suffix || '',\r\n        date_of_birth: initialData?.date_of_birth || '',\r\n        country_of_birth: initialData?.country_of_birth || '',\r\n        nationality: initialData?.nationality || '',\r\n        email: initialData?.email || '',\r\n        phone_mobile: initialData?.phone_mobile || '',\r\n        phone_office: initialData?.phone_office || '',\r\n        residential_street: initialData?.residential_street || '',\r\n        residential_line_2: initialData?.residential_line_2 || '',\r\n        residential_city: initialData?.residential_city || '',\r\n        residential_state: initialData?.residential_state || '',\r\n        residential_postal_code: initialData?.residential_postal_code || '',\r\n        residential_country: initialData?.residential_country || '',\r\n        is_us_citizen: initialData?.is_us_citizen || false,\r\n        is_us_taxpayer: initialData?.is_us_taxpayer || false,\r\n        us_taxpayer_id: initialData?.us_taxpayer_id || '',\r\n        country_of_tax_residency: initialData?.country_of_tax_residency || '',\r\n        tax_id_number: initialData?.tax_id_number || '',\r\n        id_type: initialData?.id_type || '',\r\n        id_number: initialData?.id_number || '',\r\n        id_issue_date: initialData?.id_issue_date || '',\r\n        id_expiry_date: initialData?.id_expiry_date || '',\r\n        id_issuing_country: initialData?.id_issuing_country || '',\r\n        proof_of_address_date: initialData?.proof_of_address_date || '',\r\n        proof_of_address_expiry: initialData?.proof_of_address_expiry || '',\r\n        ownership_percentage: initialData?.ownership_percentage ?? undefined,\r\n      })\r\n    }\r\n  }, [open, initialData, form])\r\n\r\n  const selectedRole = form.watch('role')\r\n  const watchIsUsTaxpayer = form.watch('is_us_taxpayer')\r\n  const isUBO = selectedRole === 'ubo' || selectedRole === 'beneficial_owner' || selectedRole === 'shareholder'\r\n\r\n  const handleSubmit = async (data: MemberKycEditForm) => {\r\n    setIsSaving(true)\r\n    try {\r\n      const method = mode === 'create' ? 'POST' : 'PATCH'\r\n      const url = mode === 'create' ? apiEndpoint : `${apiEndpoint}/${memberId}`\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          entity_id: entityId,\r\n          member_id: memberId,\r\n          ...data,\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || `Failed to ${mode} member`)\r\n      }\r\n\r\n      toast.success(mode === 'create' ? 'Member added successfully' : 'Member updated successfully')\r\n      onOpenChange(false)\r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error(`Error ${mode}ing member:`, error)\r\n      toast.error(error instanceof Error ? error.message : `Failed to ${mode} member`)\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  const getEntityTypeLabel = () => {\r\n    const labels: Record<EntityType, string> = {\r\n      investor: 'investor entity',\r\n      partner: 'partner',\r\n      introducer: 'introducer',\r\n      lawyer: 'law firm',\r\n      arranger: 'arranger',\r\n      commercial_partner: 'commercial partner',\r\n    }\r\n    return labels[entityType]\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"w-full sm:max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        <DialogHeader className=\"shrink-0\">\r\n          <DialogTitle className=\"text-xl\">\r\n            {mode === 'create' ? 'Add Entity Member' : 'Edit Member KYC'}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {mode === 'create'\r\n              ? `Add a director, UBO, or authorized signatory to this ${getEntityTypeLabel()}`\r\n              : memberName\r\n                ? `Update KYC details for ${memberName}`\r\n                : 'Update member KYC and compliance information'}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"flex flex-col flex-1 overflow-hidden\">\r\n            {/* Scrollable content area */}\r\n            <div className=\"flex-1 overflow-y-auto px-1 py-4 space-y-6\">\r\n\r\n              {/* Role & Ownership Section */}\r\n              <FormSection\r\n                icon={Briefcase}\r\n                title=\"Member Role\"\r\n                description=\"Select the member's role in the entity\"\r\n              >\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"role\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Role *</FormLabel>\r\n                        <Select value={field.value} onValueChange={field.onChange}>\r\n                          <FormControl>\r\n                            <SelectTrigger className=\"h-11\">\r\n                              <SelectValue placeholder=\"Select role...\" />\r\n                            </SelectTrigger>\r\n                          </FormControl>\r\n                          <SelectContent>\r\n                            {MEMBER_ROLES.map((role) => (\r\n                              <SelectItem key={role.value} value={role.value}>\r\n                                {role.label}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n\r\n                  {isUBO && (\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"ownership_percentage\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Percent className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Ownership Percentage\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              type=\"number\"\r\n                              min={0}\r\n                              max={100}\r\n                              step={0.01}\r\n                              placeholder=\"e.g., 25.5\"\r\n                              className=\"h-11\"\r\n                              {...field}\r\n                              value={field.value ?? ''}\r\n                              onChange={(e) => field.onChange(e.target.value ? parseFloat(e.target.value) : null)}\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            Required for UBOs owning 25% or more\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </FormSection>\r\n\r\n              {/* Personal Information Section */}\r\n              <FormSection\r\n                icon={User}\r\n                title=\"Personal Information\"\r\n                description=\"Member's legal name and contact details\"\r\n              >\r\n                {/* Full Name Row */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"first_name\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>First Name *</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"John\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"middle_name\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Middle Name</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"William\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"middle_initial\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>M.I.</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"W\"\r\n                            maxLength={5}\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"last_name\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Last Name *</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"Smith\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"name_suffix\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Suffix</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"Jr., III\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Birth Info Row */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"date_of_birth\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"flex items-center gap-2\">\r\n                          <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                          Date of Birth\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"date\"\r\n                            value={field.value || ''}\r\n                            className=\"h-11\"\r\n                            max={new Date(Date.now() - 18 * 365.25 * 24 * 60 * 60 * 1000)\r\n                              .toISOString()\r\n                              .split('T')[0]}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"country_of_birth\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"flex items-center gap-2\">\r\n                          <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                          Country of Birth\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <CountrySelect\r\n                            value={field.value}\r\n                            onChange={field.onChange}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"nationality\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"flex items-center gap-2\">\r\n                          <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                          Nationality\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <NationalitySelect\r\n                            value={field.value}\r\n                            onChange={field.onChange}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Contact Info Row */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"email\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Email Address</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"email\"\r\n                            value={field.value || ''}\r\n                            placeholder=\"john@example.com\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"phone_mobile\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"flex items-center gap-2\">\r\n                          <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                          Mobile Phone\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"tel\"\r\n                            value={field.value || ''}\r\n                            placeholder=\"+1 (555) 123-4567\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"phone_office\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel className=\"flex items-center gap-2\">\r\n                          <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                          Office Phone\r\n                        </FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"tel\"\r\n                            value={field.value || ''}\r\n                            placeholder=\"+1 (555) 987-6543\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </FormSection>\r\n\r\n              {/* Residential Address Section */}\r\n              <FormSection\r\n                icon={MapPin}\r\n                title=\"Residential Address\"\r\n                description=\"Member's permanent residence\"\r\n              >\r\n                {/* Street Address */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_street\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Street Address</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"123 Main Street\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_line_2\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Apartment / Suite / Unit</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"Apt 4B\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* City, State, Postal */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_city\"\r\n                    render={({ field }) => (\r\n                      <FormItem className=\"sm:col-span-2\">\r\n                        <FormLabel>City</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"New York\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_state\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>State / Province</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"NY\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_postal_code\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Postal Code</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"10001\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Country */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"residential_country\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Country</FormLabel>\r\n                        <FormControl>\r\n                          <CountrySelect\r\n                            value={field.value}\r\n                            onChange={field.onChange}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </FormSection>\r\n\r\n              {/* Tax Information Section */}\r\n              <FormSection\r\n                icon={FileText}\r\n                title=\"Tax Information\"\r\n                description=\"Tax residency and compliance details\"\r\n              >\r\n                {/* US Person Status */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"is_us_citizen\"\r\n                    render={({ field }) => (\r\n                      <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-lg border p-4 bg-muted/30\">\r\n                        <FormControl>\r\n                          <Checkbox\r\n                            checked={field.value}\r\n                            onCheckedChange={field.onChange}\r\n                            className=\"mt-1\"\r\n                          />\r\n                        </FormControl>\r\n                        <div className=\"space-y-1 leading-none\">\r\n                          <FormLabel className=\"font-medium\">\r\n                            US Citizen / Permanent Resident\r\n                          </FormLabel>\r\n                          <FormDescription className=\"text-sm text-muted-foreground\">\r\n                            Is a US citizen or holds a green card\r\n                          </FormDescription>\r\n                        </div>\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"is_us_taxpayer\"\r\n                    render={({ field }) => (\r\n                      <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-lg border p-4 bg-muted/30\">\r\n                        <FormControl>\r\n                          <Checkbox\r\n                            checked={field.value}\r\n                            onCheckedChange={field.onChange}\r\n                            className=\"mt-1\"\r\n                          />\r\n                        </FormControl>\r\n                        <div className=\"space-y-1 leading-none\">\r\n                          <FormLabel className=\"font-medium\">\r\n                            US Taxpayer\r\n                          </FormLabel>\r\n                          <FormDescription className=\"text-sm text-muted-foreground\">\r\n                            Subject to US tax obligations\r\n                          </FormDescription>\r\n                        </div>\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* US Taxpayer ID (conditional) */}\r\n                {watchIsUsTaxpayer && (\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"us_taxpayer_id\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>US Taxpayer ID (SSN/ITIN) *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"XXX-XX-XXXX\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            Required for US tax reporting\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Tax Residency */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"country_of_tax_residency\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Country of Tax Residency</FormLabel>\r\n                        <FormControl>\r\n                          <CountrySelect\r\n                            value={field.value}\r\n                            onChange={field.onChange}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"tax_id_number\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Tax ID Number (TIN)</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"Enter tax ID\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs\">\r\n                          Local tax identification number\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </FormSection>\r\n\r\n              {/* Identification Document Section */}\r\n              <FormSection\r\n                icon={IdCard}\r\n                title=\"Identification Document\"\r\n                description=\"Government-issued ID for verification\"\r\n              >\r\n                {/* ID Type and Number */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id_type\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Document Type</FormLabel>\r\n                        <Select\r\n                          onValueChange={field.onChange}\r\n                          value={field.value || ''}\r\n                        >\r\n                          <FormControl>\r\n                            <SelectTrigger className=\"h-11\">\r\n                              <SelectValue placeholder=\"Select ID type\" />\r\n                            </SelectTrigger>\r\n                          </FormControl>\r\n                          <SelectContent>\r\n                            {ID_TYPES.map((type) => (\r\n                              <SelectItem key={type.value} value={type.value}>\r\n                                {type.label}\r\n                              </SelectItem>\r\n                            ))}\r\n                          </SelectContent>\r\n                        </Select>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id_number\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Document Number</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            value={field.value || ''}\r\n                            placeholder=\"Enter document number\"\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Issue and Expiry Dates */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id_issue_date\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Issue Date</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"date\"\r\n                            value={field.value || ''}\r\n                            className=\"h-11\"\r\n                            max={new Date().toISOString().split('T')[0]}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id_expiry_date\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Expiry Date</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"date\"\r\n                            value={field.value || ''}\r\n                            className=\"h-11\"\r\n                            min={new Date().toISOString().split('T')[0]}\r\n                          />\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs\">\r\n                          Must be valid for at least 6 months\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"id_issuing_country\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Issuing Country</FormLabel>\r\n                        <FormControl>\r\n                          <CountrySelect\r\n                            value={field.value}\r\n                            onChange={field.onChange}\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Proof of Address Dates */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"proof_of_address_date\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Proof of Address Date</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"date\"\r\n                            value={field.value || ''}\r\n                            className=\"h-11\"\r\n                            max={new Date().toISOString().split('T')[0]}\r\n                          />\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs\">\r\n                          Date on utility bill or address proof\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"proof_of_address_expiry\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Proof of Address Expiry</FormLabel>\r\n                        <FormControl>\r\n                          <Input\r\n                            {...field}\r\n                            type=\"date\"\r\n                            value={field.value || ''}\r\n                            className=\"h-11\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormDescription className=\"text-xs\">\r\n                          When this proof needs renewal (typically 3 months)\r\n                        </FormDescription>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </FormSection>\r\n            </div>\r\n\r\n            {/* Fixed footer */}\r\n            <DialogFooter className=\"shrink-0 border-t pt-4 mt-4 gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => onOpenChange(false)}\r\n                disabled={isSaving}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={isSaving} className=\"min-w-[140px]\">\r\n                {isSaving && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n                {mode === 'create' ? 'Add Member' : 'Save Changes'}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\n// Export for use elsewhere\r\nexport { memberKycEditSchema, MEMBER_ROLES }\r\nexport type { MemberKycEditForm }\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2181, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/entity-kyc-edit-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { z } from 'zod'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n  FormDescription,\r\n} from '@/components/ui/form'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { toast } from 'sonner'\r\nimport { Loader2, User, MapPin, FileText, IdCard, Calendar, Globe, Phone, LucideIcon } from 'lucide-react'\r\nimport { CountrySelect, NationalitySelect } from '@/components/kyc/country-select'\r\nimport { cn } from '@/lib/utils'\r\n\r\n// Entity types supported\r\ntype EntityType = 'investor' | 'partner' | 'introducer' | 'lawyer' | 'arranger' | 'commercial_partner'\r\n\r\n// Individual KYC schema for editing\r\nconst individualKycEditSchema = z.object({\r\n  // Personal Info\r\n  first_name: z.string().min(1, 'First name is required').max(100),\r\n  middle_name: z.string().max(100).optional().nullable(),\r\n  middle_initial: z.string().max(5).optional().nullable(),\r\n  last_name: z.string().min(1, 'Last name is required').max(100),\r\n  name_suffix: z.string().max(20).optional().nullable(),\r\n  date_of_birth: z.string().optional().nullable(),\r\n  country_of_birth: z.string().optional().nullable(),\r\n  nationality: z.string().optional().nullable(),\r\n  email: z.string().email('Invalid email').optional().nullable().or(z.literal('')),\r\n  phone_mobile: z.string().optional().nullable(),\r\n  phone_office: z.string().optional().nullable(),\r\n\r\n  // Residential Address\r\n  residential_street: z.string().max(200).optional().nullable(),\r\n  residential_line_2: z.string().max(200).optional().nullable(),\r\n  residential_city: z.string().max(100).optional().nullable(),\r\n  residential_state: z.string().max(100).optional().nullable(),\r\n  residential_postal_code: z.string().max(20).optional().nullable(),\r\n  residential_country: z.string().optional().nullable(),\r\n\r\n  // Tax Information\r\n  is_us_citizen: z.boolean(),\r\n  is_us_taxpayer: z.boolean(),\r\n  us_taxpayer_id: z.string().optional().nullable(),\r\n  country_of_tax_residency: z.string().optional().nullable(),\r\n  tax_id_number: z.string().max(50).optional().nullable(),\r\n\r\n  // Identification Document\r\n  id_type: z.string().optional().nullable(),\r\n  id_number: z.string().max(50).optional().nullable(),\r\n  id_issue_date: z.string().optional().nullable(),\r\n  id_expiry_date: z.string().optional().nullable(),\r\n  id_issuing_country: z.string().optional().nullable(),\r\n\r\n  // Proof of Address Document Dates\r\n  proof_of_address_date: z.string().optional().nullable(),\r\n  proof_of_address_expiry: z.string().optional().nullable(),\r\n})\r\n\r\ntype IndividualKycEditForm = z.infer<typeof individualKycEditSchema>\r\n\r\n// ID types for the select dropdown\r\nconst ID_TYPES = [\r\n  { value: 'passport', label: 'Passport' },\r\n  { value: 'national_id', label: 'National ID Card' },\r\n  { value: 'drivers_license', label: \"Driver's License\" },\r\n  { value: 'residence_permit', label: 'Residence Permit' },\r\n  { value: 'other', label: 'Other Government ID' },\r\n]\r\n\r\ninterface EntityKYCEditDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  entityType: EntityType\r\n  entityId: string\r\n  entityName?: string\r\n  initialData?: Partial<IndividualKycEditForm>\r\n  apiEndpoint: string\r\n  onSuccess?: () => void\r\n  showPersonalInfo?: boolean\r\n  showAddress?: boolean\r\n  showTaxInfo?: boolean\r\n  showIdentification?: boolean\r\n}\r\n\r\n// Section wrapper component for visual separation\r\nfunction FormSection({\r\n  icon: Icon,\r\n  title,\r\n  description,\r\n  children\r\n}: {\r\n  icon: LucideIcon\r\n  title: string\r\n  description?: string\r\n  children: React.ReactNode\r\n}) {\r\n  return (\r\n    <div className=\"rounded-lg border bg-card p-6 space-y-5\">\r\n      <div className=\"flex items-start gap-3 pb-4 border-b\">\r\n        <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10\">\r\n          <Icon className=\"h-5 w-5 text-primary\" />\r\n        </div>\r\n        <div>\r\n          <h3 className=\"font-semibold text-lg\">{title}</h3>\r\n          {description && (\r\n            <p className=\"text-sm text-muted-foreground mt-0.5\">{description}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function EntityKYCEditDialog({\r\n  open,\r\n  onOpenChange,\r\n  entityType,\r\n  entityId,\r\n  entityName,\r\n  initialData,\r\n  apiEndpoint,\r\n  onSuccess,\r\n  showPersonalInfo = true,\r\n  showAddress = true,\r\n  showTaxInfo = true,\r\n  showIdentification = true,\r\n}: EntityKYCEditDialogProps) {\r\n  const [isSaving, setIsSaving] = useState(false)\r\n\r\n  const form = useForm<IndividualKycEditForm>({\r\n    resolver: zodResolver(individualKycEditSchema),\r\n    defaultValues: {\r\n      first_name: initialData?.first_name || '',\r\n      middle_name: initialData?.middle_name || '',\r\n      middle_initial: initialData?.middle_initial || '',\r\n      last_name: initialData?.last_name || '',\r\n      name_suffix: initialData?.name_suffix || '',\r\n      date_of_birth: initialData?.date_of_birth || '',\r\n      country_of_birth: initialData?.country_of_birth || '',\r\n      nationality: initialData?.nationality || '',\r\n      email: initialData?.email || '',\r\n      phone_mobile: initialData?.phone_mobile || '',\r\n      phone_office: initialData?.phone_office || '',\r\n      residential_street: initialData?.residential_street || '',\r\n      residential_line_2: initialData?.residential_line_2 || '',\r\n      residential_city: initialData?.residential_city || '',\r\n      residential_state: initialData?.residential_state || '',\r\n      residential_postal_code: initialData?.residential_postal_code || '',\r\n      residential_country: initialData?.residential_country || '',\r\n      is_us_citizen: initialData?.is_us_citizen || false,\r\n      is_us_taxpayer: initialData?.is_us_taxpayer || false,\r\n      us_taxpayer_id: initialData?.us_taxpayer_id || '',\r\n      country_of_tax_residency: initialData?.country_of_tax_residency || '',\r\n      tax_id_number: initialData?.tax_id_number || '',\r\n      id_type: initialData?.id_type || '',\r\n      id_number: initialData?.id_number || '',\r\n      id_issue_date: initialData?.id_issue_date || '',\r\n      id_expiry_date: initialData?.id_expiry_date || '',\r\n      id_issuing_country: initialData?.id_issuing_country || '',\r\n      proof_of_address_date: initialData?.proof_of_address_date || '',\r\n      proof_of_address_expiry: initialData?.proof_of_address_expiry || '',\r\n    },\r\n  })\r\n\r\n  const watchIsUsTaxpayer = form.watch('is_us_taxpayer')\r\n\r\n  const handleSubmit = async (data: IndividualKycEditForm) => {\r\n    setIsSaving(true)\r\n    try {\r\n      const response = await fetch(apiEndpoint, {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          entity_id: entityId,\r\n          ...data,\r\n        }),\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json()\r\n        throw new Error(errorData.error || 'Failed to save KYC data')\r\n      }\r\n\r\n      toast.success('KYC information updated successfully')\r\n      onOpenChange(false)\r\n      onSuccess?.()\r\n    } catch (error) {\r\n      console.error('Error saving KYC data:', error)\r\n      toast.error(error instanceof Error ? error.message : 'Failed to save KYC data')\r\n    } finally {\r\n      setIsSaving(false)\r\n    }\r\n  }\r\n\r\n  const getEntityTypeLabel = () => {\r\n    const labels: Record<EntityType, string> = {\r\n      investor: 'Investor',\r\n      partner: 'Partner',\r\n      introducer: 'Introducer',\r\n      lawyer: 'Lawyer',\r\n      arranger: 'Arranger',\r\n      commercial_partner: 'Commercial Partner',\r\n    }\r\n    return labels[entityType]\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"w-full sm:max-w-5xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        <DialogHeader className=\"shrink-0\">\r\n          <DialogTitle className=\"text-xl\">\r\n            Edit {getEntityTypeLabel()} KYC Information\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {entityName\r\n              ? `Update KYC details for ${entityName}`\r\n              : 'Update your KYC and compliance information'}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"flex flex-col flex-1 overflow-hidden\">\r\n            {/* Scrollable content area */}\r\n            <div className=\"flex-1 overflow-y-auto px-1 py-4 space-y-6\">\r\n\r\n              {/* Personal Information Section */}\r\n              {showPersonalInfo && (\r\n                <FormSection\r\n                  icon={User}\r\n                  title=\"Personal Information\"\r\n                  description=\"Your legal name and personal details\"\r\n                >\r\n                  {/* Full Name Row */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"first_name\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>First Name *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"John\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"middle_name\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Middle Name</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"William\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"middle_initial\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>M.I.</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"W\"\r\n                              maxLength={5}\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"last_name\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Last Name *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"Smith\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"name_suffix\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Suffix</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"Jr., III\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Birth Info Row */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"date_of_birth\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Date of Birth\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"date\"\r\n                              value={field.value || ''}\r\n                              className=\"h-11\"\r\n                              max={new Date(Date.now() - 18 * 365.25 * 24 * 60 * 60 * 1000)\r\n                                .toISOString()\r\n                                .split('T')[0]}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"country_of_birth\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Country of Birth\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <CountrySelect\r\n                              value={field.value}\r\n                              onChange={field.onChange}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"nationality\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Globe className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Nationality\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <NationalitySelect\r\n                              value={field.value}\r\n                              onChange={field.onChange}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Contact Info Row */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"email\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Email Address</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"email\"\r\n                              value={field.value || ''}\r\n                              placeholder=\"john@example.com\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"phone_mobile\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Mobile Phone\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"tel\"\r\n                              value={field.value || ''}\r\n                              placeholder=\"+1 (555) 123-4567\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"phone_office\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel className=\"flex items-center gap-2\">\r\n                            <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n                            Office Phone\r\n                          </FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"tel\"\r\n                              value={field.value || ''}\r\n                              placeholder=\"+1 (555) 987-6543\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </FormSection>\r\n              )}\r\n\r\n              {/* Residential Address Section */}\r\n              {showAddress && (\r\n                <FormSection\r\n                  icon={MapPin}\r\n                  title=\"Residential Address\"\r\n                  description=\"Your current permanent residence\"\r\n                >\r\n                  {/* Street Address */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_street\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Street Address *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"123 Main Street\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_line_2\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Apartment / Suite / Unit</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"Apt 4B\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* City, State, Postal */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_city\"\r\n                      render={({ field }) => (\r\n                        <FormItem className=\"sm:col-span-2\">\r\n                          <FormLabel>City *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"New York\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_state\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>State / Province</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"NY\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_postal_code\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Postal Code</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"10001\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Country */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"residential_country\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Country *</FormLabel>\r\n                          <FormControl>\r\n                            <CountrySelect\r\n                              value={field.value}\r\n                              onChange={field.onChange}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </FormSection>\r\n              )}\r\n\r\n              {/* Tax Information Section */}\r\n              {showTaxInfo && (\r\n                <FormSection\r\n                  icon={FileText}\r\n                  title=\"Tax Information\"\r\n                  description=\"Tax residency and compliance details\"\r\n                >\r\n                  {/* US Person Status */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"is_us_citizen\"\r\n                      render={({ field }) => (\r\n                        <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-lg border p-4 bg-muted/30\">\r\n                          <FormControl>\r\n                            <Checkbox\r\n                              checked={field.value}\r\n                              onCheckedChange={field.onChange}\r\n                              className=\"mt-1\"\r\n                            />\r\n                          </FormControl>\r\n                          <div className=\"space-y-1 leading-none\">\r\n                            <FormLabel className=\"font-medium\">\r\n                              US Citizen / Permanent Resident\r\n                            </FormLabel>\r\n                            <FormDescription className=\"text-sm text-muted-foreground\">\r\n                              I am a US citizen or hold a green card\r\n                            </FormDescription>\r\n                          </div>\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"is_us_taxpayer\"\r\n                      render={({ field }) => (\r\n                        <FormItem className=\"flex flex-row items-start space-x-3 space-y-0 rounded-lg border p-4 bg-muted/30\">\r\n                          <FormControl>\r\n                            <Checkbox\r\n                              checked={field.value}\r\n                              onCheckedChange={field.onChange}\r\n                              className=\"mt-1\"\r\n                            />\r\n                          </FormControl>\r\n                          <div className=\"space-y-1 leading-none\">\r\n                            <FormLabel className=\"font-medium\">\r\n                              US Taxpayer\r\n                            </FormLabel>\r\n                            <FormDescription className=\"text-sm text-muted-foreground\">\r\n                              I am subject to US tax obligations\r\n                            </FormDescription>\r\n                          </div>\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* US Taxpayer ID (conditional) */}\r\n                  {watchIsUsTaxpayer && (\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-2\">\r\n                      <FormField\r\n                        control={form.control}\r\n                        name=\"us_taxpayer_id\"\r\n                        render={({ field }) => (\r\n                          <FormItem>\r\n                            <FormLabel>US Taxpayer ID (SSN/ITIN) *</FormLabel>\r\n                            <FormControl>\r\n                              <Input\r\n                                {...field}\r\n                                value={field.value || ''}\r\n                                placeholder=\"XXX-XX-XXXX\"\r\n                                className=\"h-11\"\r\n                              />\r\n                            </FormControl>\r\n                            <FormDescription className=\"text-xs\">\r\n                              Required for US tax reporting\r\n                            </FormDescription>\r\n                            <FormMessage />\r\n                          </FormItem>\r\n                        )}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* Tax Residency */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"country_of_tax_residency\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Country of Tax Residency</FormLabel>\r\n                          <FormControl>\r\n                            <CountrySelect\r\n                              value={field.value}\r\n                              onChange={field.onChange}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"tax_id_number\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Tax ID Number (TIN)</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"Enter your tax ID\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            Your local tax identification number\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </FormSection>\r\n              )}\r\n\r\n              {/* Identification Document Section */}\r\n              {showIdentification && (\r\n                <FormSection\r\n                  icon={IdCard}\r\n                  title=\"Identification Document\"\r\n                  description=\"Government-issued ID for verification\"\r\n                >\r\n                  {/* ID Type and Number */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"id_type\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Document Type *</FormLabel>\r\n                          <Select\r\n                            onValueChange={field.onChange}\r\n                            value={field.value || ''}\r\n                          >\r\n                            <FormControl>\r\n                              <SelectTrigger className=\"h-11\">\r\n                                <SelectValue placeholder=\"Select ID type\" />\r\n                              </SelectTrigger>\r\n                            </FormControl>\r\n                            <SelectContent>\r\n                              {ID_TYPES.map((type) => (\r\n                                <SelectItem key={type.value} value={type.value}>\r\n                                  {type.label}\r\n                                </SelectItem>\r\n                              ))}\r\n                            </SelectContent>\r\n                          </Select>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"id_number\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Document Number *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              value={field.value || ''}\r\n                              placeholder=\"Enter document number\"\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Issue and Expiry Dates */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"id_issue_date\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Issue Date</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"date\"\r\n                              value={field.value || ''}\r\n                              className=\"h-11\"\r\n                              max={new Date().toISOString().split('T')[0]}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"id_expiry_date\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Expiry Date *</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"date\"\r\n                              value={field.value || ''}\r\n                              className=\"h-11\"\r\n                              min={new Date().toISOString().split('T')[0]}\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            Must be valid for at least 6 months\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"id_issuing_country\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Issuing Country *</FormLabel>\r\n                          <FormControl>\r\n                            <CountrySelect\r\n                              value={field.value}\r\n                              onChange={field.onChange}\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  {/* Proof of Address Dates */}\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"proof_of_address_date\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Proof of Address Date</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"date\"\r\n                              value={field.value || ''}\r\n                              className=\"h-11\"\r\n                              max={new Date().toISOString().split('T')[0]}\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            Date on utility bill or address proof\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"proof_of_address_expiry\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Proof of Address Expiry</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"date\"\r\n                              value={field.value || ''}\r\n                              className=\"h-11\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormDescription className=\"text-xs\">\r\n                            When this proof needs renewal (typically 3 months)\r\n                          </FormDescription>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </FormSection>\r\n              )}\r\n            </div>\r\n\r\n            {/* Fixed footer */}\r\n            <DialogFooter className=\"shrink-0 border-t pt-4 mt-4 gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => onOpenChange(false)}\r\n                disabled={isSaving}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={isSaving} className=\"min-w-[140px]\">\r\n                {isSaving && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n                Save Changes\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\n// Export the schema for use elsewhere\r\nexport { individualKycEditSchema }\r\nexport type { IndividualKycEditForm, EntityType }\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4101, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/entity-address-edit-dialog.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { z } from 'zod'\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog'\nimport { Button } from '@/components/ui/button'\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { toast } from 'sonner'\nimport { Loader2 } from 'lucide-react'\nimport { CountrySelect } from '@/components/kyc/country-select'\n\n// Entity address schema\nconst entityAddressSchema = z.object({\n  // Registered/Business Address\n  address_line_1: z.string().max(200).optional().nullable(),\n  address_line_2: z.string().max(200).optional().nullable(),\n  city: z.string().max(100).optional().nullable(),\n  state_province: z.string().max(100).optional().nullable(),\n  postal_code: z.string().max(20).optional().nullable(),\n  country: z.string().optional().nullable(),\n\n  // Contact Information\n  email: z.string().email('Invalid email').optional().nullable().or(z.literal('')),\n  phone: z.string().max(30).optional().nullable(),\n  phone_mobile: z.string().max(30).optional().nullable(),\n  phone_office: z.string().max(30).optional().nullable(),\n  website: z.string().url('Invalid URL').optional().nullable().or(z.literal('')),\n})\n\ntype EntityAddressForm = z.infer<typeof entityAddressSchema>\n\ninterface EntityAddressEditDialogProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  entityType: string\n  entityName?: string\n  initialData?: Partial<EntityAddressForm>\n  apiEndpoint: string\n  onSuccess?: () => void\n  title?: string\n  description?: string\n}\n\nexport function EntityAddressEditDialog({\n  open,\n  onOpenChange,\n  entityType,\n  entityName,\n  initialData,\n  apiEndpoint,\n  onSuccess,\n  title = 'Edit Address & Contact',\n  description,\n}: EntityAddressEditDialogProps) {\n  const [isSaving, setIsSaving] = useState(false)\n\n  const form = useForm<EntityAddressForm>({\n    resolver: zodResolver(entityAddressSchema),\n    defaultValues: {\n      address_line_1: initialData?.address_line_1 || '',\n      address_line_2: initialData?.address_line_2 || '',\n      city: initialData?.city || '',\n      state_province: initialData?.state_province || '',\n      postal_code: initialData?.postal_code || '',\n      country: initialData?.country || '',\n      email: initialData?.email || '',\n      phone: initialData?.phone || '',\n      phone_mobile: initialData?.phone_mobile || '',\n      phone_office: initialData?.phone_office || '',\n      website: initialData?.website || '',\n    },\n  })\n\n  const handleSubmit = async (data: EntityAddressForm) => {\n    setIsSaving(true)\n    try {\n      const response = await fetch(apiEndpoint, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to save address')\n      }\n\n      toast.success('Address and contact information updated')\n      onOpenChange(false)\n      onSuccess?.()\n    } catch (error) {\n      console.error('Error saving address:', error)\n      toast.error(error instanceof Error ? error.message : 'Failed to save')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>{title}</DialogTitle>\n          <DialogDescription>\n            {description || (entityName ? `Update address and contact for ${entityName}` : `Update ${entityType} address and contact information`)}\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(handleSubmit)} className=\"space-y-6\">\n            {/* Address Section */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-medium text-foreground\">Registered Address</h3>\n\n              <FormField\n                control={form.control}\n                name=\"address_line_1\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Street Address</FormLabel>\n                    <FormControl>\n                      <Input {...field} value={field.value || ''} placeholder=\"123 Main Street\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"address_line_2\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Address Line 2</FormLabel>\n                    <FormControl>\n                      <Input {...field} value={field.value || ''} placeholder=\"Suite 100\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"city\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>City</FormLabel>\n                      <FormControl>\n                        <Input {...field} value={field.value || ''} placeholder=\"New York\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"state_province\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>State / Province</FormLabel>\n                      <FormControl>\n                        <Input {...field} value={field.value || ''} placeholder=\"NY\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"postal_code\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Postal / ZIP Code</FormLabel>\n                      <FormControl>\n                        <Input {...field} value={field.value || ''} placeholder=\"10001\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"country\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Country</FormLabel>\n                      <FormControl>\n                        <CountrySelect\n                          value={field.value}\n                          onChange={field.onChange}\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n            </div>\n\n            {/* Contact Section */}\n            <div className=\"space-y-4 border-t pt-6\">\n              <h3 className=\"text-sm font-medium text-foreground\">Contact Information</h3>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"email\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Email</FormLabel>\n                      <FormControl>\n                        <Input {...field} type=\"email\" value={field.value || ''} placeholder=\"contact@company.com\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"phone\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Main Phone</FormLabel>\n                      <FormControl>\n                        <Input {...field} type=\"tel\" value={field.value || ''} placeholder=\"+1 (555) 000-0000\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"phone_mobile\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Mobile Phone</FormLabel>\n                      <FormControl>\n                        <Input {...field} type=\"tel\" value={field.value || ''} placeholder=\"+1 (555) 000-0000\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"phone_office\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel>Office Phone</FormLabel>\n                      <FormControl>\n                        <Input {...field} type=\"tel\" value={field.value || ''} placeholder=\"+1 (555) 000-0000\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"website\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>Website</FormLabel>\n                    <FormControl>\n                      <Input {...field} type=\"url\" value={field.value || ''} placeholder=\"https://www.company.com\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            <DialogFooter>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                disabled={isSaving}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={isSaving}>\n                {isSaving && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n                Save Changes\n              </Button>\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nexport { entityAddressSchema }\nexport type { EntityAddressForm }\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4836, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/entity-info-edit-dialog.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { toast } from 'sonner'\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Loader2, Building2 } from 'lucide-react'\r\n\r\ninterface EntityInfoEditDialogProps {\r\n  open: boolean\r\n  onOpenChange: (open: boolean) => void\r\n  initialData: {\r\n    display_name?: string | null\r\n    legal_name?: string | null\r\n    country_of_incorporation?: string | null\r\n  }\r\n  onSuccess?: () => void\r\n}\r\n\r\nexport function EntityInfoEditDialog({\r\n  open,\r\n  onOpenChange,\r\n  initialData,\r\n  onSuccess\r\n}: EntityInfoEditDialogProps) {\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [formData, setFormData] = useState({\r\n    display_name: initialData.display_name || '',\r\n    legal_name: initialData.legal_name || '',\r\n    country_of_incorporation: initialData.country_of_incorporation || '',\r\n  })\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      const response = await fetch('/api/investors/me', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(formData)\r\n      })\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json()\r\n        throw new Error(data.error || 'Failed to update entity info')\r\n      }\r\n\r\n      toast.success('Entity information updated')\r\n      onOpenChange(false)\r\n      onSuccess?.()\r\n    } catch (error: any) {\r\n      console.error('Update error:', error)\r\n      toast.error('Failed to update', { description: error.message })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-5 w-5\" />\r\n            Edit Entity Information\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Update your organization&apos;s name and incorporation details\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"display_name\">Display Name</Label>\r\n            <Input\r\n              id=\"display_name\"\r\n              value={formData.display_name}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, display_name: e.target.value }))}\r\n              placeholder=\"Short name for display\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              The name shown in the portal (e.g., &quot;Acme Corp&quot;)\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"legal_name\">Legal Name</Label>\r\n            <Input\r\n              id=\"legal_name\"\r\n              value={formData.legal_name}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, legal_name: e.target.value }))}\r\n              placeholder=\"Full legal entity name\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              Official registered name (e.g., &quot;Acme Corporation Ltd.&quot;)\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"country_of_incorporation\">Country of Incorporation</Label>\r\n            <Input\r\n              id=\"country_of_incorporation\"\r\n              value={formData.country_of_incorporation}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, country_of_incorporation: e.target.value }))}\r\n              placeholder=\"e.g., Germany, United States\"\r\n            />\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting ? (\r\n                <>\r\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                  Saving...\r\n                </>\r\n              ) : (\r\n                'Save Changes'\r\n              )}\r\n            </Button>\r\n          </DialogFooter>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5101, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/individual-kyc-display.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  User,\r\n  Phone,\r\n  MapPin,\r\n  FileText,\r\n  IdCard,\r\n  Calendar,\r\n  Globe,\r\n  Flag,\r\n  Building2,\r\n  Edit,\r\n  CheckCircle,\r\n  XCircle,\r\n} from 'lucide-react'\r\nimport { format, parseISO } from 'date-fns'\r\n\r\n// Individual KYC data structure (matches entity-kyc-edit-dialog)\r\nexport interface IndividualKycData {\r\n  // Personal Info\r\n  first_name?: string | null\r\n  middle_name?: string | null\r\n  middle_initial?: string | null\r\n  last_name?: string | null\r\n  name_suffix?: string | null\r\n  date_of_birth?: string | null\r\n  country_of_birth?: string | null\r\n  nationality?: string | null\r\n  email?: string | null\r\n  phone_mobile?: string | null\r\n  phone_office?: string | null\r\n\r\n  // Residential Address\r\n  residential_street?: string | null\r\n  residential_line_2?: string | null\r\n  residential_city?: string | null\r\n  residential_state?: string | null\r\n  residential_postal_code?: string | null\r\n  residential_country?: string | null\r\n\r\n  // Tax Information\r\n  is_us_citizen?: boolean | null\r\n  is_us_taxpayer?: boolean | null\r\n  us_taxpayer_id?: string | null\r\n  country_of_tax_residency?: string | null\r\n  tax_id_number?: string | null\r\n\r\n  // Identification Document\r\n  id_type?: string | null\r\n  id_number?: string | null\r\n  id_issue_date?: string | null\r\n  id_expiry_date?: string | null\r\n  id_issuing_country?: string | null\r\n\r\n  // Proof documents (dates for validation)\r\n  proof_of_address_date?: string | null\r\n  proof_of_address_expiry?: string | null\r\n}\r\n\r\ninterface IndividualKycDisplayProps {\r\n  data: IndividualKycData\r\n  onEdit?: () => void\r\n  showEditButton?: boolean\r\n  title?: string\r\n  className?: string\r\n  // Control which sections to show\r\n  showPersonalInfo?: boolean\r\n  showContact?: boolean\r\n  showAddress?: boolean\r\n  showTaxInfo?: boolean\r\n  showIdentification?: boolean\r\n  showProofDates?: boolean\r\n}\r\n\r\n// Helper to format dates\r\nfunction formatDate(dateStr: string | null | undefined): string {\r\n  if (!dateStr) return '-'\r\n  try {\r\n    return format(parseISO(dateStr), 'MMM d, yyyy')\r\n  } catch {\r\n    return dateStr\r\n  }\r\n}\r\n\r\n// Helper to format ID type\r\nfunction formatIdType(idType: string | null | undefined): string {\r\n  if (!idType) return '-'\r\n  const types: Record<string, string> = {\r\n    passport: 'Passport',\r\n    national_id: 'National ID',\r\n    drivers_license: \"Driver's License\",\r\n    residence_permit: 'Residence Permit',\r\n  }\r\n  return types[idType] || idType\r\n}\r\n\r\n// Helper to build full name\r\nfunction buildFullName(data: IndividualKycData): string {\r\n  const parts = [\r\n    data.first_name,\r\n    data.middle_name,\r\n    data.last_name,\r\n    data.name_suffix,\r\n  ].filter(Boolean)\r\n  return parts.join(' ') || '-'\r\n}\r\n\r\n// Helper to build full address\r\nfunction buildFullAddress(data: IndividualKycData): string {\r\n  const parts = [\r\n    data.residential_street,\r\n    data.residential_line_2,\r\n    [data.residential_city, data.residential_state, data.residential_postal_code]\r\n      .filter(Boolean)\r\n      .join(', '),\r\n    data.residential_country,\r\n  ].filter(Boolean)\r\n  return parts.join('\\n') || '-'\r\n}\r\n\r\n// Field display component\r\nfunction Field({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n  className = '',\r\n}: {\r\n  icon?: React.ComponentType<{ className?: string }>\r\n  label: string\r\n  value: React.ReactNode\r\n  className?: string\r\n}) {\r\n  return (\r\n    <div className={`flex items-start gap-3 ${className}`}>\r\n      {Icon && <Icon className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />}\r\n      <div className=\"min-w-0 flex-1\">\r\n        <div className=\"text-xs text-muted-foreground\">{label}</div>\r\n        <div className=\"text-sm font-medium text-foreground break-words\">\r\n          {value || '-'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Boolean field with badge\r\nfunction BooleanField({\r\n  icon: Icon,\r\n  label,\r\n  value,\r\n}: {\r\n  icon?: React.ComponentType<{ className?: string }>\r\n  label: string\r\n  value: boolean | null | undefined\r\n}) {\r\n  return (\r\n    <div className=\"flex items-start gap-3\">\r\n      {Icon && <Icon className=\"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0\" />}\r\n      <div>\r\n        <div className=\"text-xs text-muted-foreground\">{label}</div>\r\n        <Badge\r\n          variant=\"outline\"\r\n          className={\r\n            value\r\n              ? 'bg-green-500/10 text-green-400 border-green-500/30'\r\n              : 'bg-gray-500/10 text-gray-400 border-gray-500/30'\r\n          }\r\n        >\r\n          {value ? (\r\n            <>\r\n              <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n              Yes\r\n            </>\r\n          ) : (\r\n            <>\r\n              <XCircle className=\"h-3 w-3 mr-1\" />\r\n              No\r\n            </>\r\n          )}\r\n        </Badge>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function IndividualKycDisplay({\r\n  data,\r\n  onEdit,\r\n  showEditButton = true,\r\n  title = 'Personal KYC Information',\r\n  className = '',\r\n  showPersonalInfo = true,\r\n  showContact = true,\r\n  showAddress = true,\r\n  showTaxInfo = true,\r\n  showIdentification = true,\r\n  showProofDates = true,\r\n}: IndividualKycDisplayProps) {\r\n  const hasAnyData =\r\n    data.first_name ||\r\n    data.last_name ||\r\n    data.date_of_birth ||\r\n    data.nationality ||\r\n    data.residential_street ||\r\n    data.id_number\r\n\r\n  return (\r\n    <Card className={className}>\r\n      <CardHeader className=\"flex flex-row items-center justify-between pb-4\">\r\n        <CardTitle className=\"text-lg flex items-center gap-2\">\r\n          <User className=\"h-5 w-5\" />\r\n          {title}\r\n        </CardTitle>\r\n        {showEditButton && onEdit && (\r\n          <Button variant=\"outline\" size=\"sm\" onClick={onEdit} className=\"gap-2\">\r\n            <Edit className=\"h-4 w-4\" />\r\n            Edit\r\n          </Button>\r\n        )}\r\n      </CardHeader>\r\n      <CardContent>\r\n        {!hasAnyData ? (\r\n          <div className=\"text-center py-8 text-muted-foreground\">\r\n            <User className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\r\n            <p>No KYC information available</p>\r\n            {showEditButton && onEdit && (\r\n              <Button variant=\"outline\" size=\"sm\" onClick={onEdit} className=\"mt-4\">\r\n                Add KYC Information\r\n              </Button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {/* Personal Information */}\r\n            {showPersonalInfo && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <User className=\"h-4 w-4\" />\r\n                  Personal Information\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  <Field label=\"Full Name\" value={buildFullName(data)} />\r\n                  <Field\r\n                    icon={Calendar}\r\n                    label=\"Date of Birth\"\r\n                    value={formatDate(data.date_of_birth)}\r\n                  />\r\n                  <Field icon={Globe} label=\"Nationality\" value={data.nationality} />\r\n                  <Field icon={Flag} label=\"Country of Birth\" value={data.country_of_birth} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Contact Information */}\r\n            {showContact && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <Phone className=\"h-4 w-4\" />\r\n                  Contact Information\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  <Field icon={Phone} label=\"Mobile\" value={data.phone_mobile} />\r\n                  <Field icon={Phone} label=\"Office\" value={data.phone_office} />\r\n                  {data.email && <Field label=\"Email\" value={data.email} />}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Residential Address */}\r\n            {showAddress && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <MapPin className=\"h-4 w-4\" />\r\n                  Residential Address\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <Field label=\"Street Address\" value={data.residential_street} />\r\n                  <Field label=\"Address Line 2\" value={data.residential_line_2} />\r\n                  <Field label=\"City\" value={data.residential_city} />\r\n                  <Field label=\"State/Province\" value={data.residential_state} />\r\n                  <Field label=\"Postal Code\" value={data.residential_postal_code} />\r\n                  <Field icon={Globe} label=\"Country\" value={data.residential_country} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Tax Information */}\r\n            {showTaxInfo && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <FileText className=\"h-4 w-4\" />\r\n                  Tax Information\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  <BooleanField icon={Flag} label=\"US Citizen\" value={data.is_us_citizen} />\r\n                  <BooleanField icon={Building2} label=\"US Taxpayer\" value={data.is_us_taxpayer} />\r\n                  {data.is_us_taxpayer && (\r\n                    <Field label=\"US Taxpayer ID\" value={data.us_taxpayer_id} />\r\n                  )}\r\n                  <Field\r\n                    icon={Globe}\r\n                    label=\"Country of Tax Residency\"\r\n                    value={data.country_of_tax_residency}\r\n                  />\r\n                  {data.tax_id_number && (\r\n                    <Field label=\"Tax ID Number\" value={data.tax_id_number} />\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Identification Document */}\r\n            {showIdentification && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <IdCard className=\"h-4 w-4\" />\r\n                  Identification Document\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  <Field icon={IdCard} label=\"ID Type\" value={formatIdType(data.id_type)} />\r\n                  <Field label=\"ID Number\" value={data.id_number} />\r\n                  <Field\r\n                    icon={Calendar}\r\n                    label=\"Issue Date\"\r\n                    value={formatDate(data.id_issue_date)}\r\n                  />\r\n                  <Field\r\n                    icon={Calendar}\r\n                    label=\"Expiry Date\"\r\n                    value={formatDate(data.id_expiry_date)}\r\n                  />\r\n                  <Field icon={Globe} label=\"Issuing Country\" value={data.id_issuing_country} />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Proof Document Dates */}\r\n            {showProofDates && (data.proof_of_address_date || data.proof_of_address_expiry) && (\r\n              <div>\r\n                <h4 className=\"text-sm font-semibold text-muted-foreground mb-3 flex items-center gap-2\">\r\n                  <FileText className=\"h-4 w-4\" />\r\n                  Proof Document Validation\r\n                </h4>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <Field\r\n                    icon={Calendar}\r\n                    label=\"Proof of Address Date\"\r\n                    value={formatDate(data.proof_of_address_date)}\r\n                  />\r\n                  <Field\r\n                    icon={Calendar}\r\n                    label=\"Proof of Address Expiry\"\r\n                    value={formatDate(data.proof_of_address_expiry)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5813, "column": 0}, "map": {"version":3,"sources":["file:///Users/ghilesmoussaoui/Desktop/Versotech/versotech-portal/src/components/shared/index.ts"],"sourcesContent":["/**\r\n * Shared Components\r\n *\r\n * Reusable components for KYC editing across all personas\r\n */\r\n\r\n// KYC Edit Dialogs\r\nexport { EntityKYCEditDialog, individualKycEditSchema } from './entity-kyc-edit-dialog'\r\nexport type { IndividualKycEditForm, EntityType } from './entity-kyc-edit-dialog'\r\n\r\nexport { MemberKYCEditDialog, memberKycEditSchema, MEMBER_ROLES } from './member-kyc-edit-dialog'\r\nexport type { MemberKycEditForm } from './member-kyc-edit-dialog'\r\n\r\nexport { EntityAddressEditDialog, entityAddressSchema } from './entity-address-edit-dialog'\r\nexport type { EntityAddressForm } from './entity-address-edit-dialog'\r\n\r\nexport { EntityInfoEditDialog } from './entity-info-edit-dialog'\r\n\r\n// KYC Display Components\r\nexport { IndividualKycDisplay } from './individual-kyc-display'\r\nexport type { IndividualKycData } from './individual-kyc-display'\r\n"],"names":[],"mappings":";AAAA;;;;CAIC,GAED,mBAAmB;AACnB;AAGA;AAGA;AAGA;AAEA,yBAAyB;AACzB"}}]
}